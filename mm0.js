var aax=[77,7,5,4]  ;    var zzz;   var fff;var bettingstate;
var bbb=dcg('p2');    var pp1=dcg("p6");var mxx=false;
var ddd=dcg('p1');    var ccc=dcg("cc");  var balx=0;
dcg('b1').addEventListener('click', ()=>{xbet2=true});dcg('b4').addEventListener('click', ()=>{fbet2=true});dcg('b2').addEventListener('click', ()=>{fff.onManage();} );dcg('b3').addEventListener('click', ()=>{ xbet2=false; fbet2=false;   });
    
  var nnn=parseInt(localStorage.getItem("aaa"),10);
  document.documentElement.style.setProperty('--mbwa',localStorage.getItem("bbb"));
var seedx=localStorage.getItem("__av_gsrsd")?localStorage.getItem("__av_gsrsd"):  "NLkswj2Hr5Un5yiRuZ79";
var lastbettime=0;
var arr=[67,33,25,50,22,37];
var xbet2=false;
var fbet2=false;  var mlx=false; var cvx=false;
var xx=0;var yy=100;
document.getElementById('ch2').addEventListener('change', function() {if(this.checked){cvx=true;ccc.style.visibility="visible";}else{   cvx=false; ccc.style.visibility="hidden"; }});
document.getElementById('ch3').addEventListener('change', function() {if(this.checked){mxx=true;}else{mxx=false; }});

function updater(e){ bettingstate=e.newStateId;bbb.innerText=xbet2.toString();pp1.innerText=balx;
switch(e.newStateId){
case 1: { ddd.innerText=bettingstate+" waiting...for bets"; calx() ;if(xbet2){xbetx()};if(fbet2){fbet()} ;break;}
case 2: {  ddd.innerText=bettingstate+"...running.."  ;break;}
case 3: {  ddd.innerText=bettingstate+" flewAway.."    ;break;}
}
}

function dtxx(p){  let o=p.find(e=>{return e.bet>799&&e.isFreeBet===false});lastbettime=o.cashOutDate; let kk="";kk="<span style='background-color:#730; font-size:8px;'>TIMER</span> "+new Date(o.cashOutDate).toLocaleTimeString();      dcg("p5").innerHTML=kk;}
function calx(){ let currenttime=Date.now(); let wagertime=1000*60*23;   if(  (currenttime-lastbettime)>wagertime){  xbet() }
}

function dcg(e){return document.getElementById (e);}
function fbet(){let ppp=fff._list;  let y=ppp.findIndex(i=>i.freeBetsBetAmount>=800&&i.freeBetsLeft !==0); if(y !==-1){  xbet2=false;let x=ppp[y].freeBetsBetAmount;  let n=x<800?3.01:2.01; fff.activate(ppp[y].freeBetsId);  var tx={"bet":x,"clientSeed":seedx,"betId":1,"freeBet":true,"freeBetsId":ppp[y].freeBetsId,"autoCashOut":n};fff.connector.request("bet",tx);}else {fbet2=false;ddd.innerText="800shs freebets finisheddd..." }  };

function xbet(){var tt ={"bet":800,"clientSeed":seedx,"betId":1,"freeBet":false,"autoCashOut":1.03}; fff.connector.request("bet",tt);};
function xbetx(){var tt ={"bet":800,"clientSeed":seedx,"betId":2,"freeBet":false,"autoCashOut":1.03}; fff.connector.request("bet",tt);xbet2=false;}
 
function draw2(e){if(cvx){if(arr.length>45){arr.shift};arr.push(e);
   var ct=ccc.getContext("2d");ct.clearRect(0,0,300,300);
ct.beginPath();  
for(let i=0;i<arr.length;i++){
ct.strokeStyle="red"; let y2=100-(arr[i]*20);
ct.moveTo(xx,yy);
ct.lineTo(xx+5,y2); xx+=5;yy=y2;
ct.stroke();ct.beginPath; ct.arc(xx,y2,2,0,90);ct.stroke();}xx=0;yy=90;  }    }
 
 
function blobb(){    /*        const s = aax.map(o => JSON.stringify(o));const bl = s.join('\n');const bloo = new Blob([bl], { type: "text/plain" });const uuu = URL.createObjectURL(bloo);const lii = document.createElement("a");lii.href = uuu;lii.target = "_blank";lii.innerText = "Downlooooo";document.body.appendChild(lii);lii.click();        */ }
function sooo(e){let k=[];e.forEach(o=>o.freeBetsBetAmount>=800?(k.unshift(o)):(k.push(o)) );let p=[]; k.forEach(o=>p.push(o.freeBetsEndDate));p.sort(function (a,b){return a-b});var t=[]; p.forEach(x=>t.push(e.find(c=>c.freeBetsEndDate==x )  )  ) ; return t;  }
    
function rxx(){    /*    fff.connector.responseSubject.subscribe(i=>{aax.push(i);ddd.innerText=aax.length})  */}

function settx(e){let a=0; let b=0;  e.forEach(o=>{if(o.freeBetsBetAmount==800){a++}else{b++}; dcg("p3").innerText=" 800shs: ( "+ a +" ) \n"+" 300shs: ( "+b +" )";
});
}


var kAe=Object.defineProperty,FAe=Object.defineProperties,BAe=Object.getOwnPropertyDescriptors,IC=Object.getOwnPropertySymbols,_9=Object.prototype.hasOwnProperty,m9=Object.prototype.propertyIsEnumerable,g9=(Me,U,w)=>U in Me?kAe(Me,U,{enumerable:!0,configurable:!0,writable:!0,value:w}):Me[U]=w,Je=(Me,U)=>{for(var w in U||(U={}))_9.call(U,w)&&g9(Me,w,U[w]);if(IC)for(var w of IC(U))m9.call(U,w)&&g9(Me,w,U[w]);return Me},_i=(Me,U)=>FAe(Me,BAe(U)),v9=(Me,U)=>{var w={};for(var h in Me)_9.call(Me,h)&&U.indexOf(h)<0&&(w[h]=Me[h]);if(null!=Me&&IC)for(var h of IC(Me))U.indexOf(h)<0&&m9.call(Me,h)&&(w[h]=Me[h]);return w};(self.webpackChunkng_aviator=self.webpackChunkng_aviator||[]).push([[179],{7999:(Me,U,w)=>{"use strict";var h={};w.r(h),w.d(h,{BaseTextureCache:()=>Qa,CanvasRenderTarget:()=>kg,DATA_URI:()=>jL,EventEmitter:()=>Dg(),ProgramCache:()=>yw,TextureCache:()=>Ks,clearTextureCache:()=>joe,correctBlendMode:()=>gw,createIndicesForQuads:()=>LL,decomposeDataUri:()=>Hoe,deprecation:()=>Ec,destroyTextureCache:()=>Goe,determineCrossOrigin:()=>HL,earcut:()=>lw(),getBufferType:()=>s1,getResolutionOfUrl:()=>cv,hex2rgb:()=>du,hex2string:()=>r1,interleaveTypedArrays:()=>Loe,isMobile:()=>Ta,isPow2:()=>mw,isWebGLSupported:()=>FL,log2:()=>vw,nextPow2:()=>lv,premultiplyBlendMode:()=>pw,premultiplyRgba:()=>BL,premultiplyTint:()=>o1,premultiplyTintToRgba:()=>_w,removeItems:()=>Ad,rgb2hex:()=>fw,sayHello:()=>hw,sign:()=>Rd,skipHello:()=>kL,string2hex:()=>As,trimCanvas:()=>GL,uid:()=>vh,url:()=>xd});var C={};function b(n){return"function"==typeof n}function S(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}w.r(C),w.d(C,{ALPHA_MODES:()=>Io,AbstractBatchRenderer:()=>D4,AbstractMultiResource:()=>g1,AbstractRenderer:()=>uP,AccessibilityManager:()=>Mw,AnimatedSprite:()=>V5,AppLoaderPlugin:()=>q4,Application:()=>yv,ArrayResource:()=>Iw,Attribute:()=>Lw,BLEND_MODES:()=>je,BUFFER_BITS:()=>_h,BUFFER_TYPE:()=>oo,BaseImageResource:()=>Sc,BasePrepare:()=>BP,BaseRenderTexture:()=>pv,BaseTexture:()=>di,BatchDrawCall:()=>O1,BatchGeometry:()=>dP,BatchPluginFactory:()=>B4,BatchRenderer:()=>L4,BatchShaderGenerator:()=>N4,BatchSystem:()=>Hw,BatchTextureArray:()=>w1,BitmapFont:()=>_u,BitmapFontData:()=>Pv,BitmapFontLoader:()=>k5,BitmapText:()=>xv,BlobResource:()=>Z4,Bounds:()=>Fg,Buffer:()=>so,BufferResource:()=>Bg,CLEAR_MODES:()=>rs,CanvasExtract:()=>e8,CanvasGraphicsRenderer:()=>KU,CanvasMeshRenderer:()=>$U,CanvasPrepare:()=>n8,CanvasRenderer:()=>Mc,CanvasResource:()=>fv,CanvasSpriteRenderer:()=>QU,Circle:()=>YL,CompressedTextureLoader:()=>e5,CompressedTextureResource:()=>R1,Container:()=>cr,ContextSystem:()=>Vw,CountLimiter:()=>E5,CubeResource:()=>Dw,DDSLoader:()=>i5,DEG_TO_RAD:()=>WL,DRAW_MODES:()=>Ho,DisplayObject:()=>_r,ENV:()=>Ro,Ellipse:()=>zL,Extract:()=>V4,FORMATS:()=>ze,FORMATS_TO_COMPONENTS:()=>o5,FillStyle:()=>EP,Filter:()=>pu,FilterState:()=>s4,FilterSystem:()=>jw,Framebuffer:()=>m1,FramebufferSystem:()=>Ww,GC_MODES:()=>Ng,GLFramebuffer:()=>l4,GLProgram:()=>P4,GLTexture:()=>M1,GRAPHICS_CURVES:()=>jg,Geometry:()=>Lg,GeometrySystem:()=>zw,Graphics:()=>Ma,GraphicsData:()=>xP,GraphicsGeometry:()=>v5,IGLUniformData:()=>Pse,INSTALLED:()=>dv,INTERNAL_FORMATS:()=>An,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:()=>bv,ImageBitmapResource:()=>Fw,ImageResource:()=>_1,InteractionData:()=>ww,InteractionEvent:()=>ZL,InteractionManager:()=>xw,InteractionTrackingData:()=>h1,KTXLoader:()=>a5,LINE_CAP:()=>Tc,LINE_JOIN:()=>Cc,LineStyle:()=>y5,Loader:()=>os,LoaderResource:()=>mr,MASK_TYPES:()=>bi,MIPMAP_MODES:()=>xs,MSAA_QUALITY:()=>Un,MaskData:()=>c4,MaskSystem:()=>eP,Matrix:()=>xi,Mesh:()=>tl,MeshBatchUvs:()=>A5,MeshGeometry:()=>wv,MeshMaterial:()=>Yd,NineSlicePlane:()=>Av,ObjectRenderer:()=>gv,ObservablePoint:()=>Id,PI_2:()=>uv,PRECISION:()=>ro,ParticleContainer:()=>c5,ParticleRenderer:()=>h5,PlaneGeometry:()=>L5,Point:()=>qi,Polygon:()=>hv,Prepare:()=>C5,Program:()=>Ug,ProjectionSystem:()=>iP,Quad:()=>o4,QuadUv:()=>Uw,RAD_TO_DEG:()=>VL,RENDERER_TYPE:()=>Vl,Rectangle:()=>ai,RenderTexture:()=>Za,RenderTexturePool:()=>i4,RenderTextureSystem:()=>rP,Renderer:()=>Yl,Resource:()=>Bd,RopeGeometry:()=>U5,RoundedRectangle:()=>$L,Runner:()=>Vo,SAMPLER_TYPES:()=>mh,SCALE_MODES:()=>io,SHAPES:()=>gi,SVGResource:()=>Nw,ScissorSystem:()=>tP,Shader:()=>fu,ShaderSystem:()=>oP,SimpleMesh:()=>H5,SimplePlane:()=>j5,SimpleRope:()=>G5,Sprite:()=>Rs,SpriteMaskFilter:()=>E4,Spritesheet:()=>T5,SpritesheetLoader:()=>M5,State:()=>bh,StateSystem:()=>sP,StencilSystem:()=>nP,System:()=>Wse,TARGETS:()=>qs,TEXT_GRADIENT:()=>Vd,TYPES:()=>Pt,TYPES_TO_BYTES_PER_COMPONENT:()=>yP,TYPES_TO_BYTES_PER_PIXEL:()=>s5,TemporaryDisplayObject:()=>Tw,Text:()=>Mv,TextMetrics:()=>Oa,TextStyle:()=>Wd,Texture:()=>zt,TextureGCSystem:()=>aP,TextureLoader:()=>K4,TextureMatrix:()=>C1,TextureSystem:()=>lP,TextureUvs:()=>Bw,Ticker:()=>Do,TickerPlugin:()=>QL,TilingSprite:()=>w5,TilingSpriteRenderer:()=>x5,TimeLimiter:()=>qae,Transform:()=>Ew,UPDATE_PRIORITY:()=>Wl,UniformGroup:()=>yh,VERSION:()=>Fle,VideoResource:()=>kw,ViewableBuffer:()=>P1,WRAP_MODES:()=>Ja,accessibleTarget:()=>qL,autoDetectRenderer:()=>R4,autoDetectResource:()=>p1,canvasUtils:()=>Xr,checkMaxIfStatementsInShader:()=>y4,createUBOElements:()=>M4,defaultFilterVertex:()=>hP,defaultVertex:()=>I4,filters:()=>Ble,generateProgram:()=>x4,generateUniformBufferSync:()=>w4,getTestContext:()=>p4,getUBOData:()=>O4,graphicsUtils:()=>Iae,groupD8:()=>rr,interactiveTarget:()=>e4,isMobile:()=>Ta,resources:()=>U4,settings:()=>_t,systems:()=>G4,uniformParsers:()=>Ld,utils:()=>h});const m=S(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function _(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class p{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(b(i))try{i()}catch(o){t=o instanceof m?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{E(o)}catch(s){t=null!=t?t:[],s instanceof m?t=[...t,...s.errors]:t.push(s)}}if(t)throw new m(t)}}add(t){var e;if(t&&t!==this)if(this.closed)E(t);else{if(t instanceof p){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&_(e,t)}remove(t){const{_finalizers:e}=this;e&&_(e,t),t instanceof p&&t._removeParent(this)}}p.EMPTY=(()=>{const n=new p;return n.closed=!0,n})();const g=p.EMPTY;function f(n){return n instanceof p||n&&"closed"in n&&b(n.remove)&&b(n.add)&&b(n.unsubscribe)}function E(n){b(n)?n():n.unsubscribe()}const T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},d={setTimeout(n,t,...e){const{delegate:i}=d;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=d;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function v(n){d.setTimeout(()=>{const{onUnhandledError:t}=T;if(!t)throw n;t(n)})}function M(){}const N=z("C",void 0,void 0);function z(n,t,e){return{kind:n,value:t,error:e}}let L=null;function j(n){if(T.useDeprecatedSynchronousErrorHandling){const t=!L;if(t&&(L={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=L;if(L=null,e)throw i}}else n()}class W extends p{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,f(t)&&t.add(this)):this.destination=Pe}static create(t,e,i){return new J(t,e,i)}next(t){this.isStopped?Te(function G(n){return z("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Te(function k(n){return z("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Te(N,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Q=Function.prototype.bind;function $(n,t){return Q.call(n,t)}class oe{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){de(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){de(i)}else de(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){de(e)}}}class J extends W{constructor(t,e,i){let r;if(super(),b(t)||!t)r={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let o;this&&T.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&$(t.next,o),error:t.error&&$(t.error,o),complete:t.complete&&$(t.complete,o)}):r=t}this.destination=new oe(r)}}function de(n){T.useDeprecatedSynchronousErrorHandling?function F(n){T.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=n)}(n):v(n)}function Te(n,t){const{onStoppedNotification:e}=T;e&&d.setTimeout(()=>e(n,t))}const Pe={closed:!0,next:M,error:function Re(n){throw n},complete:M},K="function"==typeof Symbol&&Symbol.observable||"@@observable";function ue(n){return n}let le=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function Ge(n){return n&&n instanceof W||function ge(n){return n&&b(n.next)&&b(n.error)&&b(n.complete)}(n)&&f(n)}(e)?e:new J(e,i,r);return j(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=he(i))((r,o)=>{const s=new J({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[K](){return this}pipe(...e){return function we(n){return 0===n.length?ue:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=he(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function he(n){var t;return null!==(t=null!=n?n:T.Promise)&&void 0!==t?t:Promise}const tt=S(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Le=(()=>{class n extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new It(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new tt}next(e){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?g:(this.currentObservers=null,o.push(e),new p(()=>{this.currentObservers=null,_(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new le;return e.source=this,e}}return n.create=(t,e)=>new It(t,e),n})();class It extends Le{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:g}}function Ze(n){return b(null==n?void 0:n.lift)}function Ve(n){return t=>{if(Ze(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(n,t,e,i,r){return new _e(n,t,e,i,r)}class _e extends W{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ye(n,t){return Ve((e,i)=>{let r=0;e.subscribe(ae(i,o=>{i.next(n.call(t,o,r++))}))})}function We(n,t,e,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(t,e,o):s(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}function Ue(n){return this instanceof Ue?(this.v=n,this):new Ue(n)}function ht(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(O){i[O]&&(r[O]=function(P){return new Promise(function(I,D){o.push([O,P,I,D])>1||a(O,P)})})}function a(O,P){try{!function l(O){O.value instanceof Ue?Promise.resolve(O.value.v).then(c,u):y(o[0][2],O)}(i[O](P))}catch(I){y(o[0][3],I)}}function c(O){a("next",O)}function u(O){a("throw",O)}function y(O,P){O(P),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Ot(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Oe(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const Vt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Bn(n){return b(null==n?void 0:n.then)}function wr(n){return b(n[K])}function Pr(n){return Symbol.asyncIterator&&b(null==n?void 0:n[Symbol.asyncIterator])}function Qn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ii=function cn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Zt(n){return b(null==n?void 0:n[Ii])}function Zi(n){return ht(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield Ue(e.read());if(r)return yield Ue(void 0);yield yield Ue(i)}}finally{e.releaseLock()}})}function xr(n){return b(null==n?void 0:n.getReader)}function Et(n){if(n instanceof le)return n;if(null!=n){if(wr(n))return function Ar(n){return new le(t=>{const e=n[K]();if(b(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Vt(n))return function co(n){return new le(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Bn(n))return function Ua(n){return new le(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,v)})}(n);if(Pr(n))return Ga(n);if(Zt(n))return function rd(n){return new le(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(xr(n))return function qc(n){return Ga(Zi(n))}(n)}throw Qn(n)}function Ga(n){return new le(t=>{(function Rr(n,t){var e,i,r,o;return function ln(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(y){s(y)}}function l(u){try{c(i.throw(u))}catch(y){s(y)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Ot(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function vs(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function er(n,t,e=1/0){return b(t)?er((i,r)=>ye((o,s)=>t(i,o,r,s))(Et(n(i,r))),e):("number"==typeof t&&(e=t),Ve((i,r)=>function Po(n,t,e,i,r,o,s,a){const l=[];let c=0,u=0,y=!1;const O=()=>{y&&!l.length&&!c&&t.complete()},P=D=>c<i?I(D):l.push(D),I=D=>{o&&t.next(D),c++;let B=!1;Et(e(D,u++)).subscribe(ae(t,Y=>{null==r||r(Y),o?P(Y):t.next(Y)},()=>{B=!0},void 0,()=>{if(B)try{for(c--;l.length&&c<i;){const Y=l.shift();s?vs(t,s,()=>I(Y)):I(Y)}O()}catch(Y){t.error(Y)}}))};return n.subscribe(ae(t,P,()=>{y=!0,O()})),()=>{null==a||a()}}(i,r,n,e)))}function uo(n=1/0){return er(ue,n)}const nt=new le(n=>n.complete());function Ei(n){return n&&b(n.schedule)}function yn(n){return n[n.length-1]}function Vi(n){return b(yn(n))?n.pop():void 0}function ha(n){return Ei(yn(n))?n.pop():void 0}function Wi(n,t=0){return Ve((e,i)=>{e.subscribe(ae(i,r=>vs(i,n,()=>i.next(r),t),()=>vs(i,n,()=>i.complete(),t),r=>vs(i,n,()=>i.error(r),t)))})}function Ir(n,t=0){return Ve((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function Ml(n,t){if(!n)throw new Error("Iterable cannot be null");return new le(e=>{vs(e,t,()=>{const i=n[Symbol.asyncIterator]();vs(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function ri(n,t){return t?function od(n,t){if(null!=n){if(wr(n))return function Ko(n,t){return Et(n).pipe(Ir(t),Wi(t))}(n,t);if(Vt(n))return function Hr(n,t){return new le(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Bn(n))return function xo(n,t){return Et(n).pipe(Ir(t),Wi(t))}(n,t);if(Pr(n))return Ml(n,t);if(Zt(n))return function Kc(n,t){return new le(e=>{let i;return vs(e,t,()=>{i=n[Ii](),vs(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>b(null==i?void 0:i.return)&&i.return()})}(n,t);if(xr(n))return function Xu(n,t){return Ml(Zi(n),t)}(n,t)}throw Qn(n)}(n,t):Et(n)}function fi(n){return n<=0?()=>nt:Ve((t,e)=>{let i=0;t.subscribe(ae(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function ys(n={}){const{connector:t=(()=>new Le),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s=null,a=null,l=null,c=0,u=!1,y=!1;const O=()=>{null==a||a.unsubscribe(),a=null},P=()=>{O(),s=l=null,u=y=!1},I=()=>{const D=s;P(),null==D||D.unsubscribe()};return Ve((D,B)=>{c++,!y&&!u&&O();const Y=l=null!=l?l:t();B.add(()=>{c--,0===c&&!y&&!u&&(a=Jo(I,r))}),Y.subscribe(B),s||(s=new J({next:q=>Y.next(q),error:q=>{y=!0,O(),a=Jo(P,e,q),Y.error(q)},complete:()=>{u=!0,O(),a=Jo(P,i),Y.complete()}}),ri(D).subscribe(s))})(o)}}function Jo(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(fi(1)).subscribe(()=>n())}function Ln(n){for(let t in n)if(n[t]===Ln)return t;throw Error("Could not find renamed property on target object.")}function ja(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function mi(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(mi).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Ep(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Sp=Ln({__forward_ref__:Ln});function In(n){return n.__forward_ref__=In,n.toString=function(){return mi(this())},n}function Dn(n){return QI(n)?n():n}function QI(n){return"function"==typeof n&&n.hasOwnProperty(Sp)&&n.__forward_ref__===In}class Gt extends Error{constructor(t,e){super(function DC(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function wn(n){return"string"==typeof n?n:null==n?"":String(n)}function bs(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():wn(n)}function py(n,t){const e=t?` in ${t}`:"";throw new Gt(-201,`No provider for ${bs(n)} found${e}`)}function fa(n,t){null==n&&function tr(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function lt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function rt(n){return{providers:n.providers||[],imports:n.imports||[]}}function NC(n){return ZI(n,gy)||ZI(n,tD)}function ZI(n,t){return n.hasOwnProperty(t)?n[t]:null}function eD(n){return n&&(n.hasOwnProperty(kC)||n.hasOwnProperty(M9))?n[kC]:null}const gy=Ln({\u0275prov:Ln}),kC=Ln({\u0275inj:Ln}),tD=Ln({ngInjectableDef:Ln}),M9=Ln({ngInjectorDef:Ln});var Cn=(()=>((Cn=Cn||{})[Cn.Default=0]="Default",Cn[Cn.Host=1]="Host",Cn[Cn.Self=2]="Self",Cn[Cn.SkipSelf=4]="SkipSelf",Cn[Cn.Optional=8]="Optional",Cn))();let FC;function qu(n){const t=FC;return FC=n,t}function nD(n,t,e){const i=NC(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Cn.Optional?null:void 0!==t?t:void py(mi(n),"Injector")}function Ku(n){return{toString:n}.toString()}var Ol=(()=>((Ol=Ol||{})[Ol.OnPush=0]="OnPush",Ol[Ol.Default=1]="Default",Ol))(),wl=(()=>{return(n=wl||(wl={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",wl;var n})();const w9="undefined"!=typeof globalThis&&globalThis,P9="undefined"!=typeof window&&window,x9="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Di=w9||"undefined"!=typeof global&&global||P9||x9,Cp={},Li=[],_y=Ln({\u0275cmp:Ln}),BC=Ln({\u0275dir:Ln}),my=Ln({\u0275pipe:Ln}),iD=Ln({\u0275mod:Ln}),Qc=Ln({\u0275fac:Ln}),tm=Ln({__NG_ELEMENT_ID__:Ln});let A9=0;function et(n){return Ku(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ol.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Li,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||wl.Emulated,id:"c",styles:n.styles||Li,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,o=n.features,s=n.pipes;return i.id+=A9++,i.inputs=aD(n.inputs,e),i.outputs=aD(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(rD):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(oD):null,i})}function rD(n){return Qo(n)||function Ju(n){return n[BC]||null}(n)}function oD(n){return function sd(n){return n[my]||null}(n)}const sD={};function st(n){return Ku(()=>{const t={type:n.type,bootstrap:n.bootstrap||Li,declarations:n.declarations||Li,imports:n.imports||Li,exports:n.exports||Li,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(sD[n.id]=n.type),t})}function aD(n,t){if(null==n)return Cp;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const wt=et;function Vr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Qo(n){return n[_y]||null}function Ha(n,t){const e=n[iD]||null;if(!e&&!0===t)throw new Error(`Type ${mi(n)} does not have '\u0275mod' property.`);return e}function ac(n){return Array.isArray(n)&&"object"==typeof n[1]}function xl(n){return Array.isArray(n)&&!0===n[1]}function GC(n){return 0!=(8&n.flags)}function Ey(n){return 2==(2&n.flags)}function Sy(n){return 1==(1&n.flags)}function Al(n){return null!==n.template}function F9(n){return 0!=(512&n[2])}function ud(n,t){return n.hasOwnProperty(Qc)?n[Qc]:null}class U9{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Uo(){return cD}function cD(n){return n.type.prototype.ngOnChanges&&(n.setInput=j9),G9}function G9(){const n=hD(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Cp)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function j9(n,t,e,i){const r=hD(n)||function H9(n,t){return n[uD]=t}(n,{previous:Cp,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],l=s[a];o[a]=new U9(l&&l.currentValue,t,s===Cp),n[i]=t}Uo.ngInherit=!0;const uD="__ngSimpleChanges__";function hD(n){return n[uD]||null}let YC;function zC(){return void 0!==YC?YC:"undefined"!=typeof document?document:void 0}function Dr(n){return!!n.listen}const dD={createRenderer:(n,t)=>zC()};function Qr(n){for(;Array.isArray(n);)n=n[0];return n}function Cy(n,t){return Qr(t[n])}function Ya(n,t){return Qr(t[n.index])}function $C(n,t){return n.data[t]}function Pp(n,t){return n[t]}function ga(n,t){const e=t[n];return ac(e)?e:e[0]}function fD(n){return 4==(4&n[2])}function XC(n){return 128==(128&n[2])}function Qu(n,t){return null==t?null:n[t]}function pD(n){n[18]=0}function qC(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const En={lFrame:SD(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function gD(){return En.bindingsEnabled}function ut(){return En.lFrame.lView}function hi(){return En.lFrame.tView}function it(n){return En.lFrame.contextLView=n,n[8]}function ho(){let n=_D();for(;null!==n&&64===n.type;)n=n.parent;return n}function _D(){return En.lFrame.currentTNode}function lc(n,t){const e=En.lFrame;e.currentTNode=n,e.isParent=t}function KC(){return En.lFrame.isParent}function JC(){En.lFrame.isParent=!1}function Ty(){return En.isInCheckNoChangesMode}function My(n){En.isInCheckNoChangesMode=n}function Es(){const n=En.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Zc(){return En.lFrame.bindingIndex}function xp(){return En.lFrame.bindingIndex++}function eu(n){const t=En.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function oW(n,t){const e=En.lFrame;e.bindingIndex=e.bindingRootIndex=n,QC(t)}function QC(n){En.lFrame.currentDirectiveIndex=n}function yD(){return En.lFrame.currentQueryIndex}function eT(n){En.lFrame.currentQueryIndex=n}function aW(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function bD(n,t,e){if(e&Cn.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&Cn.Host||(r=aW(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=En.lFrame=ED();return i.currentTNode=t,i.lView=n,!0}function Oy(n){const t=ED(),e=n[1];En.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function ED(){const n=En.lFrame,t=null===n?null:n.child;return null===t?SD(n):t}function SD(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function CD(){const n=En.lFrame;return En.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const TD=CD;function wy(){const n=CD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ss(){return En.lFrame.selectedIndex}function Zu(n){En.lFrame.selectedIndex=n}function Nr(){const n=En.lFrame;return $C(n.tView,n.selectedIndex)}function Py(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function xy(n,t,e){wD(n,t,3,e)}function Ay(n,t,e,i){(3&n[2])===e&&wD(n,t,e,i)}function tT(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function wD(n,t,e,i){const o=null!=i?i:-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(pW(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function pW(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class sm{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Ry(n,t,e){const i=Dr(n);let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const s=e[r++],a=e[r++],l=e[r++];i?n.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=o,a=e[++r];iT(s)?i&&n.setProperty(t,s,a):i?n.setAttribute(t,s,a):t.setAttribute(s,a),r++}}return r}function PD(n){return 3===n||4===n||6===n}function iT(n){return 64===n.charCodeAt(0)}function Iy(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||xD(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function xD(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function AD(n){return-1!==n}function Ap(n){return 32767&n}function Rp(n,t){let e=function yW(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let rT=!0;function Dy(n){const t=rT;return rT=n,t}let bW=0;function lm(n,t){const e=sT(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,oT(i.data,n),oT(t,null),oT(i.blueprint,null));const r=Ny(n,t),o=n.injectorIndex;if(AD(r)){const s=Ap(r),a=Rp(r,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function oT(n,t){n.push(0,0,0,0,0,0,0,0,t)}function sT(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Ny(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const o=r[1],s=o.type;if(i=2===s?o.declTNode:1===s?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function ky(n,t,e){!function EW(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(tm)&&(i=e[tm]),null==i&&(i=e[tm]=bW++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function DD(n,t,e){if(e&Cn.Optional)return n;py(t,"NodeInjector")}function ND(n,t,e,i){if(e&Cn.Optional&&void 0===i&&(i=null),0==(e&(Cn.Self|Cn.Host))){const r=n[9],o=qu(void 0);try{return r?r.get(t,i,e&Cn.Optional):nD(t,i,e&Cn.Optional)}finally{qu(o)}}return DD(i,t,e)}function kD(n,t,e,i=Cn.Default,r){if(null!==n){const o=function MW(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(tm)?n[tm]:void 0;return"number"==typeof t?t>=0?255&t:CW:t}(e);if("function"==typeof o){if(!bD(t,n,i))return i&Cn.Host?DD(r,e,i):ND(t,e,i,r);try{const s=o(i);if(null!=s||i&Cn.Optional)return s;py(e)}finally{TD()}}else if("number"==typeof o){let s=null,a=sT(n,t),l=-1,c=i&Cn.Host?t[16][6]:null;for((-1===a||i&Cn.SkipSelf)&&(l=-1===a?Ny(n,t):t[a+8],-1!==l&&LD(i,!1)?(s=t[1],a=Ap(l),t=Rp(l,t)):a=-1);-1!==a;){const u=t[1];if(BD(o,a,u.data)){const y=TW(a,t,e,s,i,c);if(y!==FD)return y}l=t[a+8],-1!==l&&LD(i,t[1].data[a+8]===c)&&BD(o,a,t)?(s=u,a=Ap(l),t=Rp(l,t)):a=-1}}}return ND(t,e,i,r)}const FD={};function CW(){return new Ip(ho(),ut())}function TW(n,t,e,i,r,o){const s=t[1],a=s.data[n+8],u=Fy(a,s,e,null==i?Ey(a)&&rT:i!=s&&0!=(3&a.type),r&Cn.Host&&o===a);return null!==u?cm(t,s,u,a):FD}function Fy(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,O=r?a+u:n.directiveEnd;for(let P=i?a:a+u;P<O;P++){const I=s[P];if(P<l&&e===I||P>=l&&I.type===e)return P}if(r){const P=s[l];if(P&&Al(P)&&P.type===e)return l}return null}function cm(n,t,e,i){let r=n[e];const o=t.data;if(function gW(n){return n instanceof sm}(r)){const s=r;s.resolving&&function y9(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new Gt(-200,`Circular dependency in DI detected for ${n}${e}`)}(bs(o[e]));const a=Dy(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?qu(s.injectImpl):null;bD(n,i,Cn.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function fW(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=cD(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&qu(l),Dy(a),s.resolving=!1,TD()}}return r}function BD(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function LD(n,t){return!(n&Cn.Self||n&Cn.Host&&t)}class Ip{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return kD(this._tNode,this._lView,t,i,e)}}function fo(n){return Ku(()=>{const t=n.prototype.constructor,e=t[Qc]||aT(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Qc]||aT(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function aT(n){return QI(n)?()=>{const t=aT(Dn(n));return t&&t()}:ud(n)}const Np="__parameters__";function Fp(n,t,e){return Ku(()=>{const i=function lT(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const y=l.hasOwnProperty(Np)?l[Np]:Object.defineProperty(l,Np,{value:[]})[Np];for(;y.length<=u;)y.push(null);return(y[u]=y[u]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class un{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=lt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const wW=new un("AnalyzeForEntryComponents");function za(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),za(i,t)):t!==n&&t.push(i)}return t}function cc(n,t){n.forEach(e=>Array.isArray(e)?cc(e,t):t(e))}function GD(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function By(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function dm(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function _a(n,t,e){let i=Bp(n,t);return i>=0?n[1|i]=e:(i=~i,function AW(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function uT(n,t){const e=Bp(n,t);if(e>=0)return n[1|e]}function Bp(n,t){return function VD(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const fm={},dT="__NG_DI_FLAG__",Uy="ngTempTokenPath",BW=/\n/gm,YD="__source",UW=Ln({provide:String,useValue:Ln});let pm;function zD(n){const t=pm;return pm=n,t}function GW(n,t=Cn.Default){if(void 0===pm)throw new Gt(203,"");return null===pm?nD(n,void 0,t):pm.get(n,t&Cn.Optional?null:void 0,t)}function Fe(n,t=Cn.Default){return(function O9(){return FC}()||GW)(Dn(n),t)}const XD=Fe;function fT(n){const t=[];for(let e=0;e<n.length;e++){const i=Dn(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Gt(900,"");let r,o=Cn.Default;for(let s=0;s<i.length;s++){const a=i[s],l=jW(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(Fe(r,o))}else t.push(Fe(i))}return t}function gm(n,t){return n[dT]=t,n.prototype[dT]=t,n}function jW(n){return n[dT]}const Gy=gm(Fp("Inject",n=>({token:n})),-1),th=gm(Fp("Optional"),8),_m=gm(Fp("SkipSelf"),4);let Hy,Vy;function Up(n){var t;return(null===(t=function gT(){if(void 0===Hy&&(Hy=null,Di.trustedTypes))try{Hy=Di.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Hy}())||void 0===t?void 0:t.createHTML(n))||n}function _T(){if(void 0===Vy&&(Vy=null,Di.trustedTypes))try{Vy=Di.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Vy}function ZD(n){var t;return(null===(t=_T())||void 0===t?void 0:t.createHTML(n))||n}function t2(n){var t;return(null===(t=_T())||void 0===t?void 0:t.createScriptURL(n))||n}class dd{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class eY extends dd{getTypeName(){return"HTML"}}class tY extends dd{getTypeName(){return"Style"}}class nY extends dd{getTypeName(){return"Script"}}class iY extends dd{getTypeName(){return"URL"}}class rY extends dd{getTypeName(){return"ResourceURL"}}function ma(n){return n instanceof dd?n.changingThisBreaksApplicationSecurity:n}function uc(n,t){const e=n2(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function n2(n){return n instanceof dd&&n.getTypeName()||null}class uY{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Up(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class hY{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Up(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Up(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const s=e.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const fY=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,pY=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function vm(n){return(n=String(n)).match(fY)||n.match(pY)?n:"unsafe:"+n}function o2(n){return(n=String(n)).split(",").map(t=>vm(t.trim())).join(", ")}function hc(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function ym(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const s2=hc("area,br,col,hr,img,wbr"),a2=hc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),l2=hc("rp,rt"),mT=ym(s2,ym(a2,hc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ym(l2,hc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ym(l2,a2)),vT=hc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yT=hc("srcset"),c2=ym(vT,yT,hc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gY=hc("script,style,template");class _Y{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!mT.hasOwnProperty(e))return this.sanitizedSomething=!0,!gY.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!c2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;vT[a]&&(l=vm(l)),yT[a]&&(l=o2(l)),this.buf.push(" ",s,'="',u2(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();mT.hasOwnProperty(e)&&!s2.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(u2(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const mY=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vY=/([^\#-~ |!])/g;function u2(n){return n.replace(/&/g,"&amp;").replace(mY,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(vY,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wy;function h2(n,t){let e=null;try{Wy=Wy||function r2(n){const t=new hY(n);return function dY(){try{return!!(new window.DOMParser).parseFromString(Up(""),"text/html")}catch(n){return!1}}()?new uY(t):t}(n);let i=t?String(t):"";e=Wy.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=Wy.getInertBodyElement(i)}while(i!==o);return Up((new _Y).sanitizeChildren(bT(e)||e))}finally{if(e){const i=bT(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function bT(n){return"content"in n&&function yY(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var zi=(()=>((zi=zi||{})[zi.NONE=0]="NONE",zi[zi.HTML=1]="HTML",zi[zi.STYLE=2]="STYLE",zi[zi.SCRIPT=3]="SCRIPT",zi[zi.URL=4]="URL",zi[zi.RESOURCE_URL=5]="RESOURCE_URL",zi))();function d2(n){const t=bm();return t?ZD(t.sanitize(zi.HTML,n)||""):uc(n,"HTML")?ZD(ma(n)):h2(zC(),wn(n))}function fn(n){const t=bm();return t?t.sanitize(zi.URL,n)||"":uc(n,"URL")?ma(n):vm(wn(n))}function Yy(n){const t=bm();if(t)return t2(t.sanitize(zi.RESOURCE_URL,n)||"");if(uc(n,"ResourceURL"))return t2(ma(n));throw new Gt(904,"")}function bm(){const n=ut();return n&&n[12]}const p2="__ngContext__";function es(n,t){n[p2]=t}function ST(n){const t=function Em(n){return n[p2]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function TT(n){return n.ngOriginalError}function kY(n,...t){n.error(...t)}class Gp{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function NY(n){return n&&n.ngErrorLogger||kY}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&TT(t);for(;e&&TT(e);)e=TT(e);return e||null}}const YY=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Di))();function dc(n){return n instanceof Function?n():n}var va=(()=>((va=va||{})[va.Important=1]="Important",va[va.DashCase=2]="DashCase",va))();function OT(n,t){return undefined(n,t)}function Sm(n){const t=n[3];return xl(t)?t[3]:t}function wT(n){return C2(n[13])}function PT(n){return C2(n[4])}function C2(n){for(;null!==n&&!xl(n);)n=n[4];return n}function Hp(n,t,e,i,r){if(null!=i){let o,s=!1;xl(i)?o=i:ac(i)&&(s=!0,i=i[0]);const a=Qr(i);0===n&&null!==e?null==r?x2(t,e,a):fd(t,e,a,r||null,!0):1===n&&null!==e?fd(t,e,a,r||null,!0):2===n?function F2(n,t,e){const i=zy(n,t);i&&function oz(n,t,e,i){Dr(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function lz(n,t,e,i,r){const o=e[7];o!==Qr(e)&&Hp(t,n,i,o,r);for(let a=10;a<e.length;a++){const l=e[a];Cm(l[1],l,n,t,i,o)}}(t,n,o,e,r)}}function AT(n,t,e){if(Dr(n))return n.createElement(t,e);{const i=null!==e?function z9(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?n.createElement(t):n.createElementNS(i,t)}}function M2(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,qC(r,-1)),e.splice(i,1)}function RT(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&M2(r,i),t>0&&(n[e-1][4]=i[4]);const o=By(n,10+t);!function JY(n,t){Cm(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function O2(n,t){if(!(256&t[2])){const e=t[11];Dr(e)&&e.destroyNode&&Cm(n,t,e,3,null,null),function ez(n){let t=n[13];if(!t)return IT(n[1],n);for(;t;){let e=null;if(ac(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)ac(t)&&IT(t[1],t),t=t[3];null===t&&(t=n),ac(t)&&IT(t[1],t),e=t&&t[4]}t=e}}(t)}}function IT(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function rz(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof sm)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function iz(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):Qr(t[s]),l=i[r=e[o+2]],c=e[o+3];"boolean"==typeof c?a.removeEventListener(e[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();t[7]=null}}(n,t),1===t[1].type&&Dr(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&xl(t[3])){e!==t[3]&&M2(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function w2(n,t,e){return function P2(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===wl.None||r===wl.Emulated)return null}return Ya(i,e)}(n,t.parent,e)}function fd(n,t,e,i,r){Dr(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function x2(n,t,e){Dr(n)?n.appendChild(t,e):t.appendChild(e)}function A2(n,t,e,i,r){null!==i?fd(n,t,e,i,r):x2(n,t,e)}function zy(n,t){return Dr(n)?n.parentNode(t):t.parentNode}function R2(n,t,e){return D2(n,t,e)}let D2=function I2(n,t,e){return 40&n.type?Ya(n,e):null};function $y(n,t,e,i){const r=w2(n,i,t),o=t[11],a=R2(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)A2(o,r,e[l],a,!1);else A2(o,r,e,a,!1)}function Xy(n,t){if(null!==t){const e=t.type;if(3&e)return Ya(t,n);if(4&e)return NT(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Xy(n,i);{const r=n[t.index];return xl(r)?NT(-1,r):Qr(r)}}if(32&e)return OT(t,n)()||Qr(n[t.index]);{const i=k2(n,t);return null!==i?Array.isArray(i)?i[0]:Xy(Sm(n[16]),i):Xy(n,t.next)}}return null}function k2(n,t){return null!==t?n[16][6].projection[t.projection]:null}function NT(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return Xy(i,r)}return t[7]}function kT(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&es(Qr(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)kT(n,t,e.child,i,r,o,!1),Hp(t,n,r,a,o);else if(32&l){const c=OT(e,i);let u;for(;u=c();)Hp(t,n,r,u,o);Hp(t,n,r,a,o)}else 16&l?B2(n,t,i,e,r,o):Hp(t,n,r,a,o);e=s?e.projectionNext:e.next}}function Cm(n,t,e,i,r,o){kT(e,i,n.firstChild,t,r,o,!1)}function B2(n,t,e,i,r,o){const s=e[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Hp(t,n,r,l[c],o);else kT(n,t,l,s[3],r,o,!0)}function L2(n,t,e){Dr(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function FT(n,t,e){Dr(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function U2(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const G2="ng-template";function uz(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==U2(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function j2(n){return 4===n.type&&n.value!==G2}function hz(n,t,e){return t===(4!==n.type||e?n.value:G2)}function dz(n,t,e){let i=4;const r=n.attrs||[],o=function gz(n){for(let t=0;t<n.length;t++)if(PD(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!hz(n,l,e)||""===l&&1===t.length){if(Rl(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!uz(n.attrs,c,e)){if(Rl(i))return!1;s=!0}continue}const y=fz(8&i?"class":l,r,j2(n),e);if(-1===y){if(Rl(i))return!1;s=!0;continue}if(""!==c){let O;O=y>o?"":r[y+1].toLowerCase();const P=8&i?O:null;if(P&&-1!==U2(P,c,0)||2&i&&c!==O){if(Rl(i))return!1;s=!0}}}}else{if(!s&&!Rl(i)&&!Rl(l))return!1;if(s&&Rl(l))continue;s=!1,i=l|1&i}}return Rl(i)||s}function Rl(n){return 0==(1&n)}function fz(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function _z(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function H2(n,t,e=!1){for(let i=0;i<t.length;i++)if(dz(n,t[i],e))return!0;return!1}function mz(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function V2(n,t){return n?":not("+t.trim()+")":t}function vz(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Rl(s)&&(t+=V2(o,r),r=""),i=s,o=o||!Rl(i);e++}return""!==r&&(t+=V2(o,r)),t}const Pn={};function A(n){W2(hi(),ut(),Ss()+n,Ty())}function W2(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&xy(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Ay(t,o,0,e)}Zu(e)}function qy(n,t){return n<<17|t<<2}function Il(n){return n>>17&32767}function BT(n){return 2|n}function tu(n){return(131068&n)>>2}function LT(n,t){return-131069&n|t<<2}function UT(n){return 1|n}function tN(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=n.data[o];eT(r),s.contentQueries(2,t[o],o)}}}function Tm(n,t,e,i,r,o,s,a,l,c){const u=t.blueprint.slice();return u[0]=r,u[2]=140|i,pD(u),u[3]=u[15]=n,u[8]=e,u[10]=s||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=o,u[16]=2==t.type?n[16]:u,u}function Vp(n,t,e,i,r){let o=n.data[t];if(null===o)o=function XT(n,t,e,i,r){const o=_D(),s=KC(),l=n.data[t]=function Fz(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,i,r),function rW(){return En.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function om(){const n=En.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return lc(o,!0),o}function Wp(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Mm(n,t,e){Oy(t);try{const i=n.viewQuery;null!==i&&iM(1,i,e);const r=n.template;null!==r&&nN(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&tN(n,t),n.staticViewQueries&&iM(2,n.viewQuery,e);const o=n.components;null!==o&&function Dz(n,t){for(let e=0;e<t.length;e++)e$(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,wy()}}function Yp(n,t,e,i){const r=t[2];if(256==(256&r))return;Oy(t);const o=Ty();try{pD(t),function mD(n){return En.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&nN(n,t,e,2,i);const s=3==(3&r);if(!o)if(s){const c=n.preOrderCheckHooks;null!==c&&xy(t,c,null)}else{const c=n.preOrderHooks;null!==c&&Ay(t,c,0,null),tT(t,0)}if(function Qz(n){for(let t=wT(n);null!==t;t=PT(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(1024&r[2])&&qC(o,1),r[2]|=1024}}}(t),function Jz(n){for(let t=wT(n);null!==t;t=PT(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];XC(i)&&Yp(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&tN(n,t),!o)if(s){const c=n.contentCheckHooks;null!==c&&xy(t,c)}else{const c=n.contentHooks;null!==c&&Ay(t,c,1),tT(t,1)}!function Rz(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Zu(~r);else{const o=r,s=e[++i],a=e[++i];oW(s,o),a(2,t[o])}}}finally{Zu(-1)}}(n,t);const a=n.components;null!==a&&function Iz(n,t){for(let e=0;e<t.length;e++)Zz(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&iM(2,l,i),!o)if(s){const c=n.viewCheckHooks;null!==c&&xy(t,c)}else{const c=n.viewHooks;null!==c&&Ay(t,c,2),tT(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,qC(t[3],-1))}finally{wy()}}function Nz(n,t,e,i){const r=t[10],o=!Ty(),s=fD(t);try{o&&!s&&r.begin&&r.begin(),s&&Mm(n,t,i),Yp(n,t,e,i)}finally{o&&!s&&r.end&&r.end()}}function nN(n,t,e,i,r){const o=Ss(),s=2&i;try{Zu(-1),s&&t.length>20&&W2(n,t,20,Ty()),e(i,r)}finally{Zu(o)}}function iN(n,t,e){if(GC(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function qT(n,t,e){!gD()||(function Vz(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||lm(e,t),es(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=Al(l);c&&Xz(t,e,l);const u=cm(t,n,a,e);es(u,t),null!==s&&qz(0,a-r,u,l,0,s),c&&(ga(e.index,t)[8]=u)}}(n,t,e,Ya(e,t)),128==(128&e.flags)&&function Wz(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=function sW(){return En.lFrame.currentDirectiveIndex}();try{Zu(s);for(let l=i;l<r;l++){const c=n.data[l],u=t[l];QC(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&hN(c,u)}}finally{Zu(-1),QC(a)}}(n,t,e))}function KT(n,t,e=Ya){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function rN(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Qy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Qy(n,t,e,i,r,o,s,a,l,c){const u=20+i,y=u+r,O=function kz(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Pn);return e}(u,y),P="function"==typeof c?c():c;return O[1]={type:n,blueprint:O,template:e,queries:null,viewQuery:a,declTNode:t,data:O.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:P,incompleteFirstPass:!1}}function aN(n,t,e,i){const r=mN(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&vN(n).push(i,r.length-1))}function lN(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function ya(n,t,e,i,r,o,s,a){const l=Ya(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(EN(n,e,u,i,r),Ey(t)&&function Uz(n,t){const e=ga(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function Lz(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,Dr(o)?o.setProperty(l,i,r):iT(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function JT(n,t,e,i){let r=!1;if(gD()){const o=function Yz(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];H2(e,s.selectors,!1)&&(r||(r=[]),ky(lm(e,t),n,s.type),Al(s)?(dN(n,e),r.unshift(s)):r.push(s))}return r}(n,t,e),s=null===i?null:{"":-1};if(null!==o){r=!0,fN(e,n.data.length,o.length);for(let u=0;u<o.length;u++){const y=o[u];y.providersResolver&&y.providersResolver(y)}let a=!1,l=!1,c=Wp(n,t,o.length,null);for(let u=0;u<o.length;u++){const y=o[u];e.mergedAttrs=Iy(e.mergedAttrs,y.hostAttrs),pN(n,e,t,c,y),$z(c,y,s),null!==y.contentQueries&&(e.flags|=8),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(e.flags|=128);const O=y.type.prototype;!a&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(O.ngOnChanges||O.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function Bz(n,t){const i=t.directiveEnd,r=n.data,o=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=r[c],y=u.inputs,O=null===o||j2(t)?null:Kz(y,o);s.push(O),a=lN(y,c,a),l=lN(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}(n,e)}s&&function zz(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new Gt(-301,!1);i.push(t[r],o)}}}(e,i,s)}return e.mergedAttrs=Iy(e.mergedAttrs,e.attrs),r}function uN(n,t,e,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function Hz(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function hN(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function dN(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function $z(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Al(t)&&(e[""]=n)}}function fN(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function pN(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=ud(r.type)),s=new sm(o,Al(r),null);n.blueprint[i]=s,e[i]=s,uN(n,t,0,i,Wp(n,e,r.hostVars,Pn),r)}function Xz(n,t,e){const i=Ya(t,n),r=rN(e),o=n[10],s=Zy(n,Tm(n,r,null,e.onPush?64:16,i,t,o,o.createRenderer(i,e),null,null));n[t.index]=s}function fc(n,t,e,i,r,o){const s=Ya(n,t);!function QT(n,t,e,i,r,o,s){if(null==o)Dr(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const a=null==s?wn(o):s(o,i||"",r);Dr(n)?n.setAttribute(t,r,a,e):e?t.setAttributeNS(e,r,a):t.setAttribute(r,a)}}(t[11],s,o,n.value,e,i,r)}function qz(n,t,e,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],y=s[l++];null!==a?i.setInput(e,y,c,u):e[u]=y}}}function Kz(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function gN(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function Zz(n,t){const e=ga(t,n);if(XC(e)){const i=e[1];80&e[2]?Yp(i,e,i.template,e[8]):e[5]>0&&ZT(e)}}function ZT(n){for(let i=wT(n);null!==i;i=PT(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const s=o[1];Yp(s,o,s.template,o[8])}else o[5]>0&&ZT(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=ga(e[i],n);XC(r)&&r[5]>0&&ZT(r)}}function e$(n,t){const e=ga(t,n),i=e[1];(function t$(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Mm(i,e,e[8])}function Zy(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function eM(n){for(;n;){n[2]|=64;const t=Sm(n);if(F9(n)&&!t)return n;n=t}return null}function nM(n,t,e){const i=t[10];i.begin&&i.begin();try{Yp(n,t,n.template,e)}catch(r){throw bN(t,r),r}finally{i.end&&i.end()}}function _N(n){!function tM(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=ST(e),r=i[1];Nz(r,i,r.template,e)}}(n[8])}function iM(n,t,e){eT(0),t(n,e)}const o$=(()=>Promise.resolve(null))();function mN(n){return n[7]||(n[7]=[])}function vN(n){return n.cleanup||(n.cleanup=[])}function bN(n,t){const e=n[9],i=e?e.get(Gp,null):null;i&&i.handleError(t)}function EN(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function nu(n,t,e){const i=Cy(t,n);!function T2(n,t,e){Dr(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function eb(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=Ep(r,a):2==o&&(i=Ep(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const rM=new un("INJECTOR",-1);class SN{get(t,e=fm){if(e===fm){const i=new Error(`NullInjectorError: No provider for ${mi(t)}!`);throw i.name="NullInjectorError",i}return e}}const oM=new un("Set Injector scope."),Om={},l$={};let sM;function CN(){return void 0===sM&&(sM=new SN),sM}function TN(n,t=null,e=null,i){const r=MN(n,t,e,i);return r._resolveInjectorDefTypes(),r}function MN(n,t=null,e=null,i){return new c$(n,e,t||CN(),i)}class c${constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&cc(e,a=>this.processProvider(a,t,e)),cc([t],a=>this.processInjectorType(a,[],o)),this.records.set(rM,zp(void 0,this));const s=this.records.get(oM);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:mi(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=fm,i=Cn.Default){this.assertNotDestroyed();const r=zD(this),o=qu(void 0);try{if(!(i&Cn.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function m$(n){return"function"==typeof n||"object"==typeof n&&n instanceof un}(t)&&NC(t);a=l&&this.injectableDefInScope(l)?zp(aM(t),Om):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&Cn.Self?CN():this.parent).get(t,e=i&Cn.Optional&&e===fm?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Uy]=s[Uy]||[]).unshift(mi(t)),r)throw s;return function HW(n,t,e,i){const r=n[Uy];throw t[YD]&&r.unshift(t[YD]),n.message=function VW(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=mi(t);if(Array.isArray(t))r=t.map(mi).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):mi(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(BW,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Uy]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{qu(o),zD(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(mi(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Gt(205,!1)}processInjectorType(t,e,i){if(!(t=Dn(t)))return!1;let r=eD(t);const o=null==r&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==i.indexOf(s);if(void 0!==o&&(r=eD(o)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(s);try{cc(r.imports,y=>{this.processInjectorType(y,e,i)&&(void 0===u&&(u=[]),u.push(y))})}finally{}if(void 0!==u)for(let y=0;y<u.length;y++){const{ngModule:O,providers:P}=u[y];cc(P,I=>this.processProvider(I,O,P||Li))}}this.injectorDefTypes.add(s);const l=ud(s)||(()=>new s);this.records.set(s,zp(l,Om));const c=r.providers;if(null!=c&&!a){const u=t;cc(c,y=>this.processProvider(y,u,c))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,i){let r=$p(t=Dn(t))?t:Dn(t&&t.provide);const o=function h$(n,t,e){return wN(n)?zp(void 0,n.useValue):zp(ON(n),Om)}(t);if($p(t)||!0!==t.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=zp(void 0,Om,!0),s.factory=()=>fT(s.multi),this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,o)}hydrate(t,e){return e.value===Om&&(e.value=l$,e.value=e.factory()),"object"==typeof e.value&&e.value&&function _$(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Dn(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function aM(n){const t=NC(n),e=null!==t?t.factory:ud(n);if(null!==e)return e;if(n instanceof un)throw new Gt(204,!1);if(n instanceof Function)return function u$(n){const t=n.length;if(t>0)throw dm(t,"?"),new Gt(204,!1);const e=function C9(n){const t=n&&(n[gy]||n[tD]);if(t){const e=function T9(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Gt(204,!1)}function ON(n,t,e){let i;if($p(n)){const r=Dn(n);return ud(r)||aM(r)}if(wN(n))i=()=>Dn(n.useValue);else if(function f$(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...fT(n.deps||[]));else if(function d$(n){return!(!n||!n.useExisting)}(n))i=()=>Fe(Dn(n.useExisting));else{const r=Dn(n&&(n.useClass||n.provide));if(!function g$(n){return!!n.deps}(n))return ud(r)||aM(r);i=()=>new r(...fT(n.deps))}return i}function zp(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function wN(n){return null!==n&&"object"==typeof n&&UW in n}function $p(n){return"function"==typeof n}let Zr=(()=>{class n{static create(e,i){var r;if(Array.isArray(e))return TN({name:""},i,e,"");{const o=null!==(r=e.name)&&void 0!==r?r:"";return TN({name:o},e.parent,e.providers,o)}}}return n.THROW_IF_NOT_FOUND=fm,n.NULL=new SN,n.\u0275prov=lt({token:n,providedIn:"any",factory:()=>Fe(rM)}),n.__NG_ELEMENT_ID__=-1,n})();function M$(n,t){Py(ST(n)[1],ho())}function Si(n){let t=function UN(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Al(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Gt(903,"");r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=uM(n.inputs),s.declaredInputs=uM(n.declaredInputs),s.outputs=uM(n.outputs);const a=r.hostBindings;a&&x$(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&w$(n,l),c&&P$(n,c),ja(n.inputs,r.inputs),ja(n.declaredInputs,r.declaredInputs),ja(n.outputs,r.outputs),Al(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Si&&(e=!1)}}t=Object.getPrototypeOf(t)}!function O$(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Iy(r.hostAttrs,e=Iy(e,r.hostAttrs))}}(i)}function uM(n){return n===Cp?{}:n===Li?[]:n}function w$(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function P$(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function x$(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let tb=null;function Xp(){if(!tb){const n=Di.Symbol;if(n&&n.iterator)tb=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(tb=i)}}}return tb}function wm(n){return!!hM(n)&&(Array.isArray(n)||!(n instanceof Map)&&Xp()in n)}function hM(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function pc(n,t,e){return n[t]=e}function ts(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function pd(n,t,e,i){const r=ts(n,t,e);return ts(n,t+1,i)||r}function nb(n,t,e,i,r){const o=pd(n,t,e,i);return ts(n,t+2,r)||o}function Zn(n,t,e,i){const r=ut();return ts(r,xp(),t)&&(hi(),fc(Nr(),r,n,t,e,i)),Zn}function Kp(n,t,e,i){return ts(n,xp(),e)?t+wn(e)+i:Pn}function Z(n,t,e,i,r,o,s,a){const l=ut(),c=hi(),u=n+20,y=c.firstCreatePass?function F$(n,t,e,i,r,o,s,a,l){const c=t.consts,u=Vp(t,n,4,s||null,Qu(c,a));JT(t,e,u,Qu(c,l)),Py(t,u);const y=u.tViews=Qy(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),y.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,s):c.data[u];lc(y,!1);const O=l[11].createComment("");$y(c,l,O,y),es(O,l),Zy(l,l[u]=gN(O,l,O,y)),Sy(y)&&qT(c,l,y),null!=s&&KT(l,y,a)}function go(n){return Pp(function iW(){return En.lFrame.contextLView}(),20+n)}function X(n,t=Cn.Default){const e=ut();return null===e?Fe(n,t):kD(ho(),e,Dn(n),t)}function _M(){throw new Error("invalid")}function V(n,t,e){const i=ut();return ts(i,xp(),t)&&ya(hi(),Nr(),i,n,t,i[11],e,!1),V}function mM(n,t,e,i,r){const s=r?"class":"style";EN(n,e,t.inputs[s],s,i)}function x(n,t,e,i){const r=ut(),o=hi(),s=20+n,a=r[11],l=r[s]=AT(a,t,function dW(){return En.lFrame.currentNamespace}()),c=o.firstCreatePass?function iX(n,t,e,i,r,o,s){const a=t.consts,c=Vp(t,n,2,r,Qu(a,o));return JT(t,e,c,Qu(a,s)),null!==c.attrs&&eb(c,c.attrs,!1),null!==c.mergedAttrs&&eb(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,0,t,e,i):o.data[s];lc(c,!0);const u=c.mergedAttrs;null!==u&&Ry(a,l,u);const y=c.classes;null!==y&&FT(a,l,y);const O=c.styles;return null!==O&&L2(a,l,O),64!=(64&c.flags)&&$y(o,r,l,c),0===function Q9(){return En.lFrame.elementDepthCount}()&&es(l,r),function Z9(){En.lFrame.elementDepthCount++}(),Sy(c)&&(qT(o,r,c),iN(o,c,r)),null!==i&&KT(r,c),x}function R(){let n=ho();KC()?JC():(n=n.parent,lc(n,!1));const t=n;!function eW(){En.lFrame.elementDepthCount--}();const e=hi();return e.firstCreatePass&&(Py(e,n),GC(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function mW(n){return 0!=(16&n.flags)}(t)&&mM(e,t,ut(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function vW(n){return 0!=(32&n.flags)}(t)&&mM(e,t,ut(),t.stylesWithoutHost,!1),R}function ve(n,t,e,i){return x(n,t,e,i),R(),ve}function ft(n,t,e){const i=ut(),r=hi(),o=n+20,s=r.firstCreatePass?function rX(n,t,e,i,r){const o=t.consts,s=Qu(o,i),a=Vp(t,n,8,"ng-container",s);return null!==s&&eb(a,s,!0),JT(t,e,a,Qu(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];lc(s,!0);const a=i[o]=i[11].createComment("");return $y(r,i,a,s),es(a,i),Sy(s)&&(qT(r,i,s),iN(r,s,i)),null!=e&&KT(i,s),ft}function pt(){let n=ho();const t=hi();return KC()?JC():(n=n.parent,lc(n,!1)),t.firstCreatePass&&(Py(t,n),GC(n)&&t.queries.elementEnd(n)),pt}function rh(n,t,e){return ft(n,t,e),pt(),rh}function dt(){return ut()}function xm(n){return!!n&&"function"==typeof n.then}function ok(n){return!!n&&"function"==typeof n.subscribe}const vM=ok;function Ce(n,t,e,i){const r=ut(),o=hi(),s=ho();return function ak(n,t,e,i,r,o,s,a){const l=Sy(i),u=n.firstCreatePass&&vN(n),y=t[8],O=mN(t);let P=!0;if(3&i.type||a){const B=Ya(i,t),Y=a?a(B):B,q=O.length,ie=a?se=>a(Qr(se[i.index])):i.index;if(Dr(e)){let se=null;if(!a&&l&&(se=function oX(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==se)(se.__ngLastListenerFn__||se).__ngNextListenerFn__=o,se.__ngLastListenerFn__=o,P=!1;else{o=yM(i,t,y,o,!1);const re=e.listen(Y,r,o);O.push(o,re),u&&u.push(r,ie,q,q+1)}}else o=yM(i,t,y,o,!0),Y.addEventListener(r,o,s),O.push(o),u&&u.push(r,ie,q,s)}else o=yM(i,t,y,o,!1);const I=i.outputs;let D;if(P&&null!==I&&(D=I[r])){const B=D.length;if(B)for(let Y=0;Y<B;Y+=2){const ne=t[D[Y]][D[Y+1]].subscribe(o),Ee=O.length;O.push(o,ne),u&&u.push(r,i.index,Ee,-(Ee+1))}}}(o,r,r[11],s,n,t,!!e,i),Ce}function lk(n,t,e,i){try{return!1!==e(i)}catch(r){return bN(n,r),!1}}function yM(n,t,e,i,r){return function o(s){if(s===Function)return i;const a=2&n.flags?ga(n.index,t):t;0==(32&t[2])&&eM(a);let l=lk(t,0,i,s),c=o.__ngNextListenerFn__;for(;c;)l=lk(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function ee(n=1){return function lW(n){return(En.lFrame.contextLView=function cW(n,t){for(;n>0;)t=t[15],n--;return t}(n,En.lFrame.contextLView))[8]}(n)}function sX(n,t){let e=null;const i=function pz(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?H2(n,o,!0):mz(i,o))return r}else e=r}return e}function Am(n){const t=ut()[16][6];if(!t.projection){const i=t.projection=dm(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?sX(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Rm(n,t=0,e){const i=ut(),r=hi(),o=Vp(r,20+n,16,null,e||null);null===o.projection&&(o.projection=t),JC(),64!=(64&o.flags)&&function az(n,t,e){B2(t[11],0,t,e,w2(n,e,t),R2(e.parent||t[6],e,t))}(r,i,o)}function iu(n,t,e){return rb(n,"",t,"",e),iu}function rb(n,t,e,i,r){const o=ut(),s=Kp(o,t,e,i);return s!==Pn&&ya(hi(),Nr(),o,n,s,o[11],r,!1),rb}function mk(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?Il(o):tu(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];cX(n[a],t)&&(l=!0,n[a+1]=i?UT(u):BT(u)),a=i?Il(u):tu(u)}l&&(n[e+1]=i?BT(o):UT(o))}function cX(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Bp(n,t)>=0}const _o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vk(n){return n.substring(_o.key,_o.keyEnd)}function yk(n,t){const e=_o.textEnd;return e===t?-1:(t=_o.keyEnd=function fX(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,_o.key=t,e),og(n,t,e))}function og(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Nl(n,t,e){return kl(n,t,e,!1),Nl}function vt(n,t){return kl(n,t,null,!0),vt}function gd(n){Fl(_a,_c,n,!0)}function _c(n,t){for(let e=function hX(n){return function Ek(n){_o.key=0,_o.keyEnd=0,_o.value=0,_o.valueEnd=0,_o.textEnd=n.length}(n),yk(n,og(n,0,_o.textEnd))}(t);e>=0;e=yk(t,e))_a(n,vk(t),!0)}function kl(n,t,e,i){const r=ut(),o=hi(),s=eu(2);o.firstUpdatePass&&Mk(o,n,s,i),t!==Pn&&ts(r,s,t)&&wk(o,o.data[Ss()],r,r[11],n,r[s+1]=function CX(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=mi(ma(n)))),n}(t,e),i,s)}function Fl(n,t,e,i){const r=hi(),o=eu(2);r.firstUpdatePass&&Mk(r,null,o,i);const s=ut();if(e!==Pn&&ts(s,o,e)){const a=r.data[Ss()];if(xk(a,i)&&!Tk(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Ep(l,e||"")),mM(r,a,s,e,i)}else!function SX(n,t,e,i,r,o,s,a){r===Pn&&(r=Li);let l=0,c=0,u=0<r.length?r[0]:null,y=0<o.length?o[0]:null;for(;null!==u||null!==y;){const O=l<r.length?r[l+1]:void 0,P=c<o.length?o[c+1]:void 0;let D,I=null;u===y?(l+=2,c+=2,O!==P&&(I=y,D=P)):null===y||null!==u&&u<y?(l+=2,I=u):(c+=2,I=y,D=P),null!==I&&wk(n,t,e,i,I,D,s,a),u=l<r.length?r[l]:null,y=c<o.length?o[c]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function EX(n,t,e){if(null==e||""===e)return Li;const i=[],r=ma(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}function Tk(n,t){return t>=n.expandoStartIndex}function Mk(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Ss()],s=Tk(n,e);xk(o,i)&&null===t&&!s&&(t=!1),t=function mX(n,t,e,i){const r=function ZC(n){const t=En.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Im(e=bM(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=bM(r,n,t,e,i),null===o){let l=function vX(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==tu(i))return n[Il(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=bM(null,n,t,l[1],i),l=Im(l,t.attrs,i),function yX(n,t,e,i){n[Il(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function bX(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Im(i,n[o].hostAttrs,e);return Im(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function aX(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Il(s),l=tu(s);n[i]=e;let u,c=!1;if(Array.isArray(e)){const y=e;u=y[1],(null===u||Bp(y,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const O=Il(n[a+1]);n[i+1]=qy(O,a),0!==O&&(n[O+1]=LT(n[O+1],i)),n[a+1]=function Ez(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=qy(a,0),0!==a&&(n[a+1]=LT(n[a+1],i)),a=i;else n[i+1]=qy(l,0),0===a?a=i:n[l+1]=LT(n[l+1],i),l=i;c&&(n[i+1]=BT(n[i+1])),mk(n,u,i,!0),mk(n,u,i,!1),function lX(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Bp(o,t)>=0&&(e[i+1]=UT(e[i+1]))}(t,u,n,i,o),s=qy(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function bM(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=Im(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Im(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),_a(n,s,!!e||t[++o]))}return void 0===n?null:n}function wk(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];ob(function $2(n){return 1==(1&n)}(c)?Pk(l,t,e,r,tu(c),s):void 0)||(ob(o)||function z2(n){return 2==(2&n)}(c)&&(o=Pk(l,null,e,r,a,s)),function cz(n,t,e,i,r){const o=Dr(n);if(t)r?o?n.addClass(e,i):e.classList.add(i):o?n.removeClass(e,i):e.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:va.DashCase;if(null==r)o?n.removeStyle(e,i,s):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=va.Important),o?n.setStyle(e,i,r,s):e.style.setProperty(i,r,a?"important":"")}}}(i,s,Cy(Ss(),e),r,o))}function Pk(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,y=null===u;let O=e[r+1];O===Pn&&(O=y?Li:void 0);let P=y?uT(O,i):u===i?O:void 0;if(c&&!ob(P)&&(P=uT(l,i)),ob(P)&&(a=P,s))return a;const I=n[r+1];r=s?Il(I):tu(I)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=uT(l,i))}return a}function ob(n){return void 0!==n}function xk(n,t){return 0!=(n.flags&(t?16:32))}function H(n,t=""){const e=ut(),i=hi(),r=n+20,o=i.firstCreatePass?Vp(i,r,1,t,null):i.data[r],s=e[r]=function xT(n,t){return Dr(n)?n.createText(t):n.createTextNode(t)}(e[11],t);$y(i,e,s,o),lc(o,!1)}function yt(n){return me("",n,""),yt}function me(n,t,e){const i=ut(),r=Kp(i,n,t,e);return r!==Pn&&nu(i,Ss(),r),me}function pi(n,t,e,i,r){const o=ut(),s=function Jp(n,t,e,i,r,o){const a=pd(n,Zc(),e,r);return eu(2),a?t+wn(e)+i+wn(r)+o:Pn}(o,n,t,e,i,r);return s!==Pn&&nu(o,Ss(),s),pi}function sg(n,t,e,i,r,o,s){const a=ut(),l=function Qp(n,t,e,i,r,o,s,a){const c=nb(n,Zc(),e,r,s);return eu(3),c?t+wn(e)+i+wn(r)+o+wn(s)+a:Pn}(a,n,t,e,i,r,o,s);return l!==Pn&&nu(a,Ss(),l),sg}function EM(n,t,e){Fl(_a,_c,Kp(ut(),n,t,e),!0)}const md=void 0;var HX=["en",[["a","p"],["AM","PM"],md],[["AM","PM"],md,md],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],md,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],md,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",md,"{1} 'at' {0}",md],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jX(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let ag={};function Ts(n){const t=function VX(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=$k(t);if(e)return e;const i=t.split("-")[0];if(e=$k(i),e)return e;if("en"===i)return HX;throw new Error(`Missing locale data for the locale "${n}".`)}function $k(n){return n in ag||(ag[n]=Di.ng&&Di.ng.common&&Di.ng.common.locales&&Di.ng.common.locales[n]),ag[n]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const sb="en-US";let Xk=sb;function MM(n,t,e,i,r){if(n=Dn(n),Array.isArray(n))for(let o=0;o<n.length;o++)MM(n[o],t,e,i,r);else{const o=hi(),s=ut();let a=$p(n)?n:Dn(n.provide),l=ON(n);const c=ho(),u=1048575&c.providerIndexes,y=c.directiveStart,O=c.providerIndexes>>20;if($p(n)||!n.multi){const P=new sm(l,r,X),I=wM(a,t,r?u:u+O,y);-1===I?(ky(lm(c,s),o,a),OM(o,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(P),s.push(P)):(e[I]=P,s[I]=P)}else{const P=wM(a,t,u+O,y),I=wM(a,t,u,u+O),D=P>=0&&e[P],B=I>=0&&e[I];if(r&&!B||!r&&!D){ky(lm(c,s),o,a);const Y=function Uq(n,t,e,i,r){const o=new sm(n,e,X);return o.multi=[],o.index=t,o.componentProviders=0,vF(o,r,i&&!e),o}(r?Lq:Bq,e.length,r,i,l);!r&&B&&(e[I].providerFactory=Y),OM(o,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(Y),s.push(Y)}else OM(o,n,P>-1?P:I,vF(e[r?I:P],l,!r&&i));!r&&i&&B&&e[I].componentProviders++}}}function OM(n,t,e,i){const r=$p(t),o=function p$(n){return!!n.useClass}(t);if(r||o){const l=(o?Dn(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function vF(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function wM(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function Bq(n,t,e,i){return PM(this.multi,[])}function Lq(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=cm(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),PM(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],PM(r,o);return o}function PM(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ei(n,t=[]){return e=>{e.providersResolver=(i,r)=>function Fq(n,t,e){const i=hi();if(i.firstCreatePass){const r=Al(n);MM(e,i.data,i.blueprint,r,!0),MM(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class yF{}class Hq{resolveComponentFactory(t){throw function jq(n){const t=Error(`No component factory found for ${mi(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let cg=(()=>{class n{}return n.NULL=new Hq,n})();function Vq(){return ug(ho(),ut())}function ug(n,t){return new Ci(Ya(n,t))}let Ci=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=Vq,n})();function Wq(n){return n instanceof Ci?n.nativeElement:n}class hg{}let Ms=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function zq(){const n=ut(),e=ga(ho().index,n);return function Yq(n){return n[11]}(ac(e)?e:n)}(),n})(),$q=(()=>{class n{}return n.\u0275prov=lt({token:n,providedIn:"root",factory:()=>null}),n})();class Bm{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const hb=new Bm("13.2.6"),xM={};function db(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(Qr(o)),xl(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&db(l[1],l,c,i)}const s=e.type;if(8&s)db(n,t,e.child,i);else if(32&s){const a=OT(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=k2(t,e);if(Array.isArray(a))i.push(...a);else{const l=Sm(t[16]);db(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Lm{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return db(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(xl(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(RT(t,i),By(e,i))}this._attachedToViewContainer=!1}O2(this._lView[1],this._lView)}onDestroy(t){aN(this._lView[1],this._lView,null,t)}markForCheck(){eM(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){nM(this._lView[1],this._lView,this.context)}checkNoChanges(){!function i$(n,t,e){My(!0);try{nM(n,t,e)}finally{My(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Gt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ZY(n,t){Cm(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Gt(902,"");this._appRef=t}}class Xq extends Lm{constructor(t){super(t),this._view=t}detectChanges(){_N(this._view)}checkNoChanges(){!function r$(n){My(!0);try{_N(n)}finally{My(!1)}}(this._view)}get context(){return null}}class EF extends cg{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Qo(t);return new AM(e,this.ngModule)}}function SF(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class AM extends yF{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function yz(n){return n.map(vz).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return SF(this.componentDef.inputs)}get outputs(){return SF(this.componentDef.outputs)}create(t,e,i,r){const o=(r=r||this.ngModule)?function Kq(n,t){return{get:(e,i,r)=>{const o=n.get(e,xM,r);return o!==xM||i===xM?o:t.get(e,i,r)}}}(t,r.injector):t,s=o.get(hg,dD),a=o.get($q,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function sN(n,t,e){if(Dr(n))return n.selectRootElement(t,e===wl.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):AT(s.createRenderer(null,this.componentDef),c,function qq(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),y=this.componentDef.onPush?576:528,O=function LN(n,t){return{components:[],scheduler:n||YY,clean:o$,playerHandler:t||null,flags:0}}(),P=Qy(0,null,null,1,0,null,null,null,null,null),I=Tm(null,P,O,y,null,null,s,l,a,o);let D,B;Oy(I);try{const Y=function FN(n,t,e,i,r,o){const s=e[1];e[20]=n;const l=Vp(s,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(eb(l,c,!0),null!==n&&(Ry(r,n,c),null!==l.classes&&FT(r,n,l.classes),null!==l.styles&&L2(r,n,l.styles)));const u=i.createRenderer(n,t),y=Tm(e,rN(t),null,t.onPush?64:16,e[20],l,i,u,o||null,null);return s.firstCreatePass&&(ky(lm(l,e),s,t.type),dN(s,l),fN(l,e.length,1)),Zy(e,y),e[20]=y}(u,this.componentDef,I,s,l);if(u)if(i)Ry(l,u,["ng-version",hb.full]);else{const{attrs:q,classes:ie}=function bz(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!Rl(r))break;r=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);q&&Ry(l,u,q),ie&&ie.length>0&&FT(l,u,ie.join(" "))}if(B=$C(P,20),void 0!==e){const q=B.projection=[];for(let ie=0;ie<this.ngContentSelectors.length;ie++){const se=e[ie];q.push(null!=se?Array.from(se):null)}}D=function BN(n,t,e,i,r){const o=e[1],s=function jz(n,t,e){const i=ho();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),pN(n,i,t,Wp(n,t,1,null),e));const r=cm(t,n,i.directiveStart,i);es(r,t);const o=Ya(i,t);return o&&es(o,t),r}(o,e,t);if(i.components.push(s),n[8]=s,r&&r.forEach(l=>l(s,t)),t.contentQueries){const l=ho();t.contentQueries(1,s,l.directiveStart)}const a=ho();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Zu(a.index),uN(e[1],a,0,a.directiveStart,a.directiveEnd,t),hN(t,s)),s}(Y,this.componentDef,I,O,[M$]),Mm(P,I,null)}finally{wy()}return new Qq(this.componentType,D,ug(B,I),I,B)}}class Qq extends class Gq{}{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new Xq(r),this.componentType=t}get injector(){return new Ip(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class ru{}class CF{}const dg=new Map;class OF extends ru{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new EF(this);const i=Ha(t);this._bootstrapComponents=dc(i.bootstrap),this._r3Injector=MN(t,e,[{provide:ru,useValue:this},{provide:cg,useValue:this.componentFactoryResolver}],mi(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Zr.THROW_IF_NOT_FOUND,i=Cn.Default){return t===Zr||t===ru||t===rM?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class RM extends CF{constructor(t){super(),this.moduleType=t,null!==Ha(t)&&function eK(n){const t=new Set;!function e(i){const r=Ha(i,!0),o=r.id;null!==o&&(function TF(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${mi(t)} vs ${mi(t.name)}`)}(o,dg.get(o),i),dg.set(o,i));const s=dc(r.imports);for(const a of s)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new OF(this.moduleType,t)}}function Fr(n,t,e,i){return PF(ut(),Es(),n,t,e,i)}function ba(n,t,e,i,r){return xF(ut(),Es(),n,t,e,i,r)}function Um(n,t,e,i,r,o){return function AF(n,t,e,i,r,o,s,a){const l=t+e;return nb(n,l,r,o,s)?pc(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):Gm(n,l+3)}(ut(),Es(),n,t,e,i,r,o)}function wF(n,t,e,i,r,o,s){return function RF(n,t,e,i,r,o,s,a,l){const c=t+e;return function $a(n,t,e,i,r,o){const s=pd(n,t,e,i);return pd(n,t+2,r,o)||s}(n,c,r,o,s,a)?pc(n,c+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):Gm(n,c+4)}(ut(),Es(),n,t,e,i,r,o,s)}function Gm(n,t){const e=n[t];return e===Pn?void 0:e}function PF(n,t,e,i,r,o){const s=t+e;return ts(n,s,r)?pc(n,s+1,o?i.call(o,r):i(r)):Gm(n,s+1)}function xF(n,t,e,i,r,o,s){const a=t+e;return pd(n,a,r,o)?pc(n,a+2,s?i.call(s,r,o):i(r,o)):Gm(n,a+2)}function ce(n,t){const e=hi();let i;const r=n+20;e.firstCreatePass?(i=function aK(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=ud(i.type)),s=qu(X);try{const a=Dy(!1),l=o();return Dy(a),function B$(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,ut(),r,l),l}finally{qu(s)}}function pe(n,t,e){const i=n+20,r=ut(),o=Pp(r,i);return jm(r,i)?PF(r,Es(),t,o.transform,e,o):o.transform(e)}function tn(n,t,e,i){const r=n+20,o=ut(),s=Pp(o,r);return jm(o,r)?xF(o,Es(),t,s.transform,e,i,s):s.transform(e,i)}function jm(n,t){return n[1].data[t].pure}function IM(n){return t=>{setTimeout(n,void 0,t)}}const Yt=class hK extends Le{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var r,o,s;let a=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const y=t;a=null===(r=y.next)||void 0===r?void 0:r.bind(y),l=null===(o=y.error)||void 0===o?void 0:o.bind(y),c=null===(s=y.complete)||void 0===s?void 0:s.bind(y)}this.__isAsync&&(l=IM(l),a&&(a=IM(a)),c&&(c=IM(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof p&&t.add(u),u}};function dK(){return this._results[Xp()]()}class DM{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Xp(),i=DM.prototype;i[e]||(i[e]=dK)}get changes(){return this._changes||(this._changes=new Yt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=za(t);(this._changesDetected=!function PW(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let fr=(()=>{class n{}return n.__NG_ELEMENT_ID__=gK,n})();const fK=fr,pK=class extends fK{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Tm(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(e)),Mm(e,i,t),new Lm(i)}};function gK(){return fb(ho(),ut())}function fb(n,t){return 4&n.type?new pK(t,n,ug(n,t)):null}let Xa=(()=>{class n{}return n.__NG_ELEMENT_ID__=_K,n})();function _K(){return kF(ho(),ut())}const mK=Xa,DF=class extends mK{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ug(this._hostTNode,this._hostLView)}get injector(){return new Ip(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ny(this._hostTNode,this._hostLView);if(AD(t)){const e=Rp(t,this._hostLView),i=Ap(t);return new Ip(e[1].data[i+8],e)}return new Ip(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=NF(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,o){const s=t&&!function hm(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const y=e||{};a=y.index,i=y.injector,r=y.projectableNodes,o=y.ngModuleRef}const l=s?t:new AM(Qo(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const O=(s?c:this.parentInjector).get(ru,null);O&&(o=O)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,a),u}insert(t,e){const i=t._lView,r=i[1];if(function J9(n){return xl(n[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const y=i[3],O=new DF(y,y[6],y[3]);O.detach(O.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function tz(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],GD(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function nz(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(r,i,s,o);const a=NT(o,s),l=i[11],c=zy(l,s[7]);return null!==c&&function QY(n,t,e,i,r,o){i[0]=r,i[6]=t,Cm(n,i,e,1,r,o)}(r,s[6],l,i,c,a),t.attachToViewContainerRef(),GD(NM(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=NF(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=RT(this._lContainer,e);i&&(By(NM(this._lContainer),e),O2(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=RT(this._lContainer,e);return i&&null!=By(NM(this._lContainer),e)?new Lm(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function NF(n){return n[8]}function NM(n){return n[8]||(n[8]=[])}function kF(n,t){let e;const i=t[n.index];if(xl(i))e=i;else{let r;if(8&n.type)r=Qr(i);else{const o=t[11];r=o.createComment("");const s=Ya(n,t);fd(o,zy(o,s),r,function sz(n,t){return Dr(n)?n.nextSibling(t):t.nextSibling}(o,s),!1)}t[n.index]=e=gN(i,t,r,n),Zy(t,e)}return new DF(e,n,t)}class kM{constructor(t){this.queryList=t,this.matches=null}clone(){return new kM(this.queryList)}setDirty(){this.queryList.setDirty()}}class FM{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new FM(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==GF(t,e).matches&&this.queries[e].setDirty()}}class FF{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class BM{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new BM(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class LM{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new LM(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,bK(e,o)),this.matchTNodeWithReadOption(t,e,Fy(e,t,o,!1,!1))}else i===fr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Fy(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ci||r===Xa||r===fr&&4&e.type)this.addMatch(e.index,-2);else{const o=Fy(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function bK(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function SK(n,t,e,i){return-1===e?function EK(n,t){return 11&n.type?ug(n,t):4&n.type?fb(n,t):null}(t,n):-2===e?function CK(n,t,e){return e===Ci?ug(t,n):e===fr?fb(t,n):e===Xa?kF(t,n):void 0}(n,t,i):cm(n,n[1],e,t)}function BF(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:SK(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function UM(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=BF(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let y=10;y<u.length;y++){const O=u[y];O[17]===O[3]&&UM(O[1],O,c,i)}if(null!==u[9]){const y=u[9];for(let O=0;O<y.length;O++){const P=y[O];UM(P[1],P,c,i)}}}}}return i}function Hn(n){const t=ut(),e=hi(),i=yD();eT(i+1);const r=GF(e,i);if(n.dirty&&fD(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?UM(e,t,i,[]):BF(e,t,r,i);n.reset(o,Wq),n.notifyOnChanges()}return!0}return!1}function mo(n,t,e){const i=hi();i.firstCreatePass&&(UF(i,new FF(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),LF(i,ut(),t)}function Yr(n,t,e,i){const r=hi();if(r.firstCreatePass){const o=ho();UF(r,new FF(t,e,i),o.index),function MK(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}LF(r,ut(),e)}function Vn(){return function TK(n,t){return n[19].queries[t].queryList}(ut(),yD())}function LF(n,t,e){const i=new DM(4==(4&e));aN(n,t,i,i.destroy),null===t[19]&&(t[19]=new FM),t[19].queries.push(new kM(i))}function UF(n,t,e){null===n.queries&&(n.queries=new BM),n.queries.track(new LM(t,e))}function GF(n,t){return n.queries.getByIndex(t)}function Ea(n,t){return fb(n,t)}function _b(...n){}const mb=new un("Application Initializer");let YM=(()=>{class n{constructor(e){this.appInits=e,this.resolve=_b,this.reject=_b,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(xm(o))e.push(o);else if(vM(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(Fe(mb,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vm=new un("AppId",{providedIn:"root",factory:function r3(){return`${zM()}${zM()}${zM()}`}});function zM(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const o3=new un("Platform Initializer"),vd=new un("Platform ID"),s3=new un("appBootstrapListener");let a3=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const sh=new un("LocaleId",{providedIn:"root",factory:()=>XD(sh,Cn.Optional|Cn.SkipSelf)||function HK(){return"undefined"!=typeof $localize&&$localize.locale||sb}()});class WK{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let l3=(()=>{class n{compileModuleSync(e){return new RM(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=dc(Ha(e).declarations).reduce((s,a)=>{const l=Qo(a);return l&&s.push(new AM(l)),s},[]);return new WK(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zK=(()=>Promise.resolve(0))();function $M(n){"undefined"==typeof Zone?zK.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Wn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yt(!1),this.onMicrotaskEmpty=new Yt(!1),this.onStable=new Yt(!1),this.onError=new Yt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function $K(){let n=Di.requestAnimationFrame,t=Di.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function KK(n){const t=()=>{!function qK(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Di,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,qM(n),n.isCheckStableRunning=!0,XM(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),qM(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return c3(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),u3(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return c3(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),u3(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,qM(n),XM(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,XK,_b,_b);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const XK={};function XM(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function qM(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function c3(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function u3(n){n._nesting--,XM(n)}class JK{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yt,this.onMicrotaskEmpty=new Yt,this.onStable=new Yt,this.onError=new Yt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let KM=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wn.assertNotInAngularZone(),$M(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$M(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(Fe(Wn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),h3=(()=>{class n{constructor(){this._applications=new Map,JM.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return JM.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class QK{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Bl,JM=new QK;const d3=new un("AllowMultipleToken");class f3{constructor(t,e){this.name=t,this.token=e}}function p3(n,t,e=[]){const i=`Platform: ${t}`,r=new un(i);return(o=[])=>{let s=g3();if(!s||s.injector.get(d3,!1))if(n)n(e.concat(o).concat({provide:r,useValue:!0}));else{const a=e.concat(o).concat({provide:r,useValue:!0},{provide:oM,useValue:"platform"});!function nJ(n){if(Bl&&!Bl.destroyed&&!Bl.injector.get(d3,!1))throw new Gt(400,"");Bl=n.get(_3);const t=n.get(o3,null);t&&t.forEach(e=>e())}(Zr.create({providers:a,name:i}))}return function iJ(n){const t=g3();if(!t)throw new Gt(401,"");return t}()}}function g3(){return Bl&&!Bl.destroyed?Bl:null}let _3=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function rJ(n,t){let e;return e="noop"===n?new JK:("zone.js"===n?void 0:n)||new Wn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:Wn,useValue:a}];return a.run(()=>{const c=Zr.create({providers:l,parent:this.injector,name:e.moduleType.name}),u=e.create(c),y=u.injector.get(Gp,null);if(!y)throw new Gt(402,"");return a.runOutsideAngular(()=>{const O=a.onError.subscribe({next:P=>{y.handleError(P)}});u.onDestroy(()=>{QM(this._modules,u),O.unsubscribe()})}),function oJ(n,t,e){try{const i=e();return xm(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(y,a,()=>{const O=u.injector.get(YM);return O.runInitializers(),O.donePromise.then(()=>(function $X(n){fa(n,"Expected localeId to be defined"),"string"==typeof n&&(Xk=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(sh,sb)||sb),this._moduleDoBootstrap(u),u))})})}bootstrapModule(e,i=[]){const r=m3({},i);return function eJ(n,t,e){const i=new RM(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(vb);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Gt(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Gt(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(Fe(Zr))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function m3(n,t){return Array.isArray(t)?t.reduce(m3,n):Object.assign(Object.assign({},n),t)}let vb=(()=>{class n{constructor(e,i,r,o,s){this._zone=e,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new le(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new le(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Wn.assertNotInAngularZone(),$M(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const y=this._zone.onUnstable.subscribe(()=>{Wn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),y.unsubscribe()}});this.isStable=function wi(...n){const t=ha(n),e=function bn(n,t){return"number"==typeof yn(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Et(i[0]):uo(e)(ri(i,t)):nt}(a,l.pipe(ys()))}bootstrap(e,i){if(!this._initStatus.done)throw new Gt(405,"");let r;r=e instanceof yF?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(r.componentType);const o=function tJ(n){return n.isBoundToModule}(r)?void 0:this._injector.get(ru),a=r.create(Zr.NULL,[],i||r.selector,o),l=a.location.nativeElement,c=a.injector.get(KM,null),u=c&&a.injector.get(h3);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),QM(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Gt(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;QM(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(s3,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(Fe(Wn),Fe(Zr),Fe(Gp),Fe(cg),Fe(YM))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QM(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let y3=!0,Tn=(()=>{class n{}return n.__NG_ELEMENT_ID__=lJ,n})();function lJ(n){return function cJ(n,t,e){if(Ey(n)&&!e){const i=ga(n.index,t);return new Lm(i,i)}return 47&n.type?new Lm(t[16],t):null}(ho(),ut(),16==(16&n))}class T3{constructor(){}supports(t){return wm(t)}create(t){return new gJ(t)}}const pJ=(n,t)=>t;class gJ{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||pJ}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<O3(i,r,o)?e:i,a=O3(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let O=0;O<c;O++){const P=O<o.length?o[O]:o[O]=0,I=P+O;u<=I&&I<c&&(o[O]=P+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!wm(t))throw new Gt(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function k$(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Xp()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new _J(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new M3),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new M3),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class _J{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mJ{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class M3{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new mJ,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function O3(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class w3{constructor(){}supports(t){return t instanceof Map||hM(t)}create(){return new vJ}}class vJ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||hM(t)))throw new Gt(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new yJ(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class yJ{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function P3(){return new Wm([new T3])}let Wm=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||P3()),deps:[[n,new _m,new th]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new Gt(901,"")}}return n.\u0275prov=lt({token:n,providedIn:"root",factory:P3}),n})();function x3(){return new Ym([new w3])}let Ym=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||x3()),deps:[[n,new _m,new th]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new Gt(901,"")}}return n.\u0275prov=lt({token:n,providedIn:"root",factory:x3}),n})();const SJ=p3(null,"core",[{provide:vd,useValue:"unknown"},{provide:_3,deps:[Zr]},{provide:h3,deps:[]},{provide:a3,deps:[]}]);let CJ=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(Fe(vb))},n.\u0275mod=st({type:n}),n.\u0275inj=rt({}),n})(),Eb=null;function mc(){return Eb}const nr=new un("DocumentToken");let bd=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:function(){return function wJ(){return Fe(A3)}()},providedIn:"platform"}),n})();const PJ=new un("Location Initialized");let A3=(()=>{class n extends bd{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mc().getBaseHref(this._doc)}onPopState(e){const i=mc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=mc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){R3()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){R3()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(Fe(nr))},n.\u0275prov=lt({token:n,factory:function(){return function xJ(){return new A3(Fe(nr))}()},providedIn:"platform"}),n})();function R3(){return!!window.history.pushState}function iO(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function I3(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ou(n){return n&&"?"!==n[0]?"?"+n:n}let pg=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:function(){return function AJ(n){const t=Fe(nr).location;return new D3(Fe(bd),t&&t.origin||"")}()},providedIn:"root"}),n})();const rO=new un("appBaseHref");let D3=(()=>{class n extends pg{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return iO(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ou(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+ou(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+ou(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(Fe(bd),Fe(rO,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),RJ=(()=>{class n extends pg{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=iO(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+ou(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+ou(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(Fe(bd),Fe(rO,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),oO=(()=>{class n{constructor(e,i){this._subject=new Yt,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=I3(N3(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ou(i))}normalize(e){return n.stripTrailingSlash(function DJ(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,N3(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ou(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ou(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=ou,n.joinWithSlash=iO,n.stripTrailingSlash=I3,n.\u0275fac=function(e){return new(e||n)(Fe(pg),Fe(bd))},n.\u0275prov=lt({token:n,factory:function(){return function IJ(){return new oO(Fe(pg),Fe(bd))}()},providedIn:"root"}),n})();function N3(n){return n.replace(/\/index.html$/,"")}var Xs=(()=>((Xs=Xs||{})[Xs.Decimal=0]="Decimal",Xs[Xs.Percent=1]="Percent",Xs[Xs.Currency=2]="Currency",Xs[Xs.Scientific=3]="Scientific",Xs))(),zr=(()=>((zr=zr||{})[zr.Format=0]="Format",zr[zr.Standalone=1]="Standalone",zr))(),Jn=(()=>((Jn=Jn||{})[Jn.Narrow=0]="Narrow",Jn[Jn.Abbreviated=1]="Abbreviated",Jn[Jn.Wide=2]="Wide",Jn[Jn.Short=3]="Short",Jn))(),pr=(()=>((pr=pr||{})[pr.Short=0]="Short",pr[pr.Medium=1]="Medium",pr[pr.Long=2]="Long",pr[pr.Full=3]="Full",pr))(),nn=(()=>((nn=nn||{})[nn.Decimal=0]="Decimal",nn[nn.Group=1]="Group",nn[nn.List=2]="List",nn[nn.PercentSign=3]="PercentSign",nn[nn.PlusSign=4]="PlusSign",nn[nn.MinusSign=5]="MinusSign",nn[nn.Exponential=6]="Exponential",nn[nn.SuperscriptingExponent=7]="SuperscriptingExponent",nn[nn.PerMille=8]="PerMille",nn[nn.Infinity=9]="Infinity",nn[nn.NaN=10]="NaN",nn[nn.TimeSeparator=11]="TimeSeparator",nn[nn.CurrencyDecimal=12]="CurrencyDecimal",nn[nn.CurrencyGroup=13]="CurrencyGroup",nn))();function Sb(n,t){return Ka(Ts(n)[Nt.DateFormat],t)}function Cb(n,t){return Ka(Ts(n)[Nt.TimeFormat],t)}function Tb(n,t){return Ka(Ts(n)[Nt.DateTimeFormat],t)}function qa(n,t){const e=Ts(n),i=e[Nt.NumberSymbols][t];if(void 0===i){if(t===nn.CurrencyDecimal)return e[Nt.NumberSymbols][nn.Decimal];if(t===nn.CurrencyGroup)return e[Nt.NumberSymbols][nn.Group]}return i}function sO(n,t){return Ts(n)[Nt.NumberFormats][t]}function F3(n){if(!n[Nt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Nt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ka(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function aO(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const zJ=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,zm={},$J=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var vo=(()=>((vo=vo||{})[vo.Short=0]="Short",vo[vo.ShortGMT=1]="ShortGMT",vo[vo.Long=2]="Long",vo[vo.Extended=3]="Extended",vo))(),hn=(()=>((hn=hn||{})[hn.FullYear=0]="FullYear",hn[hn.Month=1]="Month",hn[hn.Date=2]="Date",hn[hn.Hours=3]="Hours",hn[hn.Minutes=4]="Minutes",hn[hn.Seconds=5]="Seconds",hn[hn.FractionalSeconds=6]="FractionalSeconds",hn[hn.Day=7]="Day",hn))(),kn=(()=>((kn=kn||{})[kn.DayPeriods=0]="DayPeriods",kn[kn.Days=1]="Days",kn[kn.Months=2]="Months",kn[kn.Eras=3]="Eras",kn))();function XJ(n,t,e,i){let r=function iQ(n){if(U3(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return Mb(r,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(zJ))return function rQ(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,l,c),t}(i)}const t=new Date(n);if(!U3(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=su(e,t)||t;let a,s=[];for(;t;){if(a=$J.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;t=u}}let l=r.getTimezoneOffset();i&&(l=L3(i,l),r=function nQ(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function tQ(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(L3(t,r)-r))}(r,i,!0));let c="";return s.forEach(u=>{const y=function eQ(n){if(cO[n])return cO[n];let t;switch(n){case"G":case"GG":case"GGG":t=$i(kn.Eras,Jn.Abbreviated);break;case"GGGG":t=$i(kn.Eras,Jn.Wide);break;case"GGGGG":t=$i(kn.Eras,Jn.Narrow);break;case"y":t=to(hn.FullYear,1,0,!1,!0);break;case"yy":t=to(hn.FullYear,2,0,!0,!0);break;case"yyy":t=to(hn.FullYear,3,0,!1,!0);break;case"yyyy":t=to(hn.FullYear,4,0,!1,!0);break;case"Y":t=xb(1);break;case"YY":t=xb(2,!0);break;case"YYY":t=xb(3);break;case"YYYY":t=xb(4);break;case"M":case"L":t=to(hn.Month,1,1);break;case"MM":case"LL":t=to(hn.Month,2,1);break;case"MMM":t=$i(kn.Months,Jn.Abbreviated);break;case"MMMM":t=$i(kn.Months,Jn.Wide);break;case"MMMMM":t=$i(kn.Months,Jn.Narrow);break;case"LLL":t=$i(kn.Months,Jn.Abbreviated,zr.Standalone);break;case"LLLL":t=$i(kn.Months,Jn.Wide,zr.Standalone);break;case"LLLLL":t=$i(kn.Months,Jn.Narrow,zr.Standalone);break;case"w":t=lO(1);break;case"ww":t=lO(2);break;case"W":t=lO(1,!0);break;case"d":t=to(hn.Date,1);break;case"dd":t=to(hn.Date,2);break;case"c":case"cc":t=to(hn.Day,1);break;case"ccc":t=$i(kn.Days,Jn.Abbreviated,zr.Standalone);break;case"cccc":t=$i(kn.Days,Jn.Wide,zr.Standalone);break;case"ccccc":t=$i(kn.Days,Jn.Narrow,zr.Standalone);break;case"cccccc":t=$i(kn.Days,Jn.Short,zr.Standalone);break;case"E":case"EE":case"EEE":t=$i(kn.Days,Jn.Abbreviated);break;case"EEEE":t=$i(kn.Days,Jn.Wide);break;case"EEEEE":t=$i(kn.Days,Jn.Narrow);break;case"EEEEEE":t=$i(kn.Days,Jn.Short);break;case"a":case"aa":case"aaa":t=$i(kn.DayPeriods,Jn.Abbreviated);break;case"aaaa":t=$i(kn.DayPeriods,Jn.Wide);break;case"aaaaa":t=$i(kn.DayPeriods,Jn.Narrow);break;case"b":case"bb":case"bbb":t=$i(kn.DayPeriods,Jn.Abbreviated,zr.Standalone,!0);break;case"bbbb":t=$i(kn.DayPeriods,Jn.Wide,zr.Standalone,!0);break;case"bbbbb":t=$i(kn.DayPeriods,Jn.Narrow,zr.Standalone,!0);break;case"B":case"BB":case"BBB":t=$i(kn.DayPeriods,Jn.Abbreviated,zr.Format,!0);break;case"BBBB":t=$i(kn.DayPeriods,Jn.Wide,zr.Format,!0);break;case"BBBBB":t=$i(kn.DayPeriods,Jn.Narrow,zr.Format,!0);break;case"h":t=to(hn.Hours,1,-12);break;case"hh":t=to(hn.Hours,2,-12);break;case"H":t=to(hn.Hours,1);break;case"HH":t=to(hn.Hours,2);break;case"m":t=to(hn.Minutes,1);break;case"mm":t=to(hn.Minutes,2);break;case"s":t=to(hn.Seconds,1);break;case"ss":t=to(hn.Seconds,2);break;case"S":t=to(hn.FractionalSeconds,1);break;case"SS":t=to(hn.FractionalSeconds,2);break;case"SSS":t=to(hn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=wb(vo.Short);break;case"ZZZZZ":t=wb(vo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=wb(vo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=wb(vo.Long);break;default:return null}return cO[n]=t,t}(u);c+=y?y(r,e,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Mb(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function su(n,t){const e=function NJ(n){return Ts(n)[Nt.LocaleId]}(n);if(zm[e]=zm[e]||{},zm[e][t])return zm[e][t];let i="";switch(t){case"shortDate":i=Sb(n,pr.Short);break;case"mediumDate":i=Sb(n,pr.Medium);break;case"longDate":i=Sb(n,pr.Long);break;case"fullDate":i=Sb(n,pr.Full);break;case"shortTime":i=Cb(n,pr.Short);break;case"mediumTime":i=Cb(n,pr.Medium);break;case"longTime":i=Cb(n,pr.Long);break;case"fullTime":i=Cb(n,pr.Full);break;case"short":const r=su(n,"shortTime"),o=su(n,"shortDate");i=Ob(Tb(n,pr.Short),[r,o]);break;case"medium":const s=su(n,"mediumTime"),a=su(n,"mediumDate");i=Ob(Tb(n,pr.Medium),[s,a]);break;case"long":const l=su(n,"longTime"),c=su(n,"longDate");i=Ob(Tb(n,pr.Long),[l,c]);break;case"full":const u=su(n,"fullTime"),y=su(n,"fullDate");i=Ob(Tb(n,pr.Full),[u,y])}return i&&(zm[e][t]=i),i}function Ob(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Ll(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.substr(s.length-t)),o+s}function to(n,t,e=0,i=!1,r=!1){return function(o,s){let a=function KJ(n,t){switch(n){case hn.FullYear:return t.getFullYear();case hn.Month:return t.getMonth();case hn.Date:return t.getDate();case hn.Hours:return t.getHours();case hn.Minutes:return t.getMinutes();case hn.Seconds:return t.getSeconds();case hn.FractionalSeconds:return t.getMilliseconds();case hn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||a>-e)&&(a+=e),n===hn.Hours)0===a&&-12===e&&(a=12);else if(n===hn.FractionalSeconds)return function qJ(n,t){return Ll(n,3).substr(0,t)}(a,t);const l=qa(s,nn.MinusSign);return Ll(a,t,l,i,r)}}function $i(n,t,e=zr.Format,i=!1){return function(r,o){return function JJ(n,t,e,i,r,o){switch(e){case kn.Months:return function BJ(n,t,e){const i=Ts(n),o=Ka([i[Nt.MonthsFormat],i[Nt.MonthsStandalone]],t);return Ka(o,e)}(t,r,i)[n.getMonth()];case kn.Days:return function FJ(n,t,e){const i=Ts(n),o=Ka([i[Nt.DaysFormat],i[Nt.DaysStandalone]],t);return Ka(o,e)}(t,r,i)[n.getDay()];case kn.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function jJ(n){const t=Ts(n);return F3(t),(t[Nt.ExtraData][2]||[]).map(i=>"string"==typeof i?aO(i):[aO(i[0]),aO(i[1])])}(t),u=function HJ(n,t,e){const i=Ts(n);F3(i);const o=Ka([i[Nt.ExtraData][0],i[Nt.ExtraData][1]],t)||[];return Ka(o,e)||[]}(t,r,i),y=c.findIndex(O=>{if(Array.isArray(O)){const[P,I]=O,D=s>=P.hours&&a>=P.minutes,B=s<I.hours||s===I.hours&&a<I.minutes;if(P.hours<I.hours){if(D&&B)return!0}else if(D||B)return!0}else if(O.hours===s&&O.minutes===a)return!0;return!1});if(-1!==y)return u[y]}return function kJ(n,t,e){const i=Ts(n),o=Ka([i[Nt.DayPeriodsFormat],i[Nt.DayPeriodsStandalone]],t);return Ka(o,e)}(t,r,i)[s<12?0:1];case kn.Eras:return function LJ(n,t){return Ka(Ts(n)[Nt.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function wb(n){return function(t,e,i){const r=-1*i,o=qa(e,nn.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case vo.Short:return(r>=0?"+":"")+Ll(s,2,o)+Ll(Math.abs(r%60),2,o);case vo.ShortGMT:return"GMT"+(r>=0?"+":"")+Ll(s,1,o);case vo.Long:return"GMT"+(r>=0?"+":"")+Ll(s,2,o)+":"+Ll(Math.abs(r%60),2,o);case vo.Extended:return 0===i?"Z":(r>=0?"+":"")+Ll(s,2,o)+":"+Ll(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function B3(n){return Mb(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function lO(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=B3(e),s=function ZJ(n){const t=Mb(n,0,1).getDay();return Mb(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Ll(r,n,qa(i,nn.MinusSign))}}function xb(n,t=!1){return function(e,i){return Ll(B3(e).getFullYear(),n,qa(i,nn.MinusSign),t)}}const cO={};function L3(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function U3(n){return n instanceof Date&&!isNaN(n.valueOf())}const oQ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function hO(n,t,e,i,r,o,s=!1){let a="",l=!1;if(isFinite(n)){let c=function dQ(n){let i,r,o,s,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(a=t.length))i=[0],r=1;else{for(a--;"0"===t.charAt(a);)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);s&&(c=function hQ(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(c));let u=t.minInt,y=t.minFrac,O=t.maxFrac;if(o){const q=o.match(oQ);if(null===q)throw new Error(`${o} is not a valid digit info`);const ie=q[1],se=q[3],re=q[5];null!=ie&&(u=fO(ie)),null!=se&&(y=fO(se)),null!=re?O=fO(re):null!=se&&y>O&&(O=y)}!function fQ(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let y=s;y<i.length;y++)i[y]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let y=1;y<s;y++)i[y]=0}if(a>=5)if(s-1<0){for(let y=0;y>s;y--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const c=t+n.integerLen,u=i.reduceRight(function(y,O,P,I){return I[P]=(O+=y)<10?O:O-10,l&&(0===I[P]&&P>=c?I.pop():l=!1),O>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}(c,y,O);let P=c.digits,I=c.integerLen;const D=c.exponent;let B=[];for(l=P.every(q=>!q);I<u;I++)P.unshift(0);for(;I<0;I++)P.unshift(0);I>0?B=P.splice(I,P.length):(B=P,P=[0]);const Y=[];for(P.length>=t.lgSize&&Y.unshift(P.splice(-t.lgSize,P.length).join(""));P.length>t.gSize;)Y.unshift(P.splice(-t.gSize,P.length).join(""));P.length&&Y.unshift(P.join("")),a=Y.join(qa(e,i)),B.length&&(a+=qa(e,r)+B.join("")),D&&(a+=qa(e,nn.Exponential)+"+"+D)}else a=qa(e,nn.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function Rb(n,t,e){return hO(n,dO(sO(t,Xs.Decimal),qa(t,nn.MinusSign)),t,nn.Group,nn.Decimal,e)}function dO(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";e.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const y=l.charAt(u);"0"===y?e.minFrac=e.maxFrac=u+1:"#"===y?e.maxFrac=u+1:e.posSuf+=y}const c=a.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const u=r.length-e.posPre.length-e.posSuf.length,y=o.indexOf("#");e.negPre=o.substr(0,y).replace(/'/g,""),e.negSuf=o.substr(y+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function fO(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function V3(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let Ul=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(wm(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${mi(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(X(Wm),X(Ym),X(Ci),X(Ms))},n.\u0275dir=wt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class _Q{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vi=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new _Q(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),W3(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{W3(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(X(Xa),X(fr),X(Wm))},n.\u0275dir=wt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function W3(n,t){n.context.$implicit=t.item}let Ht=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new mQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Y3("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Y3("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(X(Xa),X(fr))},n.\u0275dir=wt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class mQ{constructor(){this.$implicit=null,this.ngIf=null}}function Y3(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${mi(t)}'.`)}class gO{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Go=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=wt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ws=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new gO(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(X(Xa),X(fr),X(Go,9))},n.\u0275dir=wt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),au=(()=>{class n{constructor(e,i,r){r._addDefault(new gO(e,i))}}return n.\u0275fac=function(e){return new(e||n)(X(Xa),X(fr),X(Go,9))},n.\u0275dir=wt({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),Ed=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(X(Ci),X(Ym),X(Ms))},n.\u0275dir=wt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Sd=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(X(Xa))},n.\u0275dir=wt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Uo]}),n})();function Gl(n,t){return new Gt(2100,"")}class yQ{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class bQ{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const EQ=new bQ,SQ=new yQ;let Ps=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(xm(e))return EQ;if(ok(e))return SQ;throw Gl()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(X(Tn,16))},n.\u0275pipe=Vr({name:"async",type:n,pure:!1}),n})();const wQ=new un("DATE_PIPE_DEFAULT_TIMEZONE");let vc=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){var s;if(null==e||""===e||e!=e)return null;try{return XJ(e,i,o||this.locale,null!==(s=null!=r?r:this.defaultTimezone)&&void 0!==s?s:void 0)}catch(a){throw Gl()}}}return n.\u0275fac=function(e){return new(e||n)(X(sh,16),X(wQ,24))},n.\u0275pipe=Vr({name:"date",type:n,pure:!0}),n})(),gg=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!_O(e))return null;r=r||this._locale;try{return Rb(mO(e),r,i)}catch(o){throw Gl()}}}return n.\u0275fac=function(e){return new(e||n)(X(sh,16))},n.\u0275pipe=Vr({name:"number",type:n,pure:!0}),n})(),X3=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!_O(e))return null;r=r||this._locale;try{return function uQ(n,t,e){return hO(n,dO(sO(t,Xs.Percent),qa(t,nn.MinusSign)),t,nn.Group,nn.Decimal,e,!0).replace(new RegExp("%","g"),qa(t,nn.PercentSign))}(mO(e),r,i)}catch(o){throw Gl()}}}return n.\u0275fac=function(e){return new(e||n)(X(sh,16))},n.\u0275pipe=Vr({name:"percent",type:n,pure:!0}),n})();function _O(n){return!(null==n||""===n||n!=n)}function mO(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let q3=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw Gl();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Vr({name:"slice",type:n,pure:!1}),n})(),Tt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({}),n})();const K3="browser";function Xm(n){return n===K3}let LQ=(()=>{class n{}return n.\u0275prov=lt({token:n,providedIn:"root",factory:()=>new UQ(Fe(nr),window)}),n})();class UQ{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function GQ(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=J3(this.window.history)||J3(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function J3(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Q3{}class vO extends class jQ extends class OJ{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function MJ(n){Eb||(Eb=n)}(new vO)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function HQ(){return qm=qm||document.querySelector("base"),qm?qm.getAttribute("href"):null}();return null==e?null:function VQ(n){Ib=Ib||document.createElement("a"),Ib.setAttribute("href",n);const t=Ib.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){qm=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return V3(document.cookie,t)}}let Ib,qm=null;const Z3=new un("TRANSITION_ID"),YQ=[{provide:mb,useFactory:function WQ(n,t,e){return()=>{e.get(YM).donePromise.then(()=>{const i=mc(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Z3,nr,Zr],multi:!0}];class yO{static init(){!function ZK(n){JM=n}(new yO)}addToWindow(t){Di.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Di.getAllAngularTestabilities=()=>t.getAllTestabilities(),Di.getAllAngularRootElements=()=>t.getAllRootElements(),Di.frameworkStabilizers||(Di.frameworkStabilizers=[]),Di.frameworkStabilizers.push(i=>{const r=Di.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?mc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let zQ=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const Db=new un("EventManagerPlugins");let Nb=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(Fe(Db),Fe(Wn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class eB{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=mc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let tB=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),Km=(()=>{class n extends tB{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(nB),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(nB))}}return n.\u0275fac=function(e){return new(e||n)(Fe(nr))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function nB(n){mc().remove(n)}const bO={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},EO=/%COMP%/g;function kb(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?kb(n,r,e):(r=r.replace(EO,n),e.push(r))}return e}function oB(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Fb=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new SO(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case wl.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new QQ(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case wl.ShadowDom:return new ZQ(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=kb(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(Fe(Nb),Fe(Km),Fe(Vm))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class SO{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(bO[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=bO[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=bO[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(va.DashCase|va.Important)?t.style.setProperty(e,i,r&va.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&va.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,oB(i)):this.eventManager.addEventListener(t,e,oB(i))}}class QQ extends SO{constructor(t,e,i,r){super(t),this.component=i;const o=kb(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function qQ(n){return"_ngcontent-%COMP%".replace(EO,n)}(r+"-"+i.id),this.hostAttr=function KQ(n){return"_nghost-%COMP%".replace(EO,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class ZQ extends SO{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=kb(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let eZ=(()=>{class n extends eB{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(Fe(nr))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const aB=["alt","control","meta","shift"],nZ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lB={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},iZ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let rZ=(()=>{class n extends eB{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mc().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="";if(aB.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(e){let i="",r=function oZ(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&lB.hasOwnProperty(t)&&(t=lB[t]))}return nZ[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),aB.forEach(o=>{o!=r&&iZ[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(Fe(nr))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const cZ=p3(SJ,"browser",[{provide:vd,useValue:K3},{provide:o3,useValue:function sZ(){vO.makeCurrent(),yO.init()},multi:!0},{provide:nr,useFactory:function lZ(){return function $9(n){YC=n}(document),document},deps:[]}]),uZ=[{provide:oM,useValue:"root"},{provide:Gp,useFactory:function aZ(){return new Gp},deps:[]},{provide:Db,useClass:eZ,multi:!0,deps:[nr,Wn,vd]},{provide:Db,useClass:rZ,multi:!0,deps:[nr]},{provide:Fb,useClass:Fb,deps:[Nb,Km,Vm]},{provide:hg,useExisting:Fb},{provide:tB,useExisting:Km},{provide:Km,useClass:Km,deps:[nr]},{provide:KM,useClass:KM,deps:[Wn]},{provide:Nb,useClass:Nb,deps:[Db,Wn]},{provide:Q3,useClass:zQ,deps:[]}];let cB=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Vm,useValue:e.appId},{provide:Z3,useExisting:Vm},YQ]}}}return n.\u0275fac=function(e){return new(e||n)(Fe(n,12))},n.\u0275mod=st({type:n}),n.\u0275inj=rt({providers:uZ,imports:[Tt,CJ]}),n})();"undefined"!=typeof window&&window;let TO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:function(e){let i=null;return i=e?new(e||n):Fe(dB),i},providedIn:"root"}),n})(),dB=(()=>{class n extends TO{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case zi.NONE:return i;case zi.HTML:return uc(i,"HTML")?ma(i):h2(this._doc,String(i)).toString();case zi.STYLE:return uc(i,"Style")?ma(i):i;case zi.SCRIPT:if(uc(i,"Script"))return ma(i);throw new Error("unsafe value used in a script context");case zi.URL:return n2(i),uc(i,"URL")?ma(i):vm(String(i));case zi.RESOURCE_URL:if(uc(i,"ResourceURL"))return ma(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function oY(n){return new eY(n)}(e)}bypassSecurityTrustStyle(e){return function sY(n){return new tY(n)}(e)}bypassSecurityTrustScript(e){return function aY(n){return new nY(n)}(e)}bypassSecurityTrustUrl(e){return function lY(n){return new iY(n)}(e)}bypassSecurityTrustResourceUrl(e){return function cY(n){return new rY(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(Fe(nr))},n.\u0275prov=lt({token:n,factory:function(e){let i=null;return i=e?new e:function bZ(n){return new dB(n.get(nr))}(Fe(Zr)),i},providedIn:"root"}),n})();var Bb=w(383),Br=w(9248),Jt=w(1446),fB=[];function pB(n){return n.reduce((t,e)=>(t.every(i=>e.name!==i.name)&&t.push(e),t),[])}function EZ(n){var t=n.defaultIntegrations&&[...n.defaultIntegrations]||[],e=n.integrations;let i=[...pB(t)];Array.isArray(e)?i=[...i.filter(s=>e.every(a=>a.name!==s.name)),...pB(e)]:"function"==typeof e&&(i=e(i),i=Array.isArray(i)?i:[i]);var r=i.map(s=>s.name),o="Debug";return-1!==r.indexOf(o)&&i.push(...i.splice(r.indexOf(o),1)),i}var jo=w(7759);class ns extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}var TZ=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Lb(n,t=!1){const{host:e,path:i,pass:r,port:o,projectId:s,protocol:a,publicKey:l}=n;return`${a}://${l}${t&&r?`:${r}`:""}@${e}${o?`:${o}`:""}/${i&&`${i}/`}${s}`}function gB(n){return{protocol:n.protocol,publicKey:n.publicKey||"",pass:n.pass||"",host:n.host,port:n.port||"",path:n.path||"",projectId:n.projectId}}function _B(n){var t="string"==typeof n?function OZ(n){var t=TZ.exec(n);if(!t)throw new ns(`Invalid Sentry Dsn: ${n}`);const[e,i,r="",o,s="",a]=t.slice(1);let l="",c=a;var u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){var y=c.match(/^\d+/);y&&(c=y[0])}return gB({host:o,pass:r,path:l,projectId:c,port:s,protocol:e,publicKey:i})}(n):gB(n);return function wZ(n){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:t,projectId:e,protocol:i}=n;if(["protocol","publicKey","host","projectId"].forEach(o=>{if(!n[o])throw new ns(`Invalid Sentry Dsn: ${o} missing`)}),!e.match(/^\d+$/))throw new ns(`Invalid Sentry Dsn: Invalid projectId ${e}`);if(!function MZ(n){return"http"===n||"https"===n}(i))throw new ns(`Invalid Sentry Dsn: Invalid protocol ${i}`);if(t&&isNaN(parseInt(t,10)))throw new ns(`Invalid Sentry Dsn: Invalid port ${t}`)}(t),t}function mB(n){return`${n.protocol?`${n.protocol}:`:""}//${n.host}${n.port?`:${n.port}`:""}${n.path?`/${n.path}`:""}/api/`}function vB(n,t={}){var i="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return("string"==typeof t?t:t.tunnel)||`${function xZ(n){return`${mB(n)}${n.projectId}/envelope/`}(n)}?${function AZ(n,t){return(0,jo._j)(Je({sentry_key:n.publicKey,sentry_version:"7"},t&&{sentry_client:`${t.name}/${t.version}`}))}(n,i)}`}var yo=w(5535),yc=w(1090),IZ=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class _g{static __initStatic(){this.id="InboundFilters"}__init(){this.name=_g.id}constructor(t={}){this._options=t,_g.prototype.__init.call(this)}setupOnce(t,e){var i=r=>{var o=e();if(o){var s=o.getIntegration(_g);if(s){var a=o.getClient(),l=a?a.getOptions():{},c=function DZ(n={},t={}){return{allowUrls:[...n.allowUrls||[],...t.allowUrls||[]],denyUrls:[...n.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...n.ignoreErrors||[],...t.ignoreErrors||[],...IZ],ignoreInternal:void 0===n.ignoreInternal||n.ignoreInternal}}(s._options,l);return function NZ(n,t){return t.ignoreInternal&&function UZ(n){try{return"SentryError"===n.exception.values[0].type}catch(t){}return!1}(n)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,yo.jH)(n)}`),!0):function kZ(n,t){return!(!t||!t.length)&&function LZ(n){if(n.message)return[n.message];if(n.exception)try{const{type:t="",value:e=""}=n.exception.values&&n.exception.values[0]||{};return[`${e}`,`${t}: ${e}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.error(`Cannot extract message for event ${(0,yo.jH)(n)}`),[]}return[]}(n).some(e=>t.some(i=>(0,yc.zC)(e,i)))}(n,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,yo.jH)(n)}`),!0):function FZ(n,t){if(!t||!t.length)return!1;var e=Ub(n);return!!e&&t.some(i=>(0,yc.zC)(e,i))}(n,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,yo.jH)(n)}.\nUrl: ${Ub(n)}`),!0):!function BZ(n,t){if(!t||!t.length)return!0;var e=Ub(n);return!e||t.some(i=>(0,yc.zC)(e,i))}(n,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,yo.jH)(n)}.\nUrl: ${Ub(n)}`),!0)}(r,c)?null:r}}return r};i.id=this.name,t(i)}}function Ub(n){try{let t;try{t=n.exception.values[0].stacktrace.frames}catch(e){}return t?function GZ(n=[]){for(let e=n.length-1;e>=0;e--){var t=n[e];if(t&&"<anonymous>"!==t.filename&&"[native code]"!==t.filename)return t.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.error(`Cannot extract url for event ${(0,yo.jH)(n)}`),null}}let yB;_g.__initStatic();class Jm{constructor(){Jm.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Jm.id}setupOnce(){yB=Function.prototype.toString,Function.prototype.toString=function(...t){var e=(0,jo.HK)(this)||this;return yB.apply(e,t)}}}Jm.__initStatic();var is=w(7576),lu=w(9725),MO=w(8204),jl=w(3343),bB=w(1539),$r=w(6412),Sa=w(509);function Gb(n,t=[]){return[n,t]}function jZ(n,t){const[e,i]=n;return[e,[...i,t]]}function EB(n,t){n[1].forEach(i=>{t(i,i[0].type)})}function OO(n,t){return(t||new TextEncoder).encode(n)}function SB(n,t){const[e,i]=n;let r=JSON.stringify(e);function o(a){"string"==typeof r?r="string"==typeof a?r+a:[OO(r,t),a]:r.push("string"==typeof a?OO(a,t):a)}for(var s of i){const[a,l]=s;o(`\n${JSON.stringify(a)}\n`),o("string"==typeof l||l instanceof Uint8Array?l:JSON.stringify(l))}return"string"==typeof r?r:function HZ(n){var t=n.reduce((o,s)=>o+s.length,0),e=new Uint8Array(t);let i=0;for(var r of n)e.set(r,i),i+=r.length;return e}(r)}function VZ(n,t){var e="string"==typeof n.data?OO(n.data,t):n.data;return[(0,jo.Jr)({type:"attachment",length:e.length,filename:n.filename,content_type:n.contentType,attachment_type:n.attachmentType}),e]}var WZ={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function CB(n){return WZ[n]}var Cd=w(3967);function Td(n,t=1/0,e=1/0){try{return wO("",n,t,e)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function TB(n,t=3,e=102400){var i=Td(n,t);return function XZ(n){return function $Z(n){return~-encodeURI(n).split(/%..|./).length}(JSON.stringify(n))}(i)>e?TB(n,t-1,e):i}function wO(n,t,e=1/0,i=1/0,r=function YZ(){var n="function"==typeof WeakSet,t=n?new WeakSet:[];return[function e(r){if(n)return!!t.has(r)||(t.add(r),!1);for(let s=0;s<t.length;s++)if(t[s]===r)return!0;return t.push(r),!1},function i(r){if(n)t.delete(r);else for(let o=0;o<t.length;o++)if(t[o]===r){t.splice(o,1);break}}]}()){const[o,s]=r;if(null===t||["number","boolean","string"].includes(typeof t)&&!(0,$r.i2)(t))return t;var a=function zZ(n,t){try{return"domain"===n&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":(0,$r.Cy)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?`[Function: ${(0,lu.$P)(t)}]`:"symbol"==typeof t?`[${String(t)}]`:"bigint"==typeof t?`[BigInt: ${String(t)}]`:`[object ${Object.getPrototypeOf(t).constructor.name}]`}catch(e){return`**non-serializable** (${e})`}}(n,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;if(0===e)return a.replace("object ","");if(o(t))return"[Circular ~]";var l=t;if(l&&"function"==typeof l.toJSON)try{return wO("",l.toJSON(),e-1,i,r)}catch(D){}var u=Array.isArray(t)?[]:{};let y=0;var O=(0,jo.Sh)(t);for(var P in O)if(Object.prototype.hasOwnProperty.call(O,P)){if(y>=i){u[P]="[MaxProperties ~]";break}u[P]=wO(P,O[P],e-1,i,r),y+=1}return s(t),u}var Ca=w(9981);function MB(n){if(!n||!n.sdk)return;const{name:t,version:e}=n.sdk;return{name:t,version:e}}var OB="Not capturing exception because it's already been captured.";class mg{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(t){if(mg.prototype.__init.call(this),mg.prototype.__init2.call(this),mg.prototype.__init3.call(this),mg.prototype.__init4.call(this),this._options=t,t.dsn){this._dsn=_B(t.dsn);var e=vB(this._dsn,t);this._transport=t.transport(_i(Je({recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{url:e}))}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn("No DSN provided, client will not do anything.")}captureException(t,e,i){if((0,yo.YO)(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log(OB));let r=e&&e.event_id;return this._process(this.eventFromException(t,e).then(o=>this._captureEvent(o,e,i)).then(o=>{r=o})),r}captureMessage(t,e,i,r){let o=i&&i.event_id;var s=(0,$r.pt)(t)?this.eventFromMessage(String(t),e,i):this.eventFromException(t,i);return this._process(s.then(a=>this._captureEvent(a,i,r)).then(a=>{o=a})),o}captureEvent(t,e,i){if(e&&e.originalException&&(0,yo.YO)(e.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log(OB));let r=e&&e.event_id;return this._process(this._captureEvent(t,e,i).then(o=>{r=o})),r}captureSession(t){this._isEnabled()?"string"!=typeof t.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),(0,bB.CT)(t,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(t){var e=this._transport;return e?this._isClientDoneProcessing(t).then(i=>e.flush(t).then(r=>i&&r)):(0,Sa.WD)(!0)}close(t){return this.flush(t).then(e=>(this.getOptions().enabled=!1,e))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function SZ(n){var t={};return n.forEach(e=>{t[e.name]=e,-1===fB.indexOf(e.name)&&(e.setupOnce(Bb.c,Br.Gd),fB.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log(`Integration installed: ${e.name}`))}),t}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}sendEvent(t,e={}){if(this._dsn){let r=function JZ(n,t,e,i){var r=MB(e),o=n.type||"event";const{transactionSampling:s}=n.sdkProcessingMetadata||{},{method:a,rate:l}=s||{};!function qZ(n,t){t&&(n.sdk=n.sdk||{},n.sdk.name=n.sdk.name||t.name,n.sdk.version=n.sdk.version||t.version,n.sdk.integrations=[...n.sdk.integrations||[],...t.integrations||[]],n.sdk.packages=[...n.sdk.packages||[],...t.packages||[]])}(n,e&&e.sdk);var c=function QZ(n,t,e,i){var r=n.sdkProcessingMetadata&&n.sdkProcessingMetadata.baggage,o=r&&(0,Ca.Hk)(r);return Je(Je(Je({event_id:n.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!e&&{dsn:Lb(i)}),"transaction"===n.type&&o&&{trace:(0,jo.Jr)(Je({},o))})}(n,r,i,t);return delete n.sdkProcessingMetadata,Gb(c,[[{type:o,sample_rates:[{id:a,rate:l}]},n]])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(var i of e.attachments||[])r=jZ(r,VZ(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(r)}}sendSession(t){if(this._dsn){var e=function KZ(n,t,e,i){var r=MB(e);return Gb(Je(Je({sent_at:(new Date).toISOString()},r&&{sdk:r}),!!i&&{dsn:Lb(t)}),["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}}recordDroppedEvent(t,e){if(this._options.sendClientReports){var i=`${t}:${e}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}_updateSessionFromEvent(t,e){let i=!1,r=!1;var o=e.exception&&e.exception.values;if(o)for(var s of(r=!0,o)){var a=s.mechanism;if(a&&!1===a.handled){i=!0;break}}var l="ok"===t.status;(l&&0===t.errors||l&&i)&&((0,bB.CT)(t,_i(Je({},i&&{status:"crashed"}),{errors:t.errors||Number(r||i)})),this.captureSession(t))}_isClientDoneProcessing(t){return new Sa.cW(e=>{let i=0;var o=setInterval(()=>{0==this._numProcessing?(clearInterval(o),e(!0)):(i+=1,t&&i>=t&&(clearInterval(o),e(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(t,e,i){const{normalizeDepth:r=3,normalizeMaxBreadth:o=1e3}=this.getOptions();var s=_i(Je({},t),{event_id:t.event_id||e.event_id||(0,yo.DM)(),timestamp:t.timestamp||(0,Cd.yW)()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);let a=i;e.captureContext&&(a=Bb.s.clone(a).update(e.captureContext));let l=(0,Sa.WD)(s);if(a){var c=[...e.attachments||[],...a.getAttachments()];c.length&&(e.attachments=c),l=a.applyToEvent(s,e)}return l.then(u=>"number"==typeof r&&r>0?this._normalizeEvent(u,r,o):u)}_normalizeEvent(t,e,i){if(!t)return null;var r=Je(Je(Je(Je(Je({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(o=>Je(Je({},o),o.data&&{data:Td(o.data,e,i)}))}),t.user&&{user:Td(t.user,e,i)}),t.contexts&&{contexts:Td(t.contexts,e,i)}),t.extra&&{extra:Td(t.extra,e,i)});return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=Td(t.contexts.trace.data,e,i))),t.spans&&(r.spans=t.spans.map(o=>(o.data&&(o.data=Td(o.data,e,i)),o))),r}_applyClientOptions(t){var e=this.getOptions();const{environment:i,release:r,dist:o,maxValueLength:s=250}=e;"environment"in t||(t.environment="environment"in e?i:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==o&&(t.dist=o),t.message&&(t.message=(0,yc.$G)(t.message,s));var a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=(0,yc.$G)(a.value,s));var l=t.request;l&&l.url&&(l.url=(0,yc.$G)(l.url,s))}_applyIntegrationsMetadata(t){var e=Object.keys(this._integrations);e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}_captureEvent(t,e={},i){return this._processEvent(t,e,i).then(r=>r.event_id,r=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){var o=r;"log"===o.logLevel?Jt.kg.log(o.message):Jt.kg.warn(o)}})}_processEvent(t,e,i){const{beforeSend:r,sampleRate:o}=this.getOptions();if(!this._isEnabled())return(0,Sa.$2)(new ns("SDK not enabled, will not capture event.","log"));var s="transaction"===t.type;return!s&&"number"==typeof o&&Math.random()>o?(this.recordDroppedEvent("sample_rate","error"),(0,Sa.$2)(new ns(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"))):this._prepareEvent(t,e,i).then(a=>{if(null===a)throw this.recordDroppedEvent("event_processor",t.type||"error"),new ns("An event processor returned null, will not send event.","log");return e.data&&!0===e.data.__sentry__||s||!r?a:function ZZ(n){var t="`beforeSend` method has to return `null` or a valid event.";if((0,$r.J8)(n))return n.then(e=>{if(!(0,$r.PO)(e)&&null!==e)throw new ns(t);return e},e=>{throw new ns(`beforeSend rejected with ${e}`)});if(!(0,$r.PO)(n)&&null!==n)throw new ns(t);return n}(r(a,e))}).then(a=>{if(null===a)throw this.recordDroppedEvent("before_send",t.type||"error"),new ns("`beforeSend` returned `null`, will not send event.","log");var l=i&&i.getSession();return!s&&l&&this._updateSessionFromEvent(l,a),this.sendEvent(a,e),a}).then(null,a=>{throw a instanceof ns?a:(this.captureException(a,{data:{__sentry__:!0},originalException:a}),new ns(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${a}`))})}_process(t){this._numProcessing+=1,t.then(e=>(this._numProcessing-=1,e),e=>(this._numProcessing-=1,e))}_sendEnvelope(t){this._transport&&this._dsn?this._transport.send(t).then(null,e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.error("Error while sending event:",e)}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.error("Transport disabled")}_clearOutcomes(){var t=this._outcomes;return this._outcomes={},Object.keys(t).map(e=>{const[i,r]=e.split(":");return{reason:i,category:r,quantity:t[e]}})}}var jb="7.12.1";function wB(n,t){var e=xO(n,t),i={type:t&&t.name,value:ree(t)};return e.length&&(i.stacktrace={frames:e}),void 0===i.type&&""===i.value&&(i.value="Unrecoverable error caught"),i}function PO(n,t){return{exception:{values:[wB(n,t)]}}}function xO(n,t){var e=t.stacktrace||t.stack||"",i=function iee(n){if(n){if("number"==typeof n.framesToPop)return n.framesToPop;if(nee.test(n.message))return 1}return 0}(t);try{return n(e,i)}catch(r){}return[]}var nee=/Minified React error #\d+;/i;function ree(n){var t=n&&n.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function AO(n,t,e,i,r){let o;if((0,$r.VW)(t)&&t.error)return PO(n,t.error);if((0,$r.TX)(t)||(0,$r.fm)(t)){var a=t;if("stack"in t)o=PO(n,t);else{var l=a.name||((0,$r.TX)(a)?"DOMError":"DOMException"),c=a.message?`${l}: ${a.message}`:l;o=RO(n,c,e,i),(0,yo.Db)(o,c)}return"code"in a&&(o.tags=_i(Je({},o.tags),{"DOMException.code":`${a.code}`})),o}return(0,$r.VZ)(t)?PO(n,t):(0,$r.PO)(t)||(0,$r.cO)(t)?(o=function tee(n,t,e,i){var r={exception:{values:[{type:(0,$r.cO)(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:`Non-Error ${i?"promise rejection":"exception"} captured with keys: ${(0,jo.zf)(t)}`}]},extra:{__serialized__:TB(t)}};if(e){var o=xO(n,e);o.length&&(r.exception.values[0].stacktrace={frames:o})}return r}(n,t,e,r),(0,yo.EG)(o,{synthetic:!0}),o):(o=RO(n,t,e,i),(0,yo.Db)(o,`${t}`,void 0),(0,yo.EG)(o,{synthetic:!0}),o)}function RO(n,t,e,i){var r={message:t};if(i&&e){var o=xO(n,e);o.length&&(r.exception={values:[{value:t,stacktrace:{frames:o}}]})}return r}var vg=w(6477),aee=["fatal","error","warning","log","info","debug"];function PB(n){return"warn"===n?"warning":aee.includes(n)?n:"log"}function IO(n){if(!n)return{};var t=n.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return t?{host:t[4],path:t[5],protocol:t[2],relative:t[5]+(t[6]||"")+(t[8]||"")}:{}}var xB="Breadcrumbs";class Qm{static __initStatic(){this.id=xB}__init(){this.name=Qm.id}constructor(t){Qm.prototype.__init.call(this),this.options=Je({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}setupOnce(){this.options.console&&(0,jl.o)("console",cee),this.options.dom&&(0,jl.o)("dom",function lee(n){return function t(e){let i,r="object"==typeof n?n.serializeAttribute:void 0;"string"==typeof r&&(r=[r]);try{i=(0,vg.Rt)(e.event.target?e.event.target:e.event,r)}catch(o){i="<unknown>"}0!==i.length&&(0,Br.Gd)().addBreadcrumb({category:`ui.${e.name}`,message:i},{event:e.event,name:e.name,global:e.global})}}(this.options.dom)),this.options.xhr&&(0,jl.o)("xhr",uee),this.options.fetch&&(0,jl.o)("fetch",hee),this.options.history&&(0,jl.o)("history",dee)}}function cee(n){var t={category:"console",data:{arguments:n.args,logger:"console"},level:PB(n.level),message:(0,yc.nK)(n.args," ")};if("assert"===n.level){if(!1!==n.args[0])return;t.message=`Assertion failed: ${(0,yc.nK)(n.args.slice(1)," ")||"console.assert"}`,t.data.arguments=n.args.slice(1)}(0,Br.Gd)().addBreadcrumb(t,{input:n.args,level:n.level})}function uee(n){if(n.endTimestamp){if(n.xhr.__sentry_own_request__)return;const{method:t,url:e,status_code:i,body:r}=n.xhr.__sentry_xhr__||{};(0,Br.Gd)().addBreadcrumb({category:"xhr",data:{method:t,url:e,status_code:i},type:"http"},{xhr:n.xhr,input:r})}}function hee(n){!n.endTimestamp||n.fetchData.url.match(/sentry_key/)&&"POST"===n.fetchData.method||(n.error?(0,Br.Gd)().addBreadcrumb({category:"fetch",data:n.fetchData,level:"error",type:"http"},{data:n.error,input:n.args}):(0,Br.Gd)().addBreadcrumb({category:"fetch",data:_i(Je({},n.fetchData),{status_code:n.response.status}),type:"http"},{input:n.args,response:n.response}))}function dee(n){var t=(0,is.R)();let e=n.from,i=n.to;var r=IO(t.location.href);let o=IO(e);var s=IO(i);o.path||(o=r),r.protocol===s.protocol&&r.host===s.host&&(i=s.relative),r.protocol===o.protocol&&r.host===o.host&&(e=o.relative),(0,Br.Gd)().addBreadcrumb({category:"navigation",data:{from:e,to:i}})}Qm.__initStatic();var Hl=(0,is.R)();let Hb;function AB(){if(Hb)return Hb;if((0,MO.Du)(Hl.fetch))return Hb=Hl.fetch.bind(Hl);var n=Hl.document;let t=Hl.fetch;if(n&&"function"==typeof n.createElement)try{var e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);var i=e.contentWindow;i&&i.fetch&&(t=i.fetch),n.head.removeChild(e)}catch(r){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return Hb=t.bind(Hl)}var DO=(0,is.R)();class pee extends mg{constructor(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:jb}],version:jb},super(t),t.sendClientReports&&DO.document&&DO.document.addEventListener("visibilitychange",()=>{"hidden"===DO.document.visibilityState&&this._flushOutcomes()})}eventFromException(t,e){return function oee(n,t,e,i){var o=AO(n,t,e&&e.syntheticException||void 0,i);return(0,yo.EG)(o),o.level="error",e&&e.event_id&&(o.event_id=e.event_id),(0,Sa.WD)(o)}(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",i){return function see(n,t,e="info",i,r){var s=RO(n,t,i&&i.syntheticException||void 0,r);return s.level=e,i&&i.event_id&&(s.event_id=i.event_id),(0,Sa.WD)(s)}(this._options.stackParser,t,e,i,this._options.attachStacktrace)}sendEvent(t,e){var i=this.getIntegrationById(xB);i&&i.options&&i.options.sentry&&(0,Br.Gd)().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,yo.jH)(t)},{event:t}),super.sendEvent(t,e)}_prepareEvent(t,e,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,i)}_flushOutcomes(){var t=this._clearOutcomes();if(0!==t.length)if(this._dsn){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log("Sending outcomes:",t);var e=vB(this._dsn,this._options),i=function eee(n,t,e){return Gb(t?{dsn:t}:{},[[{type:"client_report"},{timestamp:e||(0,Cd.yW)(),discarded_events:n}]])}(t,this._options.tunnel&&Lb(this._dsn));try{!function fee(n,t){"[object Navigator]"===Object.prototype.toString.call(Hl&&Hl.navigator)&&"function"==typeof Hl.navigator.sendBeacon?Hl.navigator.sendBeacon.bind(Hl.navigator)(n,t):(0,MO.Ak)()&&AB()(n,{body:t,method:"POST",credentials:"omit",keepalive:!0}).then(null,s=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.error(s)})}(e,SB(i))}catch(r){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.error(r)}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log("No dsn provided, will not send outcomes");else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log("No outcomes to send")}}function Zm(n,t,e,i){var r={filename:n,function:t,in_app:!0};return void 0!==e&&(r.lineno=e),void 0!==i&&(r.colno=i),r}var bee=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Eee=/\((\S*)(?::(\d+))(?::(\d+))\)/,Cee=[30,n=>{var t=bee.exec(n);if(t){if(t[2]&&0===t[2].indexOf("eval")){var i=Eee.exec(t[2]);i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3])}const[r,o]=RB(t[1]||"?",t[2]);return Zm(o,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],Tee=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Mee=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,wee=[50,n=>{var t=Tee.exec(n);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var i=Mee.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],o=t[1]||"?";return[o,r]=RB(o,r),Zm(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],Pee=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Aee=[40,n=>{var t=Pee.exec(n);return t?Zm(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}],Fee=(0,lu.pE)(Cee,wee,Aee),RB=(n,t)=>{var e=-1!==n.indexOf("safari-extension"),i=-1!==n.indexOf("safari-web-extension");return e||i?[-1!==n.indexOf("@")?n.split("@")[0]:"?",e?`safari-extension:${t}`:`safari-web-extension:${t}`]:[n,t]};function IB(n,t){return(0,Br.Gd)().captureException(n,{captureContext:t})}function lh(n,t){(0,Br.Gd)().setTag(n,t)}function Uee(n){(0,Br.Gd)().withScope(n)}let NO=0;function DB(){return NO>0}function Gee(){NO+=1,setTimeout(()=>{NO-=1})}function bg(n,t={},e){if("function"!=typeof n)return n;try{var i=n.__sentry_wrapped__;if(i)return i;if((0,jo.HK)(n))return n}catch(a){return n}var r=function(){var a=Array.prototype.slice.call(arguments);try{e&&"function"==typeof e&&e.apply(this,arguments);var l=a.map(c=>bg(c,t));return n.apply(this,l)}catch(c){throw Gee(),Uee(u=>{u.addEventProcessor(y=>(t.mechanism&&((0,yo.Db)(y,void 0,void 0),(0,yo.EG)(y,t.mechanism)),y.extra=_i(Je({},y.extra),{arguments:a}),y)),IB(c)}),c}};try{for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}catch(a){}(0,jo.$Q)(r,n),(0,jo.xp)(n,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>n.name})}catch(a){}return r}var jee=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class ev{static __initStatic(){this.id="TryCatch"}__init(){this.name=ev.id}constructor(t){ev.prototype.__init.call(this),this._options=Je({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}setupOnce(){var t=(0,is.R)();this._options.setTimeout&&(0,jo.hl)(t,"setTimeout",NB),this._options.setInterval&&(0,jo.hl)(t,"setInterval",NB),this._options.requestAnimationFrame&&(0,jo.hl)(t,"requestAnimationFrame",Hee),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&(0,jo.hl)(XMLHttpRequest.prototype,"send",Vee);var e=this._options.eventTarget;e&&(Array.isArray(e)?e:jee).forEach(Wee)}}function NB(n){return function(...t){return t[0]=bg(t[0],{mechanism:{data:{function:(0,lu.$P)(n)},handled:!0,type:"instrument"}}),n.apply(this,t)}}function Hee(n){return function(t){return n.apply(this,[bg(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,lu.$P)(n)},handled:!0,type:"instrument"}})])}}function Vee(n){return function(...t){var e=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in e&&"function"==typeof e[r]&&(0,jo.hl)(e,r,function(o){var s={mechanism:{data:{function:r,handler:(0,lu.$P)(o)},handled:!0,type:"instrument"}},a=(0,jo.HK)(o);return a&&(s.mechanism.data.handler=(0,lu.$P)(a)),bg(o,s)})}),n.apply(this,t)}}function Wee(n){var t=(0,is.R)(),e=t[n]&&t[n].prototype;!e||!e.hasOwnProperty||!e.hasOwnProperty("addEventListener")||((0,jo.hl)(e,"addEventListener",function(i){return function(r,o,s){try{"function"==typeof o.handleEvent&&(o.handleEvent=bg(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,lu.$P)(o),target:n},handled:!0,type:"instrument"}}))}catch(a){}return i.apply(this,[r,bg(o,{mechanism:{data:{function:"addEventListener",handler:(0,lu.$P)(o),target:n},handled:!0,type:"instrument"}}),s])}}),(0,jo.hl)(e,"removeEventListener",function(i){return function(r,o,s){var a=o;try{var l=a&&a.__sentry_wrapped__;l&&i.call(this,r,l,s)}catch(c){}return i.call(this,r,a,s)}}))}ev.__initStatic();class ch{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=ch.id}__init2(){this._installFunc={onerror:Yee,onunhandledrejection:zee}}constructor(t){ch.prototype.__init.call(this),ch.prototype.__init2.call(this),this._options=Je({onerror:!0,onunhandledrejection:!0},t)}setupOnce(){Error.stackTraceLimit=50;var t=this._options;for(var e in t){var i=this._installFunc[e];i&&t[e]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log(`Global Handler attached: ${e}`),i(),this._installFunc[e]=void 0)}}}function Yee(){(0,jl.o)("error",n=>{const[t,e,i]=BB();if(!t.getIntegration(ch))return;const{msg:r,url:o,line:s,column:a,error:l}=n;if(!(DB()||l&&l.__sentry_own_request__)){var c=void 0===l&&(0,$r.HD)(r)?function Xee(n,t,e,i){let o=(0,$r.VW)(n)?n.message:n,s="Error";var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return a&&(s=a[1],o=a[2]),kB({exception:{values:[{type:s,value:o}]}},t,e,i)}(r,o,s,a):kB(AO(e,l||r,void 0,i,!1),o,s,a);c.level="error",FB(t,l,c,"onerror")}})}function zee(){(0,jl.o)("unhandledrejection",n=>{const[t,e,i]=BB();if(!t.getIntegration(ch))return;let r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(s){}if(DB()||r&&r.__sentry_own_request__)return!0;var o=(0,$r.pt)(r)?function $ee(n){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(n)}`}]}}}(r):AO(e,r,void 0,i,!0);o.level="error",FB(t,r,o,"onunhandledrejection")})}function kB(n,t,e,i){var r=n.exception=n.exception||{},o=r.values=r.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(i,10))?void 0:i,u=isNaN(parseInt(e,10))?void 0:e,y=(0,$r.HD)(t)&&t.length>0?t:(0,vg.l4)();return 0===l.length&&l.push({colno:c,filename:y,function:"?",in_app:!0,lineno:u}),n}function FB(n,t,e,i){(0,yo.EG)(e,{handled:!1,type:i}),n.captureEvent(e,{originalException:t})}function BB(){var n=(0,Br.Gd)(),t=n.getClient(),e=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[n,e.stackParser,e.attachStacktrace]}ch.__initStatic();class Eg{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Eg.id}constructor(t={}){Eg.prototype.__init.call(this),this._key=t.key||"cause",this._limit=t.limit||5}setupOnce(){var t=(0,Br.Gd)().getClient();!t||(0,Bb.c)((e,i)=>{var r=(0,Br.Gd)().getIntegration(Eg);return r?function Qee(n,t,e,i,r){if(!(i.exception&&i.exception.values&&r&&(0,$r.V9)(r.originalException,Error)))return i;var o=LB(n,e,r.originalException,t);return i.exception.values=[...o,...i.exception.values],i}(t.getOptions().stackParser,r._key,r._limit,e,i):e})}}function LB(n,t,e,i,r=[]){if(!(0,$r.V9)(e[i],Error)||r.length+1>=t)return r;var o=wB(n,e[i]);return LB(n,t,e[i],i,[o,...r])}Eg.__initStatic();class Sg{constructor(){Sg.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Sg.id}setupOnce(t,e){var i=r=>{var o=e().getIntegration(Sg);if(o){try{if(function Zee(n,t){return!(!t||!function ete(n,t){var e=n.message,i=t.message;return!(!e&&!i||e&&!i||!e&&i||e!==i||!GB(n,t)||!UB(n,t))}(n,t)&&!function tte(n,t){var e=jB(t),i=jB(n);return!!(e&&i&&e.type===i.type&&e.value===i.value&&GB(n,t)&&UB(n,t))}(n,t))}(r,o._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(s){return o._previousEvent=r}return o._previousEvent=r}return r};i.id=this.name,t(i)}}function UB(n,t){let e=HB(n),i=HB(t);if(!e&&!i)return!0;if(e&&!i||!e&&i||(e=e,i=i,i.length!==e.length))return!1;for(let s=0;s<i.length;s++){var r=i[s],o=e[s];if(r.filename!==o.filename||r.lineno!==o.lineno||r.colno!==o.colno||r.function!==o.function)return!1}return!0}function GB(n,t){let e=n.fingerprint,i=t.fingerprint;if(!e&&!i)return!0;if(e&&!i||!e&&i)return!1;e=e,i=i;try{return e.join("")===i.join("")}catch(r){return!1}}function jB(n){return n.exception&&n.exception.values&&n.exception.values[0]}function HB(n){var t=n.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}Sg.__initStatic();var Md=(0,is.R)();class Cg{constructor(){Cg.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=Cg.id}setupOnce(){(0,Bb.c)(t=>{if((0,Br.Gd)().getIntegration(Cg)){if(!Md.navigator&&!Md.location&&!Md.document)return t;var e=t.request&&t.request.url||Md.location&&Md.location.href;const{referrer:o}=Md.document||{},{userAgent:s}=Md.navigator||{};var i=Je(Je(Je({},t.request&&t.request.headers),o&&{Referer:o}),s&&{"User-Agent":s}),r=_i(Je({},e&&{url:e}),{headers:i});return _i(Je({},t),{request:r})}return t})}}function VB(n,t,e=function nte(n){var t=[];function i(s){return t.splice(t.indexOf(s),1)[0]}return{$:t,add:function r(s){if(!function e(){return void 0===n||t.length<n}())return(0,Sa.$2)(new ns("Not adding Promise because buffer limit was reached."));var a=s();return-1===t.indexOf(a)&&t.push(a),a.then(()=>i(a)).then(null,()=>i(a).then(null,()=>{})),a},drain:function o(s){return new Sa.cW((a,l)=>{let c=t.length;if(!c)return a(!0);var u=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(y=>{(0,Sa.WD)(y).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}}}(n.bufferSize||30)){let i={};return{send:function o(s){var a=[];if(EB(s,(y,O)=>{var P=CB(O);!function ste(n,t,e=Date.now()){return function ote(n,t){return n[t]||n.all||0}(n,t)>e}(i,P)?a.push(y):n.recordDroppedEvent("ratelimit_backoff",P)}),0===a.length)return(0,Sa.WD)();var l=Gb(s[0],a),c=y=>{EB(l,(O,P)=>{n.recordDroppedEvent(y,CB(P))})};return e.add(()=>t({body:SB(l,n.textEncoder)}).then(y=>{void 0!==y.statusCode&&(y.statusCode<200||y.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn(`Sentry responded with status code ${y.statusCode} to sent event.`),i=function ate(n,{statusCode:t,headers:e},i=Date.now()){var r=Je({},n),o=e&&e["x-sentry-rate-limits"],s=e&&e["retry-after"];if(o)for(var a of o.trim().split(",")){const[y,O]=a.split(":",2);var l=parseInt(y,10),c=1e3*(isNaN(l)?60:l);if(O)for(var u of O.split(";"))r[u]=i+c;else r.all=i+c}else s?r.all=i+function rte(n,t=Date.now()){var e=parseInt(`${n}`,10);if(!isNaN(e))return 1e3*e;var i=Date.parse(`${n}`);return isNaN(i)?6e4:i-t}(s,i):429===t&&(r.all=i+6e4);return r}(i,y)},y=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.error("Failed while sending event:",y),c("network_error")})).then(y=>y,y=>{if(y instanceof ns)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.error("Skipped sending event because buffer is full."),c("queue_overflow"),(0,Sa.WD)();throw y})},flush:s=>e.drain(s)}}function cte(n,t=AB()){return VB(n,function e(i){var r=Je({body:i.body,method:"POST",referrerPolicy:"origin",headers:n.headers},n.fetchOptions);return t(n.url,r).then(o=>({statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))})}function hte(n){return VB(n,function t(e){return new Sa.cW((i,r)=>{var o=new XMLHttpRequest;for(var s in o.onerror=r,o.onreadystatechange=()=>{4===o.readyState&&i({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",n.url),n.headers)Object.prototype.hasOwnProperty.call(n.headers,s)&&o.setRequestHeader(s,n.headers[s]);o.send(e.body)})})}Cg.__initStatic();var dte=[new _g,new Jm,new ev,new Qm,new ch,new Eg,new Sg,new Cg];function WB(n){n.startSession({ignoreDuration:!0}),n.captureSession()}function $t(...n){return ri(n,ha(n))}function Od(n,t){return b(t)?er(n,t,1):er(n,1)}function Lt(n,t){return Ve((e,i)=>{let r=0;e.subscribe(ae(i,o=>n.call(t,o,r++)&&i.next(o)))})}class YB{}class kO{}class cu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof cu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new cu;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof cu?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class _te{encodeKey(t){return zB(t)}encodeValue(t){return zB(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const vte=/%(\d[a-f0-9])/gi,yte={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function zB(n){return encodeURIComponent(n).replace(vte,(t,e)=>{var i;return null!==(i=yte[e])&&void 0!==i?i:t})}function $B(n){return`${n}`}class uh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new _te,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mte(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new uh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push($B(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf($B(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class bte{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function XB(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function qB(n){return"undefined"!=typeof Blob&&n instanceof Blob}function KB(n){return"undefined"!=typeof FormData&&n instanceof FormData}class tv{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Ete(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new cu),this.context||(this.context=new bte),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new uh,this.urlWithParams=e}serializeBody(){return null===this.body?null:XB(this.body)||qB(this.body)||KB(this.body)||function Ste(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof uh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||KB(this.body)?null:qB(this.body)?this.body.type||null:XB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof uh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const y=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((O,P)=>O.set(P,t.setHeaders[P]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((O,P)=>O.set(P,t.setParams[P]),u)),new tv(i,r,s,{params:u,headers:c,context:y,reportProgress:l,responseType:o,withCredentials:a})}}var no=(()=>((no=no||{})[no.Sent=0]="Sent",no[no.UploadProgress=1]="UploadProgress",no[no.ResponseHeader=2]="ResponseHeader",no[no.DownloadProgress=3]="DownloadProgress",no[no.Response=4]="Response",no[no.User=5]="User",no))();class FO{constructor(t,e=200,i="OK"){this.headers=t.headers||new cu,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class BO extends FO{constructor(t={}){super(t),this.type=no.ResponseHeader}clone(t={}){return new BO({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Vb extends FO{constructor(t={}){super(t),this.type=no.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Vb({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Wb extends FO{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function LO(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let UO=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof tv)o=e;else{let l,c;l=r.headers instanceof cu?r.headers:new cu(r.headers),r.params&&(c=r.params instanceof uh?r.params:new uh({fromObject:r.params})),o=new tv(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=$t(o).pipe(Od(l=>this.handler.handle(l)));if(e instanceof tv||"events"===r.observe)return s;const a=s.pipe(Lt(l=>l instanceof Vb));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ye(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ye(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ye(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ye(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new uh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,LO(r,i))}post(e,i,r={}){return this.request("POST",e,LO(r,i))}put(e,i,r={}){return this.request("PUT",e,LO(r,i))}}return n.\u0275fac=function(e){return new(e||n)(Fe(YB))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class JB{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const QB=new un("HTTP_INTERCEPTORS");let Cte=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const Tte=/^\)\]\}',?\n/;let ZB=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new le(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((P,I)=>r.setRequestHeader(P,I.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const P=e.detectContentTypeHeader();null!==P&&r.setRequestHeader("Content-Type",P)}if(e.responseType){const P=e.responseType.toLowerCase();r.responseType="json"!==P?P:"text"}const o=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const P=r.statusText||"OK",I=new cu(r.getAllResponseHeaders()),D=function Mte(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new BO({headers:I,status:r.status,statusText:P,url:D}),s},l=()=>{let{headers:P,status:I,statusText:D,url:B}=a(),Y=null;204!==I&&(Y=void 0===r.response?r.responseText:r.response),0===I&&(I=Y?200:0);let q=I>=200&&I<300;if("json"===e.responseType&&"string"==typeof Y){const ie=Y;Y=Y.replace(Tte,"");try{Y=""!==Y?JSON.parse(Y):null}catch(se){Y=ie,q&&(q=!1,Y={error:se,text:Y})}}q?(i.next(new Vb({body:Y,headers:P,status:I,statusText:D,url:B||void 0})),i.complete()):i.error(new Wb({error:Y,headers:P,status:I,statusText:D,url:B||void 0}))},c=P=>{const{url:I}=a(),D=new Wb({error:P,status:r.status||0,statusText:r.statusText||"Unknown Error",url:I||void 0});i.error(D)};let u=!1;const y=P=>{u||(i.next(a()),u=!0);let I={type:no.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(I.total=P.total),"text"===e.responseType&&!!r.responseText&&(I.partialText=r.responseText),i.next(I)},O=P=>{let I={type:no.UploadProgress,loaded:P.loaded};P.lengthComputable&&(I.total=P.total),i.next(I)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),e.reportProgress&&(r.addEventListener("progress",y),null!==o&&r.upload&&r.upload.addEventListener("progress",O)),r.send(o),i.next({type:no.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),e.reportProgress&&(r.removeEventListener("progress",y),null!==o&&r.upload&&r.upload.removeEventListener("progress",O)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(Fe(Q3))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const GO=new un("XSRF_COOKIE_NAME"),jO=new un("XSRF_HEADER_NAME");class eL{}let Ote=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=V3(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(Fe(nr),Fe(vd),Fe(GO))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),HO=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(Fe(eL),Fe(jO))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),wte=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(QB,[]);this.chain=i.reduceRight((r,o)=>new JB(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(Fe(kO),Fe(Zr))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),Pte=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:HO,useClass:Cte}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:GO,useValue:e.cookieName}:[],e.headerName?{provide:jO,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({providers:[HO,{provide:QB,useExisting:HO,multi:!0},{provide:eL,useClass:Ote},{provide:GO,useValue:"XSRF-TOKEN"},{provide:jO,useValue:"X-XSRF-TOKEN"}]}),n})(),xte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({providers:[UO,{provide:YB,useClass:wte},ZB,{provide:kO,useExisting:ZB}],imports:[[Pte.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const Rte="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Nte="undefined"!=typeof Zone&&!!Zone.current;let Fte=(()=>{class n{constructor(e){this._options=Object.assign({logErrors:!0},e)}handleError(e){const i=this._extractError(e)||"Handled unknown error",r=function kte(n){return Nte?Zone.root.run(n):n()}(()=>IB(i,o=>(o.addEventProcessor(s=>((0,yo.EG)(s,{type:"angular",handled:!1}),s)),o)));this._options.logErrors&&console.error(i),this._options.showDialog&&function pte(n={},t=(0,Br.Gd)()){var e=(0,is.R)();if(!e.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.error("Global document not defined in showReportDialog call"));const{client:i,scope:r}=t.getStackTop();var o=n.dsn||i&&i.getDsn();if(o){r&&(n.user=Je(Je({},r.getUser()),n.user)),n.eventId||(n.eventId=t.lastEventId());var s=e.document.createElement("script");s.async=!0,s.src=function RZ(n,t){var e=_B(n),i=`${mB(e)}embed/error-page/`;let r=`dsn=${Lb(e)}`;for(var o in t)if("dsn"!==o)if("user"===o){var s=t.user;if(!s)continue;s.name&&(r+=`&name=${encodeURIComponent(s.name)}`),s.email&&(r+=`&email=${encodeURIComponent(s.email)}`)}else r+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${i}?${r}`}(o,n),n.onLoad&&(s.onload=n.onLoad);var a=e.document.head||e.document.body;a?a.appendChild(s):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.error("Not injecting report dialog. No injection point found in HTML")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.error("DSN not configured for showReportDialog call")}(Object.assign(Object.assign({},this._options.dialogOptions),{eventId:r}))}_extractError(e){if(this._options.extractor){const i=this._defaultExtractor.bind(this);return this._options.extractor(e,i)}return this._defaultExtractor(e)}_defaultExtractor(e){let i=e;return i&&i.ngOriginalError&&(i=i.ngOriginalError),"string"==typeof i||i instanceof Error?i:i instanceof Wb?i.error instanceof Error?i.error:i.error instanceof ErrorEvent&&i.error.message?i.error.message:"string"==typeof i.error?`Server returned code ${i.status} with body "${i.error}"`:i.message:null}}return n.\u0275fac=function(e){return new(e||n)(Fe("errorHandlerOptions"))},n.\u0275prov=lt({factory:function(){return new n(Fe("errorHandlerOptions"))},token:n,providedIn:"root"}),n})();function Bte(n){return new Fte(n)}(0,is.R)();var yi=(()=>{return(n=yi||(yi={})).reconnect="reconnect",n.connectionSlow="connection_slow",n.connectionLost="connection_lost",n.loginError="login_error",n.kicked="kicked",n.shutdown="shutdown",n.inactivity="inactivity",n.ban="ban",yi;var n})();const Pi_production=!0,Pi_loggerEnabled=!1,Pi_domainMirroringEnabled=!0,Pi_version="4.2.36",Pi_clientConfig={path:"https://app-config.spribegaming.com/aviator/",ext:".json"},Pi_avatarPath="assets/static/avatars/v2/",Pi_brandPath="assets/static/images/brand/";var Lr=(()=>{return(n=Lr||(Lr={})).SetBalance="ifc.set.balance",n.UpdateBalance="ifc.update.balance",n.SetSound="ifc.set.sound",n.SetMusic="ifc.set.music",n.SetAnimation="ifc.set.animation",n.StopAutoplay="ifc.stop.autoplay",n.OpenHelp="ifc.open.help",n.LockUI="ifc.lock.UI",n.ContinueInternalRealityCheck="ifc.continue.internal.reality.check",n.StopInternalRealityCheck="ifc.stop.internal.reality.check",n.AviaportToggleGameMenu="ifc.aviaport.toggle.game.menu",Lr;var n})();function iL(n=40){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<n;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function YO(n){const t=[];return JSON.parse(n).forEach(e=>t.push({url:e.media[0].tinygif.url,id:e.id})),t}function zO(){try{return window.self!==window.top}catch(n){return!0}}function rL(n){return"string"==typeof n||n instanceof String}var ar=w(8135);class oL{static toSFSObject(t){let e=new ar.SFSObject;return Object.keys(t).forEach(i=>{const r=t[i];"string"==typeof r?function Wte(n){return encodeURI(n).split(/%..|./).length-1}(r)>32e3?e.putText(i,r):e.putUtfString(i,r):"boolean"==typeof r?e.putBool(i,r):"number"==typeof r?e.putDouble(i,r):!0===Array.isArray(r)&&e.putUtfStringArray(i,r)}),e}static toObject(t){let e={};if(null===t||void 0===t.getKeysArray)return e;let i=t.getKeysArray();for(let r=0;r<i.length;r++)if(this.checkType(t,i[r],ar.SFSDataType.SFS_OBJECT))e[i[r]]=this.toObject(t.get(i[r]));else if(this.checkType(t,i[r],ar.SFSDataType.SFS_ARRAY)){let o=[],s=t.get(i[r]);for(let a=0;a<s.size();a++)this.isArrayContainsSfsObjects(s,a)?o.push(this.toObject(s.getSFSObject(a))):o.push(s.get(a));e[i[r]]=o}else e[i[r]]=t.get(i[r]);return e}static isArrayContainsSfsObjects(t,e){try{return!!t.get(e,ar.SFSDataType.SFS_OBJECT)}catch(i){return!1}}static checkType(t,e,i){try{return!!t.get(e,i)}catch(r){return!1}}}class Jte extends p{constructor(t,e){super()}schedule(t,e=0){return this}}const Yb={setInterval(n,t,...e){const{delegate:i}=Yb;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Yb;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class $O extends Jte{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return Yb.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;Yb.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,_(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const XO={now:()=>(XO.delegate||Date).now(),delegate:void 0};class nv{constructor(t,e=nv.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}nv.now=XO.now;class qO extends nv{constructor(t,e=nv.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const iv=new qO($O),Qte=iv;function hh(n=0,t,e=Qte){let i=-1;return null!=t&&(Ei(t)?e=t:i=t),new le(r=>{let o=function Zte(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}class ene{constructor(){this.RECONNECT_DELAY=3e3,this.MAX_RECONNECT=3,this.reconnectDelayTimer$=null,this.reconnectCount=0}try(t,e=null){if(this.reconnectDelayTimer$&&this.reconnectDelayTimer$.unsubscribe(),this.reconnectCount<=this.MAX_RECONNECT){const i=hh(this.RECONNECT_DELAY);this.reconnectDelayTimer$=i.subscribe(()=>{t.connect(),this.reconnectCount++})}else e&&e()}reset(){this.reconnectDelayTimer$&&this.reconnectDelayTimer$.unsubscribe(),this.reconnectDelayTimer$=null,this.reconnectCount=0}}var Tg=(()=>{return(n=Tg||(Tg={})).alert="alert",n.toast="toast",n.win="win",Tg;var n})(),Xi=(()=>{return(n=Xi||(Xi={})).primary="alert-primary",n.secondary="alert-secondary",n.success="alert-success",n.danger="alert-danger",n.warning="alert-warning",n.info="alert-info",n.light="alert-light",n.dark="alert-dark",Xi;var n})(),dh=(()=>{return(n=dh||(dh={})).NotEnoughBalance="Not enough balance",n.YourFreeBetWasCancelledByAdministrator="Your freebet was canceled by the administrator",n.FirstInactivityMessage="You have not been active for a while. Place a bet to avoid a disconnection.",n.SecondInactivityMessage="Last chance to place a bet. Your session will be terminated due to inactivity.",n.YouHaveGotAFreeBet="You've got a Free Bet!",dh;var n})(),Mg=(()=>{return(n=Mg||(Mg={})).Mobile="mobile",n.Desktop="desktop",n.Tablet="tablet",Mg;var n})(),wd=(()=>{return(n=wd||(wd={}))[n.Success=200]="Success",n[n.RealityCheck=412]="RealityCheck",wd;var n})();const{isArray:nne}=Array;function KO(n){return ye(t=>function ine(n,t){return nne(t)?n(...t):n(t)}(n,t))}const rne=["addListener","removeListener"],one=["addEventListener","removeEventListener"],sne=["on","off"];function Ti(n,t,e,i){if(b(e)&&(i=e,e=void 0),i)return Ti(n,t,e).pipe(KO(i));const[r,o]=function cne(n){return b(n.addEventListener)&&b(n.removeEventListener)}(n)?one.map(s=>a=>n[s](t,a,e)):function ane(n){return b(n.addListener)&&b(n.removeListener)}(n)?rne.map(sL(n,t)):function lne(n){return b(n.on)&&b(n.off)}(n)?sne.map(sL(n,t)):[];if(!r&&Vt(n))return er(s=>Ti(s,t,e))(Et(n));if(!r)throw new TypeError("Invalid event target");return new le(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function sL(n,t){return e=>i=>n[e](t,i)}function gr(n){return Ve((t,e)=>{Et(n).subscribe(ae(e,()=>e.complete(),M)),!e.closed&&t.subscribe(e)})}const une=my,dne=Symbol("__destroy"),aL=Symbol("__decoratorApplied");function lL(n){return"string"==typeof n?Symbol(`__destroy__${n}`):dne}function cL(n,t){n[t]||(n[t]=new Le)}function uL(n,t){n[t]&&(n[t].next(),n[t].complete(),n[t]=null)}function hL(n){n instanceof p&&n.unsubscribe()}function dL(n,t){return function(){var e;if(n&&n.call(this),uL(this,lL()),t.arrayName)return function pne(n){Array.isArray(n)&&n.forEach(hL)}(this[t.arrayName]);if(t.checkProperties)for(const i in this)(null===(e=t.blackList)||void 0===e?void 0:e.includes(i))||hL(this[i])}}function oi(n={}){return t=>{!function hne(n){return!!n[une]}(t)?function gne(n,t){n.prototype.ngOnDestroy=dL(n.prototype.ngOnDestroy,t)}(t,n):function _ne(n,t){const e=n.\u0275pipe;e.onDestroy=dL(e.onDestroy,t)}(t,n),function fne(n){n.prototype[aL]=!0}(t)}}function gt(n,t){return e=>{const i=lL(t);return"string"==typeof t?function mne(n,t,e){const i=n[t];cL(n,e),n[t]=function(){i.apply(this,arguments),uL(this,e),n[t]=i}}(n,t,i):cL(n,i),e.pipe(gr(n[i]))}}var Og=(()=>{return(n=Og||(Og={})).Request="PING_REQUEST",n.Response="PING_RESPONSE",Og;var n})();class vne{constructor(t,e,i=4e3){this.smartFox=t,this.callbackFn=e,this.interval=i,this.timeoutRef=null,this.intervalRef=null,this.waitResponseTime=null,this.waitResponseTime=this.interval-1e3}start(){this.reset(),Ti(this.smartFox,ar.SFSEvent.EXTENSION_RESPONSE).pipe(Lt(t=>t.cmd===Og.Response),gt(this,"reset")).subscribe(()=>this.pingResponseHandler()),this.intervalRef=setInterval(()=>this.threadRunner(),this.interval)}threadRunner(){this.smartFox.send(new ar.ExtensionRequest(Og.Request)),this.waitResponse()}waitResponse(){null===this.timeoutRef&&(this.timeoutRef=setTimeout(()=>{this.callbackFn(yi.connectionSlow)},this.waitResponseTime))}pingResponseHandler(){this.callbackFn(null),clearTimeout(this.timeoutRef),this.timeoutRef=null}reset(){clearTimeout(this.timeoutRef),clearInterval(this.intervalRef),this.timeoutRef=null,this.intervalRef=null}}var pn=(()=>{return(n=pn||(pn={})).Init="init",n.CashOut="cashOut",n.CancelBet="cancelBet",n.Bet="bet",n.CurrentMultiplier="currentMultiplier",n.X="x",n.AddChatMessage="AddChatMessage",n.AddChatMessages="AddChatMessages",n.DeleteChatMessage="deleteChatMessage",n.SearchGifs="searchGifs",n.Like="like",n.ClaimRainWin="claimRainWin",n.NewBalance="newBalance",n.RoundChartInfo="roundChartInfo",n.FreeBetsArchive="freeBetsArchive",n.FreeBetInfo="freeBetInfo",n.ChangeState="changeState",n.OnlinePlayers="onlinePlayers",n.CurrentBetsInfo="currentBetsInfo",n.UpdateCurrentBets="updateCurrentBets",n.UpdateCurrentCashOuts="updateCurrentCashOuts",n.InternalRealityCheck="internalRealityCheck",n.PreviousRoundInfo="previousRoundInfoResponse",n.BetHistory="betHistoryResponse",n.RoundFairness="roundFairnessResponse",n.ServerSeed="serverSeedResponse",n.FreeBetFinish="freeBetFinishResponse",n.GetTopRoundsInfo="getTopRoundsInfo",n.GetTopWinsInfo="getTopWinsInfo",n.GetHugeWinsInfo="getHugeWinsInfo",n.CreateFreeBet="createFreeBet",n.CancelFreeBet="cancelFreeBet",pn;var n})(),uu=(()=>{return(n=uu||(uu={})).RealityCheck="reality-check",n.InternalRealityCheck="internalRealityCheck",n.Alderney="Alderney",uu;var n})(),si=(()=>{return(n=si||(si={})).bugReport="bugReport",n.fairness="fairness",n.fairnessSettings="fairnessSettings",n.freeBets="freeBets",n.avatar="avatar",n.rules="rules",n.whatIsPf="whatIsPf",n.quickHelp="quickHelp",n.notification="notification",n.myBetsHistory="myBetsHistory",n.gameLimits="gameLimits",n.otherSettings="otherSettings",si;var n})(),zb=(()=>{return(n=zb||(zb={}))[n.LOGIN_BANNED_USER=4]="LOGIN_BANNED_USER",zb;var n})(),$b=(()=>{return(n=$b||($b={})).navigate="navigate",n.reload="reload",n.backForward="back_forward",n.prerender="prerender",$b;var n})();const wg={UKNOWN:"Unknown"},JO={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:wg.UKNOWN},Xb={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},Pg={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},fh={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:wg.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},fL=[fh.PS4,fh.CHROME_BOOK,fh.MAC,fh.DELL,fh.ASUS,fh.UNKNOWN],pL={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:wg.UKNOWN},yne={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:wg.UKNOWN.toLowerCase()},gL={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},Ene=Object.assign(Object.assign(Object.assign(Object.assign({},Xb),Pg),gL),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),QO={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},ZO={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},Sne=Object.keys(QO).reduce((n,t)=>(n[t]=QO[t],n),{}),_L=Object.keys(ZO).reduce((n,t)=>(n[JO[t]]=ZO[t],n),{});var bc=Object.freeze({__proto__:null,GENERAL:wg,BROWSERS:JO,MOBILES_RE:Xb,TABLETS_RE:Pg,DEVICES:fh,DESKTOP_DEVICES:fL,OS:pL,OS_VERSIONS:yne,OS_RE:gL,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:Ene,OS_VERSIONS_RE_MAP:QO,BROWSER_VERSIONS_RE_MAP:ZO,OS_VERSIONS_RE:Sne,BROWSER_VERSIONS_RE:_L});class Cne{constructor(){}test(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.test(t):e&&Array.isArray(e.and)?e.and.every(i=>this.test(t,i)):e&&Array.isArray(e.or)?e.or.some(i=>this.test(t,i)):!(!e||!e.not||this.test(t,e.not))}exec(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.exec(t):e&&Array.isArray(e)?e.reduce((i,r)=>i||this.exec(t,r),null):null}}var Pd=(()=>{return(n=Pd||(Pd={})).Mobile="mobile",n.Tablet="tablet",n.Desktop="desktop",n.Unknown="unknown",Pd;var n})(),rv=(()=>{return(n=rv||(rv={})).Portrait="portrait",n.Landscape="landscape",rv;var n})();const ew="iPad";let Tne=(()=>{class n{constructor(e){this.platformId=e,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new Cne,this.deviceType="",this.orientation="",Xm(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(e=this.userAgent){e!==this.userAgent&&(this.userAgent=e);const i=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(i.forEach(r=>{this[r.prop]=Object.keys(bc[r.const]).reduce((o,s)=>"device"===bc[r.const][s]&&Xm(this.platformId)&&(this.reTree.test(this.userAgent,Pg[ew])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(o[bc[r.const][s]]=ew,Object):(o[bc[r.const][s]]=this.reTree.test(e,bc[`${r.const}_RE`][s]),o),{})}),i.forEach(r=>{this[r.prop]=Object.keys(bc[r.const]).map(o=>bc[r.const][o]).reduce((o,s)=>"device"===r.prop&&o===bc[r.const].ANDROID?this[r.prop][s]?s:o:o===bc[r.const].UNKNOWN&&this[r.prop][s]?s:o,bc[r.const].UNKNOWN)}),this.browser_version="0",this.browser!==JO.UNKNOWN){const o=this.reTree.exec(e,_L[this.browser]);o&&(this.browser_version=o[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?rv.Landscape:rv.Portrait:wg.UKNOWN,this.deviceType=this.isTablet()?Pd.Tablet:this.isMobile(this.userAgent)?Pd.Mobile:this.isDesktop(this.userAgent)?Pd.Desktop:Pd.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(e=this.userAgent){return!this.isTablet(e)&&!!Object.keys(Xb).find(r=>this.reTree.test(e,Xb[r]))}isTablet(e=this.userAgent){return!(!Xm(this.platformId)||!(this.reTree.test(this.userAgent,Pg[ew])||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(Pg).find(r=>!!this.reTree.test(e,Pg[r]))}isDesktop(e=this.userAgent){return(this.device!==fh.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&fL.indexOf(this.device)>-1}}return n.\u0275fac=function(e){return new(e||n)(Fe(vd))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ph(...n){return function One(){return uo(1)}()(ri(n,ha(n)))}function mL(n,t){return t?e=>ph(t.pipe(fi(1),function wne(){return Ve((n,t)=>{n.subscribe(ae(t,M))})}()),e.pipe(mL(n))):er((e,i)=>n(e,i).pipe(fi(1),function Pne(n){return ye(()=>n)}(e)))}function vL(n,t=iv){const e=hh(n,t);return mL(()=>e)}function ov(n,t){const e=b(n)?n:()=>n,i=r=>r.error(e());return new le(t?r=>t.schedule(i,0,r):i)}var qb=(()=>{return(n=qb||(qb={})).Default="default",n.Detailed="detailed",qb;var n})(),sv=(()=>{return(n=sv||(sv={})).Navigate="navigate",n.IfcEvent="ifcEvent",sv;var n})(),xg=(()=>{return(n=xg||(xg={})).Navigate="navigate",n.IfcEvent="ifcEvent",xg;var n})(),Kb=(()=>{return(n=Kb||(Kb={})).ifcEvent="ifcEvent",n.modal="modal",Kb;var n})(),Ag=(()=>{return(n=Ag||(Ag={})).CancelBet="cancelBet",n.None="none",Ag;var n})(),ir=(()=>{return(n=ir||(ir={}))[n.Bet=1]="Bet",n[n.Run=2]="Run",n[n.End=3]="End",n[n.EndDelay=4]="EndDelay",ir;var n})(),gh=(()=>((gh||(gh={})).Base="Inter, sans-serif",gh))(),lr=(()=>{return(n=lr||(lr={})).sm="sm",n.md="md",n.lg="lg",lr;var n})();class Mn{static updateSize(t,e){this._appWidth=t,this._appHeight=e,this.setBreakpoint()}static get appWidth(){return this._appWidth}static get appHeight(){return this._appHeight}static get breakpoint(){return this._breakpoint}static setBreakpoint(){this._breakpoint=this.appWidth>=600&&this.appHeight>=320?lr.lg:this.appWidth>=420&&this.appHeight>=200?lr.md:lr.sm}}var Nne=setTimeout;function yL(n){return Boolean(n&&void 0!==n.length)}function kne(){}function Ur(n){if(!(this instanceof Ur))throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],EL(n,this)}function bL(n,t){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,Ur._immediateFn(function(){var e=1===n._state?t.onFulfilled:t.onRejected;if(null!==e){var i;try{i=e(n._value)}catch(r){return void av(t.promise,r)}tw(t.promise,i)}else(1===n._state?tw:av)(t.promise,n._value)})):n._deferreds.push(t)}function tw(n,t){try{if(t===n)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if(t instanceof Ur)return n._state=3,n._value=t,void nw(n);if("function"==typeof e)return void EL(function Fne(n,t){return function(){n.apply(t,arguments)}}(e,t),n)}n._state=1,n._value=t,nw(n)}catch(i){av(n,i)}}function av(n,t){n._state=2,n._value=t,nw(n)}function nw(n){2===n._state&&0===n._deferreds.length&&Ur._immediateFn(function(){n._handled||Ur._unhandledRejectionFn(n._value)});for(var t=0,e=n._deferreds.length;t<e;t++)bL(n,n._deferreds[t]);n._deferreds=null}function Bne(n,t,e){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.promise=e}function EL(n,t){var e=!1;try{n(function(i){e||(e=!0,tw(t,i))},function(i){e||(e=!0,av(t,i))})}catch(i){if(e)return;e=!0,av(t,i)}}Ur.prototype.catch=function(n){return this.then(null,n)},Ur.prototype.then=function(n,t){var e=new this.constructor(kne);return bL(this,new Bne(n,t,e)),e},Ur.prototype.finally=function Ane(n){var t=this.constructor;return this.then(function(e){return t.resolve(n()).then(function(){return e})},function(e){return t.resolve(n()).then(function(){return t.reject(e)})})},Ur.all=function(n){return new Ur(function(t,e){if(!yL(n))return e(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(n);if(0===i.length)return t([]);var r=i.length;function o(a,l){try{if(l&&("object"==typeof l||"function"==typeof l)){var c=l.then;if("function"==typeof c)return void c.call(l,function(u){o(a,u)},e)}i[a]=l,0==--r&&t(i)}catch(u){e(u)}}for(var s=0;s<i.length;s++)o(s,i[s])})},Ur.allSettled=function Ine(n){return new this(function(e,i){if(!n||void 0===n.length)return i(new TypeError(typeof n+" "+n+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(n);if(0===r.length)return e([]);var o=r.length;function s(l,c){if(c&&("object"==typeof c||"function"==typeof c)){var u=c.then;if("function"==typeof u)return void u.call(c,function(y){s(l,y)},function(y){r[l]={status:"rejected",reason:y},0==--o&&e(r)})}r[l]={status:"fulfilled",value:c},0==--o&&e(r)}for(var a=0;a<r.length;a++)s(a,r[a])})},Ur.resolve=function(n){return n&&"object"==typeof n&&n.constructor===Ur?n:new Ur(function(t){t(n)})},Ur.reject=function(n){return new Ur(function(t,e){e(n)})},Ur.race=function(n){return new Ur(function(t,e){if(!yL(n))return e(new TypeError("Promise.race accepts an array"));for(var i=0,r=n.length;i<r;i++)Ur.resolve(n[i]).then(t,e)})},Ur._immediateFn="function"==typeof setImmediate&&function(n){setImmediate(n)}||function(n){Nne(n,0)},Ur._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const Lne=Ur;var Une=w(5943),Gne=w.n(Une);if(self.Promise||(self.Promise=Lne),Object.assign||(Object.assign=Gne()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!self.performance||!self.performance.now){var Hne=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-Hne}}for(var iw=Date.now(),SL=["ms","moz","webkit","o"],rw=0;rw<SL.length&&!self.requestAnimationFrame;++rw){var ow=SL[rw];self.requestAnimationFrame=self[ow+"RequestAnimationFrame"],self.cancelAnimationFrame=self[ow+"CancelAnimationFrame"]||self[ow+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(n){if("function"!=typeof n)throw new TypeError(n+"is not a function");var t=Date.now(),e=16+iw-t;return e<0&&(e=0),iw=t,self.setTimeout(function(){iw=Date.now(),n(performance.now())},e)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(n){return clearTimeout(n)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array);var sw=/iPhone/i,CL=/iPod/i,TL=/iPad/i,ML=/\biOS-universal(?:.+)Mac\b/i,aw=/\bAndroid(?:.+)Mobile\b/i,OL=/Android/i,Rg=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Jb=/Silk/i,hu=/Windows Phone/i,wL=/\bWindows(?:.+)ARM\b/i,PL=/BlackBerry/i,xL=/BB10/i,AL=/Opera Mini/i,RL=/\b(CriOS|Chrome)(?:.+)Mobile/i,IL=/Mobile(?:.+)Firefox\b/i,DL=function(n){return void 0!==n&&"MacIntel"===n.platform&&"number"==typeof n.maxTouchPoints&&n.maxTouchPoints>1&&"undefined"==typeof MSStream},Ta=function Wne(n){var t={userAgent:"",platform:"",maxTouchPoints:0};n||"undefined"==typeof navigator?"string"==typeof n?t.userAgent=n:n&&n.userAgent&&(t={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var e=t.userAgent,i=e.split("[FBAN");void 0!==i[1]&&(e=i[0]),void 0!==(i=e.split("Twitter"))[1]&&(e=i[0]);var r=function Vne(n){return function(t){return t.test(n)}}(e),o={apple:{phone:r(sw)&&!r(hu),ipod:r(CL),tablet:!r(sw)&&(r(TL)||DL(t))&&!r(hu),universal:r(ML),device:(r(sw)||r(CL)||r(TL)||r(ML)||DL(t))&&!r(hu)},amazon:{phone:r(Rg),tablet:!r(Rg)&&r(Jb),device:r(Rg)||r(Jb)},android:{phone:!r(hu)&&r(Rg)||!r(hu)&&r(aw),tablet:!r(hu)&&!r(Rg)&&!r(aw)&&(r(Jb)||r(OL)),device:!r(hu)&&(r(Rg)||r(Jb)||r(aw)||r(OL))||r(/\bokhttp\b/i)},windows:{phone:r(hu),tablet:r(wL),device:r(hu)||r(wL)},other:{blackberry:r(PL),blackberry10:r(xL),opera:r(AL),firefox:r(IL),chrome:r(RL),device:r(PL)||r(xL)||r(AL)||r(IL)||r(RL)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(self.navigator),Qb=(()=>{return(n=Qb||(Qb={}))[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",Qb;var n})(),Zb=(()=>{return(n=Zb||(Zb={}))[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",Zb;var n})(),e1=(()=>{return(n=e1||(e1={}))[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",e1;var n})(),t1=(()=>{return(n=t1||(t1={}))[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",t1;var n})(),Ig=(()=>{return(n=Ig||(Ig={})).LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",Ig;var n})(),n1=(()=>{return(n=n1||(n1={}))[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",n1;var n})(),_t={MIPMAP_TEXTURES:e1.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:n1.NONE,SPRITE_MAX_TEXTURES:function Yne(n){var e,t=!0;(Ta.tablet||Ta.phone)&&(Ta.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(t=!1),Ta.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(t=!1));return t?n:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:t1.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:Zb.CLAMP,SCALE_MODE:Qb.LINEAR,PRECISION_VERTEX:Ig.HIGH,PRECISION_FRAGMENT:Ta.apple.device?Ig.HIGH:Ig.MEDIUM,CAN_UPLOAD_SAME_BUFFER:function zne(){return!Ta.apple.device}(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},$ne=w(9170),Dg=w.n($ne),Xne=w(5469),lw=w.n(Xne),cw=w(8762),Ro=(()=>{return(n=Ro||(Ro={}))[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",Ro;var n})(),Vl=(()=>{return(n=Vl||(Vl={}))[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS",Vl;var n})(),_h=(()=>{return(n=_h||(_h={}))[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",_h;var n})(),je=(()=>{return(n=je||(je={}))[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",je;var n})(),Ho=(()=>{return(n=Ho||(Ho={}))[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",Ho;var n})(),ze=(()=>{return(n=ze||(ze={}))[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",ze;var n})(),qs=(()=>{return(n=qs||(qs={}))[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",qs;var n})(),Pt=(()=>{return(n=Pt||(Pt={}))[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",Pt;var n})(),mh=(()=>{return(n=mh||(mh={}))[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",mh;var n})(),io=(()=>{return(n=io||(io={}))[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",io;var n})(),Ja=(()=>{return(n=Ja||(Ja={}))[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",Ja;var n})(),xs=(()=>{return(n=xs||(xs={}))[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",xs;var n})(),Io=(()=>{return(n=Io||(Io={}))[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",Io;var n})(),rs=(()=>{return(n=rs||(rs={}))[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",rs;var n})(),Ng=(()=>{return(n=Ng||(Ng={}))[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",Ng;var n})(),ro=(()=>{return(n=ro||(ro={})).LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",ro;var n})(),bi=(()=>{return(n=bi||(bi={}))[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",bi;var n})(),Un=(()=>{return(n=Un||(Un={}))[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",Un;var n})(),oo=(()=>{return(n=oo||(oo={}))[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",oo;var n})(),xd={parse:cw.Qc,format:cw.WU,resolve:cw.DB};_t.RETINA_PREFIX=/@([0-9\.]+)x/,_t.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var dw,uw=!1;function kL(){uw=!0}function hw(n){var t;uw||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(t=self.console).log.apply(t,["\n %c %c %c PixiJS 6.2.2 - \u2730 "+n+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.2 - "+n+" - http://www.pixijs.com/"),uw=!0)}function FL(){return void 0===dw&&(dw=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:_t.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,r}catch(s){return!1}}()),dw}var koe={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function du(n,t){return void 0===t&&(t=[]),t[0]=(n>>16&255)/255,t[1]=(n>>8&255)/255,t[2]=(255&n)/255,t}function r1(n){var t=n.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}function As(n){return"string"==typeof n&&"#"===(n=koe[n.toLowerCase()]||n)[0]&&(n=n.substr(1)),parseInt(n,16)}function fw(n){return(255*n[0]<<16)+(255*n[1]<<8)+(255*n[2]|0)}var pw=function Foe(){for(var n=[],t=[],e=0;e<32;e++)n[e]=e,t[e]=e;n[je.NORMAL_NPM]=je.NORMAL,n[je.ADD_NPM]=je.ADD,n[je.SCREEN_NPM]=je.SCREEN,t[je.NORMAL]=je.NORMAL_NPM,t[je.ADD]=je.ADD_NPM,t[je.SCREEN]=je.SCREEN_NPM;var i=[];return i.push(t),i.push(n),i}();function gw(n,t){return pw[t?1:0][n]}function BL(n,t,e,i){return e=e||new Float32Array(4),i||void 0===i?(e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t):(e[0]=n[0],e[1]=n[1],e[2]=n[2]),e[3]=t,e}function o1(n,t){if(1===t)return(255*t<<24)+n;if(0===t)return 0;var e=n>>16&255,i=n>>8&255,r=255&n;return(255*t<<24)+((e=e*t+.5|0)<<16)+((i=i*t+.5|0)<<8)+(r*t+.5|0)}function _w(n,t,e,i){return(e=e||new Float32Array(4))[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(255&n)/255,(i||void 0===i)&&(e[0]*=t,e[1]*=t,e[2]*=t),e[3]=t,e}function LL(n,t){void 0===t&&(t=null);var e=6*n;if((t=t||new Uint16Array(e)).length!==e)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+e);for(var i=0,r=0;i<e;i+=6,r+=4)t[i+0]=r+0,t[i+1]=r+1,t[i+2]=r+2,t[i+3]=r+0,t[i+4]=r+2,t[i+5]=r+3;return t}function s1(n){if(4===n.BYTES_PER_ELEMENT)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===n.BYTES_PER_ELEMENT){if(n instanceof Uint16Array)return"Uint16Array"}else if(1===n.BYTES_PER_ELEMENT&&n instanceof Uint8Array)return"Uint8Array";return null}var Boe={Float32Array,Uint32Array,Int32Array,Uint8Array};function Loe(n,t){for(var e=0,i=0,r={},o=0;o<n.length;o++)i+=t[o],e+=n[o].length;var s=new ArrayBuffer(4*e),a=null,l=0;for(o=0;o<n.length;o++){var c=t[o],u=n[o],y=s1(u);r[y]||(r[y]=new Boe[y](s)),a=r[y];for(var O=0;O<u.length;O++)a[(O/c|0)*i+l+O%c]=u[O];l+=c}return new Float32Array(s)}function lv(n){return n+=0===n?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,1+(n|=n>>>16)}function mw(n){return!(n&n-1||!n)}function vw(n){var t=(n>65535?1:0)<<4,e=((n>>>=t)>255?1:0)<<3;return t|=e,t|=e=((n>>>=e)>15?1:0)<<2,(t|=e=((n>>>=e)>3?1:0)<<1)|(n>>>=e)>>1}function Ad(n,t,e){var r,i=n.length;if(!(t>=i||0===e)){var o=i-(e=t+e>i?i-t:e);for(r=t;r<o;++r)n[r]=n[r+e];n.length=o}}function Rd(n){return 0===n?0:n<0?-1:1}var Uoe=0;function vh(){return++Uoe}var UL={};function Ec(n,t,e){if(void 0===e&&(e=3),!UL[t]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n):(i=i.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+n),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n),console.warn(i))),UL[t]=!0}}var yw={},Ks=Object.create(null),Qa=Object.create(null);function Goe(){var n;for(n in Ks)Ks[n].destroy();for(n in Qa)Qa[n].destroy()}function joe(){var n;for(n in Ks)delete Ks[n];for(n in Qa)delete Qa[n]}var kg=function(){function n(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||_t.RESOLUTION,this.resize(t,e)}return n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},n.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(n.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),n}();function GL(n){var c,u,y,t=n.width,e=n.height,i=n.getContext("2d"),o=i.getImageData(0,0,t,e).data,s=o.length,a={top:null,left:null,right:null,bottom:null},l=null;for(c=0;c<s;c+=4)0!==o[c+3]&&(u=c/4%t,y=~~(c/4/t),null===a.top&&(a.top=y),(null===a.left||u<a.left)&&(a.left=u),(null===a.right||a.right<u)&&(a.right=u+1),(null===a.bottom||a.bottom<y)&&(a.bottom=y));return null!==a.top&&(l=i.getImageData(a.left,a.top,t=a.right-a.left,e=a.bottom-a.top+1)),{height:e,width:t,data:l}}var a1,jL=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Hoe(n){var t=jL.exec(n);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function HL(n,t){if(void 0===t&&(t=self.location),0===n.indexOf("data:"))return"";t=t||self.location,a1||(a1=document.createElement("a")),a1.href=n;var e=xd.parse(a1.href);return e.hostname!==t.hostname||(e.port||""!==t.port)&&e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}function cv(n,t){var e=_t.RETINA_PREFIX.exec(n);return e?parseFloat(e[1]):void 0!==t?t:1}var uv=2*Math.PI,VL=180/Math.PI,WL=Math.PI/180,gi=(()=>{return(n=gi||(gi={}))[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC",gi;var n})(),ai=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=gi.RECT}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,"EMPTY",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},n.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},n.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(o-r,0),this},n.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},n.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=o-r,this},n.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),YL=function(){function n(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=gi.CIRC}return n.prototype.clone=function(){return new n(this.x,this.y,this.radius)},n.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.x-t,o=this.y-e;return(r*=r)+(o*=o)<=this.radius*this.radius},n.prototype.getBounds=function(){return new ai(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},n.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},n}(),zL=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=i,this.height=r,this.type=gi.ELIP}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},n.prototype.getBounds=function(){return new ai(this.x-this.width,this.y-this.height,this.width,this.height)},n.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),hv=function(){function n(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=Array.isArray(e[0])?e[0]:e;if("number"!=typeof r[0]){for(var o=[],s=0,a=r.length;s<a;s++)o.push(r[s].x,r[s].y);r=o}this.points=r,this.type=gi.POLY,this.closeStroke=!0}return n.prototype.clone=function(){var e=new n(this.points.slice());return e.closeStroke=this.closeStroke,e},n.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,o=0,s=r-1;o<r;s=o++){var a=this.points[2*o],l=this.points[2*o+1],u=this.points[2*s+1];l>e!=u>e&&t<(e-l)/(u-l)*(this.points[2*s]-a)+a&&(i=!i)}return i},n.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce(function(t,e){return t+", "+e},"")+"]"},n}(),$L=function(){function n(t,e,i,r,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=20),this.x=t,this.y=e,this.width=i,this.height=r,this.radius=o,this.type=gi.RREC}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height,this.radius)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+i&&e<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;var r=t-(this.x+i),o=e-(this.y+i),s=i*i;if(r*r+o*o<=s||(r=t-(this.x+this.width-i))*r+o*o<=s||r*r+(o=e-(this.y+this.height-i))*o<=s||(r=t-(this.x+i))*r+o*o<=s)return!0}return!1},n.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},n}(),qi=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},n.prototype.copyTo=function(t){return t.set(this.x,this.y),t},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},n.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},n}(),Id=function(){function n(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return n.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new n(t,e,this._x,this._y)},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},n.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},n.prototype.copyTo=function(t){return t.set(this._x,this._y),t},n.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),n}(),xi=function(){function n(t,e,i,r,o,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=s}return n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,i,r,o,s){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=s,this},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},n.prototype.apply=function(t,e){e=e||new qi;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new qi;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,o=t.y;return e.x=this.d*i*r+-this.c*i*o+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*o+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,o=this.c,s=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=o*e-this.d*i,this.d=o*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this},n.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,o=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*o,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*o,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*o+this.ty,this},n.prototype.setTransform=function(t,e,i,r,o,s,a,l,c){return this.a=Math.cos(a+c)*o,this.b=Math.sin(a+c)*o,this.c=-Math.sin(a-l)*s,this.d=Math.cos(a-l)*s,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,o=this.d,s=t.pivot,a=-Math.atan2(-r,o),l=Math.atan2(i,e),c=Math.abs(a+l);return c<1e-5||Math.abs(uv-c)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=l),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+o*o),t.position.x=this.tx+(s.x*e+s.y*r),t.position.y=this.ty+(s.x*i+s.y*o),t},n.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,o=this.tx,s=t*r-e*i;return this.a=r/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-r*o)/s,this.ty=-(t*this.ty-e*o)/s,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},n.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(n,"IDENTITY",{get:function(){return new n},enumerable:!1,configurable:!0}),Object.defineProperty(n,"TEMP_MATRIX",{get:function(){return new n},enumerable:!1,configurable:!0}),n}(),Dd=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Nd=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],kd=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Fd=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],bw=[],XL=[],l1=Math.sign;!function Voe(){for(var n=0;n<16;n++){var t=[];bw.push(t);for(var e=0;e<16;e++)for(var i=l1(Dd[n]*Dd[e]+kd[n]*Nd[e]),r=l1(Nd[n]*Dd[e]+Fd[n]*Nd[e]),o=l1(Dd[n]*kd[e]+kd[n]*Fd[e]),s=l1(Nd[n]*kd[e]+Fd[n]*Fd[e]),a=0;a<16;a++)if(Dd[a]===i&&Nd[a]===r&&kd[a]===o&&Fd[a]===s){t.push(a);break}}for(n=0;n<16;n++){var l=new xi;l.set(Dd[n],Nd[n],kd[n],Fd[n],0,0),XL.push(l)}}();var rr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(n){return Dd[n]},uY:function(n){return Nd[n]},vX:function(n){return kd[n]},vY:function(n){return Fd[n]},inv:function(n){return 8&n?15&n:7&-n},add:function(n,t){return bw[n][t]},sub:function(n,t){return bw[n][rr.inv(t)]},rotate180:function(n){return 4^n},isVertical:function(n){return 2==(3&n)},byDirection:function(n,t){return 2*Math.abs(n)<=Math.abs(t)?t>=0?rr.S:rr.N:2*Math.abs(t)<=Math.abs(n)?n>0?rr.E:rr.W:t>0?n>0?rr.SE:rr.SW:n>0?rr.NE:rr.NW},matrixAppendRotationInv:function(n,t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var r=XL[rr.inv(t)];r.tx=e,r.ty=i,n.append(r)}},Ew=function(){function n(){this.worldTransform=new xi,this.localTransform=new xi,this.position=new Id(this.onChange,this,0,0),this.scale=new Id(this.onChange,this,1,1),this.pivot=new Id(this.onChange,this,0,0),this.skew=new Id(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},n.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},n.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},n.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),n.IDENTITY=new n,n}();_t.SORTABLE_CHILDREN=!1;var Fg=function(){function n(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return n.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},n.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},n.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?ai.EMPTY:((t=t||new ai(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},n.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},n.prototype.addPointMatrix=function(t,e){var c=t.a*e.x+t.c*e.y+t.tx,u=t.b*e.x+t.d*e.y+t.ty;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},n.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,o=this.maxY,s=t[0],a=t[1];e=s<e?s:e,i=a<i?a:i,r=s>r?s:r,o=a>o?a:o,e=(s=t[2])<e?s:e,i=(a=t[3])<i?a:i,r=s>r?s:r,o=a>o?a:o,e=(s=t[4])<e?s:e,i=(a=t[5])<i?a:i,r=s>r?s:r,o=a>o?a:o,i=(a=t[7])<i?a:i,r=(s=t[6])>r?s:r,o=a>o?a:o,this.minX=e=s<e?s:e,this.minY=i,this.maxX=r,this.maxY=o},n.prototype.addFrame=function(t,e,i,r,o){this.addFrameMatrix(t.worldTransform,e,i,r,o)},n.prototype.addFrameMatrix=function(t,e,i,r,o){var s=t.a,a=t.b,l=t.c,c=t.d,u=t.tx,y=t.ty,O=this.minX,P=this.minY,I=this.maxX,D=this.maxY,B=s*e+l*i+u,Y=a*e+c*i+y;O=B<O?B:O,P=Y<P?Y:P,I=B>I?B:I,D=Y>D?Y:D,O=(B=s*r+l*i+u)<O?B:O,P=(Y=a*r+c*i+y)<P?Y:P,I=B>I?B:I,D=Y>D?Y:D,O=(B=s*e+l*o+u)<O?B:O,P=(Y=a*e+c*o+y)<P?Y:P,I=B>I?B:I,D=Y>D?Y:D,P=(Y=a*r+c*o+y)<P?Y:P,I=(B=s*r+l*o+u)>I?B:I,D=Y>D?Y:D,this.minX=O=B<O?B:O,this.minY=P,this.maxX=I,this.maxY=D},n.prototype.addVertexData=function(t,e,i){for(var r=this.minX,o=this.minY,s=this.maxX,a=this.maxY,l=e;l<i;l+=2){var c=t[l],u=t[l+1];r=c<r?c:r,o=u<o?u:o,s=c>s?c:s,a=u>a?u:a}this.minX=r,this.minY=o,this.maxX=s,this.maxY=a},n.prototype.addVertices=function(t,e,i,r){this.addVerticesMatrix(t.worldTransform,e,i,r)},n.prototype.addVerticesMatrix=function(t,e,i,r,o,s){void 0===o&&(o=0),void 0===s&&(s=o);for(var a=t.a,l=t.b,c=t.c,u=t.d,y=t.tx,O=t.ty,P=this.minX,I=this.minY,D=this.maxX,B=this.maxY,Y=i;Y<r;Y+=2){var q=e[Y],ie=e[Y+1],se=a*q+c*ie+y,re=u*ie+l*q+O;P=Math.min(P,se-o),D=Math.max(D,se+o),I=Math.min(I,re-s),B=Math.max(B,re+s)}this.minX=P,this.minY=I,this.maxX=D,this.maxY=B},n.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,o=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>o?t.maxY:o},n.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,o=t.maxX<e.maxX?t.maxX:e.maxX,s=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=o&&r<=s){var a=this.minX,l=this.minY,c=this.maxX,u=this.maxY;this.minX=i<a?i:a,this.minY=r<l?r:l,this.maxX=o>c?o:c,this.maxY=s>u?s:u}},n.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},n.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,o=t.maxX<e.x+e.width?t.maxX:e.x+e.width,s=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=o&&r<=s){var a=this.minX,l=this.minY,c=this.maxX,u=this.maxY;this.minX=i<a?i:a,this.minY=r<l?r:l,this.maxX=o>c?o:c,this.maxY=s>u?s:u}},n.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},n.prototype.addFramePad=function(t,e,i,r,o,s){e-=s,i+=o,r+=s,this.minX=this.minX<(t-=o)?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},n}(),Sw=function(n,t){return(Sw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function Cw(n,t){function e(){this.constructor=n}Sw(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var _r=function(n){function t(){var e=n.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new Ew,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Fg,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return Cw(t,n),t.mixin=function(e){for(var i=Object.keys(e),r=0;r<i.length;++r){var o=i[r];Object.defineProperty(t.prototype,o,Object.getOwnPropertyDescriptor(e,o))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,i){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),i||(this._boundsRect||(this._boundsRect=new ai),i=this._boundsRect),this._bounds.getRectangle(i)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new ai),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Fg);var i=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,s=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,e);return this.parent=r,this.transform=i,this._bounds=o,this._bounds.updateID+=this._boundsID-s,a},t.prototype.toGlobal=function(e,i,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,i)},t.prototype.toLocal=function(e,i,r,o){return i&&(e=i.toGlobal(e,r,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,i,r,o,s,a,l,c,u){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=1),void 0===s&&(s=0),void 0===a&&(a=0),void 0===l&&(l=0),void 0===c&&(c=0),void 0===u&&(u=0),this.position.x=e,this.position.y=i,this.scale.x=r||1,this.scale.y=o||1,this.rotation=s,this.skew.x=a,this.skew.y=l,this.pivot.x=c,this.pivot.y=u,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Tw),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*VL},set:function(e){this.transform.rotation=e*WL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){var i;this._mask!==e&&(this._mask&&((i=this._mask.maskObject||this._mask)._maskRefCount--,0===i._maskRefCount&&(i.renderable=!0,i.isMask=!1)),this._mask=e,this._mask&&(0===(i=this._mask.maskObject||this._mask)._maskRefCount&&(i.renderable=!1,i.isMask=!0),i._maskRefCount++))},enumerable:!1,configurable:!0}),t}(Dg()),Tw=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.sortDirty=null,e}return Cw(t,n),t}(_r);_r.prototype.displayObjectUpdateTransform=_r.prototype.updateTransform;var c1=(()=>{return(n=c1||(c1={}))[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",c1;var n})();function Woe(n,t){return n.zIndex===t.zIndex?n._lastSortedIndex-t._lastSortedIndex:n.zIndex-t.zIndex}var cr=function(n){function t(){var e=n.call(this)||this;return e.children=[],e.sortableChildren=_t.SORTABLE_CHILDREN,e.sortDirty=!1,e}return Cw(t,n),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(i.length>1)for(var o=0;o<i.length;o++)this.addChild(i[o]);else{var s=i[0];s.parent&&s.parent.removeChild(s),s.parent=this,this.sortDirty=!0,s.transform._parentID=-1,this.children.push(s),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",s,this,this.children.length-1),s.emit("added",this)}return i[0]},t.prototype.addChildAt=function(e,i){if(i<0||i>this.children.length)throw new Error(e+"addChildAt: The index "+i+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(i,0,e),this._boundsID++,this.onChildrenChange(i),e.emit("added",this),this.emit("childAdded",e,this,i),e},t.prototype.swapChildren=function(e,i){if(e!==i){var r=this.getChildIndex(e),o=this.getChildIndex(i);this.children[r]=i,this.children[o]=e,this.onChildrenChange(r<o?r:o)}},t.prototype.getChildIndex=function(e){var i=this.children.indexOf(e);if(-1===i)throw new Error("The supplied DisplayObject must be a child of the caller");return i},t.prototype.setChildIndex=function(e,i){if(i<0||i>=this.children.length)throw new Error("The index "+i+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(e);Ad(this.children,r,1),this.children.splice(i,0,e),this.onChildrenChange(i)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(i.length>1)for(var o=0;o<i.length;o++)this.removeChild(i[o]);else{var s=i[0],a=this.children.indexOf(s);if(-1===a)return null;s.parent=null,s.transform._parentID=-1,Ad(this.children,a,1),this._boundsID++,this.onChildrenChange(a),s.emit("removed",this),this.emit("childRemoved",s,this,a)}return i[0]},t.prototype.removeChildAt=function(e){var i=this.getChildAt(e);return i.parent=null,i.transform._parentID=-1,Ad(this.children,e,1),this._boundsID++,this.onChildrenChange(e),i.emit("removed",this),this.emit("childRemoved",i,this,e),i},t.prototype.removeChildren=function(e,i){void 0===e&&(e=0),void 0===i&&(i=this.children.length);var a,s=i-e;if(s>0&&s<=i){a=this.children.splice(e,s);for(var l=0;l<a.length;++l)a[l].parent=null,a[l].transform&&(a[l].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(e),l=0;l<a.length;++l)a[l].emit("removed",this),this.emit("childRemoved",a[l],this,l);return a}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,i=0,r=this.children.length;i<r;++i){var o=this.children[i];o._lastSortedIndex=i,!e&&0!==o.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(Woe),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,i=this.children.length;e<i;++e){var r=this.children[e];r.visible&&r.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var i=this.children[e];if(i.visible&&i.renderable)if(i.calculateBounds(),i._mask){var r=i._mask.maskObject||i._mask;r.calculateBounds(),this._bounds.addBoundsMask(i._bounds,r._bounds)}else i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(e,i){void 0===i&&(i=!1);var r=n.prototype.getLocalBounds.call(this,e);if(!i)for(var o=0,s=this.children.length;o<s;++o){var a=this.children[o];a.visible&&a.updateTransform()}return r},t.prototype._calculateBounds=function(){},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var i=0,r=this.children.length;i<r;++i)this.children[i].render(e)}},t.prototype.renderAdvanced=function(e){var i=this.filters,r=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<i.length;o++)i[o].enabled&&this._enabledFilters.push(i[o])}var s=i&&this._enabledFilters&&this._enabledFilters.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==c1.NONE));s&&e.batch.flush(),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this._render(e),o=0;for(var a=this.children.length;o<a;o++)this.children[o].render(e);s&&e.batch.flush(),r&&e.mask.pop(this),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(e){n.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(i)for(var o=0;o<r.length;++o)r[o].destroy(e)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var i=this.getLocalBounds().width;this.scale.x=0!==i?e/i:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var i=this.getLocalBounds().height;this.scale.y=0!==i?e/i:1,this._height=e},enumerable:!1,configurable:!0}),t}(_r);cr.prototype.containerUpdateTransform=cr.prototype.updateTransform;var qL={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};_r.mixin(qL);var Mw=function(){function n(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ta.tablet||Ta.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(n.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),n.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},n.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},n.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))},n.prototype.deactivate=function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))},n.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var e=t.children;if(e)for(var i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},n.prototype.update=function(){var t=performance.now();if(!(Ta.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=e.top,a=this.renderer,l=a.width,c=a.height,u=a.resolution,y=e.width/l*u,O=e.height/c*u,P=this.div;P.style.left=e.left+"px",P.style.top=r+"px",P.style.width=l+"px",P.style.height=c+"px";for(var I=0;I<this.children.length;I++){var D=this.children[I];if(D.renderId!==this.renderId)D._accessibleActive=!1,Ad(this.children,I,1),this.div.removeChild(D._accessibleDiv),this.pool.push(D._accessibleDiv),D._accessibleDiv=null,I--;else{P=D._accessibleDiv;var B=D.hitArea,Y=D.worldTransform;D.hitArea?(P.style.left=(Y.tx+B.x*Y.a)*y+"px",P.style.top=(Y.ty+B.y*Y.d)*O+"px",P.style.width=B.width*Y.a*y+"px",P.style.height=B.height*Y.d*O+"px"):(B=D.getBounds(),this.capHitArea(B),P.style.left=B.x*y+"px",P.style.top=B.y*O+"px",P.style.width=B.width*y+"px",P.style.height=B.height*O+"px",P.title!==D.accessibleTitle&&null!==D.accessibleTitle&&(P.title=D.accessibleTitle),P.getAttribute("aria-label")!==D.accessibleHint&&null!==D.accessibleHint&&P.setAttribute("aria-label",D.accessibleHint)),(D.accessibleTitle!==P.title||D.tabIndex!==P.tabIndex)&&(P.title=D.accessibleTitle,P.tabIndex=D.tabIndex,this.debug&&this.updateDebugHTML(P))}}this.renderId++}},n.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},n.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,i=e.width,r=e.height;t.x+t.width>i&&(t.width=i-t.x),t.y+t.height>r&&(t.height=r-t.y)},n.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:(!t.accessibleHint||null===t.accessibleHint)&&(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},n.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,i=t.target.displayObject,r=e.eventData;e.dispatchEvent(i,"click",r),e.dispatchEvent(i,"pointertap",r),e.dispatchEvent(i,"tap",r)},n.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},n.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},n.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},n.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},n.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},n}();_t.TARGET_FPMS=.06;var Wl=(()=>{return(n=Wl||(Wl={}))[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",Wl;var n})(),Ow=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=r}return n.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},n.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},n}(),Do=function(){function n(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Ow(null,null,1/0),this.deltaMS=1/_t.TARGET_FPMS,this.elapsedMS=1/_t.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return n.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e,i){return void 0===i&&(i=Wl.NORMAL),this._addListener(new Ow(t,e,i))},n.prototype.addOnce=function(t,e,i){return void 0===i&&(i=Wl.NORMAL),this._addListener(new Ow(t,e,i,!0))},n.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},n.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*_t.TARGET_FPMS;for(var r=this._head,o=r.next;o;)o=o.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(n.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,_t.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"shared",{get:function(){if(!n._shared){var t=n._shared=new n;t.autoStart=!0,t._protected=!0}return n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,"system",{get:function(){if(!n._system){var t=n._system=new n;t.autoStart=!0,t._protected=!0}return n._system},enumerable:!1,configurable:!0}),n}(),QL=function(){function n(){}return n.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(i){this._ticker&&this._ticker.remove(this.render,this),this._ticker=i,i&&i.add(this.render,this,Wl.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Do.shared:new Do,t.autoStart&&this.start()},n.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},n}(),ww=function(){function n(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new qi,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(n.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),n.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},n.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},n.prototype.reset=function(){this.isPrimary=!1},n}(),Pw=function(n,t){return(Pw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},ZL=function(){function n(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return n.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},n.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},n}(),h1=function(){function n(t){this._pointerId=t,this._flags=n.FLAGS.NONE}return n.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(n.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"none",{get:function(){return this._flags===n.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"over",{get:function(){return 0!=(this._flags&n.FLAGS.OVER)},set:function(t){this._doSet(n.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rightDown",{get:function(){return 0!=(this._flags&n.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(n.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leftDown",{get:function(){return 0!=(this._flags&n.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(n.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),n.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),n}(),Qoe=function(){function n(){this._tempPoint=new qi}return n.prototype.recursiveFindHit=function(t,e,i,r,o){if(!e||!e.visible)return!1;var s=t.data.global,a=!1,l=o=e.interactive||o,c=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,c=!1)),l=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(r=!1)),c&&e.interactiveChildren&&e.children)for(var u=e.children,y=u.length-1;y>=0;y--){var O=u[y],P=this.recursiveFindHit(t,O,i,r,l);if(P){if(!O.parent)continue;l=!1,P&&(t.target&&(r=!1),a=!0)}}return o&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),i&&i(t,e,!!a))),a},n.prototype.findHit=function(t,e,i,r){this.recursiveFindHit(t,e,i,r,!1)},n}(),e4={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(n){n?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};_r.mixin(e4);var f1={target:null,data:{global:null}},xw=function(n){function t(e,i){var r=n.call(this)||this;return i=i||{},r.renderer=e,r.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,r.interactionFrequency=i.interactionFrequency||10,r.mouse=new ww,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new ZL,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!("PointerEvent"in self),r.supportsTouchEvents="ontouchstart"in self,r.supportsPointerEvents=!!self.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new Qoe,r._tempDisplayObject=new Tw,r._eventListenerOptions={capture:!0,passive:!1},r._useSystemTicker=void 0===i.useSystemTicker||i.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function Joe(n,t){function e(){this.constructor=n}Pw(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,i){return f1.target=null,f1.data.global=e,i||(i=this.lastObjectRendered),this.processInteractive(f1,i,null,!0),f1.target},t.prototype.setTargetElement=function(e,i){void 0===i&&(i=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=i,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Do.system.add(this.tickerUpdate,this,Wl.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){!this.tickerAdded||(Do.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){e=e||"default";var i=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(i=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var r=this.cursorStyles[e];if(r)switch(typeof r){case"string":i&&(this.interactionDOMElement.style.cursor=r);break;case"function":r(e);break;case"object":i&&Object.assign(this.interactionDOMElement.style,r)}else i&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,i,r){(!r.stopPropagationHint||e===r.stopsPropagatingAt)&&(r.currentTarget=e,r.type=i,e.emit(i,r),e[i]&&e[i](r))},t.prototype.delayDispatchEvent=function(e,i,r){this.delayedEvents.push({displayObject:e,eventString:i,eventData:r})},t.prototype.mapPositionToPoint=function(e,i,r){var o;o=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var s=1/this.resolution;e.x=this.interactionDOMElement.width/o.width*(i-o.left)*s,e.y=this.interactionDOMElement.height/o.height*(r-o.top)*s},t.prototype.processInteractive=function(e,i,r,o){var s=this.search.findHit(e,i,r,o),a=this.delayedEvents;if(!a.length)return s;e.stopPropagationHint=!1;var l=a.length;this.delayedEvents=[];for(var c=0;c<l;c++){var u=a[c],y=u.displayObject,O=u.eventString,P=u.eventData;P.stopsPropagatingAt===y&&(P.stopPropagationHint=!0),this.dispatchEvent(y,O,P)}return s},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var i=this.normalizeToPointerData(e);this.autoPreventDefault&&i[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var o=i.length,s=0;s<o;s++){var a=i[s],l=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,l);c.data.originalEvent=e,this.processInteractive(c,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",c),"touch"===a.pointerType?this.emit("touchstart",c):"mouse"!==a.pointerType&&"pen"!==a.pointerType||this.emit(2===a.button?"rightdown":"mousedown",this.eventData)}}},t.prototype.processPointerDown=function(e,i,r){var o=e.data,s=e.data.identifier;if(r)if(i.trackedPointers[s]||(i.trackedPointers[s]=new h1(s)),this.dispatchEvent(i,"pointerdown",e),"touch"===o.pointerType)this.dispatchEvent(i,"touchstart",e);else if("mouse"===o.pointerType||"pen"===o.pointerType){var a=2===o.button;a?i.trackedPointers[s].rightDown=!0:i.trackedPointers[s].leftDown=!0,this.dispatchEvent(i,a?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,i,r){for(var o=this.normalizeToPointerData(e),s=o.length,a=e.target!==this.interactionDOMElement?"outside":"",l=0;l<s;l++){var c=o[l],u=this.getInteractionDataForPointerId(c),y=this.configureInteractionEventForDOMEvent(this.eventData,c,u);y.data.originalEvent=e,this.processInteractive(y,this.lastObjectRendered,r,i||!a),this.emit(i?"pointercancel":"pointerup"+a,y),"mouse"===c.pointerType||"pen"===c.pointerType?this.emit(2===c.button?"rightup"+a:"mouseup"+a,y):"touch"===c.pointerType&&(this.emit(i?"touchcancel":"touchend"+a,y),this.releaseInteractionDataForPointerId(c.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,i){var r=e.data,o=e.data.identifier;void 0!==i.trackedPointers[o]&&(delete i.trackedPointers[o],this.dispatchEvent(i,"pointercancel",e),"touch"===r.pointerType&&this.dispatchEvent(i,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,i,r){var o=e.data,s=e.data.identifier,a=i.trackedPointers[s],l="touch"===o.pointerType,c="mouse"===o.pointerType||"pen"===o.pointerType,u=!1;if(c){var y=2===o.button,O=h1.FLAGS,I=void 0!==a&&a.flags&(y?O.RIGHT_DOWN:O.LEFT_DOWN);r?(this.dispatchEvent(i,y?"rightup":"mouseup",e),I&&(this.dispatchEvent(i,y?"rightclick":"click",e),u=!0)):I&&this.dispatchEvent(i,y?"rightupoutside":"mouseupoutside",e),a&&(y?a.rightDown=!1:a.leftDown=!1)}r?(this.dispatchEvent(i,"pointerup",e),l&&this.dispatchEvent(i,"touchend",e),a&&((!c||u)&&this.dispatchEvent(i,"pointertap",e),l&&(this.dispatchEvent(i,"tap",e),a.over=!1))):a&&(this.dispatchEvent(i,"pointerupoutside",e),l&&this.dispatchEvent(i,"touchendoutside",e)),a&&a.none&&delete i.trackedPointers[s]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var i=this.normalizeToPointerData(e);("mouse"===i[0].pointerType||"pen"===i[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var r=i.length,o=0;o<r;o++){var s=i[o],a=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,a);l.data.originalEvent=e,this.processInteractive(l,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),"touch"===s.pointerType&&this.emit("touchmove",l),("mouse"===s.pointerType||"pen"===s.pointerType)&&this.emit("mousemove",l)}"mouse"===i[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,i,r){var o=e.data,s="touch"===o.pointerType,a="mouse"===o.pointerType||"pen"===o.pointerType;a&&this.processPointerOverOut(e,i,r),(!this.moveWhenInside||r)&&(this.dispatchEvent(i,"pointermove",e),s&&this.dispatchEvent(i,"touchmove",e),a&&this.dispatchEvent(i,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e)[0];"mouse"===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(r),s=this.configureInteractionEventForDOMEvent(this.eventData,r,o);s.data.originalEvent=r,this.processInteractive(s,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",s),"mouse"===r.pointerType||"pen"===r.pointerType?this.emit("mouseout",s):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(e,i,r){var o=e.data,s=e.data.identifier,a="mouse"===o.pointerType||"pen"===o.pointerType,l=i.trackedPointers[s];r&&!l&&(l=i.trackedPointers[s]=new h1(s)),void 0!==l&&(r&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(i,"pointerover",e),a&&this.delayDispatchEvent(i,"mouseover",e)),a&&null===this.cursor&&(this.cursor=i.cursor)):l.over&&(l.over=!1,this.dispatchEvent(i,"pointerout",this.eventData),a&&this.dispatchEvent(i,"mouseout",e),l.none&&delete i.trackedPointers[s]))},t.prototype.onPointerOver=function(e){var r=this.normalizeToPointerData(e)[0],o=this.getInteractionDataForPointerId(r),s=this.configureInteractionEventForDOMEvent(this.eventData,r,o);s.data.originalEvent=r,"mouse"===r.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",s),("mouse"===r.pointerType||"pen"===r.pointerType)&&this.emit("mouseover",s)},t.prototype.getInteractionDataForPointerId=function(e){var r,i=e.pointerId;return 1===i||"mouse"===e.pointerType?r=this.mouse:this.activeInteractionData[i]?r=this.activeInteractionData[i]:((r=this.interactionDataPool.pop()||new ww).identifier=i,this.activeInteractionData[i]=r),r.copyEvent(e),r},t.prototype.releaseInteractionDataForPointerId=function(e){var i=this.activeInteractionData[e];i&&(delete this.activeInteractionData[e],i.reset(),this.interactionDataPool.push(i))},t.prototype.configureInteractionEventForDOMEvent=function(e,i,r){return e.data=r,this.mapPositionToPoint(r.global,i.clientX,i.clientY),"touch"===i.pointerType&&(i.globalX=r.global.x,i.globalY=r.global.y),r.originalEvent=i,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var i=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,o=e.changedTouches.length;r<o;r++){var s=e.changedTouches[r];void 0===s.button&&(s.button=e.touches.length?1:0),void 0===s.buttons&&(s.buttons=e.touches.length?1:0),void 0===s.isPrimary&&(s.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===s.width&&(s.width=s.radiusX||1),void 0===s.height&&(s.height=s.radiusY||1),void 0===s.tiltX&&(s.tiltX=0),void 0===s.tiltY&&(s.tiltY=0),void 0===s.pointerType&&(s.pointerType="touch"),void 0===s.pointerId&&(s.pointerId=s.identifier||0),void 0===s.pressure&&(s.pressure=s.force||.5),void 0===s.twist&&(s.twist=0),void 0===s.tangentialPressure&&(s.tangentialPressure=0),void 0===s.layerX&&(s.layerX=s.offsetX=s.clientX),void 0===s.layerY&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,i.push(s)}else if(!self.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof self.PointerEvent)){var a=e;void 0===a.isPrimary&&(a.isPrimary=!0),void 0===a.width&&(a.width=1),void 0===a.height&&(a.height=1),void 0===a.tiltX&&(a.tiltX=0),void 0===a.tiltY&&(a.tiltY=0),void 0===a.pointerType&&(a.pointerType="mouse"),void 0===a.pointerId&&(a.pointerId=1),void 0===a.pressure&&(a.pressure=.5),void 0===a.twist&&(a.twist=0),void 0===a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0,i.push(a)}else i.push(e);return i},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(Dg()),Vo=function(){function n(t){this.items=[],this._name=t,this._aliasCount=0}return n.prototype.emit=function(t,e,i,r,o,s,a,l){if(arguments.length>8)throw new Error("max arguments reached");var c=this,u=c.name,y=c.items;this._aliasCount++;for(var O=0,P=y.length;O<P;O++)y[O][u](t,e,i,r,o,s,a,l);return y===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},n.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},n.prototype.contains=function(t){return-1!==this.items.indexOf(t)},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n}();Object.defineProperties(Vo.prototype,{dispatch:{value:Vo.prototype.emit},run:{value:Vo.prototype.emit}}),_t.PREFER_ENV=Ta.any?Ro.WEBGL:Ro.WEBGL2,_t.STRICT_TEXTURE_CACHE=!1;var dv=[];function p1(n,t){if(!n)return null;var e="";if("string"==typeof n){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);i&&(e=i[1].toLowerCase())}for(var r=dv.length-1;r>=0;--r){var o=dv[r];if(o.test&&o.test(n,e))return new o(n,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var Aw=function(n,t){return(Aw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function Ki(n,t){function e(){this.constructor=n}Aw(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Rw=function(){return Rw=Object.assign||function(t){for(var i,e=arguments,r=1,o=arguments.length;r<o;r++)for(var s in i=e[r])Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);return t},Rw.apply(this,arguments)},Bd=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Vo("setRealSize"),this.onUpdate=new Vo("update"),this.onError=new Vo("onError")}return n.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},n.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},n.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(n.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.destroyed||this.onUpdate.emit()},n.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.style=function(t,e,i){return!1},n.prototype.dispose=function(){},n.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},n.test=function(t,e){return!1},n}(),Bg=function(n){function t(e,i){var r=this,o=i||{},s=o.width,a=o.height;if(!s||!a)throw new Error("BufferResource width or height invalid");return(r=n.call(this,s,a)||this).data=e,r}return Ki(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Io.UNPACK);var s=i.realWidth,a=i.realHeight;return r.width===s&&r.height===a?o.texSubImage2D(i.target,0,0,0,s,a,i.format,r.type,this.data):(r.width=s,r.height=a,o.texImage2D(i.target,0,r.internalFormat,s,a,0,i.format,r.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(Bd),ese={scaleMode:io.NEAREST,format:ze.RGBA,alphaMode:Io.NPM},di=function(n){function t(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=n.call(this)||this,o=(i=i||{}).alphaMode,s=i.mipmap,a=i.anisotropicLevel,l=i.scaleMode,c=i.width,u=i.height,y=i.wrapMode,O=i.format,P=i.type,I=i.target,D=i.resolution;return e&&!(e instanceof Bd)&&((e=p1(e,i.resourceOptions)).internal=!0),r.resolution=D||_t.RESOLUTION,r.width=Math.round((c||0)*r.resolution)/r.resolution,r.height=Math.round((u||0)*r.resolution)/r.resolution,r._mipmap=void 0!==s?s:_t.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:_t.ANISOTROPIC_LEVEL,r._wrapMode=y||_t.WRAP_MODE,r._scaleMode=void 0!==l?l:_t.SCALE_MODE,r.format=O||ze.RGBA,r.type=P||Pt.UNSIGNED_BYTE,r.target=I||qs.TEXTURE_2D,r.alphaMode=void 0!==o?o:Io.UNPACK,r.uid=vh(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=c>0&&u>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return Ki(t,n),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,i){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==i&&i!==this.mipmap&&(this.mipmap=i,r=!0),r&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,i,r){return this.setRealSize(e*(r=r||this.resolution),i*r,r)},t.prototype.setRealSize=function(e,i,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(i)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=mw(this.realWidth)&&mw(this.realHeight)},t.prototype.setResolution=function(e){var i=this.resolution;return i===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*i)/e,this.height=Math.round(this.height*i)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Qa[this.cacheId],delete Ks[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,i,r){void 0===r&&(r=_t.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+vh()),s=e._pixiId);var l=Qa[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return l||((l=new t(e,i)).cacheId=s,t.addToCache(l,s)),l},t.fromBuffer=function(e,i,r,o){e=e||new Float32Array(i*r*4);var s=new Bg(e,{width:i,height:r}),a=e instanceof Float32Array?Pt.FLOAT:Pt.UNSIGNED_BYTE;return new t(s,Object.assign(ese,o||{width:i,height:r,type:a}))},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),Qa[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),Qa[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=Qa[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete Qa[e],i}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)delete Qa[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(Dg()),g1=function(n){function t(e,i){var r=this,o=i||{};(r=n.call(this,o.width,o.height)||this).items=[],r.itemDirtyIds=[];for(var l=0;l<e;l++){var c=new di;r.items.push(c),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return Ki(t,n),t.prototype.initFromArray=function(e,i){for(var r=0;r<this.length;r++)!e[r]||(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):this.addResourceAt(e[r]instanceof Bd?e[r]:p1(e[r],i),r))},t.prototype.dispose=function(){for(var e=0,i=this.length;e<i;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,i){if(!this.items[i])throw new Error("Index "+i+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[i].setResource(e),this},t.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");n.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},t.prototype.unbind=function(e){n.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var r=this.items.map(function(o){return o.resource}).filter(function(o){return o}).map(function(o){return o.load()});return this._load=Promise.all(r).then(function(){var o=e.items[0];return e.resize(o.realWidth,o.realHeight),Promise.resolve(e)}),this._load},t}(Bd),Iw=function(n){function t(e,i){var l,c,r=this,o=i||{},s=o.width,a=o.height;return Array.isArray(e)?(l=e,c=e.length):c=e,r=n.call(this,c,{width:s,height:a})||this,l&&r.initFromArray(l,i),r}return Ki(t,n),t.prototype.addBaseTextureAt=function(e,i){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,i),this},t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=qs.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,i,r){var o=this,s=o.length,a=o.itemDirtyIds,l=o.items,c=e.gl;r.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,s,0,i.format,r.type,null);for(var u=0;u<s;u++){var y=l[u];a[u]<y.dirtyId&&(a[u]=y.dirtyId,y.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,u,y.resource.width,y.resource.height,1,i.format,r.type,y.resource.source))}return!0},t}(g1),Sc=function(n){function t(e){var i=this;return(i=n.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,i.noSubImage=!1,i}return Ki(t,n),t.crossOrigin=function(e,i,r){void 0===r&&0!==i.indexOf("data:")?e.crossOrigin=HL(i):!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous")},t.prototype.upload=function(e,i,r,o){var s=e.gl,a=i.realWidth,l=i.realHeight;return o=o||this.source,s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Io.UNPACK),this.noSubImage||i.target!==s.TEXTURE_2D||r.width!==a||r.height!==l?(r.width=a,r.height=l,s.texImage2D(i.target,0,r.internalFormat,i.format,r.type,o)):s.texSubImage2D(s.TEXTURE_2D,0,0,0,i.format,r.type,o),!0},t.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),n.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(Bd),fv=function(n){function t(e){return n.call(this,e)||this}return Ki(t,n),t.test=function(e){var i=self.OffscreenCanvas;return!!(i&&e instanceof i)||self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(Sc),Dw=function(n){function t(e,i){var r=this,o=i||{},s=o.width,a=o.height,l=o.autoLoad,c=o.linkBaseTexture;if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");r=n.call(this,6,{width:s,height:a})||this;for(var u=0;u<t.SIDES;u++)r.items[u].target=qs.TEXTURE_CUBE_MAP_POSITIVE_X+u;return r.linkBaseTexture=!1!==c,e&&r.initFromArray(e,i),!1!==l&&r.load(),r}return Ki(t,n),t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=qs.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,i,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[i])throw new Error("Index "+i+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,i)}else e.target=qs.TEXTURE_CUBE_MAP_POSITIVE_X+i,e.parentTextureArray=this.baseTexture,this.items[i]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[i]=e,this},t.prototype.upload=function(e,i,r){for(var o=this.itemDirtyIds,s=0;s<t.SIDES;s++){var a=this.items[s];o[s]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),o[s]=a.dirtyId):o[s]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),o[s]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(g1),_1=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLImageElement)){var o=new Image;Sc.crossOrigin(o,e,i.crossorigin),o.src=e,e=o}return r=n.call(this,e)||this,!e.complete&&!!r._width&&!!r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:_t.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return Ki(t,n),t.prototype.load=function(e){var i=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(r,o){var s=i.source;i.url=s.src;var a=function(){i.destroyed||(s.onload=null,s.onerror=null,i.resize(s.width,s.height),i._load=null,r(i.createBitmap?i.process():i))};s.complete&&s.src?a():(s.onload=a,s.onerror=function(l){o(l),i.onError.emit(l)})})),this._load},t.prototype.process=function(){var e=this,i=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var r=self.createImageBitmap;return this._process=fetch(i.src,{mode:i.crossOrigin&&"anonymous"!==i.crossOrigin?"no-cors":"cors"}).then(function(s){return s.blob()}).then(function(s){return r(s,0,0,i.width,i.height,{premultiplyAlpha:e.alphaMode===Io.UNPACK?"premultiply":"none"})}).then(function(s){return e.destroyed?Promise.reject():(e.bitmap=s,e.update(),e._process=null,Promise.resolve(e))}),this._process},t.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return n.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(n.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var o=!0,s=i._glTextures;for(var a in s){var l=s[a];if(l!==r&&l.dirtyId!==i.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,n.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(Sc),Nw=function(n){function t(e,i){var r=this;return i=i||{},(r=n.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return Ki(t,n),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(i){if(e._resolve=function(){e.resize(e.source.width,e.source.height),i(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},t.prototype._loadSvg=function(){var e=this,i=new Image;Sc.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(r){!e._resolve||(i.onerror=null,e.onError.emit(r))},i.onload=function(){if(e._resolve){var r=i.width,o=i.height;if(!r||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var s=r*e.scale,a=o*e.scale;(e._overrideWidth||e._overrideHeight)&&(s=e._overrideWidth||e._overrideHeight/o*r,a=e._overrideHeight||e._overrideWidth/r*o),s=Math.round(s),a=Math.round(a);var l=e.source;l.width=s,l.height=a,l._pixiId="canvas_"+vh(),l.getContext("2d").drawImage(i,0,0,r,o,0,0,s,a),e._resolve(),e._resolve=null}}},t.getSize=function(e){var i=t.SVG_SIZE.exec(e),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},t.prototype.dispose=function(){n.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,i){return"svg"===i||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(Sc),kw=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),Sc.crossOrigin(o,e[0].src||e[0],i.crossorigin);for(var a=0;a<e.length;++a){var l=document.createElement("source"),c=e[a],u=c.src,y=c.mime,O=(u=u||e[a]).split("?").shift().toLowerCase(),P=O.substr(O.lastIndexOf(".")+1);y=y||t.MIME_TYPES[P]||"video/"+P,l.src=u,l.type=y,o.appendChild(l)}e=o}return(r=n.call(this,e)||this).noSubImage=!0,r._autoUpdate=!0,r._isConnectedToTicker=!1,r._updateFPS=i.updateFPS||0,r._msToNextUpdate=0,r.autoPlay=!1!==i.autoPlay,r._load=null,r._resolve=null,r._onCanPlay=r._onCanPlay.bind(r),r._onError=r._onError.bind(r),!1!==i.autoLoad&&r.load(),r}return Ki(t,n),t.prototype.update=function(e){this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-Do.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(n.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){e.valid?r(e):(e._resolve=r,i.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Do.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Do.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var i=this.valid;this.resize(e.videoWidth,e.videoHeight),!i&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(Do.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Do.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Do.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,i){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(i)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(Sc),Fw=function(n){function t(e){return n.call(this,e)||this}return Ki(t,n),t.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},t}(Sc);dv.push(_1,Fw,fv,kw,Nw,Bg,Dw,Iw);var t4={__proto__:null,Resource:Bd,BaseImageResource:Sc,INSTALLED:dv,autoDetectResource:p1,AbstractMultiResource:g1,ArrayResource:Iw,BufferResource:Bg,CanvasResource:fv,CubeResource:Dw,ImageResource:_1,SVGResource:Nw,VideoResource:kw,ImageBitmapResource:Fw},tse=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Io.UNPACK);var s=i.realWidth,a=i.realHeight;return r.width===s&&r.height===a?o.texSubImage2D(i.target,0,0,0,s,a,i.format,r.type,this.data):(r.width=s,r.height=a,o.texImage2D(i.target,0,r.internalFormat,s,a,0,i.format,r.type,this.data)),!0},t}(Bg),m1=function(){function n(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Vo("disposeFramebuffer"),this.multisample=Un.NONE}return Object.defineProperty(n.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),n.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new di(null,{scaleMode:io.NEAREST,resolution:1,mipmap:xs.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.addDepthTexture=function(t){return this.depthTexture=t||new di(new tse(null,{width:this.width,height:this.height}),{scaleMode:io.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:xs.OFF,format:ze.DEPTH_COMPONENT,type:Pt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i];r.setSize(t/(o=r.resolution),e/o)}var o;this.depthTexture&&this.depthTexture.setSize(t/(o=this.depthTexture.resolution),e/o)}},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},n}(),pv=function(n){function t(e){var i=this;if("number"==typeof e){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];e={width:r,height:o,scaleMode:s,resolution:a}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:Un.NONE,(i=n.call(this,null,e)||this).mipmap=xs.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new m1(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=e.multisample,i.maskStack=[],i.filterStack=[{}],i}return Ki(t,n),t.prototype.resize=function(e,i){this.framebuffer.resize(e*this.resolution,i*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),n.prototype.dispose.call(this)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(di),Bw=function(){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return n.prototype.set=function(t,e,i){var r=e.width,o=e.height;if(i){var s=t.width/2/r,a=t.height/2/o,l=t.x/r+s,c=t.y/o+a;i=rr.add(i,rr.NW),this.x0=l+s*rr.uX(i),this.y0=c+a*rr.uY(i),i=rr.add(i,2),this.x1=l+s*rr.uX(i),this.y1=c+a*rr.uY(i),i=rr.add(i,2),this.x2=l+s*rr.uX(i),this.y2=c+a*rr.uY(i),i=rr.add(i,2),this.x3=l+s*rr.uX(i),this.y3=c+a*rr.uY(i)}else this.x0=t.x/r,this.y0=t.y/o,this.x1=(t.x+t.width)/r,this.y1=t.y/o,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/o,this.x3=t.x/r,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},n.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},n}(),n4=new Bw,zt=function(n){function t(e,i,r,o,s,a){var l=n.call(this)||this;if(l.noFrame=!1,i||(l.noFrame=!0,i=new ai(0,0,1,1)),e instanceof t&&(e=e.baseTexture),l.baseTexture=e,l._frame=i,l.trim=o,l.valid=!1,l._uvs=n4,l.uvMatrix=null,l.orig=r||i,l._rotate=Number(s||0),!0===s)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new qi(a.x,a.y):new qi(0,0),l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=i:e.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&e.on("update",l.onBaseTextureUpdated,l),l}return Ki(t,n),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var i=this.baseTexture.resource;i&&i.url&&Ks[i.url]&&t.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),i=this._frame===this.orig?e:this.orig.clone(),r=new t(this.baseTexture,!this.noFrame&&e,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r},t.prototype.updateUvs=function(){this._uvs===n4&&(this._uvs=new Bw),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,i,r){void 0===i&&(i={}),void 0===r&&(r=_t.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:e instanceof di?(e.cacheId||(e.cacheId=(i&&i.pixiIdPrefix||"pixiid")+"-"+vh(),di.addToCache(e,e.cacheId)),s=e.cacheId):(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+vh()),s=e._pixiId);var l=Ks[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return l||e instanceof di?!l&&e instanceof di&&(l=new t(e),t.addToCache(l,s)):(i.resolution||(i.resolution=cv(e)),(l=new t(new di(e,i))).baseTexture.cacheId=s,di.addToCache(l.baseTexture,s),t.addToCache(l,s)),l},t.fromURL=function(e,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),o=t.from(e,Object.assign({resourceOptions:r},i),!1),s=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):s.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(e,i,r,o){return new t(di.fromBuffer(e,i,r,o))},t.fromLoader=function(e,i,r,o){var s=new di(e,Object.assign({scaleMode:_t.SCALE_MODE,resolution:cv(i)},o)),a=s.resource;a instanceof _1&&(a.url=i);var l=new t(s);return r||(r=i),di.addToCache(l.baseTexture,r),t.addToCache(l,r),r!==i&&(di.addToCache(l.baseTexture,i),t.addToCache(l,i)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(c){l.baseTexture.once("loaded",function(){return c(l)})})},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),Ks[i]&&console.warn("Texture added to the cache with an id ["+i+"] that already had an entry"),Ks[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=Ks[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete Ks[e],i}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)Ks[e.textureCacheIds[o]]===e&&delete Ks[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var i=e.x,r=e.y,o=e.width,s=e.height,a=i+o>this.baseTexture.width,l=r+s>this.baseTexture.height;if(a||l)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.width+" "+(a&&l?"and":"or")+" Y: "+r+" + "+s+" = "+(r+s)+" > "+this.baseTexture.height);this.valid=o&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(Dg());function v1(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}zt.EMPTY=new zt(new di),v1(zt.EMPTY),v1(zt.EMPTY.baseTexture),zt.WHITE=function nse(){var n=document.createElement("canvas");n.width=16,n.height=16;var t=n.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new zt(new di(new fv(n)))}(),v1(zt.WHITE),v1(zt.WHITE.baseTexture);var Za=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return Ki(t,n),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i,r){void 0===r&&(r=!0);var o=this.baseTexture.resolution,s=Math.round(e*o)/o,a=Math.round(i*o)/o;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,r&&this.baseTexture.resize(s,a),this.updateUvs()},t.prototype.setResolution=function(e){var i=this.baseTexture;i.resolution!==e&&(i.setResolution(e),this.resize(i.width,i.height,!1))},t.create=function(e){for(var i=arguments,r=[],o=1;o<arguments.length;o++)r[o-1]=i[o];return"number"==typeof e&&(Ec("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:r[0],scaleMode:r[1],resolution:r[2]}),new t(new pv(e))},t}(zt),i4=function(){function n(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return n.prototype.createTexture=function(t,e,i){void 0===i&&(i=Un.NONE);var r=new pv(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new Za(r)},n.prototype.getOptimalTexture=function(t,e,i,r){var o;void 0===i&&(i=1),void 0===r&&(r=Un.NONE),t=Math.ceil(t*i),e=Math.ceil(e*i),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?o=r>1?-r:-1:(o=((65535&(t=lv(t)))<<16|65535&(e=lv(e)))>>>0,r>1&&(o+=4294967296*r)),this.texturePool[o]||(this.texturePool[o]=[]);var s=this.texturePool[o].pop();return s||(s=this.createTexture(t,e,r)),s.filterPoolKey=o,s.setResolution(i),s},n.prototype.getFilterTexture=function(t,e,i){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||Un.NONE);return r.filterFrame=t.filterFrame,r},n.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},n.prototype.returnFilterTexture=function(t){this.returnTexture(t)},n.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},n.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},n.SCREEN_KEY=-1,n}(),Lw=function(){function n(t,e,i,r,o,s,a){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=Pt.FLOAT),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=o,this.start=s,this.instance=a}return n.prototype.destroy=function(){this.buffer=null},n.from=function(t,e,i,r,o){return new n(t,e,i,r,o)},n}(),ise=0,so=function(){function n(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=ise++,this.disposeRunner=new Vo("disposeBuffer")}return n.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(n.prototype,"index",{get:function(){return this.type===oo.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?oo.ELEMENT_ARRAY_BUFFER:oo.ARRAY_BUFFER},enumerable:!1,configurable:!0}),n.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new n(t)},n}(),rse={Float32Array,Uint32Array,Int32Array,Uint8Array},r4={5126:4,5123:2,5121:1},sse=0,ase={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Lg=function(){function n(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=sse++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Vo("disposeGeometry"),this.refCount=0}return n.prototype.addAttribute=function(t,e,i,r,o,s,a,l){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===l&&(l=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof so||(e instanceof Array&&(e=new Float32Array(e)),e=new so(e));var c=t.split("|");if(c.length>1){for(var u=0;u<c.length;u++)this.addAttribute(c[u],e,i,r,o);return this}var y=this.buffers.indexOf(e);return-1===y&&(this.buffers.push(e),y=this.buffers.length-1),this.attributes[t]=new Lw(y,i,r,o,s,a,l),this.instanced=this.instanced||l,this},n.prototype.getAttribute=function(t){return this.attributes[t]},n.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},n.prototype.addIndex=function(t){return t instanceof so||(t instanceof Array&&(t=new Uint16Array(t)),t=new so(t)),t.type=oo.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},n.prototype.getIndex=function(){return this.indexBuffer},n.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var r,t=[],e=[],i=new so;for(r in this.attributes){var o=this.attributes[r];t.push(this.buffers[o.buffer].data),e.push(o.size*r4[o.type]/4),o.buffer=0}for(i.data=function ose(n,t){for(var e=0,i=0,r={},o=0;o<n.length;o++)i+=t[o],e+=n[o].length;var s=new ArrayBuffer(4*e),a=null,l=0;for(o=0;o<n.length;o++){var c=t[o],u=n[o],y=s1(u);r[y]||(r[y]=new rse[y](s)),a=r[y];for(var O=0;O<u.length;O++)a[(O/c|0)*i+l+O%c]=u[O];l+=c}return new Float32Array(s)}(t,e),r=0;r<this.buffers.length;r++)this.buffers[r]!==this.indexBuffer&&this.buffers[r].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},n.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},n.prototype.clone=function(){for(var t=new n,e=0;e<this.buffers.length;e++)t.buffers[e]=new so(this.buffers[e].data.slice(0));for(var e in this.attributes){var i=this.attributes[e];t.attributes[e]=new Lw(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=oo.ELEMENT_ARRAY_BUFFER),t},n.merge=function(t){for(var s,e=new n,i=[],r=[],o=[],a=0;a<t.length;a++){s=t[a];for(var l=0;l<s.buffers.length;l++)r[l]=r[l]||0,r[l]+=s.buffers[l].data.length,o[l]=0}for(a=0;a<s.buffers.length;a++)i[a]=new(ase[s1(s.buffers[a].data)])(r[a]),e.buffers[a]=new so(i[a]);for(a=0;a<t.length;a++)for(s=t[a],l=0;l<s.buffers.length;l++)i[l].set(s.buffers[l].data,o[l]),o[l]+=s.buffers[l].data.length;if(e.attributes=s.attributes,s.indexBuffer){e.indexBuffer=e.buffers[s.buffers.indexOf(s.indexBuffer)],e.indexBuffer.type=oo.ELEMENT_ARRAY_BUFFER;var c=0,u=0,y=0,O=0;for(a=0;a<s.buffers.length;a++)if(s.buffers[a]!==s.indexBuffer){O=a;break}for(var a in s.attributes){var P=s.attributes[a];(0|P.buffer)===O&&(u+=P.size*r4[P.type]/4)}for(a=0;a<t.length;a++){var I=t[a].indexBuffer.data;for(l=0;l<I.length;l++)e.indexBuffer.data[l+y]+=c;c+=t[a].buffers[O].data.length/u,y+=I.length}}return e},n}(),o4=function(n){function t(){var e=n.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return Ki(t,n),t}(Lg),Uw=function(n){function t(){var e=n.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new so(e.vertices),e.uvBuffer=new so(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return Ki(t,n),t.prototype.map=function(e,i){var r=0,o=0;return this.uvs[0]=r,this.uvs[1]=o,this.uvs[2]=r+i.width/e.width,this.uvs[3]=o,this.uvs[4]=r+i.width/e.width,this.uvs[5]=o+i.height/e.height,this.uvs[6]=r,this.uvs[7]=o+i.height/e.height,o=i.y,this.vertices[0]=r=i.x,this.vertices[1]=o,this.vertices[2]=r+i.width,this.vertices[3]=o,this.vertices[4]=r+i.width,this.vertices[5]=o+i.height,this.vertices[6]=r,this.vertices[7]=o+i.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Lg),lse=0,yh=function(){function n(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=lse++,this.static=!!e,this.ubo=!!i,t instanceof so?(this.buffer=t,this.buffer.type=oo.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new so(new Float32Array(1)),this.buffer.type=oo.UNIFORM_BUFFER,this.autoManage=!0))}return n.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},n.prototype.add=function(t,e,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new n(e,i)},n.from=function(t,e,i){return new n(t,e,i)},n.uboFrom=function(t,e){return new n(t,null==e||e,!0)},n}(),s4=function(){function n(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Un.NONE,this.sourceFrame=new ai,this.destinationFrame=new ai,this.bindingSourceFrame=new ai,this.bindingDestinationFrame=new ai,this.filters=[],this.transform=null}return n.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},n}(),y1=[new qi,new qi,new qi,new qi],Gw=new xi,jw=function(){function n(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new i4,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new o4,this.quadUv=new Uw,this.tempRect=new ai,this.activeState={},this.globalUniforms=new yh({outputFrame:new ai,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return n.prototype.push=function(t,e){for(var i,r,o=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new s4,l=this.renderer.renderTexture,c=e[0].resolution,u=e[0].multisample,y=e[0].padding,O=e[0].autoFit,P=null===(i=e[0].legacy)||void 0===i||i,I=1;I<e.length;I++){var D=e[I];c=Math.min(c,D.resolution),u=Math.min(u,D.multisample),y=this.useMaxPadding?Math.max(y,D.padding):y+D.padding,O=O&&D.autoFit,P=P||null===(r=D.legacy)||void 0===r||r}if(1===s.length&&(this.defaultFilterStack[0].renderTexture=l.current),s.push(a),a.resolution=c,a.multisample=u,a.legacy=P,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(y),O){var B=this.tempRect.copyFrom(l.sourceFrame);o.projection.transform&&this.transformAABB(Gw.copyFrom(o.projection.transform).invert(),B),a.sourceFrame.fit(B)}this.roundFrame(a.sourceFrame,l.current?l.current.resolution:o.resolution,l.sourceFrame,l.destinationFrame,o.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,c,u),a.filters=e,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var Y=this.tempRect;Y.x=0,Y.y=0,Y.width=a.sourceFrame.width,Y.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=o.projection.transform,o.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,Y),o.framebuffer.clear(0,0,0,0)},n.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var o=r.inputSize,s=r.inputPixel,a=r.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=Math.round(o[0]*e.resolution),s[1]=Math.round(o[1]*e.resolution),s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=e.sourceFrame.width*o[2]-.5*s[2],a[3]=e.sourceFrame.height*o[3]-.5*s[3],e.legacy){var l=r.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var c=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,c.renderTexture,rs.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,y=this.getOptimalFilterTexture(u.width,u.height,e.resolution);y.filterFrame=u.filterFrame;var O=0;for(O=0;O<i.length-1;++O){1===O&&e.multisample>1&&((y=this.getOptimalFilterTexture(u.width,u.height,e.resolution)).filterFrame=u.filterFrame),i[O].apply(this,u,y,rs.CLEAR,e);var P=u;u=y,y=P}i[O].apply(this,u,c.renderTexture,rs.BLEND,e),O>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(y)}e.clear(),this.statePool.push(e)},n.prototype.bindAndClear=function(t,e){void 0===e&&(e=rs.CLEAR);var i=this.renderer,r=i.renderTexture,o=i.state;if(this.renderer.projection.transform=t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,t&&t.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=t.filterFrame.width,s.height=t.filterFrame.height,r.bind(t,t.filterFrame,s)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(e===rs.CLEAR||e===rs.BLIT&&(1&o.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)},n.prototype.applyFilter=function(t,e,i,r){var o=this.renderer;o.state.set(t.state),this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Ho.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Ho.TRIANGLE_STRIP))},n.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,o=i.destinationFrame,s=e._texture.orig,a=t.set(o.width,0,0,o.height,r.x,r.y),l=e.worldTransform.copyTo(xi.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/s.width,1/s.height),a.translate(e.anchor.x,e.anchor.y),a},n.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},n.prototype.getOptimalFilterTexture=function(t,e,i,r){return void 0===i&&(i=1),void 0===r&&(r=Un.NONE),this.texturePool.getOptimalTexture(t,e,i,r)},n.prototype.getFilterTexture=function(t,e,i){if("number"==typeof t){var r=t;t=e,e=r}var o=this.texturePool.getOptimalTexture((t=t||this.activeState.renderTexture).width,t.height,e||t.resolution,i||Un.NONE);return o.filterFrame=t.filterFrame,o},n.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},n.prototype.emptyPool=function(){this.texturePool.clear(!0)},n.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},n.prototype.transformAABB=function(t,e){var i=y1[0],r=y1[1],o=y1[2],s=y1[3];i.set(e.left,e.top),r.set(e.left,e.bottom),o.set(e.right,e.top),s.set(e.right,e.bottom),t.apply(i,i),t.apply(r,r),t.apply(o,o),t.apply(s,s);var a=Math.min(i.x,r.x,o.x,s.x),l=Math.min(i.y,r.y,o.y,s.y),c=Math.max(i.x,r.x,o.x,s.x),u=Math.max(i.y,r.y,o.y,s.y);e.x=a,e.y=l,e.width=c-a,e.height=u-l},n.prototype.roundFrame=function(t,e,i,r,o){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(o){var s=o.a,l=o.c,c=o.d;if((Math.abs(o.b)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(c)>1e-4))return}(o=o?Gw.copyFrom(o):Gw.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(o,t),t.ceil(e),this.transformAABB(o.invert(),t)}},n}(),gv=function(){function n(t){this.renderer=t}return n.prototype.flush=function(){},n.prototype.destroy=function(){this.renderer=null},n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.render=function(t){},n}(),Hw=function(){function n(t){this.renderer=t,this.emptyRenderer=new gv(t),this.currentRenderer=this.emptyRenderer}return n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},n.prototype.boundArray=function(t,e,i,r){for(var o=t.elements,s=t.ids,a=t.count,l=0,c=0;c<a;c++){var u=o[c],y=u._batchLocation;if(y>=0&&y<r&&e[y]===u)s[c]=y;else for(;l<r;){var O=e[l];if(!O||O._batchEnabled!==i||O._batchLocation!==l){s[c]=l,u._batchLocation=l,e[l]=u;break}l++}}},n.prototype.destroy=function(){this.renderer=null},n}(),a4=0,Vw=function(){function n(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(n.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),n.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=a4++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},n.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=a4++,this.renderer.runners.contextChange.emit(t)},n.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},n.prototype.createContext=function(t,e){var i;if(_t.PREFER_ENV>=Ro.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},n.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},n.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},n.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},n.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},n}(),l4=function n(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Un.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},cse=new ai,Ww=function(){function n(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new m1(10,10),this.msaaSamples=null}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ai,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;_t.PREFER_ENV===Ro.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(r){return e.drawBuffersWEBGL(r)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},n.prototype.bind=function(t,e,i){void 0===i&&(i=0);var r=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=i),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var s=0;s<t.colorTextures.length;s++){var a=t.colorTextures[s];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var u=(l=e.width>>i)/e.width;this.setViewport(e.x*u,e.y*u,l,e.height>>i)}else{var l;this.setViewport(0,0,l=t.width>>i,t.height>>i)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},n.prototype.setViewport=function(t,e,i,r){var o=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),r=Math.round(r),(o.width!==i||o.height!==r||o.x!==t||o.y!==e)&&(o.x=t,o.y=e,o.width=i,o.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(n.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),n.prototype.clear=function(t,e,i,r,o){void 0===o&&(o=_h.COLOR|_h.DEPTH);var s=this.gl;s.clearColor(t,e,i,r),s.clear(o)},n.prototype.initFramebuffer=function(t){var i=new l4(this.gl.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},n.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height)),i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,o=r.length;e.drawBuffers||(o=Math.min(o,1));for(var s=0;s<o;s++){var a=r[s];this.renderer.texture.bind(a.parentTextureArray||a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},n.prototype.updateFramebuffer=function(t,e){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,s=o.length;i.drawBuffers||(s=Math.min(s,1)),r.multisample>1&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var a=[],l=0;l<s;l++){var c=o[l],u=c.parentTextureArray||c;this.renderer.texture.bind(u,0),(0!==l||!r.msaaBuffer)&&(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,c.target,u._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){var O=t.depthTexture;this.renderer.texture.bind(O,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,O._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},n.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},n.prototype.detectSamples=function(t){var e=this.msaaSamples,i=Un.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=Un.NONE),i},n.prototype.blit=function(t,e,i){var r=this,o=r.current,a=r.gl;if(2===r.renderer.context.webGLVersion&&o){var c=o.glFramebuffers[r.CONTEXT_UID];if(c){if(!t){if(!c.msaaBuffer)return;var u=o.colorTextures[0];if(!u)return;c.blitFramebuffer||(c.blitFramebuffer=new m1(o.width,o.height),c.blitFramebuffer.addColorTexture(0,u)),(t=c.blitFramebuffer).colorTextures[0]!==u&&(t.colorTextures[0]=u,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}e||((e=cse).width=o.width,e.height=o.height),i||(i=e);var y=e.width===i.width&&e.height===i.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,c.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,a.COLOR_BUFFER_BIT,y?a.NEAREST:a.LINEAR)}}},n.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},n.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},n.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var i=t.width,r=t.height,o=this.gl,s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),e.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,e.multisample,o.DEPTH24_STENCIL8,i,r):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,i,r),e.stencil=s,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}}},n.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new ai},n.prototype.destroy=function(){this.renderer=null},n}(),Yw={5126:4,5123:2,5121:1},zw=function(){function n(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return n.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;_t.PREFER_ENV===Ro.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(o){return i.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return i.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(o,s){return r.vertexAttribDivisorANGLE(o,s)},t.drawElementsInstanced=function(o,s,a,l,c){return r.drawElementsInstancedANGLE(o,s,a,l,c)},t.drawArraysInstanced=function(o,s,a,l){return r.drawArraysInstancedANGLE(o,s,a,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},n.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},o=!0);var s=r[e.program.id]||this.initGeometryVao(t,e,o);this._activeGeometry=t,this._activeVao!==s&&(this._activeVao=s,this.hasVao?i.bindVertexArray(s):this.activateVao(t,e.program)),this.updateBuffers()},n.prototype.reset=function(){this.unbind()},n.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,i=0;i<t.buffers.length;i++)e.update(t.buffers[i])},n.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var o in r)if(!i[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},n.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,o=["g",t.id];for(var s in i)r[s]&&o.push(s,r[s].location);return o.join("-")},n.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0);var r=this.gl,o=this.CONTEXT_UID,s=this.renderer.buffer,a=e.program;a.glPrograms[o]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);var l=this.getSignature(t,a),c=t.glVertexArrayObjects[this.CONTEXT_UID],u=c[l];if(u)return c[a.id]=u,u;var y=t.buffers,O=t.attributes,P={},I={};for(var D in y)P[D]=0,I[D]=0;for(var D in O)!O[D].size&&a.attributeData[D]?O[D].size=a.attributeData[D].size:O[D].size||console.warn("PIXI Geometry attribute '"+D+"' size cannot be determined (likely the bound shader does not have the attribute)"),P[O[D].buffer]+=O[D].size*Yw[O[D].type];for(var D in O){var B=O[D],Y=B.size;void 0===B.stride&&(B.stride=P[B.buffer]===Y*Yw[B.type]?0:P[B.buffer]),void 0===B.start&&(B.start=I[B.buffer],I[B.buffer]+=Y*Yw[B.type])}u=r.createVertexArray(),r.bindVertexArray(u);for(var q=0;q<y.length;q++){var ie=y[q];s.bind(ie),i&&ie._glBuffers[o].refCount++}return this.activateVao(t,a),this._activeVao=u,c[a.id]=u,c[l]=u,u},n.prototype.disposeGeometry=function(t,e){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,s=t.buffers,a=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(t.disposeRunner.remove(this),r){if(a)for(var l=0;l<s.length;l++){var c=s[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,0===c.refCount&&!e&&a.dispose(s[l],e))}if(!e)for(var u in r)if("g"===u[0]){var y=r[u];this._activeVao===y&&this.unbind(),o.deleteVertexArray(y)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)},n.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,o=this.renderer.buffer,s=t.buffers,a=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var l=null;for(var c in a){var u=a[c],y=s[u.buffer],O=y._glBuffers[r];if(e.attributeData[c]){l!==O&&(o.bind(y),l=O);var P=e.attributeData[c].location;if(i.enableVertexAttribArray(P),i.vertexAttribPointer(P,u.size,u.type||i.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(P,1)}}}},n.prototype.draw=function(t,e,i,r){var o=this.gl,s=this._activeGeometry;if(s.indexBuffer){var a=s.indexBuffer.data.BYTES_PER_ELEMENT,l=2===a?o.UNSIGNED_SHORT:o.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?s.instanced?o.drawElementsInstanced(t,e||s.indexBuffer.data.length,l,(i||0)*a,r||1):o.drawElements(t,e||s.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else s.instanced?o.drawArraysInstanced(t,i,e||s.getSize(),r||1):o.drawArrays(t,i,e||s.getSize());return this},n.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},n.prototype.destroy=function(){this.renderer=null},n}(),c4=function(){function n(t){void 0===t&&(t=null),this.type=bi.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=_t.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(n.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),n.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=bi.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},n.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},n}();function u4(n,t,e){var i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}function h4(n,t){var e=n.getShaderSource(t).split("\n").map(function(c,u){return u+": "+c}),i=n.getShaderInfoLog(t),r=i.split("\n"),o={},s=r.map(function(c){return parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(c){return!(!c||o[c]||(o[c]=!0,0))}),a=[""];s.forEach(function(c){e[c-1]="%c"+e[c-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=e.join("\n");a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function $w(n){for(var t=new Array(n),e=0;e<t.length;e++)t[e]=!1;return t}function d4(n,t){switch(n){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return $w(2*t);case"bvec3":return $w(3*t);case"bvec4":return $w(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var b1,f4={},_v=f4;function p4(){if(_v===f4||_v&&_v.isContextLost()){var n=document.createElement("canvas"),t=void 0;_t.PREFER_ENV>=Ro.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),_v=t}return _v}function g4(n,t,e){if("precision"!==n.substring(0,9)){var i=t;return t===ro.HIGH&&e!==ro.HIGH&&(i=ro.MEDIUM),"precision "+i+" float;\n"+n}return e!==ro.HIGH&&"precision highp"===n.substring(0,15)?n.replace("precision highp","precision mediump"):n}var dse={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function _4(n){return dse[n]}var E1=null,m4={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function v4(n,t){if(!E1){var e=Object.keys(m4);E1={};for(var i=0;i<e.length;++i){var r=e[i];E1[n[r]]=m4[r]}}return E1[t]}var mv,Ld=[{test:function(n){return"float"===n.type&&1===n.size},code:function(n){return'\n            if(uv["'+n+'"] !== ud["'+n+'"].value)\n            {\n                ud["'+n+'"].value = uv["'+n+'"]\n                gl.uniform1f(ud["'+n+'"].location, uv["'+n+'"])\n            }\n            '}},{test:function(n){return("sampler2D"===n.type||"samplerCube"===n.type||"sampler2DArray"===n.type)&&1===n.size&&!n.isArray},code:function(n){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+n+'"], t);\n\n            if(ud["'+n+'"].value !== t)\n            {\n                ud["'+n+'"].value = t;\n                gl.uniform1i(ud["'+n+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(n,t){return"mat3"===n.type&&1===n.size&&void 0!==t.a},code:function(n){return'\n            gl.uniformMatrix3fv(ud["'+n+'"].location, false, uv["'+n+'"].toArray(true));\n            '},codeUbo:function(n){return"\n                var "+n+"_matrix = uv."+n+".toArray(true);\n\n                data[offset] = "+n+"_matrix[0];\n                data[offset+1] = "+n+"_matrix[1];\n                data[offset+2] = "+n+"_matrix[2];\n        \n                data[offset + 4] = "+n+"_matrix[3];\n                data[offset + 5] = "+n+"_matrix[4];\n                data[offset + 6] = "+n+"_matrix[5];\n        \n                data[offset + 8] = "+n+"_matrix[6];\n                data[offset + 9] = "+n+"_matrix[7];\n                data[offset + 10] = "+n+"_matrix[8];\n            "}},{test:function(n,t){return"vec2"===n.type&&1===n.size&&void 0!==t.x},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+n+'"].location, v.x, v.y);\n                }'},codeUbo:function(n){return"\n                v = uv."+n+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(n){return"vec2"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+n+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(n,t){return"vec4"===n.type&&1===n.size&&void 0!==t.width},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+n+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(n){return"\n                    v = uv."+n+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(n){return"vec4"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+n+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],fse={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},pse={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},_se=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function mse(n){for(var t="",e=0;e<n;++e)e>0&&(t+="\nelse "),e<n-1&&(t+="if(test == "+e+".0){}");return t}function y4(n,t){if(0===n)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=t.createShader(t.FRAGMENT_SHADER);;){var i=_se.replace(/%forloop%/gi,mse(n));if(t.shaderSource(e,i),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS))break;n=n/2|0}return n}var Ese=0,S1={},Ug=function(){function n(t,e,i){void 0===i&&(i="pixi-shader"),this.id=Ese++,this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),S1[i]?(S1[i]++,i+="-"+S1[i]):S1[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=g4(this.vertexSrc,_t.PRECISION_VERTEX,ro.HIGH),this.fragmentSrc=g4(this.fragmentSrc,_t.PRECISION_FRAGMENT,function hse(){if(!b1){b1=ro.MEDIUM;var n=p4();if(n&&n.getShaderPrecisionFormat){var t=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);b1=t.precision?ro.HIGH:ro.MEDIUM}}return b1}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(n,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),n.from=function(t,e,i){var r=t+e,o=yw[r];return o||(yw[r]=o=new n(t,e,i)),o},n}(),fu=function(){function n(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof yh?e:new yh(e):new yh({})}return n.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},n.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(n.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),n.from=function(t,e,i){return new n(Ug.from(t,e),i)},n}(),bh=function(){function n(){this.data=0,this.blendMode=je.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(n.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==je.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},n.for2d=function(){var t=new n;return t.depthTest=!1,t.blend=!0,t},n}(),pu=function(n){function t(e,i,r){var o=this,s=Ug.from(e||t.defaultVertexSrc,i||t.defaultFragmentSrc);return(o=n.call(this,s,r)||this).padding=0,o.resolution=_t.FILTER_RESOLUTION,o.multisample=_t.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new bh,o}return Ki(t,n),t.prototype.apply=function(e,i,r,o,s){e.applyFilter(this,i,r,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(fu),b4=new xi,C1=function(){function n(t,e){this._texture=t,this.mapCoord=new xi,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),n.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var o=t[r],s=t[r+1];e[r]=o*i.a+s*i.c+i.tx,e[r+1]=o*i.b+s*i.d+i.ty}return e},n.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,o=e.trim;o&&(b4.set(r.width/o.width,0,0,r.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(b4));var s=e.baseTexture,a=this.uClampFrame,l=this.clampMargin/s.resolution,c=this.clampOffset;return a[0]=(e._frame.x+l+c)/s.width,a[1]=(e._frame.y+l+c)/s.height,a[2]=(e._frame.x+e._frame.width-l+c)/s.width,a[3]=(e._frame.y+e._frame.height-l+c)/s.height,this.uClampOffset[0]=c/s.realWidth,this.uClampOffset[1]=c/s.realHeight,this.isSimple=e._frame.width===s.width&&e._frame.height===s.height&&0===e.rotate,!0},n}(),E4=function(n){function t(e,i,r){var o=this,s=null;return"string"!=typeof e&&void 0===i&&void 0===r&&(s=e,e=void 0,i=void 0,r=void 0),(o=n.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",i||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=s,o.maskMatrix=new xi,o}return Ki(t,n),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,i,r,o){var s=this._maskSprite,a=s._texture;!a.valid||(a.uvMatrix||(a.uvMatrix=new C1(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,i,r,o))},t}(pu),eP=function(){function n(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return n.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},n.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new c4;r.pooled=!0,r.maskObject=e,i=r}if(i.copyCountersOrReset(0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null),i.autoDetect&&this.detect(i),i._target=t,i.type!==bi.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case bi.SCISSOR:this.renderer.scissor.push(i);break;case bi.STENCIL:this.renderer.stencil.push(i);break;case bi.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i)}i.type===bi.SPRITE&&this.maskStack.push(i)},n.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case bi.SCISSOR:this.renderer.scissor.pop();break;case bi.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case bi.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var i=this.maskStack[this.maskStack.length-1];i.type===bi.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},n.prototype.detect=function(t){t.type=t.maskObject.isSprite?bi.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?bi.SCISSOR:bi.STENCIL},n.prototype.pushSpriteMask=function(t){var e,i,r=t.maskObject,o=t._target,s=t._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex])||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new E4]);var c,u,a=this.renderer,l=a.renderTexture;if(l.current){var y=l.current;c=t.resolution||y.resolution,u=null!==(e=t.multisample)&&void 0!==e?e:y.multisample}else c=t.resolution||a.resolution,u=null!==(i=t.multisample)&&void 0!==i?i:a.multisample;s[0].resolution=c,s[0].multisample=u,s[0].maskSprite=r;var O=o.filterArea;o.filterArea=r.getBounds(!0),a.filter.push(o,s),o.filterArea=O,t._filters||this.alphaMaskIndex++},n.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},n.prototype.destroy=function(){this.renderer=null},n}(),S4=function(){function n(t){this.renderer=t,this.maskStack=[],this.glConst=0}return n.prototype.getStackLength=function(){return this.maskStack.length},n.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},n.prototype._useCurrent=function(){},n.prototype.destroy=function(){this.renderer=null,this.maskStack=null},n}(),C4=new xi,tP=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return Ki(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var i=e._scissorRect,r=e.maskObject,o=this.renderer,s=o.renderTexture;r.renderable=!0;var a=r.getBounds();this.roundFrameToPixels(a,s.current?s.current.resolution:o.resolution,s.sourceFrame,s.destinationFrame,o.projection.transform),r.renderable=!1,i&&a.fit(i),e._scissorRectLocal=a}},t.isMatrixRotated=function(e){if(!e)return!1;var i=e.a,o=e.c,s=e.d;return(Math.abs(e.b)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(i)>1e-4||Math.abs(s)>1e-4)},t.prototype.testScissor=function(e){var i=e.maskObject;if(!i.isFastRect||!i.isFastRect()||t.isMatrixRotated(i.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0},t.prototype.roundFrameToPixels=function(e,i,r,o,s){t.isMatrixRotated(s)||((s=s?C4.copyFrom(s):C4.identity()).translate(-r.x,-r.y).scale(o.width/r.width,o.height/r.height).translate(o.x,o.y),this.renderer.filter.transformAABB(s,e),e.fit(o),e.x=Math.round(e.x*i),e.y=Math.round(e.y*i),e.width=Math.round(e.width*i),e.height=Math.round(e.height*i))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var i=this.renderer.gl;e._scissorRect||i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect;this.renderer.gl.scissor(e.x,this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,e.width,e.height)},t}(S4),nP=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return Ki(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var i=e.maskObject,r=this.renderer.gl,o=e._stencilCounter;0===o&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,o,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var i=this.renderer.gl;0===this.getStackLength()?i.disable(i.STENCIL_TEST):(i.colorMask(!1,!1,!1,!1),i.stencilOp(i.KEEP,i.KEEP,i.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(S4),iP=function(){function n(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new xi,this.transform=null}return n.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},n.prototype.calculateProjection=function(t,e,i,r){var o=this.projectionMatrix,s=r?-1:1;o.identity(),o.a=1/e.width*2,o.d=s*(1/e.height*2),o.tx=-1-e.x*o.a,o.ty=-s-e.y*o.d},n.prototype.setTransform=function(t){},n.prototype.destroy=function(){this.renderer=null},n}(),Ud=new ai,vv=new ai,rP=function(){function n(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ai,this.destinationFrame=new ai,this.viewportFrame=new ai}return n.prototype.bind=function(t,e,i){void 0===t&&(t=null);var o,s,a,r=this.renderer;this.current=t,t?(a=(o=t.baseTexture).resolution,e||(Ud.width=t.frame.width,Ud.height=t.frame.height,e=Ud),i||(vv.x=t.frame.x,vv.y=t.frame.y,vv.width=e.width,vv.height=e.height,i=vv),s=o.framebuffer):(a=r.resolution,e||(Ud.width=r.screen.width,Ud.height=r.screen.height,e=Ud),i||((i=Ud).width=e.width,i.height=e.height));var l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,t||(l.y=r.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(s,l),this.renderer.projection.update(i,e,a,!s),this.renderer.mask.setMaskStack(t?o.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},n.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var i=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,o=i.width!==r.width||i.height!==r.height;if(o){var s=this.viewportFrame,a=s.x,l=s.y,c=s.width,u=s.height;a=Math.round(a),l=Math.round(l),c=Math.round(c),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,l,c,u)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),o&&this.renderer.scissor.pop()},n.prototype.resize=function(){this.bind(null)},n.prototype.reset=function(){this.bind(null)},n.prototype.destroy=function(){this.renderer=null},n}();function Ose(n,t,e,i,r){e.buffer.update(r)}var wse={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},T4={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function M4(n){for(var t=n.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),e=0,i=0,r=0,o=0;o<t.length;o++){var s=t[o];if(e=T4[s.data.type],s.data.size>1&&(e=Math.max(e,16)*s.data.size),s.dataLen=e,i%e!=0&&i<16){var a=i%e%16;i+=a,r+=a}i+e>16?(r=16*Math.ceil(r/16),s.offset=r,r+=e,i=e):(s.offset=r,i+=e,r+=e)}return{uboElements:t,size:r=16*Math.ceil(r/16)}}function O4(n,t){var e=[];for(var i in n)t[i]&&e.push(t[i]);return e.sort(function(r,o){return r.index-o.index}),e}function w4(n,t){if(!n.autoManage)return{size:0,syncFunc:Ose};for(var i=M4(O4(n.uniforms,t)),r=i.uboElements,o=i.size,s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<r.length;a++){for(var l=r[a],c=n.uniforms[l.data.name],u=l.data.name,y=!1,O=0;O<Ld.length;O++){var P=Ld[O];if(P.codeUbo&&P.test(l.data,c)){s.push("offset = "+l.offset/4+";",Ld[O].codeUbo(l.data.name,c)),y=!0;break}}if(!y)if(l.data.size>1){var I=_4(l.data.type),D=Math.max(T4[l.data.type]/16,1),B=I/D;s.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+l.data.size*D+"; i++)\n                {\n                    for(var j = 0; j < "+B+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-B%4)%4+";\n                }\n\n                ")}else s.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n                "+wse[l.data.type]+";\n                ")}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}var Pse=function n(){},P4=function(){function n(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return n.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},n}();function x4(n,t){var e=u4(n,n.VERTEX_SHADER,t.vertexSrc),i=u4(n,n.FRAGMENT_SHADER,t.fragmentSrc),r=n.createProgram();if(n.attachShader(r,e),n.attachShader(r,i),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)||function use(n,t,e,i){n.getProgramParameter(t,n.LINK_STATUS)||(n.getShaderParameter(e,n.COMPILE_STATUS)||h4(n,e),n.getShaderParameter(i,n.COMPILE_STATUS)||h4(n,i),console.error("PixiJS Error: Could not initialize shader."),""!==n.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(t)))}(n,r,e,i),t.attributeData=function xse(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var o=t.getActiveAttrib(n,r);if(0!==o.name.indexOf("gl_")){var s=v4(t,o.type),a={type:s,name:o.name,size:_4(s),location:t.getAttribLocation(n,o.name)};e[o.name]=a}}return e}(r,n),t.uniformData=function Ase(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),r=0;r<i;r++){var o=t.getActiveUniform(n,r),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),l=v4(t,o.type);e[s]={name:s,index:r,type:l,size:o.size,isArray:a,value:d4(l,o.size)}}return e}(r,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(u,y){return u>y?1:-1});for(var s=0;s<o.length;s++)t.attributeData[o[s]].location=s,n.bindAttribLocation(r,s,o[s]);n.linkProgram(r)}n.deleteShader(e),n.deleteShader(i);var a={};for(var s in t.uniformData){var l=t.uniformData[s];a[s]={location:n.getUniformLocation(r,s),value:d4(l.type,l.size)}}return new P4(r,a)}var Rse=0,T1={textureCount:0,uboCount:0},oP=function(){function n(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Rse++}return n.prototype.systemCheck=function(){if(!function vse(){if("boolean"==typeof mv)return mv;try{var n=new Function("param1","param2","param3","return param1[param2] === param3;");mv=!0===n({a:"b"},"a","b")}catch(t){mv=!1}return mv}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},n.prototype.contextChange=function(t){this.gl=t,this.reset()},n.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(T1.textureCount=0,T1.uboCount=0,this.syncUniformGroup(t.uniformGroup,T1)),r},n.prototype.setUniforms=function(t){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,t,this.renderer)},n.prototype.syncUniformGroup=function(t,e){var i=this.getGlProgram();(!t.static||t.dirtyId!==i.uniformDirtyGroups[t.id])&&(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},n.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},n.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function gse(n,t){var e,i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var r in n.uniforms){var o=t[r];if(o){for(var s=n.uniforms[r],a=!1,l=0;l<Ld.length;l++)if(Ld[l].test(o,s)){i.push(Ld[l].code(r,s)),a=!0;break}if(!a){var u=(1===o.size?fse:pse)[o.type].replace("location",'ud["'+r+'"].location');i.push('\n            cu = ud["'+r+'"];\n            cv = cu.value;\n            v = uv["'+r+'"];\n            '+u+";")}}else(null===(e=n.uniforms[r])||void 0===e?void 0:e.group)&&i.push(n.uniforms[r].ubo?"\n                        renderer.shader.syncUniformBufferGroup(uv."+r+", '"+r+"');\n                    ":"\n                        renderer.shader.syncUniformGroup(uv."+r+", syncData);\n                    ")}return new Function("ud","uv","renderer","syncData",i.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},n.prototype.syncUniformBufferGroup=function(t,e){var i=this.getGlProgram();if(!t.static||0!==t.dirtyId||!i.uniformGroups[t.id]){t.dirtyId=0;var r=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),r(i.uniformData,t.uniforms,this.renderer,T1,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])},n.prototype.createSyncBufferGroup=function(t,e,i){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var s=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[s];if(a||(a=this._uboCache[s]=w4(t,this.shader.program.uniformData)),t.autoManage){var l=new Float32Array(a.size/4);t.buffer.update(l)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]},n.prototype.getSignature=function(t,e,i){var r=t.uniforms,o=[i+"-"];for(var s in r)o.push(s),e[s]&&o.push(e[s].type);return o.join("-")},n.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},n.prototype.generateProgram=function(t){var i=t.program,r=x4(this.gl,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r},n.prototype.reset=function(){this.program=null,this.shader=null},n.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},n}(),sP=function(){function n(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=je.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new bh,this.defaultState.blend=!0}return n.prototype.contextChange=function(t){this.gl=t,this.blendModes=function Ise(n,t){return void 0===t&&(t=[]),t[je.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.ADD]=[n.ONE,n.ONE],t[je.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.NONE]=[0,0],t[je.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],t[je.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.SRC_IN]=[n.DST_ALPHA,n.ZERO],t[je.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],t[je.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[je.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],t[je.DST_IN]=[n.ZERO,n.SRC_ALPHA],t[je.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],t[je.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],t[je.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[je.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],t}(t),this.set(this.defaultState),this.reset()},n.prototype.set=function(t){if(this.stateId!==(t=t||this.defaultState).data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},n.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},n.prototype.setBlend=function(t){this.updateCheck(n.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},n.prototype.setOffset=function(t){this.updateCheck(n.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},n.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},n.prototype.setDepthMask=function(t){this.gl.depthMask(t)},n.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},n.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},n.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},n.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},n.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},n.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):!e&&-1!==i&&this.checks.splice(i,1)},n.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},n.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},n.prototype.destroy=function(){this.gl=null},n}(),aP=function(){function n(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=_t.GC_MAX_IDLE,this.checkCountMax=_t.GC_MAX_CHECK_COUNT,this.mode=_t.GC_MODE}return n.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==Ng.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},n.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var o=e[r];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),e[r]=null,i=!0)}if(i){var s=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[s++]=e[r]);e.length=s}},n.prototype.unload=function(t){var i=t._texture;i&&!i.framebuffer&&this.renderer.texture.destroyTexture(i);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},n.prototype.destroy=function(){this.renderer=null},n}(),M1=function n(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Pt.UNSIGNED_BYTE,this.internalFormat=ze.RGBA,this.samplerType=0},lP=function(){function n(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new di,this.hasIntegerTextures=!1}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function Use(n){var t,e,i,r,o,s,a,l,c,u,y,O,P,I,D,B,Y,q,ie,se,re,ne,Ee;return"WebGL2RenderingContext"in self&&n instanceof self.WebGL2RenderingContext?((t={})[Pt.UNSIGNED_BYTE]=((e={})[ze.RGBA]=n.RGBA8,e[ze.RGB]=n.RGB8,e[ze.RG]=n.RG8,e[ze.RED]=n.R8,e[ze.RGBA_INTEGER]=n.RGBA8UI,e[ze.RGB_INTEGER]=n.RGB8UI,e[ze.RG_INTEGER]=n.RG8UI,e[ze.RED_INTEGER]=n.R8UI,e[ze.ALPHA]=n.ALPHA,e[ze.LUMINANCE]=n.LUMINANCE,e[ze.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,e),t[Pt.BYTE]=((i={})[ze.RGBA]=n.RGBA8_SNORM,i[ze.RGB]=n.RGB8_SNORM,i[ze.RG]=n.RG8_SNORM,i[ze.RED]=n.R8_SNORM,i[ze.RGBA_INTEGER]=n.RGBA8I,i[ze.RGB_INTEGER]=n.RGB8I,i[ze.RG_INTEGER]=n.RG8I,i[ze.RED_INTEGER]=n.R8I,i),t[Pt.UNSIGNED_SHORT]=((r={})[ze.RGBA_INTEGER]=n.RGBA16UI,r[ze.RGB_INTEGER]=n.RGB16UI,r[ze.RG_INTEGER]=n.RG16UI,r[ze.RED_INTEGER]=n.R16UI,r[ze.DEPTH_COMPONENT]=n.DEPTH_COMPONENT16,r),t[Pt.SHORT]=((o={})[ze.RGBA_INTEGER]=n.RGBA16I,o[ze.RGB_INTEGER]=n.RGB16I,o[ze.RG_INTEGER]=n.RG16I,o[ze.RED_INTEGER]=n.R16I,o),t[Pt.UNSIGNED_INT]=((s={})[ze.RGBA_INTEGER]=n.RGBA32UI,s[ze.RGB_INTEGER]=n.RGB32UI,s[ze.RG_INTEGER]=n.RG32UI,s[ze.RED_INTEGER]=n.R32UI,s[ze.DEPTH_COMPONENT]=n.DEPTH_COMPONENT24,s),t[Pt.INT]=((a={})[ze.RGBA_INTEGER]=n.RGBA32I,a[ze.RGB_INTEGER]=n.RGB32I,a[ze.RG_INTEGER]=n.RG32I,a[ze.RED_INTEGER]=n.R32I,a),t[Pt.FLOAT]=((l={})[ze.RGBA]=n.RGBA32F,l[ze.RGB]=n.RGB32F,l[ze.RG]=n.RG32F,l[ze.RED]=n.R32F,l[ze.DEPTH_COMPONENT]=n.DEPTH_COMPONENT32F,l),t[Pt.HALF_FLOAT]=((c={})[ze.RGBA]=n.RGBA16F,c[ze.RGB]=n.RGB16F,c[ze.RG]=n.RG16F,c[ze.RED]=n.R16F,c),t[Pt.UNSIGNED_SHORT_5_6_5]=((u={})[ze.RGB]=n.RGB565,u),t[Pt.UNSIGNED_SHORT_4_4_4_4]=((y={})[ze.RGBA]=n.RGBA4,y),t[Pt.UNSIGNED_SHORT_5_5_5_1]=((O={})[ze.RGBA]=n.RGB5_A1,O),t[Pt.UNSIGNED_INT_2_10_10_10_REV]=((P={})[ze.RGBA]=n.RGB10_A2,P[ze.RGBA_INTEGER]=n.RGB10_A2UI,P),t[Pt.UNSIGNED_INT_10F_11F_11F_REV]=((I={})[ze.RGB]=n.R11F_G11F_B10F,I),t[Pt.UNSIGNED_INT_5_9_9_9_REV]=((D={})[ze.RGB]=n.RGB9_E5,D),t[Pt.UNSIGNED_INT_24_8]=((B={})[ze.DEPTH_STENCIL]=n.DEPTH24_STENCIL8,B),t[Pt.FLOAT_32_UNSIGNED_INT_24_8_REV]=((Y={})[ze.DEPTH_STENCIL]=n.DEPTH32F_STENCIL8,Y),Ee=t):((q={})[Pt.UNSIGNED_BYTE]=((ie={})[ze.RGBA]=n.RGBA,ie[ze.RGB]=n.RGB,ie[ze.ALPHA]=n.ALPHA,ie[ze.LUMINANCE]=n.LUMINANCE,ie[ze.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,ie),q[Pt.UNSIGNED_SHORT_5_6_5]=((se={})[ze.RGB]=n.RGB,se),q[Pt.UNSIGNED_SHORT_4_4_4_4]=((re={})[ze.RGBA]=n.RGBA,re),q[Pt.UNSIGNED_SHORT_5_5_5_1]=((ne={})[ze.RGBA]=n.RGBA,ne),Ee=q),Ee}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new M1(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new M1(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},n.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},n.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},n.prototype.unbind=function(t){var i=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<r.length;o++)r[o]===this.unknownTexture&&this.bind(null,o)}for(o=0;o<r.length;o++)r[o]===t&&(this.currentLocation!==o&&(i.activeTexture(i.TEXTURE0+o),this.currentLocation=o),i.bindTexture(t.target,this.emptyTextures[t.target].texture),r[o]=null)},n.prototype.ensureSamplerType=function(t){var e=this,i=e.boundTextures,o=e.CONTEXT_UID;if(e.hasIntegerTextures)for(var s=t-1;s>=0;--s){var a=i[s];a&&a._glTextures[o].samplerType!==mh.FLOAT&&this.renderer.texture.unbind(a)}},n.prototype.initTexture=function(t){var e=new M1(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},n.prototype.initTextureType=function(t,e){var i,r;e.internalFormat=null!==(r=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==r?r:t.format,e.type=2===this.webGLVersion&&t.type===Pt.HALF_FLOAT?this.gl.HALF_FLOAT:t.type},n.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e))e.samplerType!==mh.FLOAT&&(this.hasIntegerTextures=!0);else{var r=t.realWidth,o=t.realHeight,s=i.gl;(e.width!==r||e.height!==o||e.dirtyId<0)&&(e.width=r,e.height=o,s.texImage2D(t.target,0,e.internalFormat,r,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},n.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&Ad(this.managedTextures,r,1)}},n.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];!e||(e.mipmap=!!(t.mipmap!==xs.POW2&&2===this.webGLVersion||t.isPowerOfTwo)&&t.mipmap>=1,e.wrapMode=2===this.webGLVersion||t.isPowerOfTwo?t.wrapMode:Ja.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},n.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&t.mipmap!==xs.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===io.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===io.LINEAR){var o=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===io.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===io.LINEAR?i.LINEAR:i.NEAREST)},n.prototype.destroy=function(){this.renderer=null},n}(),A4={__proto__:null,FilterSystem:jw,BatchSystem:Hw,ContextSystem:Vw,FramebufferSystem:Ww,GeometrySystem:zw,MaskSystem:eP,ScissorSystem:tP,StencilSystem:nP,ProjectionSystem:iP,RenderTextureSystem:rP,ShaderSystem:oP,StateSystem:sP,TextureGCSystem:aP,TextureSystem:lP},cP=new xi,uP=function(n){function t(e,i){void 0===e&&(e=Vl.UNKNOWN);var r=n.call(this)||this;return i=Object.assign({},_t.RENDER_OPTIONS,i),r.options=i,r.type=e,r.screen=new ai(0,0,i.width,i.height),r.view=i.view||document.createElement("canvas"),r.resolution=i.resolution||_t.RESOLUTION,r.useContextAlpha=i.useContextAlpha,r.autoDensity=!!i.autoDensity,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r.backgroundAlpha=i.backgroundAlpha,void 0!==i.transparent&&(Ec("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=i.transparent,r.backgroundAlpha=i.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return Ki(t,n),t.prototype.initPlugins=function(e){for(var i in e)this.plugins[i]=new e[i](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(i*this.resolution);var r=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=r,this.screen.height=o,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=o+"px"),this.emit("resize",r,o)},t.prototype.generateTexture=function(e,i,r,o){void 0===i&&(i={}),"number"==typeof i&&(Ec("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),i={scaleMode:i,resolution:r,region:o});var s=i.region,a=function Zoe(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&(e[i[r]]=n[i[r]])}return e}(i,["region"]);0===(o=s||e.getLocalBounds(null,!0)).width&&(o.width=1),0===o.height&&(o.height=1);var l=Za.create(Rw({width:o.width,height:o.height},a));return cP.tx=-o.x,cP.ty=-o.y,this.render(e,{renderTexture:l,clear:!1,transform:cP,skipUpdateTransform:!!e.parent}),l},t.prototype.destroy=function(e){for(var i in this.plugins)this.plugins[i].destroy(),this.plugins[i]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=Vl.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=r1(e),du(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(Dg()),Gse=function n(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},jse=function(){function n(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return n.prototype.destroy=function(){this.renderer=null},n.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},n.prototype.bind=function(t){var i=this.gl,o=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);i.bindBuffer(t.type,o.buffer)},n.prototype.bindBufferBase=function(t,e){var r=this.gl;if(this.boundBufferBases[e]!==t){var s=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,s.buffer)}},n.prototype.bindBufferRange=function(t,e,i){var o=this.gl;i=i||0;var a=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,e||0,a.buffer,256*i,256)},n.prototype.update=function(t){var i=this.gl,o=t._glBuffers[this.CONTEXT_UID];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,i.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{var s=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,s)}},n.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)},n.prototype.createGLBuffer=function(t){var i=this.CONTEXT_UID;return t._glBuffers[i]=new Gse(this.gl.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]},n}(),Yl=function(n){function t(e){var i=n.call(this,Vl.WEBGL,e)||this;return e=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new Vo("destroy"),contextChange:new Vo("contextChange"),reset:new Vo("reset"),update:new Vo("update"),postrender:new Vo("postrender"),prerender:new Vo("prerender"),resize:new Vo("resize")},i.runners.contextChange.add(i),i.globalUniforms=new yh({projectionMatrix:new xi},!0),i.addSystem(eP,"mask").addSystem(Vw,"context").addSystem(sP,"state").addSystem(oP,"shader").addSystem(lP,"texture").addSystem(jse,"buffer").addSystem(zw,"geometry").addSystem(Ww,"framebuffer").addSystem(tP,"scissor").addSystem(nP,"stencil").addSystem(iP,"projection").addSystem(aP,"textureGC").addSystem(jw,"filter").addSystem(rP,"renderTexture").addSystem(Hw,"batch"),i.initPlugins(t.__plugins),i.multisample=void 0,e.context?i.context.initFromContext(e.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:e.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,hw(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return Ki(t,n),t.create=function(e){if(FL())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var i,e=this.gl;if(1===this.context.webGLVersion){var r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r);this.multisample=i>=Un.HIGH?Un.HIGH:i>=Un.MEDIUM?Un.MEDIUM:i>=Un.LOW?Un.LOW:Un.NONE},t.prototype.addSystem=function(e,i){var r=new e(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');for(var o in this[i]=r,this.runners)this.runners[o].add(r);return this},t.prototype.render=function(e,i){var r,o,s,a;if(i&&(i instanceof Za?(Ec("6.0.0","Renderer#render arguments changed, use options instead."),r=i,o=arguments[2],s=arguments[3],a=arguments[4]):(r=i.renderTexture,o=i.clear,s=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=s,!this.context.isLost){if(r||(this._lastObjectRendered=e),!a){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==o?o:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(e,i,r,o){void 0===i&&(i={});var s=n.prototype.generateTexture.call(this,e,i,r,o);return this.framebuffer.blit(),s},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();n.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return Ec("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i},t}(uP);function R4(n){return Yl.create(n)}var I4="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",hP="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Wse=function(){function n(t){Ec("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}return n.prototype.destroy=function(){this.renderer=null},n}(),O1=function n(){this.texArray=null,this.blend=0,this.type=Ho.TRIANGLES,this.start=0,this.size=0,this.data=null},w1=function(){function n(){this.elements=[],this.ids=[],this.count=0}return n.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},n}(),P1=function(){function n(t){this.rawBinaryData="number"==typeof t?new ArrayBuffer(t):t instanceof Uint8Array?t.buffer:t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(n.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),n.prototype.view=function(t){return this[t+"View"]},n.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},n.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},n}(),D4=function(n){function t(e){var i=n.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=bh.for2d(),i.size=4*_t.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return Ki(t,n),t.prototype.contextChange=function(){var e=this.renderer.gl;_t.PREFER_ENV===Ro.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),_t.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=y4(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,i=t._textureArrayPool,r=this.size/4,o=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new O1);for(;i.length<o;)i.push(new w1);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var i=this._bufferedTextures,r=this.MAX_TEXTURES,o=t._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count,c=++di._globalBatch,u=0,y=o[0],O=0;s.copyBoundTextures(a,r);for(var P=0;P<this._bufferSize;++P){var I=i[P];i[P]=null,I._batchEnabled!==c&&(y.count>=r&&(s.boundArray(y,a,c,r),this.buildDrawCalls(y,O,P),O=P,y=o[++u],++c),I._batchEnabled=c,I.touched=l,y.elements[y.count++]=I)}for(y.count>0&&(s.boundArray(y,a,c,r),this.buildDrawCalls(y,O,this._bufferSize),++u,++c),P=0;P<a.length;P++)a[P]=null;di._globalBatch=c},t.prototype.buildDrawCalls=function(e,i,r){var o=this,s=o._bufferedElements,a=o._attributeBuffer,l=o._indexBuffer,c=o.vertexSize,u=t._drawCallPool,y=this._dcIndex,O=this._aIndex,P=this._iIndex,I=u[y];I.start=this._iIndex,I.texArray=e;for(var D=i;D<r;++D){var B=s[D],q=pw[B._texture.baseTexture.alphaMode?1:0][B.blendMode];s[D]=null,i<D&&I.blend!==q&&(I.size=P-I.start,i=D,(I=u[++y]).texArray=e,I.start=P),this.packInterleavedGeometry(B,a,l,O,P),O+=B.vertexData.length/2*c,P+=B.indices.length,I.blend=q}i<r&&(I.size=P-I.start,++y),this._dcIndex=y,this._aIndex=O,this._iIndex=P},t.prototype.bindAndClearTexArray=function(e){for(var i=this.renderer.texture,r=0;r<e.count;r++)i.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,i=e._packedGeometries,r=e._attributeBuffer,o=e._indexBuffer;_t.CAN_UPLOAD_SAME_BUFFER?(i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,i[this._flushId]=new this.geometryClass),i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(i[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,i=this.renderer,r=i.gl,o=i.state,s=t._drawCallPool,a=null,l=0;l<e;l++){var c=s[l],u=c.texArray,y=c.type,O=c.size,P=c.start,I=c.blend;a!==u&&(a=u,this.bindAndClearTexArray(u)),this.state.blendMode=I,o.set(this.state),r.drawElements(y,O,r.UNSIGNED_SHORT,2*P)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),_t.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),n.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var i=lv(Math.ceil(e/8)),r=vw(i),o=8*i;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var s=this._aBuffers[o];return s||(this._aBuffers[o]=s=new P1(o*this.vertexSize*4)),s},t.prototype.getIndexBuffer=function(e){var i=lv(Math.ceil(e/12)),r=vw(i),o=12*i;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var s=this._iBuffers[r];return s||(this._iBuffers[r]=s=new Uint16Array(o)),s},t.prototype.packInterleavedGeometry=function(e,i,r,o,s){for(var a=i.uint32View,l=i.float32View,c=o/this.vertexSize,u=e.uvs,y=e.indices,O=e.vertexData,P=e._texture.baseTexture._batchLocation,I=Math.min(e.worldAlpha,1),D=I<1&&e._texture.baseTexture.alphaMode?o1(e._tintRGB,I):e._tintRGB+(255*I<<24),B=0;B<O.length;B+=2)l[o++]=O[B],l[o++]=O[B+1],l[o++]=u[B],l[o++]=u[B+1],a[o++]=D,l[o++]=P;for(B=0;B<y.length;B++)r[s++]=c+y[B]},t._drawCallPool=[],t._textureArrayPool=[],t}(gv),N4=function(){function n(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return n.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=yh.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Ug(this.vertexSrc,r)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new xi,default:this.defaultGroupCache[t]};return new fu(this.programCache[t],o)},n.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},n}(),dP=function(n){function t(e){void 0===e&&(e=!1);var i=n.call(this)||this;return i._buffer=new so(null,e,!1),i._indexBuffer=new so(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,Pt.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,Pt.FLOAT).addAttribute("aColor",i._buffer,4,!0,Pt.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,Pt.FLOAT).addIndex(i._indexBuffer),i}return Ki(t,n),t}(Lg),k4="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",F4="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",B4=function(){function n(){}return n.create=function(t){var e=Object.assign({vertex:k4,fragment:F4,geometryClass:dP,vertexSize:6},t),i=e.vertex,r=e.fragment,o=e.vertexSize,s=e.geometryClass;return function(a){function l(c){var u=a.call(this,c)||this;return u.shaderGenerator=new N4(i,r),u.geometryClass=s,u.vertexSize=o,u}return Ki(l,a),l}(D4)},Object.defineProperty(n,"defaultVertexSrc",{get:function(){return k4},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentTemplate",{get:function(){return F4},enumerable:!1,configurable:!0}),n}(),L4=B4.create(),U4={},Yse=function(n){Object.defineProperty(U4,n,{get:function(){return Ec("6.0.0","PIXI.systems."+n+" has moved to PIXI."+n),t4[n]}})};for(var fP in t4)Yse(fP);var G4={},zse=function(n){Object.defineProperty(G4,n,{get:function(){return Ec("6.0.0","PIXI.resources."+n+" has moved to PIXI."+n),A4[n]}})};for(var fP in A4)zse(fP);var yv=function(){function n(t){var e=this;this.stage=new cr,t=Object.assign({forceCanvas:!1},t),this.renderer=R4(t),n._plugins.forEach(function(i){i.init.call(e,t)})}return n.registerPlugin=function(t){n._plugins.push(t)},n.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(n.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),n.prototype.destroy=function(t,e){var i=this,r=n._plugins.slice(0);r.reverse(),r.forEach(function(o){o.destroy.call(i)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},n._plugins=[],n}(),$se=function(){function n(){}return n.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(i){self.removeEventListener("resize",this.queueResize),this._resizeTo=i,i&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var i,r;if(e.cancelResize(),e._resizeTo===self)i=self.innerWidth,r=self.innerHeight;else{var o=e._resizeTo;i=o.clientWidth,r=o.clientHeight}e.renderer.resize(i,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},n.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},n}();yv.registerPlugin($se);var j4=new ai,V4=function(){function n(t){this.renderer=t}return n.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},n.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},n.prototype.canvas=function(t){var i,r,s,e=this.renderer,o=!1,a=!1;t&&(t instanceof Za?s=t:(s=this.renderer.generateTexture(t),a=!0)),s?(i=s.baseTexture.resolution,r=s.frame,o=!1,e.renderTexture.bind(s)):(i=this.renderer.resolution,o=!0,(r=j4).width=this.renderer.width,r.height=this.renderer.height,e.renderTexture.bind(null));var l=Math.floor(r.width*i+1e-4),c=Math.floor(r.height*i+1e-4),u=new kg(l,c,1),y=new Uint8Array(4*l*c),O=e.gl;O.readPixels(r.x*i,r.y*i,l,c,O.RGBA,O.UNSIGNED_BYTE,y);var P=u.context.getImageData(0,0,l,c);if(n.arrayPostDivide(y,P.data),u.context.putImageData(P,0,0),o){var I=new kg(u.width,u.height,1);I.context.scale(1,-1),I.context.drawImage(u.canvas,0,-c),u.destroy(),u=I}return a&&s.destroy(!0),u.canvas},n.prototype.pixels=function(t){var i,r,o,e=this.renderer,s=!1;t&&(t instanceof Za?o=t:(o=this.renderer.generateTexture(t),s=!0)),o?(i=o.baseTexture.resolution,r=o.frame,e.renderTexture.bind(o)):(i=e.resolution,(r=j4).width=e.width,r.height=e.height,e.renderTexture.bind(null));var a=r.width*i,l=r.height*i,c=new Uint8Array(4*a*l),u=e.gl;return u.readPixels(r.x*i,r.y*i,a,l,u.RGBA,u.UNSIGNED_BYTE,c),s&&o.destroy(!0),n.arrayPostDivide(c,c),c},n.prototype.destroy=function(){this.renderer=null},n.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var r=e[i+3]=t[i+3];0!==r?(e[i]=Math.round(Math.min(255*t[i]/r,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/r,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/r,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}},n}(),x1=function(){function n(t,e,i){void 0===e&&(e=!1),this._fn=t,this._once=e,this._thisArg=i,this._next=this._prev=this._owner=null}return n.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},n}();function W4(n,t){return n._head?(n._tail._next=t,t._prev=n._tail,n._tail=t):(n._head=t,n._tail=t),t._owner=n,t}var gu=function(){function n(){this._head=this._tail=void 0}return n.prototype.handlers=function(t){void 0===t&&(t=!1);var e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i},n.prototype.has=function(t){if(!(t instanceof x1))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},n.prototype.dispatch=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,e),r=r._next;return!0},n.prototype.add=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return W4(this,new x1(t,!1,e))},n.prototype.once=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return W4(this,new x1(t,!0,e))},n.prototype.detach=function(t){if(!(t instanceof x1))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this},n.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},n}();function Y4(n,t){for(var e={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=e.parser[(t=t||{}).strictMode?"strict":"loose"].exec(n),r={},o=14;o--;)r[e.key[o]]=i[o]||"";return r[e.q.name]={},r[e.key[12]].replace(e.q.parser,function(s,a,l){a&&(r[e.q.name][a]=l)}),r}var Xse=!(!self.XDomainRequest||"withCredentials"in new XMLHttpRequest),A1=null;function $4(){}function X4(n,t,e){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(n[t]=e)}function pP(n){return n.toString().replace("object ","")}var n,o,mr=function(){function n(t,e,i){if(this._dequeue=$4,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(n.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=n.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=$4,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new gu,this.onProgress=new gu,this.onComplete=new gu,this.onAfterMiddleware=new gu}return n.setExtensionLoadType=function(t,e){X4(n._loadTypeMap,t,e)},n.setExtensionXhrType=function(t,e){X4(n._xhrTypeMap,t,e)},Object.defineProperty(n.prototype,"isDataUrl",{get:function(){return this._hasFlag(n.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isComplete",{get:function(){return this._hasFlag(n.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLoading",{get:function(){return this._hasFlag(n.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),n.prototype.complete=function(){this._clearEvents(),this._finish()},n.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=n.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},n.prototype.load=function(t){var e=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(e)},1));switch(t&&this.onComplete.once(t),this._setFlag(n.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case n.LOAD_TYPE.IMAGE:this.type=n.TYPE.IMAGE,this._loadElement("image");break;case n.LOAD_TYPE.AUDIO:this.type=n.TYPE.AUDIO,this._loadSourceElement("audio");break;case n.LOAD_TYPE.VIDEO:this.type=n.TYPE.VIDEO,this._loadSourceElement("video");break;default:Xse&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},n.prototype._hasFlag=function(t){return 0!=(this._flags&t)},n.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},n.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(n.STATUS_FLAGS.COMPLETE,!0),this._setFlag(n.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},n.prototype._loadElement=function(t){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===t&&void 0!==self.Image?new Image:document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},n.prototype._loadSourceElement=function(t){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===t&&void 0!==self.Audio?new Audio:document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else e=this.metadata.mimeType,this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},n.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,t.responseType=this.xhrType===n.XHR_RESPONSE_TYPE.JSON||this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT?n.XHR_RESPONSE_TYPE.TEXT:this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},n.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new self.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},n.prototype._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},n.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},n.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},n.prototype._onTimeout=function(){this.abort("Load timed out.")},n.prototype._xhrOnError=function(){var t=this.xhr;this.abort(pP(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},n.prototype._xhrOnTimeout=function(){this.abort(pP(this.xhr)+" Request timed out.")},n.prototype._xhrOnAbort=function(){this.abort(pP(this.xhr)+" Request was aborted by the user.")},n.prototype._xhrOnLoad=function(){var t=this.xhr,e="",i=void 0===t.status?200:t.status;if((""===t.responseType||"text"===t.responseType||void 0===t.responseType)&&(e=t.responseText),0===i&&(e.length>0||t.responseType===n.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===n.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=n.TYPE.TEXT;else if(this.xhrType===n.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=n.TYPE.JSON}catch(a){return void this.abort("Error trying to parse loaded json: "+a)}else if(this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT)try{if(self.DOMParser){var o=new DOMParser;this.data=o.parseFromString(e,"text/xml")}else{var s=document.createElement("div");s.innerHTML=e,this.data=s}this.type=n.TYPE.XML}catch(a){return void this.abort("Error trying to parse loaded xml: "+a)}else this.data=t.response||e;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},n.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(self.origin!==self.location.origin)return"anonymous";e=e||self.location,A1||(A1=document.createElement("a")),A1.href=t;var i=Y4(A1.href,{strictMode:!0});return i.host!==e.hostname||(i.port||""!==e.port)&&i.port!==e.port||(i.protocol?i.protocol+":":"")!==e.protocol?"anonymous":""},n.prototype._determineXhrType=function(){return n._xhrTypeMap[this.extension]||n.XHR_RESPONSE_TYPE.TEXT},n.prototype._determineLoadType=function(){return n._loadTypeMap[this.extension]||n.LOAD_TYPE.XHR},n.prototype._getExtension=function(t){void 0===t&&(t=this.url);var e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),o=t.indexOf("#"),s=Math.min(r>-1?r:t.length,o>-1?o:t.length);e=(t=t.substring(0,s)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},n.prototype._getMimeFromXhrType=function(t){switch(t){case n.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case n.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case n.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case n.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}},n}();function Gd(){}function Zse(n){return function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(null===n)throw new Error("Callback was already called.");var o=n;n=null,o.apply(this,i)}}(o=(n=mr||(mr={})).STATUS_FLAGS||(n.STATUS_FLAGS={}))[o.NONE=0]="NONE",o[o.DATA_URL=1]="DATA_URL",o[o.COMPLETE=2]="COMPLETE",o[o.LOADING=4]="LOADING",function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.JSON=1]="JSON",o[o.XML=2]="XML",o[o.IMAGE=3]="IMAGE",o[o.AUDIO=4]="AUDIO",o[o.VIDEO=5]="VIDEO",o[o.TEXT=6]="TEXT"}(n.TYPE||(n.TYPE={})),function(o){o[o.XHR=1]="XHR",o[o.IMAGE=2]="IMAGE",o[o.AUDIO=3]="AUDIO",o[o.VIDEO=4]="VIDEO"}(n.LOAD_TYPE||(n.LOAD_TYPE={})),function(o){o.DEFAULT="text",o.BUFFER="arraybuffer",o.BLOB="blob",o.DOCUMENT="document",o.JSON="json",o.TEXT="text"}(n.XHR_RESPONSE_TYPE||(n.XHR_RESPONSE_TYPE={})),n._loadTypeMap={gif:n.LOAD_TYPE.IMAGE,png:n.LOAD_TYPE.IMAGE,bmp:n.LOAD_TYPE.IMAGE,jpg:n.LOAD_TYPE.IMAGE,jpeg:n.LOAD_TYPE.IMAGE,tif:n.LOAD_TYPE.IMAGE,tiff:n.LOAD_TYPE.IMAGE,webp:n.LOAD_TYPE.IMAGE,tga:n.LOAD_TYPE.IMAGE,svg:n.LOAD_TYPE.IMAGE,"svg+xml":n.LOAD_TYPE.IMAGE,mp3:n.LOAD_TYPE.AUDIO,ogg:n.LOAD_TYPE.AUDIO,wav:n.LOAD_TYPE.AUDIO,mp4:n.LOAD_TYPE.VIDEO,webm:n.LOAD_TYPE.VIDEO},n._xhrTypeMap={xhtml:n.XHR_RESPONSE_TYPE.DOCUMENT,html:n.XHR_RESPONSE_TYPE.DOCUMENT,htm:n.XHR_RESPONSE_TYPE.DOCUMENT,xml:n.XHR_RESPONSE_TYPE.DOCUMENT,tmx:n.XHR_RESPONSE_TYPE.DOCUMENT,svg:n.XHR_RESPONSE_TYPE.DOCUMENT,tsx:n.XHR_RESPONSE_TYPE.DOCUMENT,gif:n.XHR_RESPONSE_TYPE.BLOB,png:n.XHR_RESPONSE_TYPE.BLOB,bmp:n.XHR_RESPONSE_TYPE.BLOB,jpg:n.XHR_RESPONSE_TYPE.BLOB,jpeg:n.XHR_RESPONSE_TYPE.BLOB,tif:n.XHR_RESPONSE_TYPE.BLOB,tiff:n.XHR_RESPONSE_TYPE.BLOB,webp:n.XHR_RESPONSE_TYPE.BLOB,tga:n.XHR_RESPONSE_TYPE.BLOB,json:n.XHR_RESPONSE_TYPE.JSON,text:n.XHR_RESPONSE_TYPE.TEXT,txt:n.XHR_RESPONSE_TYPE.TEXT,ttf:n.XHR_RESPONSE_TYPE.BUFFER,otf:n.XHR_RESPONSE_TYPE.BUFFER},n.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var eae=function n(t,e){this.data=t,this.callback=e},gP=function(){function n(t,e){var i=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=Gd,this.unsaturated=Gd,this.empty=Gd,this.drain=Gd,this.error=Gd,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(r,o,s){if(s&&"function"!=typeof s)throw new Error("task callback must be a function");if(i.started=!0,null==r&&i.idle())setTimeout(function(){return i.drain()},1);else{var a=new eae(r,"function"==typeof s?s:Gd);o?i._tasks.unshift(a):i._tasks.push(a),setTimeout(i.process,1)}},this.process=function(){for(;!i.paused&&i.workers<i.concurrency&&i._tasks.length;){var r=i._tasks.shift();0===i._tasks.length&&i.empty(),i.workers+=1,i.workers===i.concurrency&&i.saturated(),i._worker(r.data,Zse(i._next(r)))}},this._worker=t,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return n.prototype._next=function(t){var e=this;return function(){for(var i=arguments,r=[],o=0;o<arguments.length;o++)r[o]=i[o];e.workers-=1,t.callback.apply(t,r),null!=r[0]&&e.error(r[0],t.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},n.prototype.push=function(t,e){this._insert(t,!1,e)},n.prototype.kill=function(){this.workers=0,this.drain=Gd,this.started=!1,this._tasks=[]},n.prototype.unshift=function(t,e){this._insert(t,!0,e)},n.prototype.length=function(){return this._tasks.length},n.prototype.running=function(){return this.workers},n.prototype.idle=function(){return this._tasks.length+this.workers===0},n.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},n.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},n.eachSeries=function(t,e,i,r){var o=0,s=t.length;!function a(l){l||o===s?i&&i(l):r?setTimeout(function(){e(t[o++],a)},1):e(t[o++],a)}()},n.queue=function(t,e){return new n(t,e)},n}(),tae=/(#[\w-]+)?$/,os=function(){function n(t,e){var i=this;void 0===t&&(t=""),void 0===e&&(e=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,c){return i._loadResource(l,c)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,c){return i._loadResource(l,c)},this._queue=gP.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new gu,this.onError=new gu,this.onLoad=new gu,this.onStart=new gu,this.onComplete=new gu;for(var r=0;r<n._plugins.length;++r){var o=n._plugins[r],s=o.pre,a=o.use;s&&this.pre(s),a&&this.use(a)}this._protected=!1}return n.prototype._add=function(t,e,i,r){if(this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new mr(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var o=i.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var c=o.progressChunk*(s.length+1)/(s.length+2);for(o.children.push(this.resources[t]),o.progressChunk=c,a=0;a<s.length;++a)s[a].progressChunk=c;this.resources[t].progressChunk=c}return this._queue.push(this.resources[t]),this},n.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},n.prototype.use=function(t){return this._afterMiddleware.push(t),this},n.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},n.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var i=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=i;this._onStart(),this._queue.resume()}return this},Object.defineProperty(n.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),n.prototype._prepareUrl=function(t){var i,e=Y4(t,{strictMode:!0});if(i=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=tae.exec(i)[0];-1!==(i=i.substr(0,i.length-r.length)).indexOf("?")?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=r}return i},n.prototype._loadResource=function(t,e){var i=this;t._dequeue=e,gP.eachSeries(this._beforeMiddleware,function(r,o){r.call(i,t,function(){o(t.isComplete?{}:null)})},function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())},!0)},n.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},n.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},n.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),gP.eachSeries(this._afterMiddleware,function(i,r){i.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},n.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(n,"shared",{get:function(){var t=n._shared;return t||((t=new n)._protected=!0,n._shared=t),t},enumerable:!1,configurable:!0}),n.registerPlugin=function(t){return n._plugins.push(t),t.add&&t.add(),n},n._plugins=[],n}();os.prototype.add=function(t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"==typeof t&&(i=t,r=e||i.callback||i.onComplete,e=i.url,t=i.name||i.key||i.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");return"function"==typeof i&&(r=i,i=null),this._add(t,e,i,r)};var q4=function(){function n(){}return n.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?os.shared:new os},n.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},n}(),K4=function(){function n(){}return n.add=function(){mr.setExtensionLoadType("svg",mr.LOAD_TYPE.XHR),mr.setExtensionXhrType("svg",mr.XHR_RESPONSE_TYPE.TEXT)},n.use=function(t,e){!t.data||t.type!==mr.TYPE.IMAGE&&"svg"!==t.extension?e():zt.fromLoader(t.data,t.url,t.name,t.metadata).then(function(a){t.texture=a,e()}).catch(e)},n}(),J4=self.URL||self.webkitURL;os.registerPlugin({use:function rae(n,t){if(n.data){if(n.xhr&&n.xhrType===mr.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof n.data){if(0===n.data.type.indexOf("image")){var i=J4.createObjectURL(n.data);return n.blob=n.data,n.data=new Image,n.data.src=i,n.type=mr.TYPE.IMAGE,void(n.data.onload=function(){J4.revokeObjectURL(i),n.data.onload=null,t()})}}else{var e=n.xhr.getResponseHeader("content-type");if(e&&0===e.indexOf("image"))return n.data=new Image,n.data.src="data:"+e+";base64,"+function iae(n){for(var t="",e=0;e<n.length;){for(var i=[0,0,0],r=[0,0,0,0],o=0;o<i.length;++o)i[o]=e<n.length?255&n.charCodeAt(e++):0;switch(r[0]=i[0]>>2,r[1]=(3&i[0])<<4|i[1]>>4,r[2]=(15&i[1])<<2|i[2]>>6,r[3]=63&i[2],e-(n.length-1)){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64}for(o=0;o<r.length;++o)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r[o])}return t}(n.xhr.responseText),n.type=mr.TYPE.IMAGE,void(n.data.onload=function(){n.data.onload=null,t()})}t()}else t()}}),os.registerPlugin(K4);var Ni,An=(()=>(function(n){n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",n[n.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",n[n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(An||(An={})),An))(),bv=((Ni={})[An.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Ni[An.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Ni[An.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Ni[An.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Ni[An.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Ni[An.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Ni[An.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Ni[An.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Ni[An.COMPRESSED_R11_EAC]=.5,Ni[An.COMPRESSED_SIGNED_R11_EAC]=.5,Ni[An.COMPRESSED_RG11_EAC]=1,Ni[An.COMPRESSED_SIGNED_RG11_EAC]=1,Ni[An.COMPRESSED_RGB8_ETC2]=.5,Ni[An.COMPRESSED_RGBA8_ETC2_EAC]=1,Ni[An.COMPRESSED_SRGB8_ETC2]=.5,Ni[An.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Ni[An.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Ni[An.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Ni[An.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Ni[An.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Ni[An.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Ni[An.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Ni[An.COMPRESSED_RGB_ETC1_WEBGL]=.5,Ni[An.COMPRESSED_RGB_ATC_WEBGL]=.5,Ni[An.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Ni[An.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Ni),mP=function(n,t){return(mP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function Q4(n,t){function e(){this.constructor=n}mP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Ev,zl,Z4=function(n){function t(e,i){void 0===i&&(i={width:1,height:1,autoLoad:!0});var o,s,r=this;return"string"==typeof e?(o=e,s=new Uint8Array):(o=null,s=e),(r=n.call(this,s,i)||this).origin=o,r.buffer=s?new P1(s):null,r.origin&&!1!==i.autoLoad&&r.load(),s&&s.length&&(r.loaded=!0,r.onBlobLoaded(r.buffer.rawBinaryData)),r}return Q4(t,n),t.prototype.onBlobLoaded=function(e){},t.prototype.load=function(){return function oae(n,t,e,i){return new(e||(e=Promise))(function(r,o){function s(c){try{l(i.next(c))}catch(u){o(u)}}function a(c){try{l(i.throw(c))}catch(u){o(u)}}function l(c){c.done?r(c.value):new e(function(u){u(c.value)}).then(s,a)}l((i=i.apply(n,t||[])).next())})}(this,void 0,Promise,function(){var r;return function sae(n,t){var i,r,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return function l(c){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,r=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(6===c[0]&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],r=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,function(o){switch(o.label){case 0:return[4,fetch(this.origin)];case 1:return[4,o.sent().blob()];case 2:return[4,o.sent().arrayBuffer()];case 3:return r=o.sent(),this.data=new Uint32Array(r),this.buffer=new P1(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),[2,this]}})})},t}(Bg),R1=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.format=i.format,r.levels=i.levels||1,r._width=i.width,r._height=i.height,r._extension=t._formatToExtension(r.format),(i.levelBuffers||r.buffer)&&(r._levelBuffers=i.levelBuffers||t._createLevelBuffers(e instanceof Uint8Array?e:r.buffer.uint8View,r.format,r.levels,4,4,r.width,r.height)),r}return Q4(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;if(!e.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var a=0,l=this.levels;a<l;a++){var c=this._levelBuffers[a];o.compressedTexImage2D(o.TEXTURE_2D,c.levelID,this.format,c.levelWidth,c.levelHeight,0,c.levelBuffer)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(e,i,r,o,s,a,l){for(var c=new Array(r),u=e.byteOffset,y=a,O=l,P=y+o-1&~(o-1),I=O+s-1&~(s-1),D=P*I*bv[i],B=0;B<r;B++)c[B]={levelID:B,levelWidth:r>1?y:P,levelHeight:r>1?O:I,levelBuffer:new Uint8Array(e.buffer,u,D)},u+=D,D=(P=(y=y>>1||1)+o-1&~(o-1))*(I=(O=O>>1||1)+s-1&~(s-1))*bv[i];return c},t}(Z4),e5=function(){function n(){}return n.use=function(t,e){var i=t.data;if(t.type===mr.TYPE.JSON&&i&&i.cacheID&&i.textures){for(var o=i.textures,s=void 0,a=void 0,l=0,c=o.length;l<c;l++){var u=o[l],y=u.src,O=u.format;if(O||(a=y),n.textureFormats[O]){s=y;break}}if(!(s=s||a))return void e(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));if(s===t.url)return void e(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var P={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},I=xd.resolve(t.url.replace(this.baseUrl,""),s);this.add(i.cacheID,I,P,function(B){if(B.error)e(B.error);else{var Y=B.texture,ie=B.textures;Object.assign(t,{texture:void 0===Y?null:Y,textures:void 0===ie?{}:ie}),e()}})}else e()},n.add=function(){var e=document.createElement("canvas").getContext("webgl");if(e){var i={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};for(var r in n.textureExtensions=i,n.textureFormats={},i){var o=i[r];!o||Object.assign(n.textureFormats,Object.getPrototypeOf(o))}}else console.warn("WebGL not available for compressed textures. Silently failing.")},n}();function t5(n,t,e){var i={textures:{},texture:null};if(!t)return i;var r=t.map(function(o){return new zt(new di(o,Object.assign({mipmap:xs.OFF,alphaMode:Io.NO_PREMULTIPLIED_ALPHA},e)))});return r.forEach(function(o,s){var a=o.baseTexture,l=n+"-"+(s+1);di.addToCache(a,l),zt.addToCache(o,l),0===s&&(di.addToCache(a,n),zt.addToCache(o,n),i.texture=o),i.textures[l]=o}),i}mr.setExtensionXhrType("dds",mr.XHR_RESPONSE_TYPE.BUFFER);var Gg,jd,Sv,el=(()=>(function(n){n[n.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",n[n.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",n[n.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",n[n.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",n[n.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",n[n.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",n[n.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",n[n.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",n[n.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",n[n.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",n[n.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",n[n.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",n[n.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",n[n.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",n[n.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",n[n.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",n[n.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",n[n.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",n[n.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",n[n.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",n[n.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",n[n.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",n[n.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",n[n.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",n[n.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",n[n.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",n[n.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",n[n.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",n[n.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",n[n.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",n[n.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",n[n.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",n[n.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",n[n.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",n[n.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",n[n.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",n[n.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",n[n.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",n[n.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",n[n.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",n[n.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",n[n.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",n[n.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",n[n.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",n[n.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",n[n.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",n[n.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",n[n.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",n[n.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",n[n.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",n[n.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",n[n.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",n[n.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",n[n.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",n[n.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",n[n.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",n[n.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",n[n.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",n[n.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",n[n.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",n[n.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",n[n.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",n[n.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",n[n.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",n[n.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",n[n.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",n[n.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",n[n.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",n[n.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",n[n.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",n[n.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",n[n.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",n[n.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",n[n.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",n[n.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",n[n.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",n[n.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",n[n.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",n[n.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",n[n.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",n[n.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",n[n.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",n[n.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",n[n.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",n[n.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",n[n.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",n[n.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",n[n.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",n[n.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",n[n.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",n[n.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",n[n.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",n[n.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",n[n.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",n[n.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",n[n.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",n[n.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",n[n.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",n[n.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",n[n.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",n[n.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",n[n.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",n[n.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",n[n.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",n[n.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",n[n.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",n[n.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",n[n.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",n[n.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",n[n.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",n[n.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",n[n.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",n[n.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",n[n.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",n[n.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",n[n.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",n[n.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",n[n.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",n[n.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",n[n.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",n[n.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",n[n.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(el||(el={})),el))(),k1=(()=>(function(n){n[n.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",n[n.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",n[n.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(k1||(k1={})),k1))(),Eae=((Ev={})[827611204]=An.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ev[861165636]=An.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ev[894720068]=An.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ev),Sae=((zl={})[el.DXGI_FORMAT_BC1_TYPELESS]=An.COMPRESSED_RGBA_S3TC_DXT1_EXT,zl[el.DXGI_FORMAT_BC1_UNORM]=An.COMPRESSED_RGBA_S3TC_DXT1_EXT,zl[el.DXGI_FORMAT_BC2_TYPELESS]=An.COMPRESSED_RGBA_S3TC_DXT3_EXT,zl[el.DXGI_FORMAT_BC2_UNORM]=An.COMPRESSED_RGBA_S3TC_DXT3_EXT,zl[el.DXGI_FORMAT_BC3_TYPELESS]=An.COMPRESSED_RGBA_S3TC_DXT5_EXT,zl[el.DXGI_FORMAT_BC3_UNORM]=An.COMPRESSED_RGBA_S3TC_DXT5_EXT,zl[el.DXGI_FORMAT_BC1_UNORM_SRGB]=An.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,zl[el.DXGI_FORMAT_BC2_UNORM_SRGB]=An.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,zl[el.DXGI_FORMAT_BC3_UNORM_SRGB]=An.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,zl),i5=function(){function n(){}return n.use=function(t,e){if("dds"===t.extension&&t.data)try{Object.assign(t,t5(t.name||t.url,n.parse(t.data),t.metadata))}catch(i){return void e(i)}e()},n.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var r=new Uint32Array(t,0,124/Uint32Array.BYTES_PER_ELEMENT),o=r[3],s=r[4],a=r[7],l=new Uint32Array(t,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),c=l[1];if(4&c){var u=l[2];if(808540228!==u){var y=Eae[u],P=new Uint8Array(t,128);return[new R1(P,{format:y,width:s,height:o,levels:a})]}var B=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),Y=B[0],q=B[1],ie=B[2],se=B[3],re=Sae[Y];if(void 0===re)throw new Error("DDSLoader cannot parse texture data with DXGI format "+Y);if(4===ie)throw new Error("DDSLoader does not support cubemap textures");if(q===k1.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var ne=new Array;if(1===se)ne.push(new Uint8Array(t,148));else{for(var Ne=bv[re],Se=0,De=s,Xe=o,$e=0;$e<a;$e++)Se+=Math.max(1,De+3&-4)*Math.max(1,Xe+3&-4)*Ne,De>>>=1,Xe>>>=1;var Ae=148;for($e=0;$e<se;$e++)ne.push(new Uint8Array(t,Ae,Se)),Ae+=Se}return ne.map(function(Ke){return new R1(Ke,{format:re,width:s,height:o,levels:a})})}throw 64&c?new Error("DDSLoader does not support uncompressed texture data."):512&c?new Error("DDSLoader does not supported YUV uncompressed texture data."):131072&c?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):2&c?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},n}();mr.setExtensionXhrType("ktx",mr.XHR_RESPONSE_TYPE.BUFFER);var r5=[171,75,84,88,32,49,49,187,13,10,26,10],yP=((Gg={})[Pt.UNSIGNED_BYTE]=1,Gg[Pt.UNSIGNED_SHORT]=2,Gg[Pt.FLOAT]=4,Gg[Pt.HALF_FLOAT]=8,Gg),o5=((jd={})[ze.RGBA]=4,jd[ze.RGB]=3,jd[ze.LUMINANCE]=1,jd[ze.LUMINANCE_ALPHA]=2,jd[ze.ALPHA]=1,jd),s5=((Sv={})[Pt.UNSIGNED_SHORT_4_4_4_4]=2,Sv[Pt.UNSIGNED_SHORT_5_5_5_1]=2,Sv[Pt.UNSIGNED_SHORT_5_6_5]=2,Sv),a5=function(){function n(){}return n.use=function(t,e){if("ktx"===t.extension&&t.data)try{var i=t.name||t.url;Object.assign(t,t5(i,n.parse(i,t.data),t.metadata))}catch(r){return void e(r)}e()},n.parse=function(t,e){var i=new DataView(e);if(!n.validate(t,i))return null;var r=67305985===i.getUint32(12,!0),o=i.getUint32(16,r),s=i.getUint32(24,r),a=i.getUint32(28,r),l=i.getUint32(36,r),c=i.getUint32(40,r)||1,u=i.getUint32(44,r)||1,y=i.getUint32(48,r)||1,O=i.getUint32(52,r),P=i.getUint32(56,r),I=i.getUint32(60,r);if(0===c||1!==u)throw new Error("Only 2D textures are supported");if(1!==O)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==y)throw new Error("WebGL does not support array textures");var re,Y=l+3&-4,q=c+3&-4,ie=new Array(y),se=l*c;if(0===o&&(se=Y*q),void 0===(re=0!==o?yP[o]?yP[o]*o5[s]:s5[o]:bv[a]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var Ee=se*re,Ne=l,Se=c,De=Y,Xe=q,$e=64+I,Qe=0;Qe<P;Qe++){for(var Mt=i.getUint32($e,r),Ye=$e+4,Ae=0;Ae<y;Ae++){var Ke=ie[Ae];Ke||(Ke=ie[Ae]=new Array(P)),Ke[Qe]={levelID:Qe,levelWidth:P>1?Ne:De,levelHeight:P>1?Se:Xe,levelBuffer:new Uint8Array(e,Ye,Ee)},Ye+=Ee}$e=($e+=Mt+4)%4!=0?$e+4-$e%4:$e,Ee=(De=(Ne=Ne>>1||1)+4-1&-4)*(Xe=(Se=Se>>1||1)+4-1&-4)*re}if(0!==o)throw new Error("TODO: Uncompressed");return ie.map(function(mt){return new R1(null,{format:a,width:l,height:c,levels:P,levelBuffers:mt})})},n.validate=function(t,e){for(var i=0;i<r5.length;i++)if(e.getUint8(i)!==r5[i])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},n}(),bP=function(n,t){return(bP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function l5(n,t){function e(){this.constructor=n}bP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var c5=function(n){function t(e,i,r,o){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===o&&(o=!1);var s=n.call(this)||this;return r>16384&&(r=16384),s._properties=[!1,!0,!1,!1,!1],s._maxSize=e,s._batchSize=r,s._buffers=null,s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=je.NORMAL,s.autoResize=o,s.roundPixels=!0,s.baseTexture=null,s.setProperties(i),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return l5(t,n),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,du(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var i=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return i.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var i=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<i;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[i]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(cr),u5=function(){function n(t,e,i){this.geometry=new Lg,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var o=t[r];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||Pt.FLOAT,offset:o.offset},e[r]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return n.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new so(LL(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i)(r=this.dynamicProperties[i]).offset=e,e+=r.size,this.dynamicStride+=r.size;var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new so(this.dynamicData,!1,!1);var s=0;for(this.staticStride=0,i=0;i<this.staticProperties.length;++i)(r=this.staticProperties[i]).offset=s,s+=r.size,this.staticStride+=r.size;var a=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new so(this.staticData,!0,!1),i=0;i<this.dynamicProperties.length;++i)t.addAttribute((r=this.dynamicProperties[i]).attributeName,this.dynamicBuffer,0,r.type===Pt.UNSIGNED_BYTE,r.type,4*this.dynamicStride,4*r.offset);for(i=0;i<this.staticProperties.length;++i){var r;t.addAttribute((r=this.staticProperties[i]).attributeName,this.staticBuffer,0,r.type===Pt.UNSIGNED_BYTE,r.type,4*this.staticStride,4*r.offset)}},n.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var o=this.dynamicProperties[r];o.uploadFunction(t,e,i,o.type===Pt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},n.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var o=this.staticProperties[r];o.uploadFunction(t,e,i,o.type===Pt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},n.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},n}(),h5=function(n){function t(e){var i=n.call(this,e)||this;return i.shader=null,i.properties=null,i.tempMatrix=new xi,i.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:i.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:i.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:i.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:i.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Pt.UNSIGNED_BYTE,uploadFunction:i.uploadTint,offset:0}],i.shader=fu.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),i.state=bh.for2d(),i}return l5(t,n),t.prototype.render=function(e){var i=e.children,r=e._maxSize,o=e._batchSize,s=this.renderer,a=i.length;if(0!==a){a>r&&!e.autoResize&&(a=r);var l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));var c=i[0]._texture.baseTexture;this.state.blendMode=gw(e.blendMode,c.alphaMode),s.state.set(this.state);var u=s.gl,y=e.worldTransform.copyTo(this.tempMatrix);y.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=y.toArray(!0),this.shader.uniforms.uColor=BL(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,c.alphaMode),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);for(var O=!1,P=0,I=0;P<a;P+=o,I+=1){var D=a-P;D>o&&(D=o),I>=l.length&&l.push(this._generateOneMoreBuffer(e));var B=l[I];B.uploadDynamic(i,P,D),(O=O||B._updateID<(e._bufferUpdateIDs[I]||0))&&(B._updateID=e._updateID,B.uploadStatic(i,P,D)),s.geometry.bind(B.geometry),u.drawElements(u.TRIANGLES,6*D,u.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var i=[],r=e._maxSize,o=e._batchSize,s=e._properties,a=0;a<r;a+=o)i.push(new u5(this.properties,s,o));return i},t.prototype._generateOneMoreBuffer=function(e){return new u5(this.properties,e._properties,e._batchSize)},t.prototype.uploadVertices=function(e,i,r,o,s,a){for(var l=0,c=0,u=0,y=0,O=0;O<r;++O){var P=e[i+O],I=P._texture,D=P.scale.x,B=P.scale.y,Y=I.trim,q=I.orig;Y?(l=(c=Y.x-P.anchor.x*q.width)+Y.width,u=(y=Y.y-P.anchor.y*q.height)+Y.height):(l=q.width*(1-P.anchor.x),c=q.width*-P.anchor.x,u=q.height*(1-P.anchor.y),y=q.height*-P.anchor.y),o[a]=c*D,o[a+1]=y*B,o[a+s]=l*D,o[a+s+1]=y*B,o[a+2*s]=l*D,o[a+2*s+1]=u*B,o[a+3*s]=c*D,o[a+3*s+1]=u*B,a+=4*s}},t.prototype.uploadPosition=function(e,i,r,o,s,a){for(var l=0;l<r;l++){var c=e[i+l].position;o[a]=c.x,o[a+1]=c.y,o[a+s]=c.x,o[a+s+1]=c.y,o[a+2*s]=c.x,o[a+2*s+1]=c.y,o[a+3*s]=c.x,o[a+3*s+1]=c.y,a+=4*s}},t.prototype.uploadRotation=function(e,i,r,o,s,a){for(var l=0;l<r;l++){var c=e[i+l].rotation;o[a]=c,o[a+s]=c,o[a+2*s]=c,o[a+3*s]=c,a+=4*s}},t.prototype.uploadUvs=function(e,i,r,o,s,a){for(var l=0;l<r;++l){var c=e[i+l]._texture._uvs;c?(o[a]=c.x0,o[a+1]=c.y0,o[a+s]=c.x1,o[a+s+1]=c.y1,o[a+2*s]=c.x2,o[a+2*s+1]=c.y2,o[a+3*s]=c.x3,o[a+3*s+1]=c.y3,a+=4*s):(o[a]=0,o[a+1]=0,o[a+s]=0,o[a+s+1]=0,o[a+2*s]=0,o[a+2*s+1]=0,o[a+3*s]=0,o[a+3*s+1]=0,a+=4*s)}},t.prototype.uploadTint=function(e,i,r,o,s,a){for(var l=0;l<r;++l){var c=e[i+l],y=c.alpha,O=y<1&&c._texture.baseTexture.alphaMode>0?o1(c._tintRGB,y):c._tintRGB+(255*y<<24);o[a]=O,o[a+s]=O,o[a+2*s]=O,o[a+3*s]=O,a+=4*s}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(gv),Cc=(()=>(function(n){n.MITER="miter",n.BEVEL="bevel",n.ROUND="round"}(Cc||(Cc={})),Cc))(),Tc=(()=>(function(n){n.BUTT="butt",n.ROUND="round",n.SQUARE="square"}(Tc||(Tc={})),Tc))(),jg={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(n,t){if(void 0===t&&(t=20),!this.adaptive||!n||isNaN(n))return t;var e=Math.ceil(n/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},EP=function(){function n(){this.color=16777215,this.alpha=1,this.texture=zt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return n.prototype.clone=function(){var t=new n;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},n.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=zt.WHITE,this.matrix=null,this.visible=!1},n.prototype.destroy=function(){this.texture=null,this.matrix=null},n}(),SP=function(n,t){return(SP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function CP(n,t){function e(){this.constructor=n}SP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var TP={build:function(n){n.points=n.shape.points.slice()},triangulate:function(n,t){var e=n.points,i=n.holes,r=t.points,o=t.indices;if(e.length>=6){for(var s=[],a=0;a<i.length;a++){var l=i[a];s.push(e.length/2),e=e.concat(l.points)}var c=lw()(e,s,2);if(!c)return;var u=r.length/2;for(a=0;a<c.length;a+=3)o.push(c[a]+u),o.push(c[a+1]+u),o.push(c[a+2]+u);for(a=0;a<e.length;a++)r.push(e[a])}}},MP={build:function(n){var o,s,t=n.shape,e=n.points,i=t.x,r=t.y;if(e.length=0,n.type===gi.CIRC)o=t.radius,s=t.radius;else{var a=n.shape;o=a.width,s=a.height}if(0!==o&&0!==s){var l=Math.floor(30*Math.sqrt(t.radius))||Math.floor(15*Math.sqrt(o+s));l/=2.3;for(var c=2*Math.PI/l,u=0;u<l-.5;u++)e.push(i+Math.sin(-c*u)*o,r+Math.cos(-c*u)*s);e.push(e[0],e[1])}},triangulate:function(n,t){var e=n.points,i=t.points,r=t.indices,o=i.length/2,s=o,a=n.shape,l=n.matrix,c=a.x,u=a.y;i.push(n.matrix?l.a*c+l.c*u+l.tx:c,n.matrix?l.b*c+l.d*u+l.ty:u);for(var y=0;y<e.length;y+=2)i.push(e[y],e[y+1]),r.push(o++,s,o)}},d5={build:function(n){var t=n.shape,e=t.x,i=t.y,r=t.width,o=t.height,s=n.points;s.length=0,s.push(e,i,e+r,i,e+r,i+o,e,i+o)},triangulate:function(n,t){var e=n.points,i=t.points,r=i.length/2;i.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),t.indices.push(r,r+1,r+2,r+1,r+2,r+3)}};function Hg(n,t,e){return n+(t-n)*e}function F1(n,t,e,i,r,o,s){void 0===s&&(s=[]);for(var l=s,c=0,u=0,y=0,O=0,P=0,I=0,D=0,B=0;D<=20;++D)c=Hg(n,e,B=D/20),u=Hg(t,i,B),y=Hg(e,r,B),O=Hg(i,o,B),P=Hg(c,y,B),I=Hg(u,O,B),(0!==D||l[l.length-2]!==P||l[l.length-1]!==I)&&l.push(P,I);return l}var f5={build:function(n){var t=n.shape,e=n.points,i=t.x,r=t.y,o=t.width,s=t.height,a=Math.max(0,Math.min(t.radius,Math.min(o,s)/2));e.length=0,a?(F1(i,r+a,i,r,i+a,r,e),F1(i+o-a,r,i+o,r,i+o,r+a,e),F1(i+o,r+s-a,i+o,r+s,i+o-a,r+s,e),F1(i+a,r+s,i,r+s,i,r+s-a,e)):e.push(i,r,i+o,r,i+o,r+s,i,r+s)},triangulate:function(n,t){for(var e=n.points,i=t.points,r=t.indices,o=i.length/2,s=lw()(e,null,2),a=0,l=s.length;a<l;a+=3)r.push(s[a]+o),r.push(s[a+1]+o),r.push(s[a+2]+o);for(a=0,l=e.length;a<l;a++)i.push(e[a],e[++a])}};function p5(n,t,e,i,r,o,s,a){var O,P;s?(O=i,P=-e):(O=-i,P=e);var B=n+e*o+O,Y=t+i*o+P;return a.push(n-e*r+O,t-i*r+P),a.push(B,Y),2}function Vg(n,t,e,i,r,o,s,a){var l=e-n,c=i-t,u=Math.atan2(l,c),y=Math.atan2(r-n,o-t);a&&u<y?u+=2*Math.PI:!a&&u>y&&(y+=2*Math.PI);var O=u,P=y-u,I=Math.abs(P),D=Math.sqrt(l*l+c*c),B=1+(15*I*Math.sqrt(D)/Math.PI>>0),Y=P/B;if(O+=Y,a){s.push(n,t),s.push(e,i);for(var q=1,ie=O;q<B;q++,ie+=Y)s.push(n,t),s.push(n+Math.sin(ie)*D,t+Math.cos(ie)*D);s.push(n,t),s.push(r,o)}else{for(s.push(e,i),s.push(n,t),q=1,ie=O;q<B;q++,ie+=Y)s.push(n+Math.sin(ie)*D,t+Math.cos(ie)*D),s.push(n,t);s.push(r,o),s.push(n,t)}return 2*B}function OP(n,t){n.lineStyle.native?function Pae(n,t){var e=0,i=n.shape,r=n.points||i.points,o=i.type!==gi.POLY||i.closeStroke;if(0!==r.length){var s=t.points,a=t.indices,l=r.length/2,c=s.length/2,u=c;for(s.push(r[0],r[1]),e=1;e<l;e++)s.push(r[2*e],r[2*e+1]),a.push(u,u+1),u++;o&&a.push(u,c)}}(n,t):function wae(n,t){var e=n.shape,i=n.points||e.points.slice(),r=t.closePointEps;if(0!==i.length){var o=n.lineStyle,s=new qi(i[0],i[1]),a=new qi(i[i.length-2],i[i.length-1]),l=e.type!==gi.POLY||e.closeStroke,c=Math.abs(s.x-a.x)<r&&Math.abs(s.y-a.y)<r;if(l){i=i.slice(),c&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var u=.5*(s.x+a.x),y=.5*(a.y+s.y);i.unshift(u,y),i.push(u,y)}var O=t.points,P=i.length/2,I=i.length,D=O.length/2,B=o.width/2,Y=B*B,q=o.miterLimit*o.miterLimit,ie=i[0],se=i[1],re=i[2],ne=i[3],Ee=0,Ne=0,Se=-(se-ne),De=ie-re,Xe=0,$e=0,Qe=Math.sqrt(Se*Se+De*De);Se/=Qe,De/=Qe,Se*=B,De*=B;var Mt=o.alignment,Ye=2*(1-Mt),Ae=2*Mt;l||(o.cap===Tc.ROUND?I+=Vg(ie-Se*(Ye-Ae)*.5,se-De*(Ye-Ae)*.5,ie-Se*Ye,se-De*Ye,ie+Se*Ae,se+De*Ae,O,!0)+2:o.cap===Tc.SQUARE&&(I+=p5(ie,se,Se,De,Ye,Ae,!0,O))),O.push(ie-Se*Ye,se-De*Ye),O.push(ie+Se*Ae,se+De*Ae);for(var Ke=1;Ke<P-1;++Ke){Ee=i[2*(Ke+1)],Ne=i[2*(Ke+1)+1],Se=-((se=i[2*(Ke-1)+1])-(ne=i[2*Ke+1])),De=(ie=i[2*(Ke-1)])-(re=i[2*Ke]),Se/=Qe=Math.sqrt(Se*Se+De*De),De/=Qe,Se*=B,De*=B,Xe=-(ne-Ne),$e=re-Ee,Xe/=Qe=Math.sqrt(Xe*Xe+$e*$e),$e/=Qe,Xe*=B,$e*=B;var mt=re-ie,At=se-ne,fe=re-Ee,Ct=Ne-ne,kt=At*fe-Ct*mt,Ut=kt<0;if(Math.abs(kt)<.1)O.push(re-Se*Ye,ne-De*Ye),O.push(re+Se*Ae,ne+De*Ae);else{var Rt=(-Se+ie)*(-De+ne)-(-Se+re)*(-De+se),sn=(-Xe+Ee)*(-$e+ne)-(-Xe+re)*(-$e+Ne),mn=(mt*sn-fe*Rt)/kt,Kt=(Ct*Rt-At*sn)/kt,Kn=(mn-re)*(mn-re)+(Kt-ne)*(Kt-ne),gn=re+(mn-re)*Ye,an=ne+(Kt-ne)*Ye,Ft=re-(mn-re)*Ae,vn=ne-(Kt-ne)*Ae,or=Ut?Ye:Ae;Kn<=Math.min(mt*mt+At*At,fe*fe+Ct*Ct)+or*or*Y?o.join===Cc.BEVEL||Kn/Y>q?(Ut?(O.push(gn,an),O.push(re+Se*Ae,ne+De*Ae),O.push(gn,an),O.push(re+Xe*Ae,ne+$e*Ae)):(O.push(re-Se*Ye,ne-De*Ye),O.push(Ft,vn),O.push(re-Xe*Ye,ne-$e*Ye),O.push(Ft,vn)),I+=2):o.join===Cc.ROUND?Ut?(O.push(gn,an),O.push(re+Se*Ae,ne+De*Ae),I+=Vg(re,ne,re+Se*Ae,ne+De*Ae,re+Xe*Ae,ne+$e*Ae,O,!0)+4,O.push(gn,an),O.push(re+Xe*Ae,ne+$e*Ae)):(O.push(re-Se*Ye,ne-De*Ye),O.push(Ft,vn),I+=Vg(re,ne,re-Se*Ye,ne-De*Ye,re-Xe*Ye,ne-$e*Ye,O,!1)+4,O.push(re-Xe*Ye,ne-$e*Ye),O.push(Ft,vn)):(O.push(gn,an),O.push(Ft,vn)):(O.push(re-Se*Ye,ne-De*Ye),O.push(re+Se*Ae,ne+De*Ae),o.join===Cc.BEVEL||Kn/Y>q||(o.join===Cc.ROUND?I+=Ut?Vg(re,ne,re+Se*Ae,ne+De*Ae,re+Xe*Ae,ne+$e*Ae,O,!0)+2:Vg(re,ne,re-Se*Ye,ne-De*Ye,re-Xe*Ye,ne-$e*Ye,O,!1)+2:(Ut?(O.push(Ft,vn),O.push(Ft,vn)):(O.push(gn,an),O.push(gn,an)),I+=2)),O.push(re-Xe*Ye,ne-$e*Ye),O.push(re+Xe*Ae,ne+$e*Ae),I+=2)}}Se=-((se=i[2*(P-2)+1])-(ne=i[2*(P-1)+1])),De=(ie=i[2*(P-2)])-(re=i[2*(P-1)]),Se/=Qe=Math.sqrt(Se*Se+De*De),De/=Qe,O.push(re-(Se*=B)*Ye,ne-(De*=B)*Ye),O.push(re+Se*Ae,ne+De*Ae),l||(o.cap===Tc.ROUND?I+=Vg(re-Se*(Ye-Ae)*.5,ne-De*(Ye-Ae)*.5,re-Se*Ye,ne-De*Ye,re+Se*Ae,ne+De*Ae,O,!1)+2:o.cap===Tc.SQUARE&&(I+=p5(re,ne,Se,De,Ye,Ae,!1,O)));var ms=t.indices,Tr=jg.epsilon*jg.epsilon;for(Ke=D;Ke<I+D-2;++Ke)ie=O[2*Ke],se=O[2*Ke+1],re=O[2*(Ke+1)],ne=O[2*(Ke+1)+1],Ee=O[2*(Ke+2)],Ne=O[2*(Ke+2)+1],!(Math.abs(ie*(ne-Ne)+re*(Ne-se)+Ee*(se-ne))<Tr)&&ms.push(Ke,Ke+1,Ke+2)}}(n,t)}var Hd,wP=function(){function n(){}return n.curveTo=function(t,e,i,r,o,s){var c=s[s.length-1]-e,u=s[s.length-2]-t,y=r-e,O=i-t,P=Math.abs(c*O-u*y);if(P<1e-8||0===o)return(s[s.length-2]!==t||s[s.length-1]!==e)&&s.push(t,e),null;var I=c*c+u*u,D=y*y+O*O,B=c*y+u*O,Y=o*Math.sqrt(I)/P,q=o*Math.sqrt(D)/P,ie=Y*B/I,se=q*B/D,re=Y*O+q*u,ne=Y*y+q*c,Se=O*(Y+se),De=y*(Y+se);return{cx:re+t,cy:ne+e,radius:o,startAngle:Math.atan2(c*(q+ie)-ne,u*(q+ie)-re),endAngle:Math.atan2(De-ne,Se-re),anticlockwise:u*y>O*c}},n.arc=function(t,e,i,r,o,s,a,l,c){for(var u=a-s,y=jg._segmentsCount(Math.abs(u)*o,40*Math.ceil(Math.abs(u)/uv)),O=u/(2*y),P=2*O,I=Math.cos(O),D=Math.sin(O),B=y-1,Y=B%1/B,q=0;q<=B;++q){var se=O+s+P*(q+Y*q),re=Math.cos(se),ne=-Math.sin(se);c.push((I*re+D*ne)*o+i,(I*-ne+D*re)*o+r)}},n}(),g5=function(){function n(){}return n.curveLength=function(t,e,i,r,o,s,a,l){for(var u=0,y=0,O=0,P=0,I=0,D=0,B=0,Y=0,q=0,ie=0,se=0,re=t,ne=e,Ee=1;Ee<=10;++Ee)ie=re-(Y=(B=(D=(I=1-(y=Ee/10))*I)*I)*t+3*D*y*i+3*I*(O=y*y)*o+(P=O*y)*a),se=ne-(q=B*e+3*D*y*r+3*I*O*s+P*l),re=Y,ne=q,u+=Math.sqrt(ie*ie+se*se);return u},n.curveTo=function(t,e,i,r,o,s,a){var l=a[a.length-2],c=a[a.length-1];a.length-=2;var u=jg._segmentsCount(n.curveLength(l,c,t,e,i,r,o,s)),y=0,O=0,P=0,I=0,D=0;a.push(l,c);for(var B=1,Y=0;B<=u;++B)a.push((P=(O=(y=1-(Y=B/u))*y)*y)*l+3*O*Y*t+3*y*(I=Y*Y)*i+(D=I*Y)*o,P*c+3*O*Y*e+3*y*I*r+D*s)},n}(),_5=function(){function n(){}return n.curveLength=function(t,e,i,r,o,s){var a=t-2*i+o,l=e-2*r+s,c=2*i-2*t,u=2*r-2*e,y=4*(a*a+l*l),O=4*(a*c+l*u),P=c*c+u*u,I=2*Math.sqrt(y+O+P),D=Math.sqrt(y),B=2*y*D,Y=2*Math.sqrt(P),q=O/D;return(B*I+D*O*(I-Y)+(4*P*y-O*O)*Math.log((2*D+q+I)/(q+Y)))/(4*B)},n.curveTo=function(t,e,i,r,o){for(var s=o[o.length-2],a=o[o.length-1],l=jg._segmentsCount(n.curveLength(s,a,t,e,i,r)),c=0,u=0,y=1;y<=l;++y){var O=y/l;o.push((c=s+(t-s)*O)+(t+(i-t)*O-c)*O,(u=a+(e-a)*O)+(e+(r-e)*O-u)*O)}},n}(),m5=function(){function n(){this.reset()}return n.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},n.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},n.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},n}(),B1=((Hd={})[gi.POLY]=TP,Hd[gi.CIRC]=MP,Hd[gi.ELIP]=MP,Hd[gi.RECT]=d5,Hd[gi.RREC]=f5,Hd),PP=[],Cv=[];function xae(n){for(var t=n.points,e=0,i=0;i<t.length-2;i+=2)e+=(t[i+2]-t[i])*(t[i+3]+t[i+1]);return e>0}var xP=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type}return n.prototype.clone=function(){return new n(this.shape,this.fillStyle,this.lineStyle,this.matrix)},n.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},n}(),Wg=new qi,Aae=new Fg,v5=function(n){function t(){var e=n.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new Fg,e.boundsDirty=-1,e}return CP(t,n),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Cv.push(this.drawCalls[e]);for(this.drawCalls.length=0,e=0;e<this.batches.length;e++){var i=this.batches[e];i.reset(),PP.push(i)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,i,r,o){void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null);var s=new xP(e,i,r,o);return this.graphicsData.push(s),this.dirty++,this},t.prototype.drawHole=function(e,i){if(void 0===i&&(i=null),!this.graphicsData.length)return null;var r=new xP(e,null,null,i),o=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=o.lineStyle,o.holes.push(r),this.dirty++,this},t.prototype.destroy=function(){n.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var i=this.graphicsData,r=0;r<i.length;++r){var o=i[r];if(o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(e,Wg):Wg.copyFrom(e),o.shape.contains(Wg.x,Wg.y))){var s=!1;if(o.holes)for(var a=0;a<o.holes.length;a++)if(o.holes[a].shape.contains(Wg.x,Wg.y)){s=!0;break}if(!s)return!0}}return!1},t.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var i=this.uvs,r=this.graphicsData,o=null,s=null;this.batches.length>0&&(s=(o=this.batches[this.batches.length-1]).style);for(var a=this.shapeIndex;a<r.length;a++){this.shapeIndex++;var l=r[a],c=l.fillStyle,u=l.lineStyle;B1[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix);for(var O=0;O<2;O++){var P=0===O?c:u;if(P.visible){var D=this.indices.length,B=this.points.length/2;P.texture.baseTexture.wrapMode=Ja.REPEAT,0===O?this.processFill(l):this.processLine(l);var Y=this.points.length/2-B;0!==Y&&(o&&!this._compareStyles(s,P)&&(o.end(D,B),o=null),o||((o=PP.pop()||new m5).begin(P,D,B),this.batches.push(o),s=P),this.addUvs(this.points,i,P.texture,B,Y,P.matrix))}}}var ie=this.points.length/2;if(o&&o.end(this.indices.length,ie),0===this.batches.length)return void(this.batchable=!0);this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=ie>65535&&e?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}}else this.batchable=!0},t.prototype._compareStyles=function(e,i){return!(!e||!i||e.texture.baseTexture!==i.texture.baseTexture||e.color+e.alpha!==i.color+i.alpha||!!e.native!=!!i.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,i=this.graphicsData.length;e<i;e++){var r=this.graphicsData[e],o=r.fillStyle,s=r.lineStyle;if(o&&!o.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,i=0,r=e.length;i<r;i++)for(var o=e[i],s=0;s<o.size;s++){var a=o.start+s;this.indicesUint16[a]=this.indicesUint16[a]-o.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,i=0;i<e.length;i++)if(e[i].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++di._globalBatch,i=0;i<this.drawCalls.length;i++)this.drawCalls[i].texArray.clear(),Cv.push(this.drawCalls[i]);this.drawCalls.length=0;var r=this.colors,o=this.textureIds,s=Cv.pop();s||((s=new O1).texArray=new w1),s.texArray.count=0,s.start=0,s.size=0,s.type=Ho.TRIANGLES;var a=0,l=null,c=0,u=!1,y=Ho.TRIANGLES,O=0;for(this.drawCalls.push(s),i=0;i<this.batches.length;i++){var P=this.batches[i],D=P.style,B=D.texture.baseTexture;u!==!!D.native&&(y=(u=!!D.native)?Ho.LINES:Ho.TRIANGLES,l=null,a=8,e++),l!==B&&(l=B,B._batchEnabled!==e&&(8===a&&(e++,a=0,s.size>0&&((s=Cv.pop())||((s=new O1).texArray=new w1),this.drawCalls.push(s)),s.start=O,s.size=0,s.texArray.count=0,s.type=y),B.touched=1,B._batchEnabled=e,B._batchLocation=a,B.wrapMode=Ja.REPEAT,s.texArray.elements[s.texArray.count++]=B,a++)),s.size+=P.size,O+=P.size,c=B._batchLocation,this.addColors(r,D.color,D.alpha,P.attribSize,P.attribStart),this.addTextureIds(o,c,P.attribSize,P.attribStart)}di._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,i=this.uvs,r=this.colors,o=this.textureIds,s=new ArrayBuffer(3*e.length*4),a=new Float32Array(s),l=new Uint32Array(s),c=0,u=0;u<e.length/2;u++)a[c++]=e[2*u],a[c++]=e[2*u+1],a[c++]=i[2*u],a[c++]=i[2*u+1],l[c++]=r[u],a[c++]=o[u];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),TP.triangulate(e,this)):B1[e.type].triangulate(e,this)},t.prototype.processLine=function(e){OP(e,this);for(var i=0;i<e.holes.length;i++)OP(e.holes[i],this)},t.prototype.processHoles=function(e){for(var i=0;i<e.length;i++){var r=e[i];B1[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,i=Aae,r=xi.IDENTITY;this._bounds.clear(),i.clear();for(var o=0;o<this.graphicsData.length;o++){var s=this.graphicsData[o],a=s.shape,l=s.type,c=s.lineStyle,u=s.matrix||xi.IDENTITY,y=0;if(c&&c.visible){var O=c.alignment;y=c.width,l===gi.POLY?xae(a)?y*=1-O:y*=O:y*=Math.max(0,O)}r!==u&&(i.isEmpty()||(e.addBoundsMatrix(i,r),i.clear()),r=u),l===gi.RECT||l===gi.RREC?i.addFramePad(a.x,a.y,a.x+a.width,a.y+a.height,y,y):l===gi.CIRC?i.addFramePad(a.x,a.y,a.x,a.y,a.radius+y,a.radius+y):l===gi.ELIP?i.addFramePad(a.x,a.y,a.x,a.y,a.width+y,a.height+y):e.addVerticesMatrix(r,a.points,0,a.points.length,y,y)}i.isEmpty()||e.addBoundsMatrix(i,r),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,i){for(var r=0;r<e.length/2;r++){var o=e[2*r],s=e[2*r+1];e[2*r]=i.a*o+i.c*s+i.tx,e[2*r+1]=i.b*o+i.d*s+i.ty}},t.prototype.addColors=function(e,i,r,o,s){void 0===s&&(s=0);var l=o1((i>>16)+(65280&i)+((255&i)<<16),r);e.length=Math.max(e.length,s+o);for(var c=0;c<o;c++)e[s+c]=l},t.prototype.addTextureIds=function(e,i,r,o){void 0===o&&(o=0),e.length=Math.max(e.length,o+r);for(var s=0;s<r;s++)e[o+s]=i},t.prototype.addUvs=function(e,i,r,o,s,a){void 0===a&&(a=null);for(var l=0,c=i.length,u=r.frame;l<s;){var y=e[2*(o+l)],O=e[2*(o+l)+1];if(a){var P=a.a*y+a.c*O+a.tx;O=a.b*y+a.d*O+a.ty,y=P}l++,i.push(y/u.width,O/u.height)}var I=r.baseTexture;(u.width<I.width||u.height<I.height)&&this.adjustUvs(i,r,c,s)},t.prototype.adjustUvs=function(e,i,r,o){for(var s=i.baseTexture,a=1e-6,l=r+2*o,c=i.frame,u=c.width/s.width,y=c.height/s.height,O=c.x/c.width,P=c.y/c.height,I=Math.floor(e[r]+a),D=Math.floor(e[r+1]+a),B=r+2;B<l;B+=2)I=Math.min(I,Math.floor(e[B]+a)),D=Math.min(D,Math.floor(e[B+1]+a));for(O-=I,P-=D,B=r;B<l;B+=2)e[B]=(e[B]+O)*u,e[B+1]=(e[B+1]+P)*y},t.BATCHABLE_SIZE=100,t}(dP),y5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=Tc.BUTT,e.join=Cc.MITER,e.miterLimit=10,e}return CP(t,n),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){n.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(EP),Rae=new Float32Array(3),AP={},Ma=function(n){function t(e){void 0===e&&(e=null);var i=n.call(this)||this;return i.shader=null,i.pluginName="batch",i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i._fillStyle=new EP,i._lineStyle=new y5,i._matrix=null,i._holeMode=!1,i.state=bh.for2d(),i._geometry=e||new v5,i._geometry.refCount++,i._transformID=-1,i.tint=16777215,i.blendMode=je.NORMAL,i}return CP(t,n),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e,i,r,o,s){return void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=.5),void 0===s&&(s=!1),"number"==typeof e&&(e={width:e,color:i,alpha:r,alignment:o,native:s}),this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:zt.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Tc.BUTT,join:Cc.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var i=e.width>0&&e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:i},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,i=this.currentPath.points.length;i>2&&(this.drawShape(this.currentPath),this.currentPath=new hv,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[i-2],e[i-1]))}else this.currentPath=new hv,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,i){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=i,this},t.prototype.lineTo=function(e,i){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points;return(r[r.length-2]!==e||r[r.length-1]!==i)&&r.push(e,i),this},t.prototype._initCurve=function(e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,i]):this.moveTo(e,i)},t.prototype.quadraticCurveTo=function(e,i,r,o){this._initCurve();var s=this.currentPath.points;return 0===s.length&&this.moveTo(0,0),_5.curveTo(e,i,r,o,s),this},t.prototype.bezierCurveTo=function(e,i,r,o,s,a){return this._initCurve(),g5.curveTo(e,i,r,o,s,a,this.currentPath.points),this},t.prototype.arcTo=function(e,i,r,o,s){this._initCurve(e,i);var l=wP.curveTo(e,i,r,o,s,this.currentPath.points);return l&&this.arc(l.cx,l.cy,l.radius,l.startAngle,l.endAngle,l.anticlockwise),this},t.prototype.arc=function(e,i,r,o,s,a){if(void 0===a&&(a=!1),o===s)return this;if(!a&&s<=o?s+=uv:a&&o<=s&&(o+=uv),0==s-o)return this;var c=e+Math.cos(o)*r,u=i+Math.sin(o)*r,y=this._geometry.closePointEps,O=this.currentPath?this.currentPath.points:null;if(O){var P=Math.abs(O[O.length-2]-c),I=Math.abs(O[O.length-1]-u);P<y&&I<y||O.push(c,u)}else this.moveTo(c,u),O=this.currentPath.points;return wP.arc(c,u,e,i,r,o,s,a,O),this},t.prototype.beginFill=function(e,i){return void 0===e&&(e=0),void 0===i&&(i=1),this.beginTextureFill({texture:zt.WHITE,color:e,alpha:i})},t.prototype.beginTextureFill=function(e){e=Object.assign({texture:zt.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var i=e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:i},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,i,r,o){return this.drawShape(new ai(e,i,r,o))},t.prototype.drawRoundedRect=function(e,i,r,o,s){return this.drawShape(new $L(e,i,r,o,s))},t.prototype.drawCircle=function(e,i,r){return this.drawShape(new YL(e,i,r))},t.prototype.drawEllipse=function(e,i,r,o){return this.drawShape(new zL(e,i,r,o))},t.prototype.drawPolygon=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];var o,s=!0,a=i[0];a.points?(s=a.closeStroke,o=a.points):o=Array.isArray(i[0])?i[0]:i;var l=new hv(o);return l.closeStroke=s,this.drawShape(l),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==gi.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var i=this._geometry;i.updateBatches(e.context.supports.uint32Indices),i.batchable?(this.batchDirty!==i.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,i=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(var o=0;o<r;o++){var s=e.batches[o],a=s.style.color,l=new Float32Array(this.vertexData.buffer,4*s.attribStart*2,2*s.attribSize),c=new Float32Array(e.uvsFloat32.buffer,4*s.attribStart*2,2*s.attribSize),y={vertexData:l,blendMode:i,indices:new Uint16Array(e.indicesUint16.buffer,2*s.start,s.size),uvs:c,_batchRGB:du(a),_tintRGB:a,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[o]=y}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var i=0,r=this.batches.length;i<r;i++){var o=this.batches[i];o.worldAlpha=this.worldAlpha*o.alpha,e.plugins[this.pluginName].render(o)}}},t.prototype._renderDirect=function(e){var i=this._resolveDirectShader(e),r=this._geometry,o=this.tint,s=this.worldAlpha,a=i.uniforms,l=r.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(o>>16&255)/255*s,a.tint[1]=(o>>8&255)/255*s,a.tint[2]=(255&o)/255*s,a.tint[3]=s,e.shader.bind(i),e.geometry.bind(r,i),e.state.set(this.state);for(var c=0,u=l.length;c<u;c++)this._renderDrawCallDirect(e,r.drawCalls[c])},t.prototype._renderDrawCallDirect=function(e,i){for(var r=i.texArray,o=i.type,s=i.size,a=i.start,l=r.count,c=0;c<l;c++)e.texture.bind(r.elements[c],c);e.geometry.draw(o,s,a)},t.prototype._resolveDirectShader=function(e){var i=this.shader,r=this.pluginName;if(!i){if(!AP[r]){for(var o=e.plugins.batch.MAX_TEXTURES,s=new Int32Array(o),a=0;a<o;a++)s[a]=a;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new xi,default:yh.from({uSamplers:s},!0)};AP[r]=new fu(e.plugins[r]._shader.program,l)}i=AP[r]}return i},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var i=e.bounds;this._bounds.addFrame(this.transform,i.minX,i.minY,i.maxX,i.maxY)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=du(this.tint,Rae),i=0;i<this.batches.length;i++){var r=this.batches[i],o=r._batchRGB,c=(e[0]*o[0]*255<<16)+(e[1]*o[1]*255<<8)+(0|e[2]*o[2]*255);r._tintRGB=(c>>16)+(65280&c)+((255&c)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var i=this.transform.worldTransform,r=i.a,o=i.b,s=i.c,a=i.d,l=i.tx,c=i.ty,u=this._geometry.points,y=this.vertexData,O=0,P=0;P<u.length;P+=2){var I=u[P],D=u[P+1];y[O++]=r*I+s*D+l,y[O++]=a*D+o*I+c}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,n.prototype.destroy.call(this,e)},t._TEMP_POINT=new qi,t}(cr),Iae={buildPoly:TP,buildCircle:MP,buildRectangle:d5,buildRoundedRectangle:f5,buildLine:OP,ArcUtils:wP,BezierUtils:g5,QuadraticUtils:_5,BatchPart:m5,FILL_COMMANDS:B1,BATCH_POOL:PP,DRAW_CALL_POOL:Cv},RP=function(n,t){return(RP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Tv=new qi,Nae=new Uint16Array([0,1,2,0,2,3]),Rs=function(n){function t(e){var i=n.call(this)||this;return i._anchor=new Id(i._onAnchorUpdate,i,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=je.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=e||zt.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=Nae,i.pluginName="batch",i.isSprite=!0,i._roundPixels=_t.ROUND_PIXELS,i}return function Dae(n,t){function e(){this.constructor=n}RP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Rd(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Rd(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var i=this.transform.worldTransform,r=i.a,o=i.b,s=i.c,a=i.d,l=i.tx,c=i.ty,u=this.vertexData,y=e.trim,O=e.orig,P=this._anchor,I=0,D=0,B=0,Y=0;if(y?(I=(D=y.x-P._x*O.width)+y.width,B=(Y=y.y-P._y*O.height)+y.height):(I=(D=-P._x*O.width)+O.width,B=(Y=-P._y*O.height)+O.height),u[0]=r*D+s*Y+l,u[1]=a*Y+o*D+c,u[2]=r*I+s*Y+l,u[3]=a*Y+o*I+c,u[4]=r*I+s*B+l,u[5]=a*B+o*I+c,u[6]=r*D+s*B+l,u[7]=a*B+o*D+c,this._roundPixels)for(var q=_t.RESOLUTION,ie=0;ie<u.length;++ie)u[ie]=Math.round((u[ie]*q|0)/q)}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var i=this.vertexTrimmedData,r=this._texture.orig,o=this._anchor,s=this.transform.worldTransform,a=s.a,l=s.b,c=s.c,u=s.d,y=s.tx,O=s.ty,P=-o._x*r.width,I=P+r.width,D=-o._y*r.height,B=D+r.height;i[0]=a*P+c*D+y,i[1]=u*D+l*P+O,i[2]=a*I+c*D+y,i[3]=u*D+l*I+O,i[4]=a*I+c*B+y,i[5]=u*B+l*I+O,i[6]=a*P+c*B+y,i[7]=u*B+l*P+O},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,i=this._texture.orig;!e||e.width===i.width&&e.height===i.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new Fg),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ai),e=this._localBoundsRect),this._localBounds.getRectangle(e)):n.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Tv);var i=this._texture.orig.width,r=this._texture.orig.height,o=-i*this.anchor.x,s=0;return Tv.x>=o&&Tv.x<o+i&&Tv.y>=(s=-r*this.anchor.y)&&Tv.y<s+r},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e&&e.texture)&&this._texture.destroy(!!("boolean"==typeof e?e:e&&e.baseTexture)),this._texture=null},t.from=function(e,i){return new t(e instanceof zt?e:zt.from(e,i))},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var i=Rd(this.scale.x)||1;this.scale.x=i*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var i=Rd(this.scale.y)||1;this.scale.y=i*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||zt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(cr),IP=function(n,t){return(IP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Vd=(()=>(function(n){n[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(Vd||(Vd={})),Vd))(),DP={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Vd.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Fae=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Wd=function(){function n(t){this.styleID=0,this.reset(),kP(this,t,t)}return n.prototype.clone=function(){var t={};return kP(t,this,DP),new n(t)},n.prototype.reset=function(){kP(this,DP,DP)},Object.defineProperty(n.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=NP(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=NP(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function Bae(n,t){if(!Array.isArray(n)||!Array.isArray(t)||n.length!==t.length)return!1;for(var e=0;e<n.length;++e)if(n[e]!==t[e])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=NP(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),n.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&Fae.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},n}();function b5(n){return"number"==typeof n?r1(n):("string"==typeof n&&0===n.indexOf("0x")&&(n=n.replace("0x","#")),n)}function NP(n){if(Array.isArray(n)){for(var t=0;t<n.length;++t)n[t]=b5(n[t]);return n}return b5(n)}function kP(n,t,e){for(var i in e)n[i]=Array.isArray(t[i])?t[i].slice():t[i]}var Oa=function(){function n(t,e,i,r,o,s,a,l,c){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=o,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=c}return n.measureText=function(t,e,i,r){void 0===r&&(r=n._canvas),i=null==i?e.wordWrap:i;var o=e.toFontString(),s=n.measureFont(o);0===s.fontSize&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);var a=r.getContext("2d");a.font=o;for(var c=(i?n.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),u=new Array(c.length),y=0,O=0;O<c.length;O++){var P=a.measureText(c[O]).width+(c[O].length-1)*e.letterSpacing;u[O]=P,y=Math.max(y,P)}var I=y+e.strokeThickness;e.dropShadow&&(I+=e.dropShadowDistance);var D=e.lineHeight||s.fontSize+e.strokeThickness,B=Math.max(D,s.fontSize+e.strokeThickness)+(c.length-1)*(D+e.leading);return e.dropShadow&&(B+=e.dropShadowDistance),new n(t,e,I,B,c,u,D+e.leading,y,s)},n.wordWrap=function(t,e,i){void 0===i&&(i=n._canvas);for(var r=i.getContext("2d"),o=0,s="",a="",l=Object.create(null),c=e.letterSpacing,u=e.whiteSpace,y=n.collapseSpaces(u),O=n.collapseNewlines(u),P=!y,I=e.wordWrapWidth+c,D=n.tokenize(t),B=0;B<D.length;B++){var Y=D[B];if(n.isNewline(Y)){if(!O){a+=n.addLine(s),P=!y,s="",o=0;continue}Y=" "}if(y){var q=n.isBreakingSpace(Y),ie=n.isBreakingSpace(s[s.length-1]);if(q&&ie)continue}var se=n.getFromCache(Y,c,l,r);if(se>I)if(""!==s&&(a+=n.addLine(s),s="",o=0),n.canBreakWords(Y,e.breakWords))for(var re=n.wordWrapSplit(Y),ne=0;ne<re.length;ne++){for(var Ee=re[ne],Ne=1;re[ne+Ne];){var Se=re[ne+Ne];if(n.canBreakChars(Ee[Ee.length-1],Se,Y,ne,e.breakWords))break;Ee+=Se,Ne++}ne+=Ee.length-1;var Xe=n.getFromCache(Ee,c,l,r);Xe+o>I&&(a+=n.addLine(s),P=!1,s="",o=0),s+=Ee,o+=Xe}else s.length>0&&(a+=n.addLine(s),s="",o=0),a+=n.addLine(Y,!(B===D.length-1)),P=!1,s="",o=0;else se+o>I&&(P=!1,a+=n.addLine(s),s="",o=0),(s.length>0||!n.isBreakingSpace(Y)||P)&&(s+=Y,o+=se)}return a+n.addLine(s,!1)},n.addLine=function(t,e){return void 0===e&&(e=!0),t=n.trimRight(t),e?t+"\n":t},n.getFromCache=function(t,e,i,r){var o=i[t];if("number"!=typeof o){var s=t.length*e;o=r.measureText(t).width+s,i[t]=o}return o},n.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},n.collapseNewlines=function(t){return"normal"===t},n.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0&&n.isBreakingSpace(t[e]);e--)t=t.slice(0,-1);return t},n.isNewline=function(t){return"string"==typeof t&&n._newlines.indexOf(t.charCodeAt(0))>=0},n.isBreakingSpace=function(t,e){return"string"==typeof t&&n._breakingSpaces.indexOf(t.charCodeAt(0))>=0},n.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var r=0;r<t.length;r++){var o=t[r];n.isBreakingSpace(o,t[r+1])||n.isNewline(o)?(""!==i&&(e.push(i),i=""),e.push(o)):i+=o}return""!==i&&e.push(i),e},n.canBreakWords=function(t,e){return e},n.canBreakChars=function(t,e,i,r,o){return!0},n.wordWrapSplit=function(t){return t.split("")},n.measureFont=function(t){if(n._fonts[t])return n._fonts[t];var e={ascent:0,descent:0,fontSize:0},i=n._canvas,r=n._context;r.font=t;var o=n.METRICS_STRING+n.BASELINE_SYMBOL,s=Math.ceil(r.measureText(o).width),a=Math.ceil(r.measureText(n.BASELINE_SYMBOL).width),l=Math.ceil(n.HEIGHT_MULTIPLIER*a);a=a*n.BASELINE_MULTIPLIER|0,i.width=s,i.height=l,r.fillStyle="#f00",r.fillRect(0,0,s,l),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(o,0,a);var c=r.getImageData(0,0,s,l).data,u=c.length,y=4*s,O=0,P=0,I=!1;for(O=0;O<a;++O){for(var D=0;D<y;D+=4)if(255!==c[P+D]){I=!0;break}if(I)break;P+=y}for(e.ascent=a-O,P=u-y,I=!1,O=l;O>a;--O){for(D=0;D<y;D+=4)if(255!==c[P+D]){I=!0;break}if(I)break;P-=y}return e.descent=O-a,e.fontSize=e.ascent+e.descent,n._fonts[t]=e,e},n.clearMetrics=function(t){void 0===t&&(t=""),t?delete n._fonts[t]:n._fonts={}},n}(),L1=function(){try{var n=new OffscreenCanvas(0,0),t=n.getContext("2d");return t&&t.measureText?n:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();L1.width=L1.height=10,Oa._canvas=L1,Oa._context=L1.getContext("2d"),Oa._fonts={},Oa.METRICS_STRING="|\xc9q\xc5",Oa.BASELINE_SYMBOL="M",Oa.BASELINE_MULTIPLIER=1.4,Oa.HEIGHT_MULTIPLIER=2,Oa._newlines=[10,13],Oa._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Lae={texture:!0,children:!1,baseTexture:!0},Mv=function(n){function t(e,i,r){var o=this,s=!1;r||(r=document.createElement("canvas"),s=!0),r.width=3,r.height=3;var a=zt.from(r);return a.orig=new ai,a.trim=new ai,(o=n.call(this,a)||this)._ownCanvas=s,o.canvas=r,o.context=o.canvas.getContext("2d"),o._resolution=_t.RESOLUTION,o._autoResolution=!0,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=e,o.style=i,o.localStyleID=-1,o}return function kae(n,t){function e(){this.constructor=n}IP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.updateText=function(e){var i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),this.dirty||!e){this._font=this._style.toFontString();var r=this.context,o=Oa.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.height,l=o.lines,c=o.lineHeight,u=o.lineWidths,y=o.maxLineWidth,O=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o.width)+2*i.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+2*i.padding)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=i.strokeThickness,r.textBaseline=i.textBaseline,r.lineJoin=i.lineJoin,r.miterLimit=i.miterLimit;for(var P,I,D=i.dropShadow?2:1,B=0;B<D;++B){var Y=i.dropShadow&&0===B,q=Y?Math.ceil(Math.max(1,a)+2*i.padding):0,ie=q*this._resolution;if(Y){r.fillStyle="black",r.strokeStyle="black";var se=i.dropShadowColor,re=du("number"==typeof se?se:As(se)),ne=i.dropShadowBlur*this._resolution,Ee=i.dropShadowDistance*this._resolution;r.shadowColor="rgba("+255*re[0]+","+255*re[1]+","+255*re[2]+","+i.dropShadowAlpha+")",r.shadowBlur=ne,r.shadowOffsetX=Math.cos(i.dropShadowAngle)*Ee,r.shadowOffsetY=Math.sin(i.dropShadowAngle)*Ee+ie}else r.fillStyle=this._generateFillStyle(i,l,o),r.strokeStyle=i.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;var Ne=(c-O.fontSize)/2;(!t.nextLineHeightBehavior||c-O.fontSize<0)&&(Ne=0);for(var Se=0;Se<l.length;Se++)P=i.strokeThickness/2,I=i.strokeThickness/2+Se*c+O.ascent+Ne,"right"===i.align?P+=y-u[Se]:"center"===i.align&&(P+=(y-u[Se])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(l[Se],P+i.padding,I+i.padding-q,!0),i.fill&&this.drawLetterSpacing(l[Se],P+i.padding,I+i.padding-q)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,i,r,o){void 0===o&&(o=!1);var a=this._style.letterSpacing,l="letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype;if(0===a||l)return l&&(this.context.letterSpacing=a,this.context.textLetterSpacing=a),void(o?this.context.strokeText(e,i,r):this.context.fillText(e,i,r));for(var c=i,u=Array.from?Array.from(e):e.split(""),y=this.context.measureText(e).width,O=0,P=0;P<u.length;++P){var I=u[P];o?this.context.strokeText(I,c,r):this.context.fillText(I,c,r);for(var D="",B=P+1;B<u.length;++B)D+=u[B];c+=y-(O=this.context.measureText(D).width)+a,y=O}},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var i=GL(e);i.data&&(e.width=i.width,e.height=i.height,this.context.putImageData(i.data,0,0))}var r=this._texture,o=this._style,s=o.trim?0:o.padding,a=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-2*s,r.orig.height=r._frame.height-2*s,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),n.prototype._render.call(this,e)},t.prototype.getLocalBounds=function(e){return this.updateText(!0),n.prototype.getLocalBounds.call(this,e)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,i,r){var o=e.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var s,a=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,c=this.canvas.width/this._resolution-a-2*l,u=this.canvas.height/this._resolution-a-2*l,y=o.slice(),O=e.fillGradientStops.slice();if(!O.length)for(var P=y.length+1,I=1;I<P;++I)O.push(I/P);if(y.unshift(o[0]),O.unshift(0),y.push(o[o.length-1]),O.push(1),e.fillGradientType===Vd.LINEAR_VERTICAL){s=this.context.createLinearGradient(c/2,l,c/2,u+l);var D=r.fontProperties.fontSize+e.strokeThickness;for(I=0;I<i.length;I++){var B=r.lineHeight*(I-1)+D,Y=r.lineHeight*I,q=Y;I>0&&B>Y&&(q=(Y+B)/2);var ie=Y+D,se=r.lineHeight*(I+1),re=ie;I+1<i.length&&se<ie&&(re=(ie+se)/2);for(var ne=(re-q)/u,Ee=0;Ee<y.length;Ee++){var Se=Math.min(1,Math.max(0,q/u+("number"==typeof O[Ee]?O[Ee]:Ee/y.length)*ne));Se=Number(Se.toFixed(5)),s.addColorStop(Se,y[Ee])}}}else{s=this.context.createLinearGradient(l,u/2,c+l,u/2);var De=y.length+1,Xe=1;for(I=0;I<y.length;I++)s.addColorStop("number"==typeof O[I]?O[I]:Xe/De,y[I]),Xe++}return s},t.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Lae,e),n.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var i=Rd(this.scale.x)||1;this.scale.x=i*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var i=Rd(this.scale.y)||1;this.scale.y=i*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){this._style=(e=e||{})instanceof Wd?e:new Wd(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t}(Rs);_t.UPLOADS_PER_FRAME=4;var FP=function(n,t){return(FP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},E5=function(){function n(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return n.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},n.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},n}();function Gae(n,t){var e=!1;if(n&&n._textures&&n._textures.length)for(var i=0;i<n._textures.length;i++)if(n._textures[i]instanceof zt){var r=n._textures[i].baseTexture;-1===t.indexOf(r)&&(t.push(r),e=!0)}return e}function jae(n,t){if(n.baseTexture instanceof di){var e=n.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function Hae(n,t){if(n._texture&&n._texture instanceof zt){var e=n._texture.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function Vae(n,t){return t instanceof Mv&&(t.updateText(!0),!0)}function Wae(n,t){if(t instanceof Wd){var e=t.toFontString();return Oa.measureFont(e),!0}return!1}function Yae(n,t){if(n instanceof Mv){-1===t.indexOf(n.style)&&t.push(n.style),-1===t.indexOf(n)&&t.push(n);var e=n._texture.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function zae(n,t){return n instanceof Wd&&(-1===t.indexOf(n)&&t.push(n),!0)}var BP=function(){function n(t){var e=this;this.limiter=new E5(_t.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!e.queue||e.prepareItems()},this.registerFindHook(Yae),this.registerFindHook(zae),this.registerFindHook(Gae),this.registerFindHook(jae),this.registerFindHook(Hae),this.registerUploadHook(Vae),this.registerUploadHook(Wae)}return n.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Do.system.addOnce(this.tick,this,Wl.UTILITY))):e&&e()},n.prototype.tick=function(){setTimeout(this.delayedTick,0)},n.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Do.system.addOnce(this.tick,this,Wl.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);for(this.completes.length=0,i=0,r=o.length;i<r;i++)o[i]()}},n.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},n.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},n.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof cr)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},n.prototype.destroy=function(){this.ticking&&Do.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},n}();function S5(n,t){return t instanceof di&&(t._glTextures[n.CONTEXT_UID]||n.texture.bind(t),!0)}function $ae(n,t){if(!(t instanceof Ma))return!1;var e=t.geometry;t.finishPoly(),e.updateBatches();for(var i=e.batches,r=0;r<i.length;r++){var o=i[r].style.texture;o&&S5(n,o.baseTexture)}return e.batchable||n.geometry.bind(e,t._resolveDirectShader(n)),!0}function Xae(n,t){return n instanceof Ma&&(t.push(n),!0)}var C5=function(n){function t(e){var i=n.call(this,e)||this;return i.uploadHookHelper=i.renderer,i.registerFindHook(Xae),i.registerUploadHook(S5),i.registerUploadHook($ae),i}return function Uae(n,t){function e(){this.constructor=n}FP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t}(BP),qae=function(){function n(t){this.maxMilliseconds=t,this.frameStart=0}return n.prototype.beginFrame=function(){this.frameStart=Date.now()},n.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},n}(),T5=function(){function n(t,e,i){void 0===i&&(i=null),this._texture=t instanceof zt?t:null,this.baseTexture=t instanceof di?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var r=this.baseTexture.resource;this.resolution=this._updateResolution(i||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,i=cv(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},n.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=n.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},n.prototype._processFrames=function(t){for(var e=t,i=n.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var r=this._frameKeys[e],o=this._frames[r],s=o.frame;if(s){var a,l=null,c=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,u=new ai(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);a=o.rotated?new ai(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new ai(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new ai(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new zt(this.baseTexture,a,u,l,o.rotated?2:0,o.anchor),zt.addToCache(this.textures[r],r)}e++}},n.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var i=0;i<t[e].length;i++)this.animations[e].push(this.textures[t[e][i]])}},n.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},n.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*n.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*n.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},n.prototype.destroy=function(t){var e;for(var i in void 0===t&&(t=!1),this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},n.BATCH_SIZE=1e3,n}(),M5=function(){function n(){}return n.use=function(t,e){var i,r,o=this,s=t.name+"_image";if(t.data&&t.type===mr.TYPE.JSON&&t.data.frames&&!o.resources[s]){var a=null===(r=null===(i=t.data)||void 0===i?void 0:i.meta)||void 0===r?void 0:r.related_multi_packs;if(Array.isArray(a))for(var l=function(I){if("string"!=typeof I)return"continue";var D=I.replace(".json",""),B=xd.resolve(t.url.replace(o.baseUrl,""),I);if(o.resources[D]||Object.values(o.resources).some(function(q){return xd.format(xd.parse(q.url))===B}))return"continue";o.add(D,B,{crossOrigin:t.crossOrigin,loadType:mr.LOAD_TYPE.XHR,xhrType:mr.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata})},c=0,u=a;c<u.length;c++)l(u[c]);var O={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},P=n.getResourcePath(t,o.baseUrl);o.add(s,P,O,function(D){if(D.error)e(D.error);else{var B=new T5(D.texture,t.data,t.url);B.parse(function(){t.spritesheet=B,t.textures=B.textures,e()})}})}else e()},n.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:xd.resolve(t.url.replace(e,""),t.data.meta.image)},n}(),LP=function(n,t){return(LP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function O5(n,t){function e(){this.constructor=n}LP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Ov=new qi,w5=function(n){function t(e,i,r){void 0===i&&(i=100),void 0===r&&(r=100);var o=n.call(this,e)||this;return o.tileTransform=new Ew,o._width=i,o._height=r,o.uvMatrix=o.texture.uvMatrix||new C1(e),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return O5(t,n),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var i=this._texture;!i||!i.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))},t.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ai),e=this._localBoundsRect),this._bounds.getRectangle(e)):n.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Ov);var i=this._width,r=this._height,o=-i*this.anchor._x;if(Ov.x>=o&&Ov.x<o+i){var s=-r*this.anchor._y;if(Ov.y>=s&&Ov.y<s+r)return!0}return!1},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,i){return new t(e instanceof zt?e:zt.from(e,i),i.width,i.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),t}(Rs),P5="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",U1=new xi,x5=function(n){function t(e){var i=n.call(this,e)||this;return e.runners.contextChange.add(i),i.quad=new Uw,i.state=bh.for2d(),i}return O5(t,n),t.prototype.contextChange=function(){var e=this.renderer,i={globals:e.globalUniforms};this.simpleShader=fu.from(P5,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",i),this.shader=e.context.webGLVersion>1?fu.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",i):fu.from(P5,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",i)},t.prototype.render=function(e){var i=this.renderer,r=this.quad,o=r.vertices;o[0]=o[6]=e._width*-e.anchor.x,o[1]=o[3]=e._height*-e.anchor.y,o[2]=o[4]=e._width*(1-e.anchor.x),o[5]=o[7]=e._height*(1-e.anchor.y);var s=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;(o=r.uvs)[0]=o[6]=-s,o[1]=o[3]=-a,o[2]=o[4]=1-s,o[5]=o[7]=1-a,r.invalidate();var l=e._texture,c=l.baseTexture,u=e.tileTransform.localTransform,y=e.uvMatrix,O=c.isPowerOfTwo&&l.frame.width===c.width&&l.frame.height===c.height;O&&(c._glTextures[i.CONTEXT_UID]?O=c.wrapMode!==Ja.CLAMP:c.wrapMode===Ja.CLAMP&&(c.wrapMode=Ja.REPEAT));var P=O?this.simpleShader:this.shader,I=l.width,D=l.height,B=e._width,Y=e._height;U1.set(u.a*I/B,u.b*I/Y,u.c*D/B,u.d*D/Y,u.tx/B,u.ty/Y),U1.invert(),O?U1.prepend(y.mapCoord):(P.uniforms.uMapCoord=y.mapCoord.toArray(!0),P.uniforms.uClampFrame=y.uClampFrame,P.uniforms.uClampOffset=y.uClampOffset),P.uniforms.uTransform=U1.toArray(!0),P.uniforms.uColor=_w(e.tint,e.worldAlpha,P.uniforms.uColor,c.alphaMode),P.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),P.uniforms.uSampler=l,i.shader.bind(P),i.geometry.bind(r),this.state.blendMode=gw(e.blendMode,c.alphaMode),i.state.set(this.state),i.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(gv),UP=function(n,t){return(UP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function GP(n,t){function e(){this.constructor=n}UP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var A5=function(){function n(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return n.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},n}(),jP=new qi,R5=new hv,tl=function(n){function t(e,i,r,o){void 0===o&&(o=Ho.TRIANGLES);var s=n.call(this)||this;return s.geometry=e,s.shader=i,s.state=r||bh.for2d(),s.drawMode=o,s.start=0,s.size=0,s.uvs=null,s.indices=null,s.vertexData=new Float32Array(1),s.vertexDirty=-1,s._transformID=-1,s._roundPixels=_t.ROUND_PIXELS,s.batchUvs=null,s}return GP(t,n),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this.shader.batchable&&this.drawMode===Ho.TRIANGLES&&this.geometry.buffers[0].data.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var i=this.shader;i.alpha=this.worldAlpha,i.update&&i.update(),e.batch.flush(),i.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(i),e.state.set(this.state),e.geometry.bind(this.geometry,i),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var i=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=i.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;var o=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[o]),e.plugins[o].render(this)},t.prototype.calculateVertices=function(){var i=this.geometry.buffers[0],r=i.data,o=i._updateID;if(o!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));for(var s=this.transform.worldTransform,a=s.a,l=s.b,c=s.c,u=s.d,y=s.tx,O=s.ty,P=this.vertexData,I=0;I<P.length/2;I++){var D=r[2*I],B=r[2*I+1];P[2*I]=a*D+c*B+y,P[2*I+1]=l*D+u*B+O}if(this._roundPixels){var Y=_t.RESOLUTION;for(I=0;I<P.length;++I)P[I]=Math.round((P[I]*Y|0)/Y)}this.vertexDirty=o}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],i=this.shader;i.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new A5(e,i.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,jP);for(var i=this.geometry.getBuffer("aVertexPosition").data,r=R5.points,o=this.geometry.getIndex().data,s=o.length,a=4===this.drawMode?3:1,l=0;l+2<s;l+=a){var c=2*o[l],u=2*o[l+1],y=2*o[l+2];if(r[0]=i[c],r[1]=i[c+1],r[2]=i[u],r[3]=i[u+1],r[4]=i[y],r[5]=i[y+1],R5.contains(jP.x,jP.y))return!0}return!1},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(cr),Yd=function(n){function t(e,i){var r=this,o={uSampler:e,alpha:1,uTextureMatrix:xi.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i)).uniforms&&Object.assign(o,i.uniforms),(r=n.call(this,i.program||Ug.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),o)||this)._colorDirty=!1,r.uvMatrix=new C1(e),r.batchable=void 0===i.program,r.pluginName=i.pluginName,r.tint=i.tint,r.alpha=i.alpha,r}return GP(t,n),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){this._colorDirty&&(this._colorDirty=!1,_w(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(fu),wv=function(n){function t(e,i,r){var o=n.call(this)||this,s=new so(e),a=new so(i,!0),l=new so(r,!0,!0);return o.addAttribute("aVertexPosition",s,2,!1,Pt.FLOAT).addAttribute("aTextureCoord",a,2,!1,Pt.FLOAT).addIndex(l),o._updateId=-1,o}return GP(t,n),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(Lg),HP=function(n,t){return(HP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Pv=function n(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},ile=function(){function n(){}return n.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},n.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var r in e){var o=e[r].match(/^[a-z]+/gm)[0],s=e[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var l in s){var c=s[l].split("="),u=c[0],y=c[1].replace(/"/gm,""),O=parseFloat(y),P=isNaN(O)?y:O;a[u]=P}i[o].push(a)}var I=new Pv;return i.info.forEach(function(D){return I.info.push({face:D.face,size:parseInt(D.size,10)})}),i.common.forEach(function(D){return I.common.push({lineHeight:parseInt(D.lineHeight,10)})}),i.page.forEach(function(D){return I.page.push({id:parseInt(D.id,10),file:D.file})}),i.char.forEach(function(D){return I.char.push({id:parseInt(D.id,10),page:parseInt(D.page,10),x:parseInt(D.x,10),y:parseInt(D.y,10),width:parseInt(D.width,10),height:parseInt(D.height,10),xoffset:parseInt(D.xoffset,10),yoffset:parseInt(D.yoffset,10),xadvance:parseInt(D.xadvance,10)})}),i.kerning.forEach(function(D){return I.kerning.push({first:parseInt(D.first,10),second:parseInt(D.second,10),amount:parseInt(D.amount,10)})}),i.distanceField.forEach(function(D){return I.distanceField.push({distanceRange:parseInt(D.distanceRange,10),fieldType:D.fieldType})}),I},n}(),VP=function(){function n(){}return n.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},n.parse=function(t){for(var e=new Pv,i=t.getElementsByTagName("info"),r=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),s=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),l=t.getElementsByTagName("distanceField"),c=0;c<i.length;c++)e.info.push({face:i[c].getAttribute("face"),size:parseInt(i[c].getAttribute("size"),10)});for(c=0;c<r.length;c++)e.common.push({lineHeight:parseInt(r[c].getAttribute("lineHeight"),10)});for(c=0;c<o.length;c++)e.page.push({id:parseInt(o[c].getAttribute("id"),10)||0,file:o[c].getAttribute("file")});for(c=0;c<s.length;c++){var u=s[c];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(c=0;c<a.length;c++)e.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(c=0;c<l.length;c++)e.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return e},n}(),rle=function(){function n(){}return n.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return VP.test(e)}return!1},n.parse=function(t){var e=(new self.DOMParser).parseFromString(t,"text/xml");return VP.parse(e)},n}(),WP=[ile,VP,rle];function I5(n){for(var t=0;t<WP.length;t++)if(WP[t].test(n))return WP[t];return null}function sle(n,t,e,i,r,o,s){var a=e.text,l=e.fontProperties;t.translate(i,r),t.scale(o,o);var c=s.strokeThickness/2,u=-s.strokeThickness/2;if(t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=function ole(n,t,e,i,r,o){var s=e.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var a,l=e.dropShadow?e.dropShadowDistance:0,c=e.padding||0,u=n.width/i-l-2*c,y=n.height/i-l-2*c,O=s.slice(),P=e.fillGradientStops.slice();if(!P.length)for(var I=O.length+1,D=1;D<I;++D)P.push(D/I);if(O.unshift(s[0]),P.unshift(0),O.push(s[s.length-1]),P.push(1),e.fillGradientType===Vd.LINEAR_VERTICAL){a=t.createLinearGradient(u/2,c,u/2,y+c);var B=0,q=(o.fontProperties.fontSize+e.strokeThickness)/y;for(D=0;D<r.length;D++)for(var ie=o.lineHeight*D,se=0;se<O.length;se++){var Ee=Math.max(B,ie/y+("number"==typeof P[se]?P[se]:se/O.length)*q);Ee=Math.min(Ee,1),a.addColorStop(Ee,O[se]),B=Ee}}else{a=t.createLinearGradient(c,y/2,u+c,y/2);var Ne=O.length+1,Se=1;for(D=0;D<O.length;D++)a.addColorStop("number"==typeof P[D]?P[D]:Se/Ne,O[D]),Se++}return a}(n,t,s,o,[a],e),t.strokeStyle=s.stroke,s.dropShadow){var y=s.dropShadowColor,O=du("number"==typeof y?y:As(y)),P=s.dropShadowBlur*o,I=s.dropShadowDistance*o;t.shadowColor="rgba("+255*O[0]+","+255*O[1]+","+255*O[2]+","+s.dropShadowAlpha+")",t.shadowBlur=P,t.shadowOffsetX=Math.cos(s.dropShadowAngle)*I,t.shadowOffsetY=Math.sin(s.dropShadowAngle)*I}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;s.stroke&&s.strokeThickness&&t.strokeText(a,c,u+e.lineHeight-l.descent),s.fill&&t.fillText(a,c,u+e.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function D5(n){return Array.from?Array.from(n):n.split("")}function G1(n){return n.codePointAt?n.codePointAt(0):n.charCodeAt(0)}var _u=function(){function n(t,e,i){var r,o,s=t.info[0],a=t.common[0],c=t.distanceField[0],u=cv(t.page[0].file),y={};this._ownsTextures=i,this.font=s.face,this.size=s.size,this.lineHeight=a.lineHeight/u,this.chars={},this.pageTextures=y;for(var O=0;O<t.page.length;O++){var P=t.page[O];y[I=P.id]=e instanceof Array?e[O]:e[P.file],(null==c?void 0:c.fieldType)&&"none"!==c.fieldType&&(y[I].baseTexture.alphaMode=Io.NO_PREMULTIPLIED_ALPHA)}for(O=0;O<t.char.length;O++){var B=t.char[O],I=B.id,Y=B.page,q=t.char[O],ie=q.x,se=q.y,re=q.width,ne=q.height,Ee=q.xoffset,Ne=q.yoffset,Se=q.xadvance;Ee/=u,Ne/=u,Se/=u;var De=new ai((ie/=u)+y[Y].frame.x/u,(se/=u)+y[Y].frame.y/u,re/=u,ne/=u);this.chars[I]={xOffset:Ee,yOffset:Ne,xAdvance:Se,kerning:{},texture:new zt(y[Y].baseTexture,De),page:Y}}for(O=0;O<t.kerning.length;O++){var Xe=t.kerning[O],$e=Xe.first,Qe=Xe.second,Mt=Xe.amount;$e/=u,Mt/=u,this.chars[Qe/=u]&&(this.chars[Qe].kerning[$e]=Mt)}this.distanceFieldRange=null==c?void 0:c.distanceRange,this.distanceFieldType=null!==(o=null===(r=null==c?void 0:c.fieldType)||void 0===r?void 0:r.toLowerCase())&&void 0!==o?o:"none"}return n.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},n.install=function(t,e,i){var r;if(t instanceof Pv)r=t;else{var o=I5(t);if(!o)throw new Error("Unrecognized data format for font.");r=o.parse(t)}e instanceof zt&&(e=[e]);var s=new n(r,e,i);return n.available[s.font]=s,s},n.uninstall=function(t){var e=n.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete n.available[t]},n.from=function(t,e,i){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var r=Object.assign({},n.defaultOptions,i),s=r.padding,a=r.resolution,l=r.textureWidth,c=r.textureHeight,u=function ale(n){"string"==typeof n&&(n=[n]);for(var t=[],e=0,i=n.length;e<i;e++){var r=n[e];if(Array.isArray(r)){if(2!==r.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+r.length+".");var o=r[0].charCodeAt(0),s=r[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,l=s;a<=l;a++)t.push(String.fromCharCode(a))}else t.push.apply(t,D5(r))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(r.chars),y=e instanceof Wd?e:new Wd(e),O=l,P=new Pv;P.info[0]={face:y.fontFamily,size:y.fontSize},P.common[0]={lineHeight:y.fontSize};for(var B,Y,q,I=0,D=0,ie=0,se=[],re=0;re<u.length;re++){B||((B=document.createElement("canvas")).width=l,B.height=c,Y=B.getContext("2d"),q=new di(B,{resolution:a}),se.push(new zt(q)),P.page.push({id:se.length-1,file:""}));var ne=Oa.measureText(u[re],y,!1,B),Ee=ne.width,Ne=Math.ceil(ne.height),Se=Math.ceil(("italic"===y.fontStyle?2:1)*Ee);if(D>=c-Ne*a){if(0===D)throw new Error("[BitmapFont] textureHeight "+c+"px is too small for "+y.fontSize+"px fonts");--re,B=null,Y=null,q=null,D=0,I=0,ie=0}else if(ie=Math.max(Ne+ne.fontProperties.descent,ie),Se*a+I>=O)--re,D+=ie*a,D=Math.ceil(D),I=0,ie=0;else{sle(B,Y,ne,I,D,a,y);var De=G1(ne.text);P.char.push({id:De,page:se.length-1,x:I/a,y:D/a,width:Se,height:Ne,xoffset:0,yoffset:0,xadvance:Math.ceil(Ee-(y.dropShadow?y.dropShadowDistance:0)-(y.stroke?y.strokeThickness:0))}),I+=(Se+2*s)*a,I=Math.ceil(I)}}re=0;for(var Xe=u.length;re<Xe;re++)for(var $e=u[re],Qe=0;Qe<Xe;Qe++){var Mt=u[Qe],Ye=Y.measureText($e).width,Ae=Y.measureText(Mt).width,mt=Y.measureText($e+Mt).width-(Ye+Ae);mt&&P.kerning.push({first:G1($e),second:G1(Mt),amount:mt})}var At=new n(P,se,!0);return void 0!==n.available[t]&&n.uninstall(t),n.available[t]=At,At},n.ALPHA=[["a","z"],["A","Z"]," "],n.NUMERIC=[["0","9"]],n.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],n.ASCII=[[" ","~"]],n.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:n.ALPHANUMERIC},n.available={},n}(),ule=[],hle=[],N5=[],xv=function(n){function t(e,i){void 0===i&&(i={});var r=n.call(this)||this;r._tint=16777215;var o=Object.assign({},t.styleDefaults,i),s=o.align,a=o.tint,l=o.maxWidth,c=o.letterSpacing,u=o.fontName,y=o.fontSize;if(!_u.available[u])throw new Error('Missing BitmapFont "'+u+'"');return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=s,r._tint=a,r._fontName=u,r._fontSize=y||_u.available[u].size,r._text=e,r._maxWidth=l,r._maxLineHeight=0,r._letterSpacing=c,r._anchor=new Id(function(){r.dirty=!0},r,0,0),r._roundPixels=_t.ROUND_PIXELS,r.dirty=!0,r._textureCache={},r}return function nle(n,t){function e(){this.constructor=n}HP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.updateText=function(){for(var e,i=_u.available[this._fontName],r=this._fontSize/i.size,o=new qi,s=[],a=[],l=[],u=D5(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),y=this._maxWidth*i.size/this._fontSize,O="none"===i.distanceFieldType?ule:hle,P=null,I=0,D=0,B=0,Y=-1,q=0,ie=0,se=0,re=0,ne=0;ne<u.length;ne++){var Ne=G1(Ee=u[ne]);if(/(?:\s)/.test(Ee)&&(Y=ne,q=I,re++),"\r"!==Ee&&"\n"!==Ee){var Se=i.chars[Ne];if(Se){P&&Se.kerning[P]&&(o.x+=Se.kerning[P]);var De=N5.pop()||{texture:zt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new qi};De.texture=Se.texture,De.line=B,De.charCode=Ne,De.position.x=o.x+Se.xOffset+this._letterSpacing/2,De.position.y=o.y+Se.yOffset,De.prevSpaces=re,s.push(De),I=De.position.x+Se.texture.orig.width,o.x+=Se.xAdvance+this._letterSpacing,se=Math.max(se,Se.yOffset+Se.texture.height),P=Ne,-1!==Y&&y>0&&o.x>y&&(Ad(s,1+Y-++ie,1+ne-Y),ne=Y,Y=-1,a.push(q),l.push(s.length>0?s[s.length-1].prevSpaces:0),D=Math.max(D,q),B++,o.x=0,o.y+=i.lineHeight,P=null,re=0)}}else a.push(I),l.push(-1),D=Math.max(D,I),++B,++ie,o.x=0,o.y+=i.lineHeight,P=null,re=0}var Xe=u[u.length-1];"\r"!==Xe&&"\n"!==Xe&&(/(?:\s)/.test(Xe)&&(I=q),a.push(I),D=Math.max(D,I),l.push(-1));var $e=[];for(ne=0;ne<=B;ne++){var Qe=0;"right"===this._align?Qe=D-a[ne]:"center"===this._align?Qe=(D-a[ne])/2:"justify"===this._align&&(Qe=l[ne]<0?0:(D-a[ne])/l[ne]),$e.push(Qe)}var Mt=s.length,Ye={},Ae=[],Ke=this._activePagesMeshData;for(ne=0;ne<Ke.length;ne++)O.push(Ke[ne]);for(ne=0;ne<Mt;ne++){var At=(mt=s[ne].texture).baseTexture.uid;if(!Ye[At]){if(!(fe=O.pop())){var Ct=new wv,kt=void 0,Ut=void 0;"none"===i.distanceFieldType?(kt=new Yd(zt.EMPTY),Ut=je.NORMAL):(kt=new Yd(zt.EMPTY,{program:Ug.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),Ut=je.NORMAL_NPM);var Rt=new tl(Ct,kt);Rt.blendMode=Ut,fe={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Rt,vertices:null,uvs:null,indices:null}}fe.index=0,fe.indexCount=0,fe.vertexCount=0,fe.uvsCount=0,fe.total=0;var sn=this._textureCache;sn[At]=sn[At]||new zt(mt.baseTexture),fe.mesh.texture=sn[At],fe.mesh.tint=this._tint,Ae.push(fe),Ye[At]=fe}Ye[At].total++}for(ne=0;ne<Ke.length;ne++)-1===Ae.indexOf(Ke[ne])&&this.removeChild(Ke[ne].mesh);for(ne=0;ne<Ae.length;ne++)Ae[ne].mesh.parent!==this&&this.addChild(Ae[ne].mesh);for(var ne in this._activePagesMeshData=Ae,Ye){var mn=(fe=Ye[ne]).total;if(!((null===(e=fe.indices)||void 0===e?void 0:e.length)>6*mn)||fe.vertices.length<2*tl.BATCHABLE_SIZE)fe.vertices=new Float32Array(8*mn),fe.uvs=new Float32Array(8*mn),fe.indices=new Uint16Array(6*mn);else for(var Kn=fe.vertices,gn=4*fe.total*2;gn<Kn.length;gn++)Kn[gn]=0;fe.mesh.size=6*mn}for(ne=0;ne<Mt;ne++){var Ee,an=(Ee=s[ne]).position.x+$e[Ee.line]*("justify"===this._align?Ee.prevSpaces:1);this._roundPixels&&(an=Math.round(an));var mt,Ft=an*r,vn=Ee.position.y*r,Xt=Ye[(mt=Ee.texture).baseTexture.uid],or=mt.frame,Fn=mt._uvs,xn=Xt.index++;Xt.indices[6*xn+0]=0+4*xn,Xt.indices[6*xn+1]=1+4*xn,Xt.indices[6*xn+2]=2+4*xn,Xt.indices[6*xn+3]=0+4*xn,Xt.indices[6*xn+4]=2+4*xn,Xt.indices[6*xn+5]=3+4*xn,Xt.vertices[8*xn+0]=Ft,Xt.vertices[8*xn+1]=vn,Xt.vertices[8*xn+2]=Ft+or.width*r,Xt.vertices[8*xn+3]=vn,Xt.vertices[8*xn+4]=Ft+or.width*r,Xt.vertices[8*xn+5]=vn+or.height*r,Xt.vertices[8*xn+6]=Ft,Xt.vertices[8*xn+7]=vn+or.height*r,Xt.uvs[8*xn+0]=Fn.x0,Xt.uvs[8*xn+1]=Fn.y0,Xt.uvs[8*xn+2]=Fn.x1,Xt.uvs[8*xn+3]=Fn.y1,Xt.uvs[8*xn+4]=Fn.x2,Xt.uvs[8*xn+5]=Fn.y2,Xt.uvs[8*xn+6]=Fn.x3,Xt.uvs[8*xn+7]=Fn.y3}for(var ne in this._textWidth=D*r,this._textHeight=(o.y+i.lineHeight)*r,Ye){var fe=Ye[ne];if(0!==this.anchor.x||0!==this.anchor.y)for(var ms=0,Tr=this._textWidth*this.anchor.x,Yu=this._textHeight*this.anchor.y,yp=0;yp<fe.total;yp++)fe.vertices[ms++]-=Tr,fe.vertices[ms++]-=Yu,fe.vertices[ms++]-=Tr,fe.vertices[ms++]-=Yu,fe.vertices[ms++]-=Tr,fe.vertices[ms++]-=Yu,fe.vertices[ms++]-=Tr,fe.vertices[ms++]-=Yu;this._maxLineHeight=se*r;var J_=fe.mesh.geometry.getBuffer("aVertexPosition"),Ys=fe.mesh.geometry.getBuffer("aTextureCoord"),Q_=fe.mesh.geometry.getIndex();J_.data=fe.vertices,Ys.data=fe.uvs,Q_.data=fe.indices,J_.update(),Ys.update(),Q_.update()}for(ne=0;ne<s.length;ne++)N5.push(s[ne])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(e){var i=_u.available[this._fontName],r=i.distanceFieldRange,s=i.size;if("none"!==i.distanceFieldType)for(var a=this.worldTransform,l=a.a,c=a.b,u=a.c,y=a.d,O=Math.sqrt(l*l+c*c),P=Math.sqrt(u*u+y*y),I=(Math.abs(O)+Math.abs(P))/2,D=this._fontSize/s,B=0,Y=this._activePagesMeshData;B<Y.length;B++)Y[B].mesh.shader.uniforms.uFWidth=I*r*D*e.resolution;n.prototype._render.call(this,e)},t.prototype.getLocalBounds=function(){return this.validate(),n.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var i=0;i<this._activePagesMeshData.length;i++)this._activePagesMeshData[i].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!_u.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e){var i=this._textureCache;for(var r in i)i[r].destroy(),delete i[r];this._textureCache=null,n.prototype.destroy.call(this,e)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(cr),k5=function(){function n(){}return n.add=function(){mr.setExtensionXhrType("fnt",mr.XHR_RESPONSE_TYPE.TEXT)},n.use=function(t,e){var i=I5(t.data);if(i)for(var r=n.getBaseUrl(this,t),o=i.parse(t.data),s={},a=function(D){s[D.metadata.pageFile]=D.texture,Object.keys(s).length===o.page.length&&(t.bitmapFont=_u.install(o,s,!0),e())},l=0;l<o.page.length;++l){var c=o.page[l].file,u=r+c,y=!1;for(var O in this.resources){var P=this.resources[O];if(P.url===u){P.metadata.pageFile=c,P.texture?a(P):P.onAfterMiddleware.add(a),y=!0;break}}if(!y){var I={crossOrigin:t.crossOrigin,loadType:mr.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},t.metadata.imageMetadata),parentResource:t};this.add(u,I,a)}}else e()},n.getBaseUrl=function(t,e){var i=e.isDataUrl?"":n.dirname(e.url);return e.isDataUrl&&("."===i&&(i=""),t.baseUrl&&i&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(i+="/")),(i=i.replace(t.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},n.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},n}(),YP=function(n,t){return(YP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},ple=function(n){function t(e){void 0===e&&(e=1);var i=n.call(this,I4,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return i.alpha=e,i}return function dle(n,t){function e(){this.constructor=n}YP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(pu),zP=function(n,t){return(zP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function F5(n,t){function e(){this.constructor=n}zP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var mle={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},vle=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),Yg=(()=>(function(n){n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT"}(Yg||(Yg={})),Yg))(),$P=function(n){function t(e,i,r,o,s){void 0===i&&(i=8),void 0===r&&(r=4),void 0===o&&(o=_t.FILTER_RESOLUTION),void 0===s&&(s=5);var a=this,l=function _le(n,t){var o,e=Math.ceil(n/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",r="";o=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<n;s++){var a=o.replace("%index%",s.toString());r+=a=a.replace("%sampleIndex%",s-(e-1)+".0"),r+="\n"}return(i=i.replace("%blur%",r)).replace("%size%",n.toString())}(s,e),c=function yle(n){for(var s,t=mle[n],e=t.length,i=vle,r="",a=0;a<n;a++){var l="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());s=a,a>=e&&(s=n-a-1),r+=l=l.replace("%value%",t[s].toString()),r+="\n"}return(i=i.replace("%blur%",r)).replace("%size%",n.toString())}(s);return(a=n.call(this,l,c)||this).horizontal=e,a.resolution=o,a._quality=0,a.quality=r,a.blur=i,a}return F5(t,n),t.prototype.apply=function(e,i,r,o){if(this.uniforms.strength=r?this.horizontal?1/r.width*(r.width/i.width):1/r.height*(r.height/i.height):this.horizontal?1/e.renderer.width*(e.renderer.width/i.width):1/e.renderer.height*(e.renderer.height/i.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,i,r,o);else{var s=e.getFilterTexture(),a=e.renderer,l=i,c=s;this.state.blend=!1,e.applyFilter(this,l,c,Yg.CLEAR);for(var u=1;u<this.passes-1;u++){e.bindAndClear(l,Yg.BLIT),this.uniforms.uSampler=c;var y=c;c=l,l=y,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,r,o),e.returnFilterTexture(s)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(pu),ble=function(n){function t(e,i,r,o){void 0===e&&(e=8),void 0===i&&(i=4),void 0===r&&(r=_t.FILTER_RESOLUTION),void 0===o&&(o=5);var s=n.call(this)||this;return s.blurXFilter=new $P(!0,e,i,r,o),s.blurYFilter=new $P(!1,e,i,r,o),s.resolution=r,s.quality=i,s.blur=e,s.repeatEdgePixels=!1,s}return F5(t,n),t.prototype.apply=function(e,i,r,o){var s=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(s&&a){var l=e.getFilterTexture();this.blurXFilter.apply(e,i,l,Yg.CLEAR),this.blurYFilter.apply(e,l,r,o),e.returnFilterTexture(l)}else a?this.blurYFilter.apply(e,i,r,o):this.blurXFilter.apply(e,i,r,o)},t.prototype.updatePadding=function(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}(pu),XP=function(n,t){return(XP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},qP=function(n){function t(){var e=this,i={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=n.call(this,hP,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",i)||this).alpha=1,e}return function Ele(n,t){function e(){this.constructor=n}XP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype._loadMatrix=function(e,i){void 0===i&&(i=!1);var r=e;i&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r},t.prototype._multiply=function(e,i,r){return e[0]=i[0]*r[0]+i[1]*r[5]+i[2]*r[10]+i[3]*r[15],e[1]=i[0]*r[1]+i[1]*r[6]+i[2]*r[11]+i[3]*r[16],e[2]=i[0]*r[2]+i[1]*r[7]+i[2]*r[12]+i[3]*r[17],e[3]=i[0]*r[3]+i[1]*r[8]+i[2]*r[13]+i[3]*r[18],e[4]=i[0]*r[4]+i[1]*r[9]+i[2]*r[14]+i[3]*r[19]+i[4],e[5]=i[5]*r[0]+i[6]*r[5]+i[7]*r[10]+i[8]*r[15],e[6]=i[5]*r[1]+i[6]*r[6]+i[7]*r[11]+i[8]*r[16],e[7]=i[5]*r[2]+i[6]*r[7]+i[7]*r[12]+i[8]*r[17],e[8]=i[5]*r[3]+i[6]*r[8]+i[7]*r[13]+i[8]*r[18],e[9]=i[5]*r[4]+i[6]*r[9]+i[7]*r[14]+i[8]*r[19]+i[9],e[10]=i[10]*r[0]+i[11]*r[5]+i[12]*r[10]+i[13]*r[15],e[11]=i[10]*r[1]+i[11]*r[6]+i[12]*r[11]+i[13]*r[16],e[12]=i[10]*r[2]+i[11]*r[7]+i[12]*r[12]+i[13]*r[17],e[13]=i[10]*r[3]+i[11]*r[8]+i[12]*r[13]+i[13]*r[18],e[14]=i[10]*r[4]+i[11]*r[9]+i[12]*r[14]+i[13]*r[19]+i[14],e[15]=i[15]*r[0]+i[16]*r[5]+i[17]*r[10]+i[18]*r[15],e[16]=i[15]*r[1]+i[16]*r[6]+i[17]*r[11]+i[18]*r[16],e[17]=i[15]*r[2]+i[16]*r[7]+i[17]*r[12]+i[18]*r[17],e[18]=i[15]*r[3]+i[16]*r[8]+i[17]*r[13]+i[18]*r[18],e[19]=i[15]*r[4]+i[16]*r[9]+i[17]*r[14]+i[18]*r[19]+i[19],e},t.prototype._colorMatrix=function(e){var i=new Float32Array(e);return i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,i},t.prototype.brightness=function(e,i){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],i)},t.prototype.tint=function(e,i){this._loadMatrix([(e>>16&255)/255,0,0,0,0,0,(e>>8&255)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0],i)},t.prototype.greyscale=function(e,i){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],i)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,i){e=(e||0)/180*Math.PI;var r=Math.cos(e),o=Math.sin(e),a=1/3,l=(0,Math.sqrt)(a);this._loadMatrix([r+(1-r)*a,a*(1-r)-l*o,a*(1-r)+l*o,0,0,a*(1-r)+l*o,r+a*(1-r),a*(1-r)-l*o,0,0,a*(1-r)-l*o,a*(1-r)+l*o,r+a*(1-r),0,0,0,0,0,1,0],i)},t.prototype.contrast=function(e,i){var r=(e||0)+1,o=-.5*(r-1);this._loadMatrix([r,0,0,0,o,0,r,0,0,o,0,0,r,0,o,0,0,0,1,0],i)},t.prototype.saturate=function(e,i){void 0===e&&(e=0);var r=2*e/3+1,o=-.5*(r-1);this._loadMatrix([r,o,o,0,0,o,r,o,0,0,o,o,r,0,0,0,0,0,1,0],i)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,i,r,o,s){var a=((r=r||16770432)>>16&255)/255,l=(r>>8&255)/255,c=(255&r)/255,u=((o=o||3375104)>>16&255)/255,y=(o>>8&255)/255,O=(255&o)/255;this._loadMatrix([.3,.59,.11,0,0,a,l,c,e=e||.2,0,u,y,O,i=i||.15,0,a-u,l-y,c-O,0,0],s)},t.prototype.night=function(e,i){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],i)},t.prototype.predator=function(e,i){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],i)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(pu);qP.prototype.grayscale=qP.prototype.greyscale;var KP=function(n,t){return(KP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Ole=function(n){function t(e,i){var r=this,o=new xi;return e.renderable=!1,(r=n.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,r.maskMatrix=o,null==i&&(i=20),r.scale=new qi(i,i),r}return function Cle(n,t){function e(){this.constructor=n}KP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.apply=function(e,i,r,o){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var s=this.maskSprite.worldTransform,a=Math.sqrt(s.a*s.a+s.b*s.b),l=Math.sqrt(s.c*s.c+s.d*s.d);0!==a&&0!==l&&(this.uniforms.rotation[0]=s.a/a,this.uniforms.rotation[1]=s.b/a,this.uniforms.rotation[2]=s.c/l,this.uniforms.rotation[3]=s.d/l),e.applyFilter(this,i,r,o)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}(pu),JP=function(n,t){return(JP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Ale=function(n){function t(){return n.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function wle(n,t){function e(){this.constructor=n}JP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t}(pu),QP=function(n,t){return(QP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Dle=function(n){function t(e,i){void 0===e&&(e=.5),void 0===i&&(i=Math.random());var r=n.call(this,hP,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=e,r.seed=i,r}return function Rle(n,t){function e(){this.constructor=n}QP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(pu),j1=(()=>(function(n){n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH"}(j1||(j1={})),j1))(),B5=new xi;_r.prototype._cacheAsBitmap=!1,_r.prototype._cacheData=null,_r.prototype._cacheAsBitmapResolution=null,_r.prototype._cacheAsBitmapMultisample=j1.NONE;var Nle=function n(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(_r.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(n){n!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(n){n!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(n){var t;this._cacheAsBitmap!==n&&(this._cacheAsBitmap=n,n?(this._cacheData||(this._cacheData=new Nle),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),_r.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},_r.prototype._initCachedDisplayObject=function(t){var e;if(!this._cacheData||!this._cacheData.sprite){var i=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();this.filters&&this.filters.length&&r.pad(this.filters[0].padding),r.ceil(_t.RESOLUTION);var s=t.renderTexture.current,a=t.renderTexture.sourceFrame.clone(),l=t.renderTexture.destinationFrame.clone(),c=t.projection.transform,u=Za.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:null!==(e=this.cacheAsBitmapMultisample)&&void 0!==e?e:t.multisample}),y="cacheAsBitmap_"+vh();this._cacheData.textureCacheId=y,di.addToCache(u.baseTexture,y),zt.addToCache(u,y);var O=this.transform.localTransform.copyTo(B5).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:u,clear:!0,transform:O,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=c,t.renderTexture.bind(s,a,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var P=new Rs(u);P.transform.worldTransform=this.transform.worldTransform,P.anchor.x=-r.x/r.width,P.anchor.y=-r.y/r.height,P.alpha=i,P._bounds=this._bounds,this._cacheData.sprite=P,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=P.containsPoint.bind(P)}},_r.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},_r.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;var r=t.context,o=t._projTransform;e.ceil(_t.RESOLUTION);var s=Za.create({width:e.width,height:e.height}),a="cacheAsBitmap_"+vh();this._cacheData.textureCacheId=a,di.addToCache(s.baseTexture,a),zt.addToCache(s,a);var l=B5;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:s,clear:!0,transform:l,skipUpdateTransform:!1}),t.context=r,t._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var c=new Rs(s);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-e.x/e.width,c.anchor.y=-e.y/e.height,c.alpha=i,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)}},_r.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},_r.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},_r.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,di.removeFromCache(this._cacheData.textureCacheId),zt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},_r.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},_r.prototype.name=null,cr.prototype.getChildByName=function(t,e){for(var i=0,r=this.children.length;i<r;i++)if(this.children[i].name===t)return this.children[i];if(e)for(i=0,r=this.children.length;i<r;i++)if(this.children[i].getChildByName){var s=this.children[i].getChildByName(t,!0);if(s)return s}return null},_r.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new qi),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var ZP=function(n,t){return(ZP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function zg(n,t){function e(){this.constructor=n}ZP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var L5=function(n){function t(e,i,r,o){void 0===e&&(e=100),void 0===i&&(i=100),void 0===r&&(r=10),void 0===o&&(o=10);var s=n.call(this)||this;return s.segWidth=r,s.segHeight=o,s.width=e,s.height=i,s.build(),s}return zg(t,n),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,i=[],r=[],o=[],s=this.segWidth-1,a=this.segHeight-1,l=this.width/s,c=this.height/a,u=0;u<e;u++){var y=u%this.segWidth,O=u/this.segWidth|0;i.push(y*l,O*c),r.push(y/s,O/a)}var P=s*a;for(u=0;u<P;u++){var I=u%s,D=u/s|0,Y=D*this.segWidth+I+1,q=(D+1)*this.segWidth+I;o.push(D*this.segWidth+I,Y,q,Y,(D+1)*this.segWidth+I+1,q)}this.buffers[0].data=new Float32Array(i),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(wv),U5=function(n){function t(e,i,r){void 0===e&&(e=200),void 0===r&&(r=0);var o=n.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1)))||this;return o.points=i,o._width=e,o.textureScale=r,o.build(),o}return zg(t,n),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var i=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(e.length<1)){i.data.length/4!==e.length&&(i.data=new Float32Array(4*e.length),r.data=new Float32Array(4*e.length),o.data=new Uint16Array(6*(e.length-1)));var s=r.data,a=o.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;for(var l=0,c=e[0],u=this._width*this.textureScale,y=e.length,O=0;O<y;O++){var P=4*O;if(this.textureScale>0){var I=c.x-e[O].x,D=c.y-e[O].y,B=Math.sqrt(I*I+D*D);c=e[O],l+=B/u}else l=O/(y-1);s[P]=l,s[P+1]=0,s[P+2]=l,s[P+3]=1}var Y=0;for(O=0;O<y-1;O++)a[Y++]=P=2*O,a[Y++]=P+1,a[Y++]=P+2,a[Y++]=P+2,a[Y++]=P+1,a[Y++]=P+3;r.update(),o.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var r,i=e[0],o=0,s=0,a=this.buffers[0].data,l=e.length,c=0;c<l;c++){var u=e[c],y=4*c;s=-((r=c<e.length-1?e[c+1]:u).x-i.x),o=r.y-i.y;var O=Math.sqrt(o*o+s*s),P=this.textureScale>0?this.textureScale*this._width/2:this._width/2;o/=O,s/=O,s*=P,a[y]=u.x+(o*=P),a[y+1]=u.y+s,a[y+2]=u.x-o,a[y+3]=u.y-s,i=u}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(wv),G5=function(n){function t(e,i,r){void 0===r&&(r=0);var o=this,s=new U5(e.height,i,r),a=new Yd(e);return r>0&&(e.baseTexture.wrapMode=Ja.REPEAT),(o=n.call(this,s,a)||this).autoUpdate=!0,o}return zg(t,n),t.prototype._render=function(e){var i=this.geometry;(this.autoUpdate||i._width!==this.shader.texture.height)&&(i._width=this.shader.texture.height,i.update()),n.prototype._render.call(this,e)},t}(tl),j5=function(n){function t(e,i,r){var o=this,s=new L5(e.width,e.height,i,r),a=new Yd(zt.WHITE);return(o=n.call(this,s,a)||this).texture=e,o.autoResize=!0,o}return zg(t,n),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,i=this.shader.texture;this.autoResize&&(e.width!==i.width||e.height!==i.height)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),n.prototype._render.call(this,e)},t.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),n.prototype.destroy.call(this,e)},t}(tl),H5=function(n){function t(e,i,r,o,s){void 0===e&&(e=zt.EMPTY);var a=this,l=new wv(i,r,o);l.getBuffer("aVertexPosition").static=!1;var c=new Yd(e);return(a=n.call(this,l,c,null,s)||this).autoUpdate=!0,a}return zg(t,n),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),n.prototype._render.call(this,e)},t}(tl),Av=function(n){function t(e,i,r,o,s){void 0===i&&(i=10),void 0===r&&(r=10),void 0===o&&(o=10),void 0===s&&(s=10);var a=n.call(this,zt.WHITE,4,4)||this;return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=i,a._rightWidth=o,a._topHeight=r,a._bottomHeight=s,a.texture=e,a}return zg(t,n),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,i=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*i,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*i,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,i=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*i,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*i,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,r=this._topHeight+this._bottomHeight;return Math.min(this._width>e?1:this._width/e,this._height>r?1:this._height/r)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,i=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var r=1/this._origWidth,o=1/this._origHeight;i[0]=i[8]=i[16]=i[24]=0,i[1]=i[3]=i[5]=i[7]=0,i[6]=i[14]=i[22]=i[30]=1,i[25]=i[27]=i[29]=i[31]=1,i[2]=i[10]=i[18]=i[26]=r*this._leftWidth,i[4]=i[12]=i[20]=i[28]=1-r*this._rightWidth,i[9]=i[11]=i[13]=i[15]=o*this._topHeight,i[17]=i[19]=i[21]=i[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(j5),ex=function(n,t){return(ex=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},V5=function(n){function t(e,i){void 0===i&&(i=!0);var r=n.call(this,e[0]instanceof zt?e[0]:e[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=i,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=e,r}return function kle(n,t){function e(){this.constructor=n}ex(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Do.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Do.shared.add(this.update,this,Wl.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var i=this.currentFrame;this._currentTime=e,i!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var i=this.currentFrame;this._currentTime=e,i!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var i=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=i/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=i;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(e){this.stop(),n.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var i=[],r=0;r<e.length;++r)i.push(zt.from(e[r]));return new t(i)},t.fromImages=function(e){for(var i=[],r=0;r<e.length;++r)i.push(zt.from(e[r]));return new t(i)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof zt)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var i=0;i<e.length;i++)this._textures.push(e[i].texture),this._durations.push(e[i].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Do.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Do.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(Rs);Yl.registerPlugin("accessibility",Mw),Yl.registerPlugin("extract",V4),Yl.registerPlugin("interaction",xw),Yl.registerPlugin("particle",h5),Yl.registerPlugin("prepare",C5),Yl.registerPlugin("batch",L4),Yl.registerPlugin("tilingSprite",x5),os.registerPlugin(k5),os.registerPlugin(e5),os.registerPlugin(i5),os.registerPlugin(a5),os.registerPlugin(M5),yv.registerPlugin(QL),yv.registerPlugin(q4);var Fle="6.2.2",Ble={AlphaFilter:ple,BlurFilter:ble,BlurFilterPass:$P,ColorMatrixFilter:qP,DisplacementFilter:Ole,FXAAFilter:Ale,NoiseFilter:Dle},tx=function(n,t){return(tx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Ule=function(){function n(t){this._foundShapes=[],this.renderer=t}return n.prototype.pushMask=function(t){var e=this.renderer,i=t.maskObject||t;e.context.save();var r=this._foundShapes;if(this.recursiveFindShapes(i,r),r.length>0){var o=e.context;o.beginPath();for(var s=0;s<r.length;s++){var a=r[s];this.renderer.setContextTransform(a.transform.worldTransform),this.renderGraphicsShape(a)}r.length=0,o.clip()}},n.prototype.recursiveFindShapes=function(t,e){t.geometry&&t.geometry.graphicsData&&e.push(t);var i=t.children;if(i)for(var r=0;r<i.length;r++)this.recursiveFindShapes(i[r],e)},n.prototype.renderGraphicsShape=function(t){t.finishPoly();var e=this.renderer.context,i=t.geometry.graphicsData,r=i.length;if(0!==r)for(var o=0;o<r;o++){var s=i[o],a=s.shape;if(a.type===gi.POLY){var l=a.points,c=s.holes,u=void 0,y=void 0,O=void 0,P=void 0;e.moveTo(l[0],l[1]);for(var I=1;I<l.length/2;I++)e.lineTo(l[2*I],l[2*I+1]);if(c.length>0){for(u=0,O=l[0],P=l[1],I=2;I+2<l.length;I+=2)u+=(l[I]-O)*(l[I+3]-P)-(l[I+2]-O)*(l[I+1]-P);for(var D=0;D<c.length;D++)if(l=c[D].shape.points){for(y=0,O=l[0],P=l[1],I=2;I+2<l.length;I+=2)y+=(l[I]-O)*(l[I+3]-P)-(l[I+2]-O)*(l[I+1]-P);if(y*u<0)for(e.moveTo(l[0],l[1]),I=2;I<l.length;I+=2)e.lineTo(l[I],l[I+1]);else for(e.moveTo(l[l.length-2],l[l.length-1]),I=l.length-4;I>=0;I-=2)e.lineTo(l[I],l[I+1]);c[D].shape.closeStroke&&e.closePath()}}l[0]===l[l.length-2]&&l[1]===l[l.length-1]&&e.closePath()}else if(a.type===gi.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(a.type===gi.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(a.type===gi.ELIP){var B=2*a.width,Y=2*a.height,q=a.x-B/2,ie=a.y-Y/2,se=.5522848,re=B/2*se,ne=Y/2*se,Ee=q+B,Ne=ie+Y,Se=q+B/2,De=ie+Y/2;e.moveTo(q,De),e.bezierCurveTo(q,De-ne,Se-re,ie,Se,ie),e.bezierCurveTo(Se+re,ie,Ee,De-ne,Ee,De),e.bezierCurveTo(Ee,De+ne,Se+re,Ne,Se,Ne),e.bezierCurveTo(Se-re,Ne,q,De+ne,q,De),e.closePath()}else if(a.type===gi.RREC){var Xe=a.x,$e=a.y,Qe=a.width,Mt=a.height,Ye=a.radius,Ae=Math.min(Qe,Mt)/2;e.moveTo(Xe,$e+(Ye=Ye>Ae?Ae:Ye)),e.lineTo(Xe,$e+Mt-Ye),e.quadraticCurveTo(Xe,$e+Mt,Xe+Ye,$e+Mt),e.lineTo(Xe+Qe-Ye,$e+Mt),e.quadraticCurveTo(Xe+Qe,$e+Mt,Xe+Qe,$e+Mt-Ye),e.lineTo(Xe+Qe,$e+Ye),e.quadraticCurveTo(Xe+Qe,$e,Xe+Qe-Ye,$e),e.lineTo(Xe+Ye,$e),e.quadraticCurveTo(Xe,$e,Xe,$e+Ye),e.closePath()}}},n.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},n.prototype.destroy=function(){},n}();function W5(n){var t=document.createElement("canvas");t.width=6,t.height=1;var e=t.getContext("2d");return e.fillStyle=n,e.fillRect(0,0,6,1),t}function Y5(){if("undefined"==typeof document)return!1;var n=W5("#ff00ff"),t=W5("#ffff00"),e=document.createElement("canvas");e.width=6,e.height=1;var i=e.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(n,0,0),i.drawImage(t,2,0);var r=i.getImageData(2,0,1,1);if(!r)return!1;var o=r.data;return 255===o[0]&&0===o[1]&&0===o[2]}var jle=new xi,Mc=function(n){function t(e){var i=n.call(this,Vl.CANVAS,e)||this;if(i.refresh=!0,i.maskManager=new Ule(i),i.smoothProperty="imageSmoothingEnabled",i.blendModes=function Gle(n){return void 0===n&&(n=[]),Y5()?(n[je.NORMAL]="source-over",n[je.ADD]="lighter",n[je.MULTIPLY]="multiply",n[je.SCREEN]="screen",n[je.OVERLAY]="overlay",n[je.DARKEN]="darken",n[je.LIGHTEN]="lighten",n[je.COLOR_DODGE]="color-dodge",n[je.COLOR_BURN]="color-burn",n[je.HARD_LIGHT]="hard-light",n[je.SOFT_LIGHT]="soft-light",n[je.DIFFERENCE]="difference",n[je.EXCLUSION]="exclusion",n[je.HUE]="hue",n[je.SATURATION]="saturate",n[je.COLOR]="color",n[je.LUMINOSITY]="luminosity"):(n[je.NORMAL]="source-over",n[je.ADD]="lighter",n[je.MULTIPLY]="source-over",n[je.SCREEN]="source-over",n[je.OVERLAY]="source-over",n[je.DARKEN]="source-over",n[je.LIGHTEN]="source-over",n[je.COLOR_DODGE]="source-over",n[je.COLOR_BURN]="source-over",n[je.HARD_LIGHT]="source-over",n[je.SOFT_LIGHT]="source-over",n[je.DIFFERENCE]="source-over",n[je.EXCLUSION]="source-over",n[je.HUE]="source-over",n[je.SATURATION]="source-over",n[je.COLOR]="source-over",n[je.LUMINOSITY]="source-over"),n[je.NORMAL_NPM]=n[je.NORMAL],n[je.ADD_NPM]=n[je.ADD],n[je.SCREEN_NPM]=n[je.SCREEN],n[je.SRC_IN]="source-in",n[je.SRC_OUT]="source-out",n[je.SRC_ATOP]="source-atop",n[je.DST_OVER]="destination-over",n[je.DST_IN]="destination-in",n[je.DST_OUT]="destination-out",n[je.DST_ATOP]="destination-atop",n[je.XOR]="xor",n[je.SUBTRACT]="source-over",n}(),i.renderingToScreen=!1,i._activeBlendMode=null,i._projTransform=null,i._outerBlend=!1,i.rootContext=i.view.getContext("2d",{alpha:i.useContextAlpha}),i.context=i.rootContext,!i.rootContext.imageSmoothingEnabled){var r=i.rootContext;r.webkitImageSmoothingEnabled?i.smoothProperty="webkitImageSmoothingEnabled":r.mozImageSmoothingEnabled?i.smoothProperty="mozImageSmoothingEnabled":r.oImageSmoothingEnabled?i.smoothProperty="oImageSmoothingEnabled":r.msImageSmoothingEnabled&&(i.smoothProperty="msImageSmoothingEnabled")}return i.initPlugins(t.__plugins),hw("Canvas"),i.resize(i.options.width,i.options.height),i}return function Lle(n,t){function e(){this.constructor=n}tx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.render=function(e,i){if(this.view){var r,o,s,a;i&&(i instanceof Za||i instanceof pv?(Ec("6.0.0","CanvasRenderer#render arguments changed, use options instead."),r=i,o=arguments[2],s=arguments[3],a=arguments[4]):(r=i.renderTexture,o=i.clear,s=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.emit("prerender");var l=this.resolution;r?((r=r.castToBaseTexture())._canvasRenderTarget||(r._canvasRenderTarget=new kg(r.width,r.height,r.resolution),r.resource=new fv(r._canvasRenderTarget.canvas),r.valid=!0),this.context=r._canvasRenderTarget.context,this.resolution=r._canvasRenderTarget.resolution):this.context=this.rootContext;var c=this.context;if(this._projTransform=s||null,r||(this._lastObjectRendered=e),!a){var u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}if(c.save(),c.setTransform(1,0,0,1,0,0),c.globalAlpha=1,this._activeBlendMode=je.NORMAL,this._outerBlend=!1,c.globalCompositeOperation=this.blendModes[je.NORMAL],void 0!==o?o:this.clearBeforeRender)if(this.renderingToScreen)c.clearRect(0,0,this.width,this.height),this.backgroundAlpha>0&&(c.globalAlpha=this.useContextAlpha?this.backgroundAlpha:1,c.fillStyle=this._backgroundColorString,c.fillRect(0,0,this.width,this.height),c.globalAlpha=1);else{(r=r)._canvasRenderTarget.clear();var y=r.clearColor;y[3]>0&&(c.globalAlpha=this.useContextAlpha?y[3]:1,c.fillStyle=r1(fw(y)),c.fillRect(0,0,r.realWidth,r.realHeight),c.globalAlpha=1)}var O=this.context;this.context=c,e.renderCanvas(this),this.context=O,c.restore(),this.resolution=l,this._projTransform=null,this.emit("postrender")}},t.prototype.setContextTransform=function(e,i,r){var o=e,s=this._projTransform,a=this.resolution;r=r||a,s&&((o=jle).copyFrom(e),o.prepend(s)),i?this.context.setTransform(o.a*r,o.b*r,o.c*r,o.d*r,o.tx*a|0,o.ty*a|0):this.context.setTransform(o.a*r,o.b*r,o.c*r,o.d*r,o.tx*a,o.ty*a)},t.prototype.clear=function(e,i){void 0===e&&(e=this._backgroundColorString),void 0===i&&(i=this.backgroundAlpha);var r=this.context;r.clearRect(0,0,this.width,this.height),e&&(r.globalAlpha=this.useContextAlpha?i:1,r.fillStyle=e,r.fillRect(0,0,this.width,this.height),r.globalAlpha=1)},t.prototype.setBlendMode=function(e,i){var r=e===je.SRC_IN||e===je.SRC_OUT||e===je.DST_IN||e===je.DST_ATOP;!i&&r&&(e=je.NORMAL),this._activeBlendMode!==e&&(this._activeBlendMode=e,this._outerBlend=r,this.context.globalCompositeOperation=this.blendModes[e])},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.smoothProperty&&(this.rootContext[this.smoothProperty]=_t.SCALE_MODE===io.LINEAR)},t.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i},t}(uP),Xr={canvas:null,getTintedCanvas:function(n,t){var e=n.texture,i="#"+("00000"+(0|(t=Xr.roundColor(t))).toString(16)).substr(-6);e.tintCache=e.tintCache||{};var o,r=e.tintCache[i];if(r){if(r.tintId===e._updateID)return e.tintCache[i];o=e.tintCache[i]}else o=document.createElement("canvas");if(Xr.tintMethod(e,t,o),o.tintId=e._updateID,Xr.convertTintToImage){var s=new Image;s.src=o.toDataURL(),e.tintCache[i]=s}else e.tintCache[i]=o;return o},getTintedPattern:function(n,t){var e="#"+("00000"+(0|(t=Xr.roundColor(t))).toString(16)).substr(-6);n.patternCache=n.patternCache||{};var i=n.patternCache[e];return i&&i.tintId===n._updateID||(Xr.canvas||(Xr.canvas=document.createElement("canvas")),Xr.tintMethod(n,t,Xr.canvas),(i=Xr.canvas.getContext("2d").createPattern(Xr.canvas,"repeat")).tintId=n._updateID,n.patternCache[e]=i),i},tintWithMultiply:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),o=n.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="multiply";var s=n.baseTexture.getDrawableSource();i.drawImage(s,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(s,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithOverlay:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),o=n.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(n.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithPerPixel:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),o=n.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(n.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore();for(var s=du(t),a=s[0],l=s[1],c=s[2],u=i.getImageData(0,0,r.width,r.height),y=u.data,O=0;O<y.length;O+=4)y[O+0]*=a,y[O+1]*=l,y[O+2]*=c;i.putImageData(u,0,0)},roundColor:function(n){var t=Xr.cacheStepsPerColorChannel,e=du(n);return e[0]=Math.min(255,e[0]/t*t),e[1]=Math.min(255,e[1]/t*t),e[2]=Math.min(255,e[2]/t*t),fw(e)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:Y5(),tintMethod:null};Xr.tintMethod=Xr.canUseMultiply?Xr.tintWithMultiply:Xr.tintWithPerPixel;var Hle=Yl.create;Yl.create=function(t){if(!t||!t.forceCanvas)try{return Hle(t)}catch(i){}return new Mc(t)},di.prototype.getDrawableSource=function(){var t=this.resource;return t?t.bitmap||t.source:null},pv.prototype._canvasRenderTarget=null,zt.prototype.patternCache=null,zt.prototype.tintCache=null;var nx="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ix(n,t,e){return n(e={path:t,exports:{},require:function(i,r){return function Vle(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},e.exports),e.exports}var rx=ix(function(n){var t=Object.prototype.hasOwnProperty,e="~";function i(){}function r(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,y,O){if("function"!=typeof u)throw new TypeError("The listener must be a function");var P=new r(u,y||l,O),I=e?e+c:c;return l._events[I]?l._events[I].fn?l._events[I]=[l._events[I],P]:l._events[I].push(P):(l._events[I]=P,l._eventsCount++),l}function s(l,c){0==--l._eventsCount?l._events=new i:delete l._events[c]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(e=!1)),a.prototype.eventNames=function(){var u,y,c=[];if(0===this._eventsCount)return c;for(y in u=this._events)t.call(u,y)&&c.push(e?y.slice(1):y);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var y=this._events[e?e+c:c];if(!y)return[];if(y.fn)return[y.fn];for(var O=0,P=y.length,I=new Array(P);O<P;O++)I[O]=y[O].fn;return I},a.prototype.listenerCount=function(c){var y=this._events[e?e+c:c];return y?y.fn?1:y.length:0},a.prototype.emit=function(c,u,y,O,P,I){var D=arguments,B=e?e+c:c;if(!this._events[B])return!1;var ie,se,Y=this._events[B],q=arguments.length;if(Y.fn){switch(Y.once&&this.removeListener(c,Y.fn,void 0,!0),q){case 1:return Y.fn.call(Y.context),!0;case 2:return Y.fn.call(Y.context,u),!0;case 3:return Y.fn.call(Y.context,u,y),!0;case 4:return Y.fn.call(Y.context,u,y,O),!0;case 5:return Y.fn.call(Y.context,u,y,O,P),!0;case 6:return Y.fn.call(Y.context,u,y,O,P,I),!0}for(se=1,ie=new Array(q-1);se<q;se++)ie[se-1]=D[se];Y.fn.apply(Y.context,ie)}else{var ne,re=Y.length;for(se=0;se<re;se++)switch(Y[se].once&&this.removeListener(c,Y[se].fn,void 0,!0),q){case 1:Y[se].fn.call(Y[se].context);break;case 2:Y[se].fn.call(Y[se].context,u);break;case 3:Y[se].fn.call(Y[se].context,u,y);break;case 4:Y[se].fn.call(Y[se].context,u,y,O);break;default:if(!ie)for(ne=1,ie=new Array(q-1);ne<q;ne++)ie[ne-1]=D[ne];Y[se].fn.apply(Y[se].context,ie)}}return!0},a.prototype.on=function(c,u,y){return o(this,c,u,y,!1)},a.prototype.once=function(c,u,y){return o(this,c,u,y,!0)},a.prototype.removeListener=function(c,u,y,O){var P=e?e+c:c;if(!this._events[P])return this;if(!u)return s(this,P),this;var I=this._events[P];if(I.fn)I.fn===u&&(!O||I.once)&&(!y||I.context===y)&&s(this,P);else{for(var D=0,B=[],Y=I.length;D<Y;D++)(I[D].fn!==u||O&&!I[D].once||y&&I[D].context!==y)&&B.push(I[D]);B.length?this._events[P]=1===B.length?B[0]:B:s(this,P)}return this},a.prototype.removeAllListeners=function(c){var u;return c?this._events[u=e?e+c:c]&&s(this,u):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,n.exports=a}),Wle=ix(function(n,t){!function(e){var i=t&&!t.nodeType&&t,r=n&&!n.nodeType&&n,o="object"==typeof nx&&nx;(o.global===o||o.window===o||o.self===o)&&(e=o);var s,Ee,a=2147483647,l=36,B=/^xn--/,Y=/[^\x20-\x7E]/,q=/[\x2E\u3002\uFF0E\uFF61]/g,ie={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},re=Math.floor,ne=String.fromCharCode;function Ne(fe){throw RangeError(ie[fe])}function Se(fe,Ct){for(var kt=fe.length,Ut=[];kt--;)Ut[kt]=Ct(fe[kt]);return Ut}function De(fe,Ct){var kt=fe.split("@"),Ut="";return kt.length>1&&(Ut=kt[0]+"@",fe=kt[1]),Ut+Se((fe=fe.replace(q,".")).split("."),Ct).join(".")}function Xe(fe){for(var Rt,sn,Ct=[],kt=0,Ut=fe.length;kt<Ut;)(Rt=fe.charCodeAt(kt++))>=55296&&Rt<=56319&&kt<Ut?56320==(64512&(sn=fe.charCodeAt(kt++)))?Ct.push(((1023&Rt)<<10)+(1023&sn)+65536):(Ct.push(Rt),kt--):Ct.push(Rt);return Ct}function $e(fe){return Se(fe,function(Ct){var kt="";return Ct>65535&&(kt+=ne((Ct-=65536)>>>10&1023|55296),Ct=56320|1023&Ct),kt+ne(Ct)}).join("")}function Qe(fe){return fe-48<10?fe-22:fe-65<26?fe-65:fe-97<26?fe-97:l}function Mt(fe,Ct){return fe+22+75*(fe<26)-((0!=Ct)<<5)}function Ye(fe,Ct,kt){var Ut=0;for(fe=kt?re(fe/700):fe>>1,fe+=re(fe/Ct);fe>455;Ut+=l)fe=re(fe/35);return re(Ut+36*fe/(fe+38))}function Ae(fe){var Ut,Kt,Kn,gn,an,Ft,vn,Xt,or,Fn,Ct=[],kt=fe.length,Rt=0,sn=128,mn=72;for((Kt=fe.lastIndexOf("-"))<0&&(Kt=0),Kn=0;Kn<Kt;++Kn)fe.charCodeAt(Kn)>=128&&Ne("not-basic"),Ct.push(fe.charCodeAt(Kn));for(gn=Kt>0?Kt+1:0;gn<kt;){for(an=Rt,Ft=1,vn=l;gn>=kt&&Ne("invalid-input"),((Xt=Qe(fe.charCodeAt(gn++)))>=l||Xt>re((a-Rt)/Ft))&&Ne("overflow"),Rt+=Xt*Ft,!(Xt<(or=vn<=mn?1:vn>=mn+26?26:vn-mn));vn+=l)Ft>re(a/(Fn=l-or))&&Ne("overflow"),Ft*=Fn;mn=Ye(Rt-an,Ut=Ct.length+1,0==an),re(Rt/Ut)>a-sn&&Ne("overflow"),sn+=re(Rt/Ut),Rt%=Ut,Ct.splice(Rt++,0,sn)}return $e(Ct)}function Ke(fe){var Ct,kt,Ut,Rt,sn,mn,Kt,Kn,gn,an,Ft,Xt,or,Fn,xn,vn=[];for(Xt=(fe=Xe(fe)).length,Ct=128,kt=0,sn=72,mn=0;mn<Xt;++mn)(Ft=fe[mn])<128&&vn.push(ne(Ft));for(Ut=Rt=vn.length,Rt&&vn.push("-");Ut<Xt;){for(Kt=a,mn=0;mn<Xt;++mn)(Ft=fe[mn])>=Ct&&Ft<Kt&&(Kt=Ft);for(Kt-Ct>re((a-kt)/(or=Ut+1))&&Ne("overflow"),kt+=(Kt-Ct)*or,Ct=Kt,mn=0;mn<Xt;++mn)if((Ft=fe[mn])<Ct&&++kt>a&&Ne("overflow"),Ft==Ct){for(Kn=kt,gn=l;!(Kn<(an=gn<=sn?1:gn>=sn+26?26:gn-sn));gn+=l)vn.push(ne(Mt(an+(xn=Kn-an)%(Fn=l-an),0))),Kn=re(xn/Fn);vn.push(ne(Mt(Kn,0))),sn=Ye(kt,or,Ut==Rt),kt=0,++Ut}++kt,++Ct}return vn.join("")}if(s={version:"1.3.2",ucs2:{decode:Xe,encode:$e},decode:Ae,encode:Ke,toASCII:function At(fe){return De(fe,function(Ct){return Y.test(Ct)?"xn--"+Ke(Ct):Ct})},toUnicode:function mt(fe){return De(fe,function(Ct){return B.test(Ct)?Ae(Ct.slice(4).toLowerCase()):Ct})}},i&&r)if(n.exports==i)r.exports=s;else for(Ee in s)s.hasOwnProperty(Ee)&&(i[Ee]=s[Ee]);else e.punycode=s}(nx)}),Oc_isString=function(n){return"string"==typeof n},Oc_isObject=function(n){return"object"==typeof n&&null!==n},Oc_isNull=function(n){return null===n};function Yle(n,t){return Object.prototype.hasOwnProperty.call(n,t)}var zle=function(n,t,e,i){e=e||"=";var r={};if("string"!=typeof n||0===n.length)return r;var o=/\+/g;n=n.split(t=t||"&");var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var a=n.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var y,O,P,I,c=n[l].replace(o,"%20"),u=c.indexOf(e);u>=0?(y=c.substr(0,u),O=c.substr(u+1)):(y=c,O=""),P=decodeURIComponent(y),I=decodeURIComponent(O),Yle(r,P)?Array.isArray(r[P])?r[P].push(I):r[P]=[r[P],I]:r[P]=I}return r},Rv=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}},$le=function(n,t,e,i){return t=t||"&",e=e||"=",null===n&&(n=void 0),"object"==typeof n?Object.keys(n).map(function(r){var o=encodeURIComponent(Rv(r))+e;return Array.isArray(n[r])?n[r].map(function(s){return o+encodeURIComponent(Rv(s))}).join(t):o+encodeURIComponent(Rv(n[r]))}).join(t):i?encodeURIComponent(Rv(i))+e+encodeURIComponent(Rv(n)):""},ox=ix(function(n,t){t.decode=t.parse=zle,t.encode=t.stringify=$le}),Xle=V1;function Xl(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Jle=/^([a-z0-9.+-]+:)/i,Qle=/:[0-9]*$/,Zle=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,tce=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),sx=["'"].concat(tce),z5=["%","/","?",";","#"].concat(sx),$5=["/","?","#"],X5=/^[+a-z0-9A-Z_-]{0,63}$/,ice=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,rce={javascript:!0,"javascript:":!0},ax={javascript:!0,"javascript:":!0},$g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function V1(n,t,e){if(n&&Oc_isObject(n)&&n instanceof Xl)return n;var i=new Xl;return i.parse(n,t,e),i}Xl.prototype.parse=function(n,t,e){if(!Oc_isString(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var i=n.indexOf("?"),r=-1!==i&&i<n.indexOf("#")?"?":"#",o=n.split(r);o[0]=o[0].replace(/\\/g,"/");var a=n=o.join(r);if(a=a.trim(),!e&&1===n.split("#").length){var l=Zle.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],this.query=t?ox.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var c=Jle.exec(a);if(c){var u=(c=c[0]).toLowerCase();this.protocol=u,a=a.substr(c.length)}if(e||c||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var y="//"===a.substr(0,2);y&&(!c||!ax[c])&&(a=a.substr(2),this.slashes=!0)}if(!ax[c]&&(y||c&&!$g[c])){for(var O=-1,P=0;P<$5.length;P++)-1!==(I=a.indexOf($5[P]))&&(-1===O||I<O)&&(O=I);var D,B;for(-1!==(B=-1===O?a.lastIndexOf("@"):a.lastIndexOf("@",O))&&(D=a.slice(0,B),a=a.slice(B+1),this.auth=decodeURIComponent(D)),O=-1,P=0;P<z5.length;P++){var I;-1!==(I=a.indexOf(z5[P]))&&(-1===O||I<O)&&(O=I)}-1===O&&(O=a.length),this.host=a.slice(0,O),a=a.slice(O),this.parseHost(),this.hostname=this.hostname||"";var Y="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Y)for(var q=this.hostname.split(/\./),ie=(P=0,q.length);P<ie;P++){var se=q[P];if(se&&!se.match(X5)){for(var re="",ne=0,Ee=se.length;ne<Ee;ne++)se.charCodeAt(ne)>127?re+="x":re+=se[ne];if(!re.match(X5)){var Ne=q.slice(0,P),Se=q.slice(P+1),De=se.match(ice);De&&(Ne.push(De[1]),Se.unshift(De[2])),Se.length&&(a="/"+Se.join(".")+a),this.hostname=Ne.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Y||(this.hostname=Wle.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!rce[u])for(P=0,ie=sx.length;P<ie;P++){var Qe=sx[P];if(-1!==a.indexOf(Qe)){var Mt=encodeURIComponent(Qe);Mt===Qe&&(Mt=escape(Qe)),a=a.split(Qe).join(Mt)}}var Ye=a.indexOf("#");-1!==Ye&&(this.hash=a.substr(Ye),a=a.slice(0,Ye));var Ae=a.indexOf("?");return-1!==Ae?(this.search=a.substr(Ae),this.query=a.substr(Ae+1),t&&(this.query=ox.parse(this.query)),a=a.slice(0,Ae)):t&&(this.search="",this.query={}),a&&(this.pathname=a),$g[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},Xl.prototype.format=function(){var n=this.auth||"";n&&(n=(n=encodeURIComponent(n)).replace(/%3A/i,":"),n+="@");var t=this.protocol||"",e=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=n+this.host:this.hostname&&(r=n+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&Oc_isObject(this.query)&&Object.keys(this.query).length&&(o=ox.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||$g[t])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+r+(e=e.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(s=s.replace("#","%23"))+i},Xl.prototype.resolve=function(n){return this.resolveObject(V1(n,!1,!0)).format()},Xl.prototype.resolveObject=function(n){if(Oc_isString(n)){var t=new Xl;t.parse(n,!1,!0),n=t}for(var e=new Xl,i=Object.keys(this),r=0;r<i.length;r++){var o=i[r];e[o]=this[o]}if(e.hash=n.hash,""===n.href)return e.href=e.format(),e;if(n.slashes&&!n.protocol){for(var s=Object.keys(n),a=0;a<s.length;a++){var l=s[a];"protocol"!==l&&(e[l]=n[l])}return $g[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(n.protocol&&n.protocol!==e.protocol){if(!$g[n.protocol]){for(var c=Object.keys(n),u=0;u<c.length;u++){var y=c[u];e[y]=n[y]}return e.href=e.format(),e}if(e.protocol=n.protocol,n.host||ax[n.protocol])e.pathname=n.pathname;else{for(var ie=(n.pathname||"").split("/");ie.length&&!(n.host=ie.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),""!==ie[0]&&ie.unshift(""),ie.length<2&&ie.unshift(""),e.pathname=ie.join("/")}return e.search=n.search,e.query=n.query,e.host=n.host||"",e.auth=n.auth,e.hostname=n.hostname||n.host,e.port=n.port,(e.pathname||e.search)&&(e.path=(e.pathname||"")+(e.search||"")),e.slashes=e.slashes||n.slashes,e.href=e.format(),e}var I=e.pathname&&"/"===e.pathname.charAt(0),D=n.host||n.pathname&&"/"===n.pathname.charAt(0),B=D||I||e.host&&n.pathname,Y=B,q=e.pathname&&e.pathname.split("/")||[],se=(ie=n.pathname&&n.pathname.split("/")||[],e.protocol&&!$g[e.protocol]);if(se&&(e.hostname="",e.port=null,e.host&&(""===q[0]?q[0]=e.host:q.unshift(e.host)),e.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(""===ie[0]?ie[0]=n.host:ie.unshift(n.host)),n.host=null),B=B&&(""===ie[0]||""===q[0])),D)e.host=n.host||""===n.host?n.host:e.host,e.hostname=n.hostname||""===n.hostname?n.hostname:e.hostname,e.search=n.search,e.query=n.query,q=ie;else if(ie.length)q||(q=[]),q.pop(),q=q.concat(ie),e.search=n.search,e.query=n.query;else if(!function(n){return null==n}(n.search))return se&&(e.hostname=e.host=q.shift(),(re=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=re.shift(),e.host=e.hostname=re.shift())),e.search=n.search,e.query=n.query,(!Oc_isNull(e.pathname)||!Oc_isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!q.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;for(var ne=q.slice(-1)[0],Ee=(e.host||n.host||q.length>1)&&("."===ne||".."===ne)||""===ne,Ne=0,Se=q.length;Se>=0;Se--)"."===(ne=q[Se])?q.splice(Se,1):".."===ne?(q.splice(Se,1),Ne++):Ne&&(q.splice(Se,1),Ne--);if(!B&&!Y)for(;Ne--;Ne)q.unshift("..");B&&""!==q[0]&&(!q[0]||"/"!==q[0].charAt(0))&&q.unshift(""),Ee&&"/"!==q.join("/").substr(-1)&&q.push("");var re,De=""===q[0]||q[0]&&"/"===q[0].charAt(0);return se&&(e.hostname=e.host=De?"":q.length?q.shift():"",(re=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=re.shift(),e.host=e.hostname=re.shift())),(B=B||e.host&&q.length)&&!De&&q.unshift(""),q.length?e.pathname=q.join("/"):(e.pathname=null,e.path=null),(!Oc_isNull(e.pathname)||!Oc_isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=n.auth||e.auth,e.slashes=e.slashes||n.slashes,e.href=e.format(),e},Xl.prototype.parseHost=function(){var n=this.host,t=Qle.exec(n);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),n=n.substr(0,n.length-t.length)),n&&(this.hostname=n)};var ace={parse:Xle,format:function oce(n){return Oc_isString(n)&&(n=V1(n)),n instanceof Xl?n.format():Xl.prototype.format.call(n)},resolve:function sce(n,t){return V1(n,!1,!0).resolve(t)}};_t.RETINA_PREFIX=/@([0-9\.]+)x/,_t.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var lx,q5=!1,fce=function dce(){for(var n=[],t=[],e=0;e<32;e++)n[e]=e,t[e]=e;n[je.NORMAL_NPM]=je.NORMAL,n[je.ADD_NPM]=je.ADD,n[je.SCREEN_NPM]=je.SCREEN,t[je.NORMAL]=je.NORMAL_NPM,t[je.ADD]=je.ADD_NPM,t[je.SCREEN]=je.SCREEN_NPM;var i=[];return i.push(t),i.push(n),i}();function J5(n){if(4===n.BYTES_PER_ELEMENT)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===n.BYTES_PER_ELEMENT){if(n instanceof Uint16Array)return"Uint16Array"}else if(1===n.BYTES_PER_ELEMENT&&n instanceof Uint8Array)return"Uint8Array";return null}function W1(n){return n+=0===n?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,1+(n|=n>>>16)}function Q5(n){return!(n&n-1||!n)}function Z5(n){var t=(n>65535?1:0)<<4,e=((n>>>=t)>255?1:0)<<3;return t|=e,t|=e=((n>>>=e)>15?1:0)<<2,(t|=e=((n>>>=e)>3?1:0)<<1)|(n>>>=e)>>1}var _ce=0;function Iv(){return++_ce}var eU={};function zd(n,t,e){if(void 0===e&&(e=3),!eU[t]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n):(i=i.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+n),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n),console.warn(i))),eU[t]=!0}}var Y1,tU={},mu=Object.create(null),$d=Object.create(null);function nU(n,t){var e=_t.RETINA_PREFIX.exec(n);return e?parseFloat(e[1]):void 0!==t?t:1}!function(){function n(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||_t.RESOLUTION,this.resize(t,e)}n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},n.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(n.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0})}();var ss=function(){function n(t){this.items=[],this._name=t,this._aliasCount=0}return n.prototype.emit=function(t,e,i,r,o,s,a,l){if(arguments.length>8)throw new Error("max arguments reached");var c=this,u=c.name,y=c.items;this._aliasCount++;for(var O=0,P=y.length;O<P;O++)y[O][u](t,e,i,r,o,s,a,l);return y===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},n.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},n.prototype.contains=function(t){return-1!==this.items.indexOf(t)},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n}();Object.defineProperties(ss.prototype,{dispatch:{value:ss.prototype.emit},run:{value:ss.prototype.emit}}),_t.TARGET_FPMS=.06;var Dv=(()=>(function(n){n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY"}(Dv||(Dv={})),Dv))(),cx=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=r}return n.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},n.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},n}(),Xg=function(){function n(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new cx(null,null,1/0),this.deltaMS=1/_t.TARGET_FPMS,this.elapsedMS=1/_t.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return n.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e,i){return void 0===i&&(i=Dv.NORMAL),this._addListener(new cx(t,e,i))},n.prototype.addOnce=function(t,e,i){return void 0===i&&(i=Dv.NORMAL),this._addListener(new cx(t,e,i,!0))},n.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},n.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*_t.TARGET_FPMS;for(var r=this._head,o=r.next;o;)o=o.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(n.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,_t.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"shared",{get:function(){if(!n._shared){var t=n._shared=new n;t.autoStart=!0,t._protected=!0}return n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,"system",{get:function(){if(!n._system){var t=n._system=new n;t.autoStart=!0,t._protected=!0}return n._system},enumerable:!1,configurable:!0}),n}(),vce=2*Math.PI,z1=(()=>(function(n){n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC"}(z1||(z1={})),z1))(),as=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=z1.RECT}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,"EMPTY",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},n.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},n.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(o-r,0),this},n.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},n.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=o-r,this},n.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),Eh=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},n.prototype.copyTo=function(t){return t.set(this.x,this.y),t},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},n.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},n}(),$1=function(){function n(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return n.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new n(t,e,this._x,this._y)},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},n.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},n.prototype.copyTo=function(t){return t.set(this._x,this._y),t},n.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),n}(),wa=function(){function n(t,e,i,r,o,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=s}return n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,i,r,o,s){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=s,this},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},n.prototype.apply=function(t,e){e=e||new Eh;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new Eh;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,o=t.y;return e.x=this.d*i*r+-this.c*i*o+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*o+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,o=this.c,s=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=o*e-this.d*i,this.d=o*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this},n.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,o=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*o,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*o,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*o+this.ty,this},n.prototype.setTransform=function(t,e,i,r,o,s,a,l,c){return this.a=Math.cos(a+c)*o,this.b=Math.sin(a+c)*o,this.c=-Math.sin(a-l)*s,this.d=Math.cos(a-l)*s,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,o=this.d,s=t.pivot,a=-Math.atan2(-r,o),l=Math.atan2(i,e),c=Math.abs(a+l);return c<1e-5||Math.abs(vce-c)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=l),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+o*o),t.position.x=this.tx+(s.x*e+s.y*r),t.position.y=this.ty+(s.x*i+s.y*o),t},n.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,o=this.tx,s=t*r-e*i;return this.a=r/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-r*o)/s,this.ty=-(t*this.ty-e*o)/s,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},n.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(n,"IDENTITY",{get:function(){return new n},enumerable:!1,configurable:!0}),Object.defineProperty(n,"TEMP_MATRIX",{get:function(){return new n},enumerable:!1,configurable:!0}),n}(),Xd=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],qd=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Kd=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Jd=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ux=[],iU=[],X1=Math.sign;!function yce(){for(var n=0;n<16;n++){var t=[];ux.push(t);for(var e=0;e<16;e++)for(var i=X1(Xd[n]*Xd[e]+Kd[n]*qd[e]),r=X1(qd[n]*Xd[e]+Jd[n]*qd[e]),o=X1(Xd[n]*Kd[e]+Kd[n]*Jd[e]),s=X1(qd[n]*Kd[e]+Jd[n]*Jd[e]),a=0;a<16;a++)if(Xd[a]===i&&qd[a]===r&&Kd[a]===o&&Jd[a]===s){t.push(a);break}}for(n=0;n<16;n++){var l=new wa;l.set(Xd[n],qd[n],Kd[n],Jd[n],0,0),iU.push(l)}}();var vr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(n){return Xd[n]},uY:function(n){return qd[n]},vX:function(n){return Kd[n]},vY:function(n){return Jd[n]},inv:function(n){return 8&n?15&n:7&-n},add:function(n,t){return ux[n][t]},sub:function(n,t){return ux[n][vr.inv(t)]},rotate180:function(n){return 4^n},isVertical:function(n){return 2==(3&n)},byDirection:function(n,t){return 2*Math.abs(n)<=Math.abs(t)?t>=0?vr.S:vr.N:2*Math.abs(t)<=Math.abs(n)?n>0?vr.E:vr.W:t>0?n>0?vr.SE:vr.SW:n>0?vr.NE:vr.NW},matrixAppendRotationInv:function(n,t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var r=iU[vr.inv(t)];r.tx=e,r.ty=i,n.append(r)}};!function(){function n(){this.worldTransform=new wa,this.localTransform=new wa,this.position=new $1(this.onChange,this,0,0),this.scale=new $1(this.onChange,this,1,1),this.pivot=new $1(this.onChange,this,0,0),this.skew=new $1(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},n.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},n.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},n.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),n.IDENTITY=new n}(),_t.PREFER_ENV=Ta.any?Ro.WEBGL:Ro.WEBGL2,_t.STRICT_TEXTURE_CACHE=!1;var q1=[];function hx(n,t){if(!n)return null;var e="";if("string"==typeof n){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);i&&(e=i[1].toLowerCase())}for(var r=q1.length-1;r>=0;--r){var o=q1[r];if(o.test&&o.test(n,e))return new o(n,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var dx=function(n,t){return(dx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function Ji(n,t){function e(){this.constructor=n}dx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var fx=function(){return fx=Object.assign||function(t){for(var i,e=arguments,r=1,o=arguments.length;r<o;r++)for(var s in i=e[r])Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);return t},fx.apply(this,arguments)},qg=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new ss("setRealSize"),this.onUpdate=new ss("update"),this.onError=new ss("onError")}return n.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},n.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},n.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(n.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.destroyed||this.onUpdate.emit()},n.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.style=function(t,e,i){return!1},n.prototype.dispose=function(){},n.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},n.test=function(t,e){return!1},n}(),K1=function(n){function t(e,i){var r=this,o=i||{},s=o.width,a=o.height;if(!s||!a)throw new Error("BufferResource width or height invalid");return(r=n.call(this,s,a)||this).data=e,r}return Ji(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Io.UNPACK);var s=i.realWidth,a=i.realHeight;return r.width===s&&r.height===a?o.texSubImage2D(i.target,0,0,0,s,a,i.format,r.type,this.data):(r.width=s,r.height=a,o.texImage2D(i.target,0,r.internalFormat,s,a,0,i.format,r.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(qg),Ece={scaleMode:io.NEAREST,format:ze.RGBA,alphaMode:Io.NPM},bo=function(n){function t(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=n.call(this)||this,o=(i=i||{}).alphaMode,s=i.mipmap,a=i.anisotropicLevel,l=i.scaleMode,c=i.width,u=i.height,y=i.wrapMode,O=i.format,P=i.type,I=i.target,D=i.resolution;return e&&!(e instanceof qg)&&((e=hx(e,i.resourceOptions)).internal=!0),r.resolution=D||_t.RESOLUTION,r.width=Math.round((c||0)*r.resolution)/r.resolution,r.height=Math.round((u||0)*r.resolution)/r.resolution,r._mipmap=void 0!==s?s:_t.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:_t.ANISOTROPIC_LEVEL,r._wrapMode=y||_t.WRAP_MODE,r._scaleMode=void 0!==l?l:_t.SCALE_MODE,r.format=O||ze.RGBA,r.type=P||Pt.UNSIGNED_BYTE,r.target=I||qs.TEXTURE_2D,r.alphaMode=void 0!==o?o:Io.UNPACK,r.uid=Iv(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=c>0&&u>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return Ji(t,n),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,i){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==i&&i!==this.mipmap&&(this.mipmap=i,r=!0),r&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,i,r){return this.setRealSize(e*(r=r||this.resolution),i*r,r)},t.prototype.setRealSize=function(e,i,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(i)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=Q5(this.realWidth)&&Q5(this.realHeight)},t.prototype.setResolution=function(e){var i=this.resolution;return i===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*i)/e,this.height=Math.round(this.height*i)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete $d[this.cacheId],delete mu[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,i,r){void 0===r&&(r=_t.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+Iv()),s=e._pixiId);var l=$d[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return l||((l=new t(e,i)).cacheId=s,t.addToCache(l,s)),l},t.fromBuffer=function(e,i,r,o){e=e||new Float32Array(i*r*4);var s=new K1(e,{width:i,height:r}),a=e instanceof Float32Array?Pt.FLOAT:Pt.UNSIGNED_BYTE;return new t(s,Object.assign(Ece,o||{width:i,height:r,type:a}))},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),$d[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),$d[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=$d[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete $d[e],i}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)delete $d[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(rx),px=function(n){function t(e,i){var r=this,o=i||{};(r=n.call(this,o.width,o.height)||this).items=[],r.itemDirtyIds=[];for(var l=0;l<e;l++){var c=new bo;r.items.push(c),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return Ji(t,n),t.prototype.initFromArray=function(e,i){for(var r=0;r<this.length;r++)!e[r]||(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):this.addResourceAt(e[r]instanceof qg?e[r]:hx(e[r],i),r))},t.prototype.dispose=function(){for(var e=0,i=this.length;e<i;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,i){if(!this.items[i])throw new Error("Index "+i+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[i].setResource(e),this},t.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");n.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},t.prototype.unbind=function(e){n.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.items.map(function(o){return o.resource}).filter(function(o){return o}),r=i.map(function(o){return o.load()});return this._load=Promise.all(r).then(function(){var o=e.items[0];return e.resize(o.realWidth,o.realHeight),Promise.resolve(e)}),this._load},t}(qg),rU=function(n){function t(e,i){var l,c,r=this,o=i||{},s=o.width,a=o.height;return Array.isArray(e)?(l=e,c=e.length):c=e,r=n.call(this,c,{width:s,height:a})||this,l&&r.initFromArray(l,i),r}return Ji(t,n),t.prototype.addBaseTextureAt=function(e,i){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,i),this},t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=qs.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,i,r){var o=this,s=o.length,a=o.itemDirtyIds,l=o.items,c=e.gl;r.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,s,0,i.format,r.type,null);for(var u=0;u<s;u++){var y=l[u];a[u]<y.dirtyId&&(a[u]=y.dirtyId,y.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,u,y.resource.width,y.resource.height,1,i.format,r.type,y.resource.source))}return!0},t}(px),vu=function(n){function t(e){var i=this;return(i=n.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,i.noSubImage=!1,i}return Ji(t,n),t.crossOrigin=function(e,i,r){void 0===r&&0!==i.indexOf("data:")?e.crossOrigin=function mce(n,t){if(void 0===t&&(t=self.location),0===n.indexOf("data:"))return"";t=t||self.location,Y1||(Y1=document.createElement("a")),Y1.href=n;var e=ace.parse(Y1.href);return e.hostname!==t.hostname||(e.port||""!==t.port)&&e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}(i):!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous")},t.prototype.upload=function(e,i,r,o){var s=e.gl,a=i.realWidth,l=i.realHeight;return o=o||this.source,s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Io.UNPACK),this.noSubImage||i.target!==s.TEXTURE_2D||r.width!==a||r.height!==l?(r.width=a,r.height=l,s.texImage2D(i.target,0,r.internalFormat,i.format,r.type,o)):s.texSubImage2D(s.TEXTURE_2D,0,0,0,i.format,r.type,o),!0},t.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),n.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(qg),gx=function(n){function t(e){return n.call(this,e)||this}return Ji(t,n),t.test=function(e){var i=self.OffscreenCanvas;return!!(i&&e instanceof i)||self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(vu),oU=function(n){function t(e,i){var r=this,o=i||{},s=o.width,a=o.height,l=o.autoLoad,c=o.linkBaseTexture;if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");r=n.call(this,6,{width:s,height:a})||this;for(var u=0;u<t.SIDES;u++)r.items[u].target=qs.TEXTURE_CUBE_MAP_POSITIVE_X+u;return r.linkBaseTexture=!1!==c,e&&r.initFromArray(e,i),!1!==l&&r.load(),r}return Ji(t,n),t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=qs.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,i,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[i])throw new Error("Index "+i+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,i)}else e.target=qs.TEXTURE_CUBE_MAP_POSITIVE_X+i,e.parentTextureArray=this.baseTexture,this.items[i]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[i]=e,this},t.prototype.upload=function(e,i,r){for(var o=this.itemDirtyIds,s=0;s<t.SIDES;s++){var a=this.items[s];o[s]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),o[s]=a.dirtyId):o[s]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),o[s]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(px),_x=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLImageElement)){var o=new Image;vu.crossOrigin(o,e,i.crossorigin),o.src=e,e=o}return r=n.call(this,e)||this,!e.complete&&!!r._width&&!!r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:_t.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return Ji(t,n),t.prototype.load=function(e){var i=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(r,o){var s=i.source;i.url=s.src;var a=function(){i.destroyed||(s.onload=null,s.onerror=null,i.resize(s.width,s.height),i._load=null,r(i.createBitmap?i.process():i))};s.complete&&s.src?a():(s.onload=a,s.onerror=function(l){o(l),i.onError.emit(l)})})),this._load},t.prototype.process=function(){var e=this,i=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var r=self.createImageBitmap;return this._process=fetch(i.src,{mode:i.crossOrigin&&"anonymous"!==i.crossOrigin?"no-cors":"cors"}).then(function(s){return s.blob()}).then(function(s){return r(s,0,0,i.width,i.height,{premultiplyAlpha:e.alphaMode===Io.UNPACK?"premultiply":"none"})}).then(function(s){return e.destroyed?Promise.reject():(e.bitmap=s,e.update(),e._process=null,Promise.resolve(e))}),this._process},t.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return n.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(n.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var o=!0,s=i._glTextures;for(var a in s){var l=s[a];if(l!==r&&l.dirtyId!==i.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,n.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(vu),sU=function(n){function t(e,i){var r=this;return i=i||{},(r=n.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return Ji(t,n),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(i){if(e._resolve=function(){e.resize(e.source.width,e.source.height),i(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},t.prototype._loadSvg=function(){var e=this,i=new Image;vu.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(r){!e._resolve||(i.onerror=null,e.onError.emit(r))},i.onload=function(){if(e._resolve){var r=i.width,o=i.height;if(!r||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var s=r*e.scale,a=o*e.scale;(e._overrideWidth||e._overrideHeight)&&(s=e._overrideWidth||e._overrideHeight/o*r,a=e._overrideHeight||e._overrideWidth/r*o),s=Math.round(s),a=Math.round(a);var l=e.source;l.width=s,l.height=a,l._pixiId="canvas_"+Iv(),l.getContext("2d").drawImage(i,0,0,r,o,0,0,s,a),e._resolve(),e._resolve=null}}},t.getSize=function(e){var i=t.SVG_SIZE.exec(e),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},t.prototype.dispose=function(){n.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,i){return"svg"===i||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(vu),aU=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),vu.crossOrigin(o,e[0].src||e[0],i.crossorigin);for(var a=0;a<e.length;++a){var l=document.createElement("source"),c=e[a],u=c.src,y=c.mime,O=(u=u||e[a]).split("?").shift().toLowerCase(),P=O.substr(O.lastIndexOf(".")+1);y=y||t.MIME_TYPES[P]||"video/"+P,l.src=u,l.type=y,o.appendChild(l)}e=o}return(r=n.call(this,e)||this).noSubImage=!0,r._autoUpdate=!0,r._isConnectedToTicker=!1,r._updateFPS=i.updateFPS||0,r._msToNextUpdate=0,r.autoPlay=!1!==i.autoPlay,r._load=null,r._resolve=null,r._onCanPlay=r._onCanPlay.bind(r),r._onError=r._onError.bind(r),!1!==i.autoLoad&&r.load(),r}return Ji(t,n),t.prototype.update=function(e){this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-Xg.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(n.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){e.valid?r(e):(e._resolve=r,i.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Xg.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Xg.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var i=this.valid;this.resize(e.videoWidth,e.videoHeight),!i&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(Xg.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Xg.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Xg.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,i){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(i)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(vu),lU=function(n){function t(e){return n.call(this,e)||this}return Ji(t,n),t.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},t}(vu);q1.push(_x,lU,gx,aU,sU,K1,oU,rU);var cU={__proto__:null,Resource:qg,BaseImageResource:vu,INSTALLED:q1,autoDetectResource:hx,AbstractMultiResource:px,ArrayResource:rU,BufferResource:K1,CanvasResource:gx,CubeResource:oU,ImageResource:_x,SVGResource:sU,VideoResource:aU,ImageBitmapResource:lU},Sce=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Ji(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Io.UNPACK);var s=i.realWidth,a=i.realHeight;return r.width===s&&r.height===a?o.texSubImage2D(i.target,0,0,0,s,a,i.format,r.type,this.data):(r.width=s,r.height=a,o.texImage2D(i.target,0,r.internalFormat,s,a,0,i.format,r.type,this.data)),!0},t}(K1),mx=function(){function n(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new ss("disposeFramebuffer"),this.multisample=Un.NONE}return Object.defineProperty(n.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),n.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new bo(null,{scaleMode:io.NEAREST,resolution:1,mipmap:xs.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.addDepthTexture=function(t){return this.depthTexture=t||new bo(new Sce(null,{width:this.width,height:this.height}),{scaleMode:io.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:xs.OFF,format:ze.DEPTH_COMPONENT,type:Pt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i];r.setSize(t/(o=r.resolution),e/o)}var o;this.depthTexture&&this.depthTexture.setSize(t/(o=this.depthTexture.resolution),e/o)}},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},n}(),uU=function(n){function t(e){var i=this;if("number"==typeof e){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];e={width:r,height:o,scaleMode:s,resolution:a}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:Un.NONE,(i=n.call(this,null,e)||this).mipmap=xs.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new mx(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=e.multisample,i.maskStack=[],i.filterStack=[{}],i}return Ji(t,n),t.prototype.resize=function(e,i){this.framebuffer.resize(e*this.resolution,i*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),n.prototype.dispose.call(this)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(bo),hU=function(){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return n.prototype.set=function(t,e,i){var r=e.width,o=e.height;if(i){var s=t.width/2/r,a=t.height/2/o,l=t.x/r+s,c=t.y/o+a;i=vr.add(i,vr.NW),this.x0=l+s*vr.uX(i),this.y0=c+a*vr.uY(i),i=vr.add(i,2),this.x1=l+s*vr.uX(i),this.y1=c+a*vr.uY(i),i=vr.add(i,2),this.x2=l+s*vr.uX(i),this.y2=c+a*vr.uY(i),i=vr.add(i,2),this.x3=l+s*vr.uX(i),this.y3=c+a*vr.uY(i)}else this.x0=t.x/r,this.y0=t.y/o,this.x1=(t.x+t.width)/r,this.y1=t.y/o,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/o,this.x3=t.x/r,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},n.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},n}(),dU=new hU,wc=function(n){function t(e,i,r,o,s,a){var l=n.call(this)||this;if(l.noFrame=!1,i||(l.noFrame=!0,i=new as(0,0,1,1)),e instanceof t&&(e=e.baseTexture),l.baseTexture=e,l._frame=i,l.trim=o,l.valid=!1,l._uvs=dU,l.uvMatrix=null,l.orig=r||i,l._rotate=Number(s||0),!0===s)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new Eh(a.x,a.y):new Eh(0,0),l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=i:e.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&e.on("update",l.onBaseTextureUpdated,l),l}return Ji(t,n),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var i=this.baseTexture.resource;i&&i.url&&mu[i.url]&&t.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),i=this._frame===this.orig?e:this.orig.clone(),r=new t(this.baseTexture,!this.noFrame&&e,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r},t.prototype.updateUvs=function(){this._uvs===dU&&(this._uvs=new hU),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,i,r){void 0===i&&(i={}),void 0===r&&(r=_t.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:e instanceof bo?(e.cacheId||(e.cacheId=(i&&i.pixiIdPrefix||"pixiid")+"-"+Iv(),bo.addToCache(e,e.cacheId)),s=e.cacheId):(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+Iv()),s=e._pixiId);var l=mu[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return l||e instanceof bo?!l&&e instanceof bo&&(l=new t(e),t.addToCache(l,s)):(i.resolution||(i.resolution=nU(e)),(l=new t(new bo(e,i))).baseTexture.cacheId=s,bo.addToCache(l.baseTexture,s),t.addToCache(l,s)),l},t.fromURL=function(e,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),o=t.from(e,Object.assign({resourceOptions:r},i),!1),s=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):s.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(e,i,r,o){return new t(bo.fromBuffer(e,i,r,o))},t.fromLoader=function(e,i,r,o){var s=new bo(e,Object.assign({scaleMode:_t.SCALE_MODE,resolution:nU(i)},o)),a=s.resource;a instanceof _x&&(a.url=i);var l=new t(s);return r||(r=i),bo.addToCache(l.baseTexture,r),t.addToCache(l,r),r!==i&&(bo.addToCache(l.baseTexture,i),t.addToCache(l,i)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(c){l.baseTexture.once("loaded",function(){return c(l)})})},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),mu[i]&&console.warn("Texture added to the cache with an id ["+i+"] that already had an entry"),mu[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=mu[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete mu[e],i}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)mu[e.textureCacheIds[o]]===e&&delete mu[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var i=e.x,r=e.y,o=e.width,s=e.height,a=i+o>this.baseTexture.width,l=r+s>this.baseTexture.height;if(a||l)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.width+" "+(a&&l?"and":"or")+" Y: "+r+" + "+s+" = "+(r+s)+" > "+this.baseTexture.height);this.valid=o&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(rx);function J1(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}wc.EMPTY=new wc(new bo),J1(wc.EMPTY),J1(wc.EMPTY.baseTexture),wc.WHITE=function Cce(){var n=document.createElement("canvas");n.width=16,n.height=16;var t=n.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new wc(new bo(new gx(n)))}(),J1(wc.WHITE),J1(wc.WHITE.baseTexture);var vx=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return Ji(t,n),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i,r){void 0===r&&(r=!0);var o=this.baseTexture.resolution,s=Math.round(e*o)/o,a=Math.round(i*o)/o;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,r&&this.baseTexture.resize(s,a),this.updateUvs()},t.prototype.setResolution=function(e){var i=this.baseTexture;i.resolution!==e&&(i.setResolution(e),this.resize(i.width,i.height,!1))},t.create=function(e){for(var i=arguments,r=[],o=1;o<arguments.length;o++)r[o-1]=i[o];return"number"==typeof e&&(zd("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:r[0],scaleMode:r[1],resolution:r[2]}),new t(new uU(e))},t}(wc),Tce=function(){function n(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return n.prototype.createTexture=function(t,e,i){void 0===i&&(i=Un.NONE);var r=new uU(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new vx(r)},n.prototype.getOptimalTexture=function(t,e,i,r){var o;void 0===i&&(i=1),void 0===r&&(r=Un.NONE),t=Math.ceil(t*i),e=Math.ceil(e*i),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?o=r>1?-r:-1:(o=((65535&(t=W1(t)))<<16|65535&(e=W1(e)))>>>0,r>1&&(o+=4294967296*r)),this.texturePool[o]||(this.texturePool[o]=[]);var s=this.texturePool[o].pop();return s||(s=this.createTexture(t,e,r)),s.filterPoolKey=o,s.setResolution(i),s},n.prototype.getFilterTexture=function(t,e,i){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||Un.NONE);return r.filterFrame=t.filterFrame,r},n.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},n.prototype.returnFilterTexture=function(t){this.returnTexture(t)},n.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},n.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},n.SCREEN_KEY=-1,n}(),fU=function(){function n(t,e,i,r,o,s,a){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=Pt.FLOAT),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=o,this.start=s,this.instance=a}return n.prototype.destroy=function(){this.buffer=null},n.from=function(t,e,i,r,o){return new n(t,e,i,r,o)},n}(),Mce=0,Pa=function(){function n(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=Mce++,this.disposeRunner=new ss("disposeBuffer")}return n.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(n.prototype,"index",{get:function(){return this.type===oo.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?oo.ELEMENT_ARRAY_BUFFER:oo.ARRAY_BUFFER},enumerable:!1,configurable:!0}),n.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new n(t)},n}(),Oce={Float32Array,Uint32Array,Int32Array,Uint8Array},pU={5126:4,5123:2,5121:1},Pce=0,xce={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},yx=function(){function n(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Pce++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new ss("disposeGeometry"),this.refCount=0}return n.prototype.addAttribute=function(t,e,i,r,o,s,a,l){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===l&&(l=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Pa||(e instanceof Array&&(e=new Float32Array(e)),e=new Pa(e));var c=t.split("|");if(c.length>1){for(var u=0;u<c.length;u++)this.addAttribute(c[u],e,i,r,o);return this}var y=this.buffers.indexOf(e);return-1===y&&(this.buffers.push(e),y=this.buffers.length-1),this.attributes[t]=new fU(y,i,r,o,s,a,l),this.instanced=this.instanced||l,this},n.prototype.getAttribute=function(t){return this.attributes[t]},n.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},n.prototype.addIndex=function(t){return t instanceof Pa||(t instanceof Array&&(t=new Uint16Array(t)),t=new Pa(t)),t.type=oo.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},n.prototype.getIndex=function(){return this.indexBuffer},n.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var r,t=[],e=[],i=new Pa;for(r in this.attributes){var o=this.attributes[r];t.push(this.buffers[o.buffer].data),e.push(o.size*pU[o.type]/4),o.buffer=0}for(i.data=function wce(n,t){for(var e=0,i=0,r={},o=0;o<n.length;o++)i+=t[o],e+=n[o].length;var s=new ArrayBuffer(4*e),a=null,l=0;for(o=0;o<n.length;o++){var c=t[o],u=n[o],y=J5(u);r[y]||(r[y]=new Oce[y](s)),a=r[y];for(var O=0;O<u.length;O++)a[(O/c|0)*i+l+O%c]=u[O];l+=c}return new Float32Array(s)}(t,e),r=0;r<this.buffers.length;r++)this.buffers[r]!==this.indexBuffer&&this.buffers[r].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},n.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},n.prototype.clone=function(){for(var t=new n,e=0;e<this.buffers.length;e++)t.buffers[e]=new Pa(this.buffers[e].data.slice(0));for(var e in this.attributes){var i=this.attributes[e];t.attributes[e]=new fU(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=oo.ELEMENT_ARRAY_BUFFER),t},n.merge=function(t){for(var s,e=new n,i=[],r=[],o=[],a=0;a<t.length;a++){s=t[a];for(var l=0;l<s.buffers.length;l++)r[l]=r[l]||0,r[l]+=s.buffers[l].data.length,o[l]=0}for(a=0;a<s.buffers.length;a++)i[a]=new(xce[J5(s.buffers[a].data)])(r[a]),e.buffers[a]=new Pa(i[a]);for(a=0;a<t.length;a++)for(s=t[a],l=0;l<s.buffers.length;l++)i[l].set(s.buffers[l].data,o[l]),o[l]+=s.buffers[l].data.length;if(e.attributes=s.attributes,s.indexBuffer){e.indexBuffer=e.buffers[s.buffers.indexOf(s.indexBuffer)],e.indexBuffer.type=oo.ELEMENT_ARRAY_BUFFER;var c=0,u=0,y=0,O=0;for(a=0;a<s.buffers.length;a++)if(s.buffers[a]!==s.indexBuffer){O=a;break}for(var a in s.attributes){var P=s.attributes[a];(0|P.buffer)===O&&(u+=P.size*pU[P.type]/4)}for(a=0;a<t.length;a++){var I=t[a].indexBuffer.data;for(l=0;l<I.length;l++)e.indexBuffer.data[l+y]+=c;c+=t[a].buffers[O].data.length/u,y+=I.length}}return e},n}(),Ace=function(n){function t(){var e=n.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return Ji(t,n),t}(yx),Rce=function(n){function t(){var e=n.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Pa(e.vertices),e.uvBuffer=new Pa(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return Ji(t,n),t.prototype.map=function(e,i){var r=0,o=0;return this.uvs[0]=r,this.uvs[1]=o,this.uvs[2]=r+i.width/e.width,this.uvs[3]=o,this.uvs[4]=r+i.width/e.width,this.uvs[5]=o+i.height/e.height,this.uvs[6]=r,this.uvs[7]=o+i.height/e.height,o=i.y,this.vertices[0]=r=i.x,this.vertices[1]=o,this.vertices[2]=r+i.width,this.vertices[3]=o,this.vertices[4]=r+i.width,this.vertices[5]=o+i.height,this.vertices[6]=r,this.vertices[7]=o+i.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(yx),Ice=0,Kg=function(){function n(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ice++,this.static=!!e,this.ubo=!!i,t instanceof Pa?(this.buffer=t,this.buffer.type=oo.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Pa(new Float32Array(1)),this.buffer.type=oo.UNIFORM_BUFFER,this.autoManage=!0))}return n.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},n.prototype.add=function(t,e,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new n(e,i)},n.from=function(t,e,i){return new n(t,e,i)},n.uboFrom=function(t,e){return new n(t,null==e||e,!0)},n}(),Dce=function(){function n(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Un.NONE,this.sourceFrame=new as,this.destinationFrame=new as,this.bindingSourceFrame=new as,this.bindingDestinationFrame=new as,this.filters=[],this.transform=null}return n.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},n}(),Q1=[new Eh,new Eh,new Eh,new Eh],bx=new wa,gU=function(){function n(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new Tce,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new Ace,this.quadUv=new Rce,this.tempRect=new as,this.activeState={},this.globalUniforms=new Kg({outputFrame:new as,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return n.prototype.push=function(t,e){for(var i,r,o=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new Dce,l=this.renderer.renderTexture,c=e[0].resolution,u=e[0].multisample,y=e[0].padding,O=e[0].autoFit,P=null===(i=e[0].legacy)||void 0===i||i,I=1;I<e.length;I++){var D=e[I];c=Math.min(c,D.resolution),u=Math.min(u,D.multisample),y=this.useMaxPadding?Math.max(y,D.padding):y+D.padding,O=O&&D.autoFit,P=P||null===(r=D.legacy)||void 0===r||r}if(1===s.length&&(this.defaultFilterStack[0].renderTexture=l.current),s.push(a),a.resolution=c,a.multisample=u,a.legacy=P,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(y),O){var B=this.tempRect.copyFrom(l.sourceFrame);o.projection.transform&&this.transformAABB(bx.copyFrom(o.projection.transform).invert(),B),a.sourceFrame.fit(B)}this.roundFrame(a.sourceFrame,l.current?l.current.resolution:o.resolution,l.sourceFrame,l.destinationFrame,o.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,c,u),a.filters=e,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var Y=this.tempRect;Y.x=0,Y.y=0,Y.width=a.sourceFrame.width,Y.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=o.projection.transform,o.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,Y),o.framebuffer.clear(0,0,0,0)},n.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var o=r.inputSize,s=r.inputPixel,a=r.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=Math.round(o[0]*e.resolution),s[1]=Math.round(o[1]*e.resolution),s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=e.sourceFrame.width*o[2]-.5*s[2],a[3]=e.sourceFrame.height*o[3]-.5*s[3],e.legacy){var l=r.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var c=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,c.renderTexture,rs.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,y=this.getOptimalFilterTexture(u.width,u.height,e.resolution);y.filterFrame=u.filterFrame;var O=0;for(O=0;O<i.length-1;++O){1===O&&e.multisample>1&&((y=this.getOptimalFilterTexture(u.width,u.height,e.resolution)).filterFrame=u.filterFrame),i[O].apply(this,u,y,rs.CLEAR,e);var P=u;u=y,y=P}i[O].apply(this,u,c.renderTexture,rs.BLEND,e),O>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(y)}e.clear(),this.statePool.push(e)},n.prototype.bindAndClear=function(t,e){void 0===e&&(e=rs.CLEAR);var i=this.renderer,r=i.renderTexture,o=i.state;if(this.renderer.projection.transform=t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,t&&t.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=t.filterFrame.width,s.height=t.filterFrame.height,r.bind(t,t.filterFrame,s)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(e===rs.CLEAR||e===rs.BLIT&&(1&o.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)},n.prototype.applyFilter=function(t,e,i,r){var o=this.renderer;o.state.set(t.state),this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Ho.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Ho.TRIANGLE_STRIP))},n.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,o=i.destinationFrame,s=e._texture.orig,a=t.set(o.width,0,0,o.height,r.x,r.y),l=e.worldTransform.copyTo(wa.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/s.width,1/s.height),a.translate(e.anchor.x,e.anchor.y),a},n.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},n.prototype.getOptimalFilterTexture=function(t,e,i,r){return void 0===i&&(i=1),void 0===r&&(r=Un.NONE),this.texturePool.getOptimalTexture(t,e,i,r)},n.prototype.getFilterTexture=function(t,e,i){if("number"==typeof t){var r=t;t=e,e=r}var o=this.texturePool.getOptimalTexture((t=t||this.activeState.renderTexture).width,t.height,e||t.resolution,i||Un.NONE);return o.filterFrame=t.filterFrame,o},n.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},n.prototype.emptyPool=function(){this.texturePool.clear(!0)},n.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},n.prototype.transformAABB=function(t,e){var i=Q1[0],r=Q1[1],o=Q1[2],s=Q1[3];i.set(e.left,e.top),r.set(e.left,e.bottom),o.set(e.right,e.top),s.set(e.right,e.bottom),t.apply(i,i),t.apply(r,r),t.apply(o,o),t.apply(s,s);var a=Math.min(i.x,r.x,o.x,s.x),l=Math.min(i.y,r.y,o.y,s.y),c=Math.max(i.x,r.x,o.x,s.x),u=Math.max(i.y,r.y,o.y,s.y);e.x=a,e.y=l,e.width=c-a,e.height=u-l},n.prototype.roundFrame=function(t,e,i,r,o){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(o){var s=o.a,l=o.c,c=o.d;if((Math.abs(o.b)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(c)>1e-4))return}(o=o?bx.copyFrom(o):bx.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(o,t),t.ceil(e),this.transformAABB(o.invert(),t)}},n}(),_U=function(){function n(t){this.renderer=t}return n.prototype.flush=function(){},n.prototype.destroy=function(){this.renderer=null},n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.render=function(t){},n}(),mU=function(){function n(t){this.renderer=t,this.emptyRenderer=new _U(t),this.currentRenderer=this.emptyRenderer}return n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},n.prototype.boundArray=function(t,e,i,r){for(var o=t.elements,s=t.ids,a=t.count,l=0,c=0;c<a;c++){var u=o[c],y=u._batchLocation;if(y>=0&&y<r&&e[y]===u)s[c]=y;else for(;l<r;){var O=e[l];if(!O||O._batchEnabled!==i||O._batchLocation!==l){s[c]=l,u._batchLocation=l,e[l]=u;break}l++}}},n.prototype.destroy=function(){this.renderer=null},n}(),vU=0,yU=function(){function n(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(n.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),n.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=vU++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},n.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=vU++,this.renderer.runners.contextChange.emit(t)},n.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},n.prototype.createContext=function(t,e){var i;if(_t.PREFER_ENV>=Ro.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},n.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},n.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},n.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},n.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},n}(),Nce=function n(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Un.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},kce=new as,bU=function(){function n(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new mx(10,10),this.msaaSamples=null}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new as,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;_t.PREFER_ENV===Ro.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(r){return e.drawBuffersWEBGL(r)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},n.prototype.bind=function(t,e,i){void 0===i&&(i=0);var r=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=i),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var s=0;s<t.colorTextures.length;s++){var a=t.colorTextures[s];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var u=(l=e.width>>i)/e.width;this.setViewport(e.x*u,e.y*u,l,e.height>>i)}else{var l;this.setViewport(0,0,l=t.width>>i,t.height>>i)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},n.prototype.setViewport=function(t,e,i,r){var o=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),r=Math.round(r),(o.width!==i||o.height!==r||o.x!==t||o.y!==e)&&(o.x=t,o.y=e,o.width=i,o.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(n.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),n.prototype.clear=function(t,e,i,r,o){void 0===o&&(o=_h.COLOR|_h.DEPTH);var s=this.gl;s.clearColor(t,e,i,r),s.clear(o)},n.prototype.initFramebuffer=function(t){var i=new Nce(this.gl.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},n.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height)),i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,o=r.length;e.drawBuffers||(o=Math.min(o,1));for(var s=0;s<o;s++){var a=r[s];this.renderer.texture.bind(a.parentTextureArray||a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},n.prototype.updateFramebuffer=function(t,e){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,s=o.length;i.drawBuffers||(s=Math.min(s,1)),r.multisample>1&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var a=[],l=0;l<s;l++){var c=o[l],u=c.parentTextureArray||c;this.renderer.texture.bind(u,0),(0!==l||!r.msaaBuffer)&&(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,c.target,u._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){var O=t.depthTexture;this.renderer.texture.bind(O,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,O._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},n.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},n.prototype.detectSamples=function(t){var e=this.msaaSamples,i=Un.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=Un.NONE),i},n.prototype.blit=function(t,e,i){var r=this,o=r.current,a=r.gl;if(2===r.renderer.context.webGLVersion&&o){var c=o.glFramebuffers[r.CONTEXT_UID];if(c){if(!t){if(!c.msaaBuffer)return;var u=o.colorTextures[0];if(!u)return;c.blitFramebuffer||(c.blitFramebuffer=new mx(o.width,o.height),c.blitFramebuffer.addColorTexture(0,u)),(t=c.blitFramebuffer).colorTextures[0]!==u&&(t.colorTextures[0]=u,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}e||((e=kce).width=o.width,e.height=o.height),i||(i=e);var y=e.width===i.width&&e.height===i.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,c.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,a.COLOR_BUFFER_BIT,y?a.NEAREST:a.LINEAR)}}},n.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},n.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},n.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var i=t.width,r=t.height,o=this.gl,s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),e.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,e.multisample,o.DEPTH24_STENCIL8,i,r):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,i,r),e.stencil=s,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}}},n.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new as},n.prototype.destroy=function(){this.renderer=null},n}(),Ex={5126:4,5123:2,5121:1},EU=function(){function n(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return n.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;_t.PREFER_ENV===Ro.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(o){return i.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return i.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(o,s){return r.vertexAttribDivisorANGLE(o,s)},t.drawElementsInstanced=function(o,s,a,l,c){return r.drawElementsInstancedANGLE(o,s,a,l,c)},t.drawArraysInstanced=function(o,s,a,l){return r.drawArraysInstancedANGLE(o,s,a,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},n.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},o=!0);var s=r[e.program.id]||this.initGeometryVao(t,e,o);this._activeGeometry=t,this._activeVao!==s&&(this._activeVao=s,this.hasVao?i.bindVertexArray(s):this.activateVao(t,e.program)),this.updateBuffers()},n.prototype.reset=function(){this.unbind()},n.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,i=0;i<t.buffers.length;i++)e.update(t.buffers[i])},n.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var o in r)if(!i[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},n.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,o=["g",t.id];for(var s in i)r[s]&&o.push(s,r[s].location);return o.join("-")},n.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0);var r=this.gl,o=this.CONTEXT_UID,s=this.renderer.buffer,a=e.program;a.glPrograms[o]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);var l=this.getSignature(t,a),c=t.glVertexArrayObjects[this.CONTEXT_UID],u=c[l];if(u)return c[a.id]=u,u;var y=t.buffers,O=t.attributes,P={},I={};for(var D in y)P[D]=0,I[D]=0;for(var D in O)!O[D].size&&a.attributeData[D]?O[D].size=a.attributeData[D].size:O[D].size||console.warn("PIXI Geometry attribute '"+D+"' size cannot be determined (likely the bound shader does not have the attribute)"),P[O[D].buffer]+=O[D].size*Ex[O[D].type];for(var D in O){var B=O[D],Y=B.size;void 0===B.stride&&(B.stride=P[B.buffer]===Y*Ex[B.type]?0:P[B.buffer]),void 0===B.start&&(B.start=I[B.buffer],I[B.buffer]+=Y*Ex[B.type])}u=r.createVertexArray(),r.bindVertexArray(u);for(var q=0;q<y.length;q++){var ie=y[q];s.bind(ie),i&&ie._glBuffers[o].refCount++}return this.activateVao(t,a),this._activeVao=u,c[a.id]=u,c[l]=u,u},n.prototype.disposeGeometry=function(t,e){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,s=t.buffers,a=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(t.disposeRunner.remove(this),r){if(a)for(var l=0;l<s.length;l++){var c=s[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,0===c.refCount&&!e&&a.dispose(s[l],e))}if(!e)for(var u in r)if("g"===u[0]){var y=r[u];this._activeVao===y&&this.unbind(),o.deleteVertexArray(y)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)},n.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,o=this.renderer.buffer,s=t.buffers,a=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var l=null;for(var c in a){var u=a[c],y=s[u.buffer],O=y._glBuffers[r];if(e.attributeData[c]){l!==O&&(o.bind(y),l=O);var P=e.attributeData[c].location;if(i.enableVertexAttribArray(P),i.vertexAttribPointer(P,u.size,u.type||i.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(P,1)}}}},n.prototype.draw=function(t,e,i,r){var o=this.gl,s=this._activeGeometry;if(s.indexBuffer){var a=s.indexBuffer.data.BYTES_PER_ELEMENT,l=2===a?o.UNSIGNED_SHORT:o.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?s.instanced?o.drawElementsInstanced(t,e||s.indexBuffer.data.length,l,(i||0)*a,r||1):o.drawElements(t,e||s.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else s.instanced?o.drawArraysInstanced(t,i,e||s.getSize(),r||1):o.drawArrays(t,i,e||s.getSize());return this},n.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},n.prototype.destroy=function(){this.renderer=null},n}(),Fce=function(){function n(t){void 0===t&&(t=null),this.type=bi.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=_t.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(n.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),n.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=bi.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},n.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},n}();function SU(n,t,e){var i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}function CU(n,t){var e=n.getShaderSource(t).split("\n").map(function(c,u){return u+": "+c}),i=n.getShaderInfoLog(t),r=i.split("\n"),o={},s=r.map(function(c){return parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(c){return!(!c||o[c]||(o[c]=!0,0))}),a=[""];s.forEach(function(c){e[c-1]="%c"+e[c-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=e.join("\n");a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function Sx(n){for(var t=new Array(n),e=0;e<t.length;e++)t[e]=!1;return t}function TU(n,t){switch(n){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return Sx(2*t);case"bvec3":return Sx(3*t);case"bvec4":return Sx(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Z1,MU={},Nv=MU;function OU(n,t,e){if("precision"!==n.substring(0,9)){var i=t;return t===ro.HIGH&&e!==ro.HIGH&&(i=ro.MEDIUM),"precision "+i+" float;\n"+n}return e!==ro.HIGH&&"precision highp"===n.substring(0,15)?n.replace("precision highp","precision mediump"):n}var Gce={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function wU(n){return Gce[n]}var eE=null,PU={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function xU(n,t){if(!eE){var e=Object.keys(PU);eE={};for(var i=0;i<e.length;++i){var r=e[i];eE[n[r]]=PU[r]}}return eE[t]}var kv,Jg=[{test:function(n){return"float"===n.type&&1===n.size},code:function(n){return'\n            if(uv["'+n+'"] !== ud["'+n+'"].value)\n            {\n                ud["'+n+'"].value = uv["'+n+'"]\n                gl.uniform1f(ud["'+n+'"].location, uv["'+n+'"])\n            }\n            '}},{test:function(n){return("sampler2D"===n.type||"samplerCube"===n.type||"sampler2DArray"===n.type)&&1===n.size&&!n.isArray},code:function(n){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+n+'"], t);\n\n            if(ud["'+n+'"].value !== t)\n            {\n                ud["'+n+'"].value = t;\n                gl.uniform1i(ud["'+n+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(n,t){return"mat3"===n.type&&1===n.size&&void 0!==t.a},code:function(n){return'\n            gl.uniformMatrix3fv(ud["'+n+'"].location, false, uv["'+n+'"].toArray(true));\n            '},codeUbo:function(n){return"\n                var "+n+"_matrix = uv."+n+".toArray(true);\n\n                data[offset] = "+n+"_matrix[0];\n                data[offset+1] = "+n+"_matrix[1];\n                data[offset+2] = "+n+"_matrix[2];\n        \n                data[offset + 4] = "+n+"_matrix[3];\n                data[offset + 5] = "+n+"_matrix[4];\n                data[offset + 6] = "+n+"_matrix[5];\n        \n                data[offset + 8] = "+n+"_matrix[6];\n                data[offset + 9] = "+n+"_matrix[7];\n                data[offset + 10] = "+n+"_matrix[8];\n            "}},{test:function(n,t){return"vec2"===n.type&&1===n.size&&void 0!==t.x},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+n+'"].location, v.x, v.y);\n                }'},codeUbo:function(n){return"\n                v = uv."+n+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(n){return"vec2"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+n+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(n,t){return"vec4"===n.type&&1===n.size&&void 0!==t.width},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+n+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(n){return"\n                    v = uv."+n+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(n){return"vec4"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+n+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],jce={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Hce={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},Wce=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Yce(n){for(var t="",e=0;e<n;++e)e>0&&(t+="\nelse "),e<n-1&&(t+="if(test == "+e+".0){}");return t}var Kce=0,tE={},Cx=function(){function n(t,e,i){void 0===i&&(i="pixi-shader"),this.id=Kce++,this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),tE[i]?(tE[i]++,i+="-"+tE[i]):tE[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=OU(this.vertexSrc,_t.PRECISION_VERTEX,ro.HIGH),this.fragmentSrc=OU(this.fragmentSrc,_t.PRECISION_FRAGMENT,function Uce(){if(!Z1){Z1=ro.MEDIUM;var n=function Lce(){if(Nv===MU||Nv&&Nv.isContextLost()){var n=document.createElement("canvas"),t=void 0;_t.PREFER_ENV>=Ro.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),Nv=t}return Nv}();if(n&&n.getShaderPrecisionFormat){var t=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);Z1=t.precision?ro.HIGH:ro.MEDIUM}}return Z1}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(n,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),n.from=function(t,e,i){var r=t+e,o=tU[r];return o||(tU[r]=o=new n(t,e,i)),o},n}(),AU=function(){function n(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof Kg?e:new Kg(e):new Kg({})}return n.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},n.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(n.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),n.from=function(t,e,i){return new n(Cx.from(t,e),i)},n}(),Ax=function(){function n(){this.data=0,this.blendMode=je.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(n.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==je.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},n.for2d=function(){var t=new n;return t.depthTest=!1,t.blend=!0,t},n}(),Zce=function(n){function t(e,i,r){var o=this,s=Cx.from(e||t.defaultVertexSrc,i||t.defaultFragmentSrc);return(o=n.call(this,s,r)||this).padding=0,o.resolution=_t.FILTER_RESOLUTION,o.multisample=_t.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new Ax,o}return Ji(t,n),t.prototype.apply=function(e,i,r,o,s){e.applyFilter(this,i,r,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(AU),RU=new wa,nue=function(){function n(t,e){this._texture=t,this.mapCoord=new wa,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),n.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var o=t[r],s=t[r+1];e[r]=o*i.a+s*i.c+i.tx,e[r+1]=o*i.b+s*i.d+i.ty}return e},n.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,o=e.trim;o&&(RU.set(r.width/o.width,0,0,r.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(RU));var s=e.baseTexture,a=this.uClampFrame,l=this.clampMargin/s.resolution,c=this.clampOffset;return a[0]=(e._frame.x+l+c)/s.width,a[1]=(e._frame.y+l+c)/s.height,a[2]=(e._frame.x+e._frame.width-l+c)/s.width,a[3]=(e._frame.y+e._frame.height-l+c)/s.height,this.uClampOffset[0]=c/s.realWidth,this.uClampOffset[1]=c/s.realHeight,this.isSimple=e._frame.width===s.width&&e._frame.height===s.height&&0===e.rotate,!0},n}(),iue=function(n){function t(e,i,r){var o=this,s=null;return"string"!=typeof e&&void 0===i&&void 0===r&&(s=e,e=void 0,i=void 0,r=void 0),(o=n.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",i||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=s,o.maskMatrix=new wa,o}return Ji(t,n),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,i,r,o){var s=this._maskSprite,a=s._texture;!a.valid||(a.uvMatrix||(a.uvMatrix=new nue(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,i,r,o))},t}(Zce),IU=function(){function n(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return n.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},n.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new Fce;r.pooled=!0,r.maskObject=e,i=r}if(i.copyCountersOrReset(0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null),i.autoDetect&&this.detect(i),i._target=t,i.type!==bi.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case bi.SCISSOR:this.renderer.scissor.push(i);break;case bi.STENCIL:this.renderer.stencil.push(i);break;case bi.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i)}i.type===bi.SPRITE&&this.maskStack.push(i)},n.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case bi.SCISSOR:this.renderer.scissor.pop();break;case bi.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case bi.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var i=this.maskStack[this.maskStack.length-1];i.type===bi.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},n.prototype.detect=function(t){t.type=t.maskObject.isSprite?bi.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?bi.SCISSOR:bi.STENCIL},n.prototype.pushSpriteMask=function(t){var e,i,r=t.maskObject,o=t._target,s=t._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex])||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new iue]);var c,u,a=this.renderer,l=a.renderTexture;if(l.current){var y=l.current;c=t.resolution||y.resolution,u=null!==(e=t.multisample)&&void 0!==e?e:y.multisample}else c=t.resolution||a.resolution,u=null!==(i=t.multisample)&&void 0!==i?i:a.multisample;s[0].resolution=c,s[0].multisample=u,s[0].maskSprite=r;var O=o.filterArea;o.filterArea=r.getBounds(!0),a.filter.push(o,s),o.filterArea=O,t._filters||this.alphaMaskIndex++},n.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},n.prototype.destroy=function(){this.renderer=null},n}(),DU=function(){function n(t){this.renderer=t,this.maskStack=[],this.glConst=0}return n.prototype.getStackLength=function(){return this.maskStack.length},n.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},n.prototype._useCurrent=function(){},n.prototype.destroy=function(){this.renderer=null,this.maskStack=null},n}(),NU=new wa,kU=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return Ji(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var i=e._scissorRect,r=e.maskObject,o=this.renderer,s=o.renderTexture;r.renderable=!0;var a=r.getBounds();this.roundFrameToPixels(a,s.current?s.current.resolution:o.resolution,s.sourceFrame,s.destinationFrame,o.projection.transform),r.renderable=!1,i&&a.fit(i),e._scissorRectLocal=a}},t.isMatrixRotated=function(e){if(!e)return!1;var i=e.a,o=e.c,s=e.d;return(Math.abs(e.b)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(i)>1e-4||Math.abs(s)>1e-4)},t.prototype.testScissor=function(e){var i=e.maskObject;if(!i.isFastRect||!i.isFastRect()||t.isMatrixRotated(i.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0},t.prototype.roundFrameToPixels=function(e,i,r,o,s){t.isMatrixRotated(s)||((s=s?NU.copyFrom(s):NU.identity()).translate(-r.x,-r.y).scale(o.width/r.width,o.height/r.height).translate(o.x,o.y),this.renderer.filter.transformAABB(s,e),e.fit(o),e.x=Math.round(e.x*i),e.y=Math.round(e.y*i),e.width=Math.round(e.width*i),e.height=Math.round(e.height*i))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var i=this.renderer.gl;e._scissorRect||i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect;this.renderer.gl.scissor(e.x,this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,e.width,e.height)},t}(DU),FU=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return Ji(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var i=e.maskObject,r=this.renderer.gl,o=e._stencilCounter;0===o&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,o,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var i=this.renderer.gl;0===this.getStackLength()?i.disable(i.STENCIL_TEST):(i.colorMask(!1,!1,!1,!1),i.stencilOp(i.KEEP,i.KEEP,i.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(DU),BU=function(){function n(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new wa,this.transform=null}return n.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},n.prototype.calculateProjection=function(t,e,i,r){var o=this.projectionMatrix,s=r?-1:1;o.identity(),o.a=1/e.width*2,o.d=s*(1/e.height*2),o.tx=-1-e.x*o.a,o.ty=-s-e.y*o.d},n.prototype.setTransform=function(t){},n.prototype.destroy=function(){this.renderer=null},n}(),Qd=new as,Fv=new as,LU=function(){function n(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new as,this.destinationFrame=new as,this.viewportFrame=new as}return n.prototype.bind=function(t,e,i){void 0===t&&(t=null);var o,s,a,r=this.renderer;this.current=t,t?(a=(o=t.baseTexture).resolution,e||(Qd.width=t.frame.width,Qd.height=t.frame.height,e=Qd),i||(Fv.x=t.frame.x,Fv.y=t.frame.y,Fv.width=e.width,Fv.height=e.height,i=Fv),s=o.framebuffer):(a=r.resolution,e||(Qd.width=r.screen.width,Qd.height=r.screen.height,e=Qd),i||((i=Qd).width=e.width,i.height=e.height));var l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,t||(l.y=r.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(s,l),this.renderer.projection.update(i,e,a,!s),this.renderer.mask.setMaskStack(t?o.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},n.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var i=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,o=i.width!==r.width||i.height!==r.height;if(o){var s=this.viewportFrame,a=s.x,l=s.y,c=s.width,u=s.height;a=Math.round(a),l=Math.round(l),c=Math.round(c),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,l,c,u)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),o&&this.renderer.scissor.pop()},n.prototype.resize=function(){this.bind(null)},n.prototype.reset=function(){this.bind(null)},n.prototype.destroy=function(){this.renderer=null},n}();function rue(n,t,e,i,r){e.buffer.update(r)}var oue={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},UU={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};var cue=function(){function n(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return n.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},n}();var fue=0,nE={textureCount:0,uboCount:0},GU=function(){function n(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=fue++}return n.prototype.systemCheck=function(){if(!function $ce(){if("boolean"==typeof kv)return kv;try{var n=new Function("param1","param2","param3","return param1[param2] === param3;");kv=!0===n({a:"b"},"a","b")}catch(t){kv=!1}return kv}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},n.prototype.contextChange=function(t){this.gl=t,this.reset()},n.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(nE.textureCount=0,nE.uboCount=0,this.syncUniformGroup(t.uniformGroup,nE)),r},n.prototype.setUniforms=function(t){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,t,this.renderer)},n.prototype.syncUniformGroup=function(t,e){var i=this.getGlProgram();(!t.static||t.dirtyId!==i.uniformDirtyGroups[t.id])&&(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},n.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},n.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function Vce(n,t){var e,i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var r in n.uniforms){var o=t[r];if(o){for(var s=n.uniforms[r],a=!1,l=0;l<Jg.length;l++)if(Jg[l].test(o,s)){i.push(Jg[l].code(r,s)),a=!0;break}if(!a){var u=(1===o.size?jce:Hce)[o.type].replace("location",'ud["'+r+'"].location');i.push('\n            cu = ud["'+r+'"];\n            cv = cu.value;\n            v = uv["'+r+'"];\n            '+u+";")}}else(null===(e=n.uniforms[r])||void 0===e?void 0:e.group)&&i.push(n.uniforms[r].ubo?"\n                        renderer.shader.syncUniformBufferGroup(uv."+r+", '"+r+"');\n                    ":"\n                        renderer.shader.syncUniformGroup(uv."+r+", syncData);\n                    ")}return new Function("ud","uv","renderer","syncData",i.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},n.prototype.syncUniformBufferGroup=function(t,e){var i=this.getGlProgram();if(!t.static||0!==t.dirtyId||!i.uniformGroups[t.id]){t.dirtyId=0;var r=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),r(i.uniformData,t.uniforms,this.renderer,nE,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])},n.prototype.createSyncBufferGroup=function(t,e,i){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var s=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[s];if(a||(a=this._uboCache[s]=function lue(n,t){if(!n.autoManage)return{size:0,syncFunc:rue};for(var e=function aue(n,t){var e=[];for(var i in n)t[i]&&e.push(t[i]);return e.sort(function(r,o){return r.index-o.index}),e}(n.uniforms,t),i=function sue(n){for(var t=n.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),e=0,i=0,r=0,o=0;o<t.length;o++){var s=t[o];if(e=UU[s.data.type],s.data.size>1&&(e=Math.max(e,16)*s.data.size),s.dataLen=e,i%e!=0&&i<16){var a=i%e%16;i+=a,r+=a}i+e>16?(r=16*Math.ceil(r/16),s.offset=r,r+=e,i=e):(s.offset=r,i+=e,r+=e)}return{uboElements:t,size:r=16*Math.ceil(r/16)}}(e),r=i.uboElements,o=i.size,s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<r.length;a++){for(var l=r[a],c=n.uniforms[l.data.name],u=l.data.name,y=!1,O=0;O<Jg.length;O++){var P=Jg[O];if(P.codeUbo&&P.test(l.data,c)){s.push("offset = "+l.offset/4+";",Jg[O].codeUbo(l.data.name,c)),y=!0;break}}if(!y)if(l.data.size>1){var I=wU(l.data.type),D=Math.max(UU[l.data.type]/16,1),B=I/D;s.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+l.data.size*D+"; i++)\n                {\n                    for(var j = 0; j < "+B+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-B%4)%4+";\n                }\n\n                ")}else s.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n                "+oue[l.data.type]+";\n                ")}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}(t,this.shader.program.uniformData)),t.autoManage){var l=new Float32Array(a.size/4);t.buffer.update(l)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]},n.prototype.getSignature=function(t,e,i){var r=t.uniforms,o=[i+"-"];for(var s in r)o.push(s),e[s]&&o.push(e[s].type);return o.join("-")},n.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},n.prototype.generateProgram=function(t){var i=t.program,r=function due(n,t){var e=SU(n,n.VERTEX_SHADER,t.vertexSrc),i=SU(n,n.FRAGMENT_SHADER,t.fragmentSrc),r=n.createProgram();if(n.attachShader(r,e),n.attachShader(r,i),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)||function Bce(n,t,e,i){n.getProgramParameter(t,n.LINK_STATUS)||(n.getShaderParameter(e,n.COMPILE_STATUS)||CU(n,e),n.getShaderParameter(i,n.COMPILE_STATUS)||CU(n,i),console.error("PixiJS Error: Could not initialize shader."),""!==n.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(t)))}(n,r,e,i),t.attributeData=function uue(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var o=t.getActiveAttrib(n,r);if(0!==o.name.indexOf("gl_")){var s=xU(t,o.type),a={type:s,name:o.name,size:wU(s),location:t.getAttribLocation(n,o.name)};e[o.name]=a}}return e}(r,n),t.uniformData=function hue(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),r=0;r<i;r++){var o=t.getActiveUniform(n,r),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),l=xU(t,o.type);e[s]={name:s,index:r,type:l,size:o.size,isArray:a,value:TU(l,o.size)}}return e}(r,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(u,y){return u>y?1:-1});for(var s=0;s<o.length;s++)t.attributeData[o[s]].location=s,n.bindAttribLocation(r,s,o[s]);n.linkProgram(r)}n.deleteShader(e),n.deleteShader(i);var a={};for(var s in t.uniformData){var l=t.uniformData[s];a[s]={location:n.getUniformLocation(r,s),value:TU(l.type,l.size)}}return new cue(r,a)}(this.gl,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r},n.prototype.reset=function(){this.program=null,this.shader=null},n.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},n}(),jU=function(){function n(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=je.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new Ax,this.defaultState.blend=!0}return n.prototype.contextChange=function(t){this.gl=t,this.blendModes=function pue(n,t){return void 0===t&&(t=[]),t[je.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.ADD]=[n.ONE,n.ONE],t[je.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.NONE]=[0,0],t[je.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],t[je.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[je.SRC_IN]=[n.DST_ALPHA,n.ZERO],t[je.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],t[je.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[je.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],t[je.DST_IN]=[n.ZERO,n.SRC_ALPHA],t[je.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],t[je.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],t[je.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[je.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],t}(t),this.set(this.defaultState),this.reset()},n.prototype.set=function(t){if(this.stateId!==(t=t||this.defaultState).data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},n.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},n.prototype.setBlend=function(t){this.updateCheck(n.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},n.prototype.setOffset=function(t){this.updateCheck(n.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},n.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},n.prototype.setDepthMask=function(t){this.gl.depthMask(t)},n.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},n.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},n.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},n.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},n.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},n.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):!e&&-1!==i&&this.checks.splice(i,1)},n.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},n.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},n.prototype.destroy=function(){this.gl=null},n}(),HU=function(){function n(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=_t.GC_MAX_IDLE,this.checkCountMax=_t.GC_MAX_CHECK_COUNT,this.mode=_t.GC_MODE}return n.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==Ng.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},n.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var o=e[r];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),e[r]=null,i=!0)}if(i){var s=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[s++]=e[r]);e.length=s}},n.prototype.unload=function(t){var i=t._texture;i&&!i.framebuffer&&this.renderer.texture.destroyTexture(i);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},n.prototype.destroy=function(){this.renderer=null},n}(),Rx=function n(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Pt.UNSIGNED_BYTE,this.internalFormat=ze.RGBA,this.samplerType=0},VU=function(){function n(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new bo,this.hasIntegerTextures=!1}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function Eue(n){var t,e,i,r,o,s,a,l,c,u,y,O,P,I,D,B,Y,q,ie,se,re,ne,Ee;return"WebGL2RenderingContext"in self&&n instanceof self.WebGL2RenderingContext?((t={})[Pt.UNSIGNED_BYTE]=((e={})[ze.RGBA]=n.RGBA8,e[ze.RGB]=n.RGB8,e[ze.RG]=n.RG8,e[ze.RED]=n.R8,e[ze.RGBA_INTEGER]=n.RGBA8UI,e[ze.RGB_INTEGER]=n.RGB8UI,e[ze.RG_INTEGER]=n.RG8UI,e[ze.RED_INTEGER]=n.R8UI,e[ze.ALPHA]=n.ALPHA,e[ze.LUMINANCE]=n.LUMINANCE,e[ze.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,e),t[Pt.BYTE]=((i={})[ze.RGBA]=n.RGBA8_SNORM,i[ze.RGB]=n.RGB8_SNORM,i[ze.RG]=n.RG8_SNORM,i[ze.RED]=n.R8_SNORM,i[ze.RGBA_INTEGER]=n.RGBA8I,i[ze.RGB_INTEGER]=n.RGB8I,i[ze.RG_INTEGER]=n.RG8I,i[ze.RED_INTEGER]=n.R8I,i),t[Pt.UNSIGNED_SHORT]=((r={})[ze.RGBA_INTEGER]=n.RGBA16UI,r[ze.RGB_INTEGER]=n.RGB16UI,r[ze.RG_INTEGER]=n.RG16UI,r[ze.RED_INTEGER]=n.R16UI,r[ze.DEPTH_COMPONENT]=n.DEPTH_COMPONENT16,r),t[Pt.SHORT]=((o={})[ze.RGBA_INTEGER]=n.RGBA16I,o[ze.RGB_INTEGER]=n.RGB16I,o[ze.RG_INTEGER]=n.RG16I,o[ze.RED_INTEGER]=n.R16I,o),t[Pt.UNSIGNED_INT]=((s={})[ze.RGBA_INTEGER]=n.RGBA32UI,s[ze.RGB_INTEGER]=n.RGB32UI,s[ze.RG_INTEGER]=n.RG32UI,s[ze.RED_INTEGER]=n.R32UI,s[ze.DEPTH_COMPONENT]=n.DEPTH_COMPONENT24,s),t[Pt.INT]=((a={})[ze.RGBA_INTEGER]=n.RGBA32I,a[ze.RGB_INTEGER]=n.RGB32I,a[ze.RG_INTEGER]=n.RG32I,a[ze.RED_INTEGER]=n.R32I,a),t[Pt.FLOAT]=((l={})[ze.RGBA]=n.RGBA32F,l[ze.RGB]=n.RGB32F,l[ze.RG]=n.RG32F,l[ze.RED]=n.R32F,l[ze.DEPTH_COMPONENT]=n.DEPTH_COMPONENT32F,l),t[Pt.HALF_FLOAT]=((c={})[ze.RGBA]=n.RGBA16F,c[ze.RGB]=n.RGB16F,c[ze.RG]=n.RG16F,c[ze.RED]=n.R16F,c),t[Pt.UNSIGNED_SHORT_5_6_5]=((u={})[ze.RGB]=n.RGB565,u),t[Pt.UNSIGNED_SHORT_4_4_4_4]=((y={})[ze.RGBA]=n.RGBA4,y),t[Pt.UNSIGNED_SHORT_5_5_5_1]=((O={})[ze.RGBA]=n.RGB5_A1,O),t[Pt.UNSIGNED_INT_2_10_10_10_REV]=((P={})[ze.RGBA]=n.RGB10_A2,P[ze.RGBA_INTEGER]=n.RGB10_A2UI,P),t[Pt.UNSIGNED_INT_10F_11F_11F_REV]=((I={})[ze.RGB]=n.R11F_G11F_B10F,I),t[Pt.UNSIGNED_INT_5_9_9_9_REV]=((D={})[ze.RGB]=n.RGB9_E5,D),t[Pt.UNSIGNED_INT_24_8]=((B={})[ze.DEPTH_STENCIL]=n.DEPTH24_STENCIL8,B),t[Pt.FLOAT_32_UNSIGNED_INT_24_8_REV]=((Y={})[ze.DEPTH_STENCIL]=n.DEPTH32F_STENCIL8,Y),Ee=t):((q={})[Pt.UNSIGNED_BYTE]=((ie={})[ze.RGBA]=n.RGBA,ie[ze.RGB]=n.RGB,ie[ze.ALPHA]=n.ALPHA,ie[ze.LUMINANCE]=n.LUMINANCE,ie[ze.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,ie),q[Pt.UNSIGNED_SHORT_5_6_5]=((se={})[ze.RGB]=n.RGB,se),q[Pt.UNSIGNED_SHORT_4_4_4_4]=((re={})[ze.RGBA]=n.RGBA,re),q[Pt.UNSIGNED_SHORT_5_5_5_1]=((ne={})[ze.RGBA]=n.RGBA,ne),Ee=q),Ee}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new Rx(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Rx(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},n.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},n.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},n.prototype.unbind=function(t){var i=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<r.length;o++)r[o]===this.unknownTexture&&this.bind(null,o)}for(o=0;o<r.length;o++)r[o]===t&&(this.currentLocation!==o&&(i.activeTexture(i.TEXTURE0+o),this.currentLocation=o),i.bindTexture(t.target,this.emptyTextures[t.target].texture),r[o]=null)},n.prototype.ensureSamplerType=function(t){var e=this,i=e.boundTextures,o=e.CONTEXT_UID;if(e.hasIntegerTextures)for(var s=t-1;s>=0;--s){var a=i[s];a&&a._glTextures[o].samplerType!==mh.FLOAT&&this.renderer.texture.unbind(a)}},n.prototype.initTexture=function(t){var e=new Rx(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},n.prototype.initTextureType=function(t,e){var i,r;e.internalFormat=null!==(r=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==r?r:t.format,e.type=2===this.webGLVersion&&t.type===Pt.HALF_FLOAT?this.gl.HALF_FLOAT:t.type},n.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e))e.samplerType!==mh.FLOAT&&(this.hasIntegerTextures=!0);else{var r=t.realWidth,o=t.realHeight,s=i.gl;(e.width!==r||e.height!==o||e.dirtyId<0)&&(e.width=r,e.height=o,s.texImage2D(t.target,0,e.internalFormat,r,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},n.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&function gce(n,t,e){var r,i=n.length;if(!(t>=i||0===e)){var o=i-(e=t+e>i?i-t:e);for(r=t;r<o;++r)n[r]=n[r+e];n.length=o}}(this.managedTextures,r,1)}},n.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];!e||(e.mipmap=!!(t.mipmap!==xs.POW2&&2===this.webGLVersion||t.isPowerOfTwo)&&t.mipmap>=1,e.wrapMode=2===this.webGLVersion||t.isPowerOfTwo?t.wrapMode:Ja.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},n.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&t.mipmap!==xs.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===io.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===io.LINEAR){var o=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===io.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===io.LINEAR?i.LINEAR:i.NEAREST)},n.prototype.destroy=function(){this.renderer=null},n}(),WU={__proto__:null,FilterSystem:gU,BatchSystem:mU,ContextSystem:yU,FramebufferSystem:bU,GeometrySystem:EU,MaskSystem:IU,ScissorSystem:kU,StencilSystem:FU,ProjectionSystem:BU,RenderTextureSystem:LU,ShaderSystem:GU,StateSystem:jU,TextureGCSystem:HU,TextureSystem:VU},Ix=new wa,Sue=function(n){function t(e,i){void 0===e&&(e=Vl.UNKNOWN);var r=n.call(this)||this;return i=Object.assign({},_t.RENDER_OPTIONS,i),r.options=i,r.type=e,r.screen=new as(0,0,i.width,i.height),r.view=i.view||document.createElement("canvas"),r.resolution=i.resolution||_t.RESOLUTION,r.useContextAlpha=i.useContextAlpha,r.autoDensity=!!i.autoDensity,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r.backgroundAlpha=i.backgroundAlpha,void 0!==i.transparent&&(zd("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=i.transparent,r.backgroundAlpha=i.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return Ji(t,n),t.prototype.initPlugins=function(e){for(var i in e)this.plugins[i]=new e[i](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(i*this.resolution);var r=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=r,this.screen.height=o,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=o+"px"),this.emit("resize",r,o)},t.prototype.generateTexture=function(e,i,r,o){void 0===i&&(i={}),"number"==typeof i&&(zd("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),i={scaleMode:i,resolution:r,region:o});var s=i.region,a=function bce(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&(e[i[r]]=n[i[r]])}return e}(i,["region"]);0===(o=s||e.getLocalBounds(null,!0)).width&&(o.width=1),0===o.height&&(o.height=1);var l=vx.create(fx({width:o.width,height:o.height},a));return Ix.tx=-o.x,Ix.ty=-o.y,this.render(e,{renderTexture:l,clear:!1,transform:Ix,skipUpdateTransform:!!e.parent}),l},t.prototype.destroy=function(e){for(var i in this.plugins)this.plugins[i].destroy(),this.plugins[i]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=Vl.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=function hce(n){var t=n.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}(e),function uce(n,t){void 0===t&&(t=[]),t[0]=(n>>16&255)/255,t[1]=(n>>8&255)/255,t[2]=(255&n)/255}(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(rx),Cue=function n(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Tue=function(){function n(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return n.prototype.destroy=function(){this.renderer=null},n.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},n.prototype.bind=function(t){var i=this.gl,o=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);i.bindBuffer(t.type,o.buffer)},n.prototype.bindBufferBase=function(t,e){var r=this.gl;if(this.boundBufferBases[e]!==t){var s=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,s.buffer)}},n.prototype.bindBufferRange=function(t,e,i){var o=this.gl;i=i||0;var a=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,e||0,a.buffer,256*i,256)},n.prototype.update=function(t){var i=this.gl,o=t._glBuffers[this.CONTEXT_UID];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,i.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{var s=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,s)}},n.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)},n.prototype.createGLBuffer=function(t){var i=this.CONTEXT_UID;return t._glBuffers[i]=new Cue(this.gl.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]},n}(),Mue=(function(n){function t(e){var i=n.call(this,Vl.WEBGL,e)||this;return e=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new ss("destroy"),contextChange:new ss("contextChange"),reset:new ss("reset"),update:new ss("update"),postrender:new ss("postrender"),prerender:new ss("prerender"),resize:new ss("resize")},i.runners.contextChange.add(i),i.globalUniforms=new Kg({projectionMatrix:new wa},!0),i.addSystem(IU,"mask").addSystem(yU,"context").addSystem(jU,"state").addSystem(GU,"shader").addSystem(VU,"texture").addSystem(Tue,"buffer").addSystem(EU,"geometry").addSystem(bU,"framebuffer").addSystem(kU,"scissor").addSystem(FU,"stencil").addSystem(BU,"projection").addSystem(HU,"textureGC").addSystem(gU,"filter").addSystem(LU,"renderTexture").addSystem(mU,"batch"),i.initPlugins(t.__plugins),i.multisample=void 0,e.context?i.context.initFromContext(e.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:e.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,function lce(n){var t;q5||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(t=self.console).log.apply(t,["\n %c %c %c PixiJS 6.2.2 - \u2730 "+n+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.2 - "+n+" - http://www.pixijs.com/"),q5=!0)}(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}Ji(t,n),t.create=function(e){if(function cce(){return void 0===lx&&(lx=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:_t.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,r}catch(s){return!1}}()),lx}())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var i,e=this.gl;if(1===this.context.webGLVersion){var r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r);this.multisample=i>=Un.HIGH?Un.HIGH:i>=Un.MEDIUM?Un.MEDIUM:i>=Un.LOW?Un.LOW:Un.NONE},t.prototype.addSystem=function(e,i){var r=new e(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');for(var o in this[i]=r,this.runners)this.runners[o].add(r);return this},t.prototype.render=function(e,i){var r,o,s,a;if(i&&(i instanceof vx?(zd("6.0.0","Renderer#render arguments changed, use options instead."),r=i,o=arguments[2],s=arguments[3],a=arguments[4]):(r=i.renderTexture,o=i.clear,s=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=s,!this.context.isLost){if(r||(this._lastObjectRendered=e),!a){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==o?o:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(e,i,r,o){void 0===i&&(i={});var s=n.prototype.generateTexture.call(this,e,i,r,o);return this.framebuffer.blit(),s},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();n.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return zd("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i}}(Sue),function n(){this.texArray=null,this.blend=0,this.type=Ho.TRIANGLES,this.start=0,this.size=0,this.data=null}),Oue=function(){function n(){this.elements=[],this.ids=[],this.count=0}return n.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},n}(),wue=function(){function n(t){this.rawBinaryData="number"==typeof t?new ArrayBuffer(t):t instanceof Uint8Array?t.buffer:t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(n.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),n.prototype.view=function(t){return this[t+"View"]},n.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},n.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},n}(),Pue=function(n){function t(e){var i=n.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=Ax.for2d(),i.size=4*_t.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return Ji(t,n),t.prototype.contextChange=function(){var e=this.renderer.gl;_t.PREFER_ENV===Ro.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),_t.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function zce(n,t){if(0===n)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=t.createShader(t.FRAGMENT_SHADER);;){var i=Wce.replace(/%forloop%/gi,Yce(n));if(t.shaderSource(e,i),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS))break;n=n/2|0}return n}(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,i=t._textureArrayPool,r=this.size/4,o=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new Mue);for(;i.length<o;)i.push(new Oue);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var i=this._bufferedTextures,r=this.MAX_TEXTURES,o=t._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count,c=++bo._globalBatch,u=0,y=o[0],O=0;s.copyBoundTextures(a,r);for(var P=0;P<this._bufferSize;++P){var I=i[P];i[P]=null,I._batchEnabled!==c&&(y.count>=r&&(s.boundArray(y,a,c,r),this.buildDrawCalls(y,O,P),O=P,y=o[++u],++c),I._batchEnabled=c,I.touched=l,y.elements[y.count++]=I)}for(y.count>0&&(s.boundArray(y,a,c,r),this.buildDrawCalls(y,O,this._bufferSize),++u,++c),P=0;P<a.length;P++)a[P]=null;bo._globalBatch=c},t.prototype.buildDrawCalls=function(e,i,r){var o=this,s=o._bufferedElements,a=o._attributeBuffer,l=o._indexBuffer,c=o.vertexSize,u=t._drawCallPool,y=this._dcIndex,O=this._aIndex,P=this._iIndex,I=u[y];I.start=this._iIndex,I.texArray=e;for(var D=i;D<r;++D){var B=s[D],q=fce[B._texture.baseTexture.alphaMode?1:0][B.blendMode];s[D]=null,i<D&&I.blend!==q&&(I.size=P-I.start,i=D,(I=u[++y]).texArray=e,I.start=P),this.packInterleavedGeometry(B,a,l,O,P),O+=B.vertexData.length/2*c,P+=B.indices.length,I.blend=q}i<r&&(I.size=P-I.start,++y),this._dcIndex=y,this._aIndex=O,this._iIndex=P},t.prototype.bindAndClearTexArray=function(e){for(var i=this.renderer.texture,r=0;r<e.count;r++)i.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,i=e._packedGeometries,r=e._attributeBuffer,o=e._indexBuffer;_t.CAN_UPLOAD_SAME_BUFFER?(i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,i[this._flushId]=new this.geometryClass),i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(i[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,i=this.renderer,r=i.gl,o=i.state,s=t._drawCallPool,a=null,l=0;l<e;l++){var c=s[l],u=c.texArray,y=c.type,O=c.size,P=c.start,I=c.blend;a!==u&&(a=u,this.bindAndClearTexArray(u)),this.state.blendMode=I,o.set(this.state),r.drawElements(y,O,r.UNSIGNED_SHORT,2*P)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),_t.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),n.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var i=W1(Math.ceil(e/8)),r=Z5(i),o=8*i;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var s=this._aBuffers[o];return s||(this._aBuffers[o]=s=new wue(o*this.vertexSize*4)),s},t.prototype.getIndexBuffer=function(e){var i=W1(Math.ceil(e/12)),r=Z5(i),o=12*i;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var s=this._iBuffers[r];return s||(this._iBuffers[r]=s=new Uint16Array(o)),s},t.prototype.packInterleavedGeometry=function(e,i,r,o,s){for(var a=i.uint32View,l=i.float32View,c=o/this.vertexSize,u=e.uvs,y=e.indices,O=e.vertexData,P=e._texture.baseTexture._batchLocation,I=Math.min(e.worldAlpha,1),D=I<1&&e._texture.baseTexture.alphaMode?function pce(n,t){if(1===t)return(255*t<<24)+n;if(0===t)return 0;var e=n>>16&255,i=n>>8&255;return(255*t<<24)+((e=e*t+.5|0)<<16)+((i=i*t+.5|0)<<8)+((255&n)*t+.5|0)}(e._tintRGB,I):e._tintRGB+(255*I<<24),B=0;B<O.length;B+=2)l[o++]=O[B],l[o++]=O[B+1],l[o++]=u[B],l[o++]=u[B+1],a[o++]=D,l[o++]=P;for(B=0;B<y.length;B++)r[s++]=c+y[B]},t._drawCallPool=[],t._textureArrayPool=[],t}(_U),xue=function(){function n(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return n.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=Kg.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Cx(this.vertexSrc,r)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new wa,default:this.defaultGroupCache[t]};return new AU(this.programCache[t],o)},n.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},n}(),Aue=function(n){function t(e){void 0===e&&(e=!1);var i=n.call(this)||this;return i._buffer=new Pa(null,e,!1),i._indexBuffer=new Pa(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,Pt.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,Pt.FLOAT).addAttribute("aColor",i._buffer,4,!0,Pt.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,Pt.FLOAT).addIndex(i._indexBuffer),i}return Ji(t,n),t}(yx),YU="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",zU="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Rue=function(){function n(){}return n.create=function(t){var e=Object.assign({vertex:YU,fragment:zU,geometryClass:Aue,vertexSize:6},t),i=e.vertex,r=e.fragment,o=e.vertexSize,s=e.geometryClass;return function(a){function l(c){var u=a.call(this,c)||this;return u.shaderGenerator=new xue(i,r),u.geometryClass=s,u.vertexSize=o,u}return Ji(l,a),l}(Pue)},Object.defineProperty(n,"defaultVertexSrc",{get:function(){return YU},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentTemplate",{get:function(){return zU},enumerable:!1,configurable:!0}),n}(),Iue=(Rue.create(),{}),Due=function(n){Object.defineProperty(Iue,n,{get:function(){return zd("6.0.0","PIXI.systems."+n+" has moved to PIXI."+n),cU[n]}})};for(var Dx in cU)Due(Dx);var Nue={},kue=function(n){Object.defineProperty(Nue,n,{get:function(){return zd("6.0.0","PIXI.resources."+n+" has moved to PIXI."+n),WU[n]}})};for(var Dx in WU)kue(Dx);var $U=function(){function n(t){this.renderer=t}return n.prototype.render=function(t){var e=this.renderer,i=t.worldTransform;e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),e.setContextTransform(i,t.roundPixels),t.drawMode!==Ho.TRIANGLES?this._renderTriangleMesh(t):this._renderTriangles(t)},n.prototype._renderTriangleMesh=function(t){for(var e=t.geometry.buffers[0].data.length,i=0;i<e-2;i++){var r=2*i;this._renderDrawTriangle(t,r,r+2,r+4)}},n.prototype._renderTriangles=function(t){for(var e=t.geometry.getIndex().data,i=e.length,r=0;r<i;r+=3)this._renderDrawTriangle(t,2*e[r],2*e[r+1],2*e[r+2])},n.prototype._renderDrawTriangle=function(t,e,i,r){var o=this.renderer.context,s=t.geometry.buffers[0].data,a=t.uvs,l=t.texture;if(l.valid){var c=16777215!==t.tint,u=l.baseTexture,y=u.width,O=u.height;c&&t._cachedTint!==t.tint&&(t._cachedTint=t.tint,t._cachedTexture=t._cachedTexture||new wc(u),t._tintedCanvas=Xr.getTintedCanvas({texture:t._cachedTexture},t.tint));var P=c?t._tintedCanvas:u.getDrawableSource(),I=a[e]*u.width,D=a[i]*u.width,B=a[r]*u.width,Y=a[e+1]*u.height,q=a[i+1]*u.height,ie=a[r+1]*u.height,se=s[e],re=s[i],ne=s[r],Ee=s[e+1],Ne=s[i+1],Se=s[r+1],De=t.canvasPadding/this.renderer.resolution;if(De>0){var Xe=t.worldTransform,$e=Xe.a,Qe=Xe.b,Mt=Xe.c,Ye=Xe.d,Ae=(se+re+ne)/3,Ke=(Ee+Ne+Se)/3,mt=se-Ae,At=Ee-Ke,fe=$e*mt+Mt*At,Ct=Qe*mt+Ye*At,kt=Math.sqrt(fe*fe+Ct*Ct),Ut=1+De/kt;se=Ae+mt*Ut,Ee=Ke+At*Ut,fe=$e*(mt=re-Ae)+Mt*(At=Ne-Ke),Ct=Qe*mt+Ye*At,re=Ae+mt*(Ut=1+De/(kt=Math.sqrt(fe*fe+Ct*Ct))),Ne=Ke+At*Ut,fe=$e*(mt=ne-Ae)+Mt*(At=Se-Ke),Ct=Qe*mt+Ye*At,ne=Ae+mt*(Ut=1+De/(kt=Math.sqrt(fe*fe+Ct*Ct))),Se=Ke+At*Ut}o.save(),o.beginPath(),o.moveTo(se,Ee),o.lineTo(re,Ne),o.lineTo(ne,Se),o.closePath(),o.clip();var Rt=I*q+Y*B+D*ie-q*B-Y*D-I*ie;o.transform((se*q+Y*ne+re*ie-q*ne-Y*re-se*ie)/Rt,(Ee*q+Y*Se+Ne*ie-q*Se-Y*Ne-Ee*ie)/Rt,(I*re+se*B+D*ne-re*B-se*D-I*ne)/Rt,(I*Ne+Ee*B+D*Se-Ne*B-Ee*D-I*Se)/Rt,(I*q*ne+Y*re*B+se*D*ie-se*q*B-Y*D*ne-I*re*ie)/Rt,(I*q*Se+Y*Ne*B+Ee*D*ie-Ee*q*B-Y*D*Se-I*Ne*ie)/Rt),o.drawImage(P,0,0,y*u.resolution,O*u.resolution,0,0,y,O),o.restore(),this.renderer.invalidateBlendMode()}},n.prototype.renderMeshFlat=function(t){var e=this.renderer.context,i=t.geometry.getBuffer("aVertexPosition").data,r=i.length/2;e.beginPath();for(var o=1;o<r-2;++o){var s=2*o,c=i[s+2],u=i[s+3],y=i[s+4],O=i[s+5];e.moveTo(i[s],i[s+1]),e.lineTo(c,u),e.lineTo(y,O)}e.fillStyle="#FF0000",e.fill(),e.closePath()},n.prototype.destroy=function(){this.renderer=null},n}();_t.MESH_CANVAS_PADDING=0,Yd.prototype._renderCanvas=function(t,e){t.plugins.mesh.render(e)},Av.prototype._cachedTint=16777215,Av.prototype._tintedCanvas=null,Av.prototype._canvasUvs=null,Av.prototype._renderCanvas=function(t){var e=t.context,i=this.worldTransform,r=16777215!==this.tint,o=this.texture;if(o.valid){r&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedCanvas=Xr.getTintedCanvas(this,this.tint));var s=r?this._tintedCanvas:o.baseTexture.getDrawableSource();this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var a=this.vertices,l=this._canvasUvs,c=r?0:o.frame.x,u=r?0:o.frame.y,y=c+o.frame.width,O=u+o.frame.height;l[0]=c,l[1]=c+this._leftWidth,l[2]=y-this._rightWidth,l[3]=y,l[4]=u,l[5]=u+this._topHeight,l[6]=O-this._bottomHeight,l[7]=O;for(var P=0;P<8;P++)l[P]*=o.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.setContextTransform(i,this.roundPixels);for(var I=0;I<3;I++)for(var D=0;D<3;D++){var B=2*D+8*I,Y=Math.max(1,l[D+1]-l[D]),q=Math.max(1,l[I+5]-l[I+4]),ie=Math.max(1,a[B+10]-a[B]),se=Math.max(1,a[B+11]-a[B+1]);e.drawImage(s,l[D],l[I+4],Y,q,a[B],a[B+1],ie,se)}}};var XU=!1;tl.prototype._cachedTint=16777215,tl.prototype._tintedCanvas=null,tl.prototype._cachedTexture=null,tl.prototype._renderCanvas=function(t){this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.material._renderCanvas?this.material._renderCanvas(t,this):XU||(XU=!0,self.console&&console.warn("Mesh with custom shaders are not supported in CanvasRenderer."))},tl.prototype._canvasPadding=null,Object.defineProperty(tl.prototype,"canvasPadding",{get:function(){return null!==this._canvasPadding?this._canvasPadding:_t.MESH_CANVAS_PADDING},set:function(n){this._canvasPadding=n}}),H5.prototype._renderCanvas=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)},G5.prototype._renderCanvas=function(t){(this.autoUpdate||this.geometry._width!==this.shader.texture.height)&&(this.geometry._width=this.shader.texture.height,this.geometry.update()),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)};var Nx,qU=function(){function n(){}return n.offsetPolygon=function(t,e){var i=[],r=t.length;e=n.isPolygonClockwise(t)?e:-1*e;for(var o=0;o<r;o+=2){var s=o-2;s<0&&(s+=r);var a=(o+2)%r,l=t[o]-t[s],c=t[o+1]-t[s+1],u=Math.sqrt(l*l+c*c);l/=u,c/=u;var y=-(c*=e),P=[t[s]+y,t[s+1]+(l*=e)],I=[t[o]+y,t[o+1]+l],D=t[a]-t[o],B=t[a+1]-t[o+1];D/=u=Math.sqrt(D*D+B*B),B/=u;var Y=-(B*=e),ie=[t[o]+Y,t[o+1]+(D*=e)],se=[t[a]+Y,t[a+1]+D],re=n.findIntersection(P[0],P[1],I[0],I[1],ie[0],ie[1],se[0],se[1]);re&&i.push.apply(i,re)}return i},n.findIntersection=function(t,e,i,r,o,s,a,l){var c=(l-s)*(i-t)-(a-o)*(r-e),u=(a-o)*(e-s)-(l-s)*(t-o);if(0===c)return 0===u&&0==(i-t)*(e-s)-(r-e)*(t-o)?[(t+i)/2,(e+r)/2]:null;var O=u/c;return[t+O*(i-t),e+O*(r-e)]},n.isPolygonClockwise=function(t){for(var e=0,i=0;i<t.length-2;i+=2)e+=(t[i+2]-t[i])*(t[i+3]+t[i+1]);return e>0},n}(),KU=function(){function n(t){this._svgMatrix=null,this._tempMatrix=new xi,this.renderer=t}return n.prototype._calcCanvasStyle=function(t,e){var i;return t.texture&&t.texture.baseTexture!==zt.WHITE.baseTexture?t.texture.valid?(i=Xr.getTintedPattern(t.texture,e),this.setPatternTransform(i,t.matrix||xi.IDENTITY)):i="#808080":i="#"+("00000"+(0|e).toString(16)).substr(-6),i},n.prototype.render=function(t){var e=this.renderer,i=e.context,r=t.worldAlpha,o=t.transform.worldTransform;e.setContextTransform(o),e.setBlendMode(t.blendMode);for(var a,l,s=t.geometry.graphicsData,c=(t.tint>>16&255)/255,u=(t.tint>>8&255)/255,y=(255&t.tint)/255,O=0;O<s.length;O++){var P=s[O],I=P.shape,D=P.fillStyle,B=P.lineStyle,Y=0|P.fillStyle.color,q=0|P.lineStyle.color;if(P.matrix&&e.setContextTransform(o.copyTo(this._tempMatrix).append(P.matrix)),D.visible&&(a=this._calcCanvasStyle(D,((Y>>16&255)/255*c*255<<16)+((Y>>8&255)/255*u*255<<8)+(255&Y)/255*y*255)),B.visible&&(l=this._calcCanvasStyle(B,((q>>16&255)/255*c*255<<16)+((q>>8&255)/255*u*255<<8)+(255&q)/255*y*255)),i.lineWidth=B.width,i.lineCap=B.cap,i.lineJoin=B.join,i.miterLimit=B.miterLimit,P.type===gi.POLY){i.beginPath();var ne=(re=I).points,Ee=P.holes,Ne=void 0,Se=void 0,De=void 0,Xe=void 0,$e=void 0;i.moveTo(ne[0],ne[1]);for(var Qe=2;Qe<ne.length;Qe+=2)i.lineTo(ne[Qe],ne[Qe+1]);if(re.closeStroke&&i.closePath(),Ee.length>0){for($e=[],Ne=0,De=ne[0],Xe=ne[1],Qe=2;Qe+2<ne.length;Qe+=2)Ne+=(ne[Qe]-De)*(ne[Qe+3]-Xe)-(ne[Qe+2]-De)*(ne[Qe+1]-Xe);for(var Mt=0;Mt<Ee.length;Mt++)if(ne=Ee[Mt].shape.points){for(Se=0,De=ne[0],Xe=ne[1],Qe=2;Qe+2<ne.length;Qe+=2)Se+=(ne[Qe]-De)*(ne[Qe+3]-Xe)-(ne[Qe+2]-De)*(ne[Qe+1]-Xe);if(Se*Ne<0)for(i.moveTo(ne[0],ne[1]),Qe=2;Qe<ne.length;Qe+=2)i.lineTo(ne[Qe],ne[Qe+1]);else for(i.moveTo(ne[ne.length-2],ne[ne.length-1]),Qe=ne.length-4;Qe>=0;Qe-=2)i.lineTo(ne[Qe],ne[Qe+1]);Ee[Mt].shape.closeStroke&&i.closePath(),$e[Mt]=Se*Ne<0}}D.visible&&(i.globalAlpha=D.alpha*r,i.fillStyle=a,i.fill()),B.visible&&this.paintPolygonStroke(re,B,l,Ee,$e,r,i)}else if(P.type===gi.RECT){var re=I;if(D.visible&&(i.globalAlpha=D.alpha*r,i.fillStyle=a,i.fillRect(re.x,re.y,re.width,re.height)),B.visible){var Ae=re.width+2*(Ye=B.width*(.5-(1-B.alignment))),Ke=re.height+2*Ye;i.globalAlpha=B.alpha*r,i.strokeStyle=l,i.strokeRect(re.x-Ye,re.y-Ye,Ae,Ke)}}else if(P.type===gi.CIRC){if(re=I,i.beginPath(),i.arc(re.x,re.y,re.radius,0,2*Math.PI),i.closePath(),D.visible&&(i.globalAlpha=D.alpha*r,i.fillStyle=a,i.fill()),B.visible){if(.5!==B.alignment){var Ye=B.width*(.5-(1-B.alignment));i.beginPath(),i.arc(re.x,re.y,re.radius+Ye,0,2*Math.PI),i.closePath()}i.globalAlpha=B.alpha*r,i.strokeStyle=l,i.stroke()}}else if(P.type===gi.ELIP){if(re=I,(mt=1===B.alignment)||this.paintEllipse(re,D,B,a,r,i),B.visible){if(.5!==B.alignment){var At=.5522848,fe=2*(re.width+(Ye=B.width*(.5-(1-B.alignment)))),Ct=2*(re.height+Ye),kt=re.x-fe/2,Ut=re.y-Ct/2,Rt=fe/2*At,sn=Ct/2*At,mn=kt+fe,Kt=Ut+Ct,Kn=kt+fe/2,gn=Ut+Ct/2;i.beginPath(),i.moveTo(kt,gn),i.bezierCurveTo(kt,gn-sn,Kn-Rt,Ut,Kn,Ut),i.bezierCurveTo(Kn+Rt,Ut,mn,gn-sn,mn,gn),i.bezierCurveTo(mn,gn+sn,Kn+Rt,Kt,Kn,Kt),i.bezierCurveTo(Kn-Rt,Kt,kt,gn+sn,kt,gn),i.closePath()}i.globalAlpha=B.alpha*r,i.strokeStyle=l,i.stroke()}mt&&this.paintEllipse(re,D,B,a,r,i)}else if(P.type===gi.RREC){var mt;if(re=I,(mt=1===B.alignment)||this.paintRoundedRectangle(re,D,B,a,r,i),B.visible){if(.5!==B.alignment){Ae=re.width,Ke=re.height;var an=re.x-(Ye=B.width*(.5-(1-B.alignment))),Ft=re.y-Ye,vn=re.width+2*Ye,Xt=re.height+2*Ye,or=Ye*(B.alignment>=1?Math.min(vn/Ae,Xt/Ke):Math.min(Ae/vn,Ke/Xt)),Fn=re.radius+or,xn=Math.min(vn,Xt)/2;Fn=Fn>xn?xn:Fn,i.beginPath(),i.moveTo(an,Ft+Fn),i.lineTo(an,Ft+Xt-Fn),i.quadraticCurveTo(an,Ft+Xt,an+Fn,Ft+Xt),i.lineTo(an+vn-Fn,Ft+Xt),i.quadraticCurveTo(an+vn,Ft+Xt,an+vn,Ft+Xt-Fn),i.lineTo(an+vn,Ft+Fn),i.quadraticCurveTo(an+vn,Ft,an+vn-Fn,Ft),i.lineTo(an+Fn,Ft),i.quadraticCurveTo(an,Ft,an,Ft+Fn),i.closePath()}i.globalAlpha=B.alpha*r,i.strokeStyle=l,i.stroke()}mt&&this.paintRoundedRectangle(re,D,B,a,r,i)}}},n.prototype.paintPolygonStroke=function(t,e,i,r,o,s,a){if(.5!==e.alignment){var l=e.width*(.5-(1-e.alignment)),c=qU.offsetPolygon(t.points,l);a.beginPath(),a.moveTo(c[0],c[1]);for(var y=2;y<c.length;y+=2)a.lineTo(c[y],c[y+1]);t.closeStroke&&a.closePath();for(var O=0;O<r.length;O++){if(c=qU.offsetPolygon(r[O].shape.points,l),o[O])for(a.moveTo(c[0],c[1]),y=2;y<c.length;y+=2)a.lineTo(c[y],c[y+1]);else for(a.moveTo(c[c.length-2],c[c.length-1]),y=c.length-4;y>=0;y-=2)a.lineTo(c[y],c[y+1]);r[O].shape.closeStroke&&a.closePath()}}a.globalAlpha=e.alpha*s,a.strokeStyle=i,a.stroke()},n.prototype.paintEllipse=function(t,e,i,r,o,s){var a=2*t.width,l=2*t.height,c=t.x-a/2,u=t.y-l/2,y=.5522848,O=a/2*y,P=l/2*y,I=c+a,D=u+l,B=c+a/2,Y=u+l/2;0===i.alignment&&s.save(),s.beginPath(),s.moveTo(c,Y),s.bezierCurveTo(c,Y-P,B-O,u,B,u),s.bezierCurveTo(B+O,u,I,Y-P,I,Y),s.bezierCurveTo(I,Y+P,B+O,D,B,D),s.bezierCurveTo(B-O,D,c,Y+P,c,Y),s.closePath(),0===i.alignment&&s.clip(),e.visible&&(s.globalAlpha=e.alpha*o,s.fillStyle=r,s.fill()),0===i.alignment&&s.restore()},n.prototype.paintRoundedRectangle=function(t,e,i,r,o,s){var a=t.x,l=t.y,c=t.width,u=t.height,y=t.radius,O=Math.min(c,u)/2;y=y>O?O:y,0===i.alignment&&s.save(),s.beginPath(),s.moveTo(a,l+y),s.lineTo(a,l+u-y),s.quadraticCurveTo(a,l+u,a+y,l+u),s.lineTo(a+c-y,l+u),s.quadraticCurveTo(a+c,l+u,a+c,l+u-y),s.lineTo(a+c,l+y),s.quadraticCurveTo(a+c,l,a+c-y,l),s.lineTo(a+y,l),s.quadraticCurveTo(a,l,a,l+y),s.closePath(),0===i.alignment&&s.clip(),e.visible&&(s.globalAlpha=e.alpha*o,s.fillStyle=r,s.fill()),0===i.alignment&&s.restore()},n.prototype.setPatternTransform=function(t,e){if(!1!==this._svgMatrix){if(!this._svgMatrix){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i&&i.createSVGMatrix&&(this._svgMatrix=i.createSVGMatrix()),!this._svgMatrix||!t.setTransform)return void(this._svgMatrix=!1)}this._svgMatrix.a=e.a,this._svgMatrix.b=e.b,this._svgMatrix.c=e.c,this._svgMatrix.d=e.d,this._svgMatrix.e=e.tx,this._svgMatrix.f=e.ty,t.setTransform(this._svgMatrix.inverse())}},n.prototype.destroy=function(){this.renderer=null,this._svgMatrix=null,this._tempMatrix=null},n}(),Bv=new xi;Ma.prototype.generateCanvasTexture=function(t,e){void 0===e&&(e=1);var i=this.getLocalBounds(),r=Za.create({width:i.width,height:i.height,scaleMode:t,resolution:e});Nx||(Nx=new Mc),this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(Bv),Bv.invert(),Bv.tx-=i.x,Bv.ty-=i.y,Nx.render(this,{renderTexture:r,clear:!0,transform:Bv});var o=zt.from(r.baseTexture._canvasRenderTarget.canvas,{scaleMode:t});return o.baseTexture.setResolution(e),o},Ma.prototype.cachedGraphicsData=[],Ma.prototype._renderCanvas=function(t){!0!==this.isMask&&(this.finishPoly(),t.plugins.graphics.render(this))};var JU=new xi,QU=function(){function n(t){this.renderer=t}return n.prototype.render=function(t){var e=t._texture,i=this.renderer,r=i.context;if(e.valid){var o=e._frame.width,s=e._frame.height,a=t.transform.worldTransform,l=0,c=0,u=e.baseTexture.getDrawableSource();if(!(e.orig.width<=0||e.orig.height<=0)&&e.valid&&u){i.setBlendMode(t.blendMode,!0),i.context.globalAlpha=t.worldAlpha;var y=e.baseTexture.scaleMode===io.LINEAR;i.smoothProperty&&i.context[i.smoothProperty]!==y&&(r[i.smoothProperty]=y),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(a.copyTo(JU),rr.matrixAppendRotationInv(a=JU,e.rotate,l,c),l=0,c=0),l-=o/2,c-=s/2,i.setContextTransform(a,t.roundPixels,1),t.roundPixels&&(l|=0,c|=0);var O=e.baseTexture.resolution,P=i._outerBlend;P&&(r.save(),r.beginPath(),r.rect(l*i.resolution,c*i.resolution,o*i.resolution,s*i.resolution),r.clip()),16777215!==t.tint?((t._cachedTint!==t.tint||t._tintedCanvas.tintId!==t._texture._updateID)&&(t._cachedTint=t.tint,t._tintedCanvas=Xr.getTintedCanvas(t,t.tint)),r.drawImage(t._tintedCanvas,0,0,Math.floor(o*O),Math.floor(s*O),Math.floor(l*i.resolution),Math.floor(c*i.resolution),Math.floor(o*i.resolution),Math.floor(s*i.resolution))):r.drawImage(u,e._frame.x*O,e._frame.y*O,Math.floor(o*O),Math.floor(s*O),Math.floor(l*i.resolution),Math.floor(c*i.resolution),Math.floor(o*i.resolution),Math.floor(s*i.resolution)),P&&r.restore(),i.setBlendMode(je.NORMAL)}}},n.prototype.destroy=function(){this.renderer=null},n}();Rs.prototype._tintedCanvas=null,Rs.prototype._renderCanvas=function(t){t.plugins.sprite.render(this)};var ZU=new ai,e8=function(){function n(t){this.renderer=t}return n.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},n.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},n.prototype.canvas=function(t){var i,r,o,s,e=this.renderer;t&&(s=t instanceof Za?t:e.generateTexture(t)),s?(i=s.baseTexture._canvasRenderTarget.context,r=s.baseTexture._canvasRenderTarget.resolution,o=s.frame):(i=e.rootContext,r=e.resolution,(o=ZU).width=this.renderer.width,o.height=this.renderer.height);var a=Math.floor(o.width*r+1e-4),l=Math.floor(o.height*r+1e-4),c=new kg(a,l,1),u=i.getImageData(o.x*r,o.y*r,a,l);return c.context.putImageData(u,0,0),c.canvas},n.prototype.pixels=function(t){var i,r,o,s,e=this.renderer;return t&&(s=t instanceof Za?t:e.generateTexture(t)),s?(i=s.baseTexture._canvasRenderTarget.context,r=s.baseTexture._canvasRenderTarget.resolution,o=s.frame):(i=e.rootContext,r=e.resolution,(o=ZU).width=e.width,o.height=e.height),i.getImageData(o.x*r,o.y*r,o.width*r,o.height*r).data},n.prototype.destroy=function(){this.renderer=null},n}(),kx=function(n,t){return(kx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function Bue(n,t){var e=n;if(t instanceof di){var i=t.source,r=0===i.width?e.canvas.width:Math.min(e.canvas.width,i.width),o=0===i.height?e.canvas.height:Math.min(e.canvas.height,i.height);return e.ctx.drawImage(i,0,0,r,o,0,0,e.canvas.width,e.canvas.height),!0}return!1}var n8=function(n){function t(e){var i=n.call(this,e)||this;return i.uploadHookHelper=i,i.canvas=document.createElement("canvas"),i.canvas.width=16,i.canvas.height=16,i.ctx=i.canvas.getContext("2d"),i.registerUploadHook(Bue),i}return function Fue(n,t){function e(){this.constructor=n}kx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(BP),iE=new xi,Lv=new xi,Pc=[new qi,new qi,new qi,new qi];function yu(n){return Ve((t,e)=>{let o,i=null,r=!1;i=t.subscribe(ae(e,void 0,void 0,s=>{o=Et(n(s,yu(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}w5.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.valid){var i=t.context,r=this.worldTransform,o=e.baseTexture,s=o.getDrawableSource(),a=o.resolution;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tint){this._textureID=this._texture._updateID;var l=new kg(e._frame.width,e._frame.height,a);16777215!==this.tint?(this._tintedCanvas=Xr.getTintedCanvas(this,this.tint),l.context.drawImage(this._tintedCanvas,0,0)):l.context.drawImage(s,-e._frame.x*a,-e._frame.y*a),this._cachedTint=this.tint,this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}i.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),this.tileTransform.updateLocalTransform();var c=this.tileTransform.localTransform,u=this._width,y=this._height;iE.identity(),Lv.copyFrom(c),this.uvRespectAnchor||Lv.translate(-this.anchor.x*u,-this.anchor.y*y),Lv.scale(this.tileScale.x/a,this.tileScale.y/a),iE.prepend(Lv),iE.prepend(r),t.setContextTransform(iE),i.fillStyle=this._canvasPattern;var O=this.anchor.x*-u,P=this.anchor.y*-y;Pc[0].set(O,P),Pc[1].set(O+u,P),Pc[2].set(O+u,P+y),Pc[3].set(O,P+y);for(var I=0;I<4;I++)Lv.applyInverse(Pc[I],Pc[I]);for(i.beginPath(),i.moveTo(Pc[0].x,Pc[0].y),I=1;I<4;I++)i.lineTo(Pc[I].x,Pc[I].y);i.closePath(),i.fill()}},c5.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,i=this.worldTransform,r=!0,o=0,s=0,a=0,l=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var c=0;c<this.children.length;++c){var u=this.children[c];if(u.visible&&u._texture.valid){var y=u._texture.frame;e.globalAlpha=this.worldAlpha*u.alpha,u.rotation%(2*Math.PI)==0?(r&&(t.setContextTransform(i,!1,1),r=!1),o=u.anchor.x*(-y.width*u.scale.x)+u.position.x+.5,s=u.anchor.y*(-y.height*u.scale.y)+u.position.y+.5,a=y.width*u.scale.x,l=y.height*u.scale.y):(r||(r=!0),u.displayObjectUpdateTransform(),t.setContextTransform(u.worldTransform,this.roundPixels,1),o=u.anchor.x*-y.width+.5,s=u.anchor.y*-y.height+.5,a=y.width,l=y.height);var P=u._texture.baseTexture.resolution;e.drawImage(u._texture.baseTexture.getDrawableSource(),y.x*P,y.y*P,y.width*P,y.height*P,o*t.resolution,s*t.resolution,a*t.resolution,l*t.resolution)}}}},cr.prototype._renderCanvas=function(t){},cr.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},_r.prototype.renderCanvas=function(t){},Mv.prototype._renderCanvas=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),Rs.prototype._renderCanvas.call(this,t)},Mc.registerPlugin("accessibility",Mw),Mc.registerPlugin("extract",e8),Mc.registerPlugin("graphics",KU),Mc.registerPlugin("interaction",xw),Mc.registerPlugin("mesh",$U),Mc.registerPlugin("prepare",n8),Mc.registerPlugin("sprite",QU);const{isArray:Uue}=Array,{getPrototypeOf:Gue,prototype:jue,keys:Hue}=Object;function i8(n){if(1===n.length){const t=n[0];if(Uue(t))return{args:t,keys:null};if(function Vue(n){return n&&"object"==typeof n&&Gue(n)===jue}(t)){const e=Hue(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function r8(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Fx(...n){const t=Vi(n),{args:e,keys:i}=i8(n),r=new le(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let y=!1;Et(e[u]).subscribe(ae(o,O=>{y||(y=!0,c--),a[u]=O},()=>l--,void 0,()=>{(!l||!y)&&(c||o.next(i?r8(i,a):a),o.complete())}))}});return t?r.pipe(KO(t)):r}const o8=n=>{if("object"==typeof n&&null!==n){if("function"==typeof Object.getPrototypeOf){const t=Object.getPrototypeOf(n);return t===Object.prototype||null===t}return"[object Object]"===Object.prototype.toString.call(n)}return!1},xc=(...n)=>n.reduce((t,e)=>{if(Array.isArray(e))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(e).forEach(i=>{["__proto__","constructor","prototype"].includes(i)||(t[i]=Array.isArray(t[i])&&Array.isArray(e[i])?xc.options.mergeArrays?xc.options.uniqueArrayItems?Array.from(new Set(t[i].concat(e[i]))):[...t[i],...e[i]]:e[i]:o8(t[i])&&o8(e[i])?xc(t[i],e[i]):void 0===e[i]?xc.options.allowUndefinedOverrides?e[i]:t[i]:e[i])}),t},{}),Bx={allowUndefinedOverrides:!0,mergeArrays:!0,uniqueArrayItems:!0};xc.options=Bx,xc.withOptions=(n,...t)=>{xc.options=Object.assign(Object.assign({},Bx),n);const e=xc(...t);return xc.options=Bx,e};class Wue{constructor(t,e){this._handler=t,this._resourcesPrefix=e,this.translationSuffix=`.json?v=${Pi_version}`}getTranslation(t){return Fx(this._resourcesPrefix.map(i=>{let r=`${i}${t}${this.translationSuffix}`;return new UO(this._handler).get(r).pipe(yu(()=>$t({setDefaultLang:!0})))})).pipe(ye(i=>xc(...i)))}}function $ue(n){return new Wue(n,["./assets/i18n/","./assets/challenges/i18n/"])}class Xue{handle(){return null}}function Ac(n){return!!n&&(n instanceof le||b(n.lift)&&b(n.subscribe))}function oE(n){return new le(t=>{Et(n()).subscribe(t)})}class Lx extends Le{constructor(t=1/0,e=1/0,i=XO){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function Ux(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,ys({connector:()=>new Lx(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function nl(n,t){return Ve((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(ae(i,l=>{null==r||r.unsubscribe();let c=0;const u=o++;Et(n(l,u)).subscribe(r=ae(i,y=>i.next(t?t(l,y,u,c++):y),()=>{r=null,a()}))},()=>{s=!0,a()}))})}class Uv{}let s8=(()=>{class n extends Uv{getTranslation(e){return $t({})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=fo(n)))(i||n)}}(),n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class sE{}let a8=(()=>{class n{handle(e){return e.key}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function Gv(n,t){if(n===t)return!0;if(null===n||null===t)return!1;if(n!=n&&t!=t)return!0;let r,o,s,e=typeof n;if(e==typeof t&&"object"==e){if(!Array.isArray(n)){if(Array.isArray(t))return!1;for(o in s=Object.create(null),n){if(!Gv(n[o],t[o]))return!1;s[o]=!0}for(o in t)if(!(o in s)&&void 0!==t[o])return!1;return!0}if(!Array.isArray(t))return!1;if((r=n.length)==t.length){for(o=0;o<r;o++)if(!Gv(n[o],t[o]))return!1;return!0}}return!1}function xa(n){return null!=n}function Gx(n){return n&&"object"==typeof n&&!Array.isArray(n)}function l8(n,t){let e=Object.assign({},n);return Gx(n)&&Gx(t)&&Object.keys(t).forEach(i=>{Gx(t[i])?i in n?e[i]=l8(n[i],t[i]):Object.assign(e,{[i]:t[i]}):Object.assign(e,{[i]:t[i]})}),e}class aE{}let c8=(()=>{class n extends aE{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,i){let r;return r="string"==typeof e?this.interpolateString(e,i):"function"==typeof e?this.interpolateFunction(e,i):e,r}getValue(e,i){let r="string"==typeof i?i.split("."):[i];i="";do{i+=r.shift(),!xa(e)||!xa(e[i])||"object"!=typeof e[i]&&r.length?r.length?i+=".":e=void 0:(e=e[i],i="")}while(r.length);return e}interpolateFunction(e,i){return e(i)}interpolateString(e,i){return i?e.replace(this.templateMatcher,(r,o)=>{let s=this.getValue(i,o);return xa(s)?s:r}):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=fo(n)))(i||n)}}(),n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class lE{}let u8=(()=>{class n extends lE{compile(e,i){return e}compileTranslations(e,i){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=fo(n)))(i||n)}}(),n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class h8{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new Yt,this.onLangChange=new Yt,this.onDefaultLangChange=new Yt}}const jx=new un("USE_STORE"),Hx=new un("USE_DEFAULT_LANG"),Vx=new un("DEFAULT_LANGUAGE"),Wx=new un("USE_EXTEND");let Sh=(()=>{class n{constructor(e,i,r,o,s,a=!0,l=!1,c=!1,u){this.store=e,this.currentLoader=i,this.compiler=r,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.isolate=l,this.extend=c,this.pending=!1,this._onTranslationChange=new Yt,this._onLangChange=new Yt,this._onDefaultLangChange=new Yt,this._langs=[],this._translations={},this._translationRequests={},u&&this.setDefaultLang(u)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let i=this.retrieveTranslations(e);void 0!==i?(null==this.defaultLang&&(this.defaultLang=e),i.pipe(fi(1)).subscribe(r=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return $t(this.translations[e]);let i=this.retrieveTranslations(e);return void 0!==i?(this.currentLang||(this.currentLang=e),i.pipe(fi(1)).subscribe(r=>{this.changeLang(e)}),i):(this.changeLang(e),$t(this.translations[e]))}retrieveTranslations(e){let i;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),i=this._translationRequests[e]),i}getTranslation(e){this.pending=!0;const i=this.currentLoader.getTranslation(e).pipe(Ux(1),fi(1));return this.loadingTranslations=i.pipe(ye(r=>this.compiler.compileTranslations(r,e)),Ux(1),fi(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[e]=this.extend&&this.translations[e]?Object.assign(Object.assign({},r),this.translations[e]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(e,i,r=!1){i=this.compiler.compileTranslations(i,e),this.translations[e]=(r||this.extend)&&this.translations[e]?l8(this.translations[e],i):i,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(i=>{-1===this.langs.indexOf(i)&&this.langs.push(i)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,i,r){let o;if(i instanceof Array){let s={},a=!1;for(let l of i)s[l]=this.getParsedResult(e,l,r),Ac(s[l])&&(a=!0);return a?Fx(i.map(c=>Ac(s[c])?s[c]:$t(s[c]))).pipe(ye(c=>{let u={};return c.forEach((y,O)=>{u[i[O]]=y}),u})):s}if(e&&(o=this.parser.interpolate(this.parser.getValue(e,i),r)),void 0===o&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],i),r)),void 0===o){let s={key:i,translateService:this};void 0!==r&&(s.interpolateParams=r),o=this.missingTranslationHandler.handle(s)}return void 0!==o?o:i}get(e,i){if(!xa(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Od(r=>Ac(r=this.getParsedResult(r,e,i))?r:$t(r)));{let r=this.getParsedResult(this.translations[this.currentLang],e,i);return Ac(r)?r:$t(r)}}getStreamOnTranslationChange(e,i){if(!xa(e)||!e.length)throw new Error('Parameter "key" required');return ph(oE(()=>this.get(e,i)),this.onTranslationChange.pipe(nl(r=>{const o=this.getParsedResult(r.translations,e,i);return"function"==typeof o.subscribe?o:$t(o)})))}stream(e,i){if(!xa(e)||!e.length)throw new Error('Parameter "key" required');return ph(oE(()=>this.get(e,i)),this.onLangChange.pipe(nl(r=>{const o=this.getParsedResult(r.translations,e,i);return Ac(o)?o:$t(o)})))}instant(e,i){if(!xa(e)||!e.length)throw new Error('Parameter "key" required');let r=this.getParsedResult(this.translations[this.currentLang],e,i);if(Ac(r)){if(e instanceof Array){let o={};return e.forEach((s,a)=>{o[e[a]]=e[a]}),o}return e}return r}set(e,i,r=this.currentLang){this.translations[r][e]=this.compiler.compile(i,r),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==e?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return n.\u0275fac=function(e){return new(e||n)(Fe(h8),Fe(Uv),Fe(lE),Fe(aE),Fe(sE),Fe(Hx),Fe(jx),Fe(Wx),Fe(Vx))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),Gn=(()=>{class n{constructor(e,i,r){this.translateService=e,this.element=i,this._ref=r,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(o=>{o.lang===this.translateService.currentLang&&this.checkNodes(!0,o.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(o=>{this.checkNodes(!0,o.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(o=>{this.checkNodes(!0)}))}set translate(e){e&&(this.key=e,this.checkNodes())}set translateParams(e){Gv(this.currentParams,e)||(this.currentParams=e,this.checkNodes(!0))}ngAfterViewChecked(){this.checkNodes()}checkNodes(e=!1,i){let r=this.element.nativeElement.childNodes;r.length||(this.setContent(this.element.nativeElement,this.key),r=this.element.nativeElement.childNodes);for(let o=0;o<r.length;++o){let s=r[o];if(3===s.nodeType){let a;if(e&&(s.lastKey=null),xa(s.lookupKey))a=s.lookupKey;else if(this.key)a=this.key;else{let l=this.getContent(s),c=l.trim();c.length&&(s.lookupKey=c,l!==s.currentValue?(a=c,s.originalContent=l||s.originalContent):s.originalContent?a=s.originalContent.trim():l!==s.currentValue&&(a=c,s.originalContent=l||s.originalContent))}this.updateValue(a,s,i)}}}updateValue(e,i,r){if(e){if(i.lastKey===e&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let o=s=>{s!==e&&(i.lastKey=e),i.originalContent||(i.originalContent=this.getContent(i)),i.currentValue=xa(s)?s:i.originalContent||e,this.setContent(i,this.key?i.currentValue:i.originalContent.replace(e,i.currentValue)),this._ref.markForCheck()};if(xa(r)){let s=this.translateService.getParsedResult(r,e,this.currentParams);Ac(s)?s.subscribe({next:o}):o(s)}else this.translateService.get(e,this.currentParams).subscribe(o)}}getContent(e){return xa(e.textContent)?e.textContent:e.data}setContent(e,i){xa(e.textContent)?e.textContent=i:e.data=i}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(X(Sh),X(Ci),X(Tn))},n.\u0275dir=wt({type:n,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}}),n})(),dn=(()=>{class n{constructor(e,i){this.translate=e,this._ref=i,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(e,i,r){let o=s=>{this.value=void 0!==s?s:e,this.lastKey=e,this._ref.markForCheck()};if(r){let s=this.translate.getParsedResult(r,e,i);Ac(s.subscribe)?s.subscribe(o):o(s)}this.translate.get(e,i).subscribe(o)}transform(e,...i){if(!e||!e.length)return e;if(Gv(e,this.lastKey)&&Gv(i,this.lastParams))return this.value;let r;if(xa(i[0])&&i.length)if("string"==typeof i[0]&&i[0].length){let o=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{r=JSON.parse(o)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else"object"==typeof i[0]&&!Array.isArray(i[0])&&(r=i[0]);return this.lastKey=e,this.lastParams=i,this.updateValue(e,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(e){return new(e||n)(X(Sh,16),X(Tn,16))},n.\u0275pipe=Vr({name:"translate",type:n,pure:!1}),n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),rn=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:Uv,useClass:s8},e.compiler||{provide:lE,useClass:u8},e.parser||{provide:aE,useClass:c8},e.missingTranslationHandler||{provide:sE,useClass:a8},h8,{provide:jx,useValue:e.isolate},{provide:Hx,useValue:e.useDefaultLang},{provide:Wx,useValue:e.extend},{provide:Vx,useValue:e.defaultLanguage},Sh]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:Uv,useClass:s8},e.compiler||{provide:lE,useClass:u8},e.parser||{provide:aE,useClass:c8},e.missingTranslationHandler||{provide:sE,useClass:a8},{provide:jx,useValue:e.isolate},{provide:Hx,useValue:e.useDefaultLang},{provide:Wx,useValue:e.extend},{provide:Vx,useValue:e.defaultLanguage},Sh]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({}),n})();var jv=(()=>(function(n){n.SessionStorage="sessionStorage",n.LocalStorage="localStorage"}(jv||(jv={})),jv))();class que{constructor(){this.storage=new Map}get length(){return this.storage.size}clear(){this.storage.clear()}key(t){return this.storage.keys()[t]?this.storage.keys()[t]:null}removeItem(t){this.storage.delete(t)}getItem(t){return this.storage.get(t)?this.storage.get(t):null}setItem(t,e){this.storage.set(t,""+e)}}let d8=(()=>{class n{constructor(){this._session=this.setStorage(jv.SessionStorage),this._local=this.setStorage(jv.LocalStorage)}get session(){return this._session}get local(){return this._local}setStorage(e){try{const i="__storage_test__";return window[e].setItem(i,i),window[e].removeItem(i),window[e]}catch(i){return new que}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ql=(()=>(function(n){n.user="user",n.token="token",n.currency="currency",n.lang="lang",n.operator="operator",n.returnUrl="return_url",n.accountHistoryUrl="account_history_url",n.jurisdiction="jurisdiction"}(ql||(ql={})),ql))(),Hv=(()=>(function(n){n.ircDuration="irc_duration",n.ircElapsed="irc_elapsed",n.gameSessionId="gameSessionId",n.sisalToken="sisaltoken",n.licenseeId="licenseeid",n.isbgameId="isbgameid",n.isbskinId="isbskinid",n.country="country",n.launcherCode="launchercode",n.extra="extra",n.username="username",n.isoftBetOperator="isoftBetOperator",n.rci="rci",n.realityCheckUKLimit="realitycheck_uk_limit",n.realityCheckUkElapsed="realitycheck_uk_elapsed",n.realityCheckTimeout="realityCheckTimeout",n.loggedInTime="loggedInTime",n.extraData="extraData"}(Hv||(Hv={})),Hv))();let Rc=(()=>{class n{constructor(){this.user=this.getRequiredParam(ql.user),this.operator=this.getRequiredParam(ql.operator),this.currency=this.getRequiredParam(ql.currency),this.lang=this.getOptionalLangParam(ql.lang),this.returnUrl=this.getOptionalParam(ql.returnUrl),this.accountHistoryUrl=this.getOptionalParam(ql.accountHistoryUrl),this.jurisdiction=this.getOptionalParam(ql.jurisdiction),this.additionalParams=[],Object.values(Hv).forEach(e=>{const i=this.getOptionalParam(e);null!==i&&this.additionalParams.push({[e]:i})}),this.token="sisal"===this.operator.toLowerCase()?this.getRequiredParam(Hv.sisalToken):this.getRequiredParam(ql.token),lh("url.param.user",this.user),lh("url.param.operator",this.operator),lh("url.param.currency",this.currency),lh("url.param.token",this.token),lh("url.param.lang",this.lang),lh("url.param.return_url",this.returnUrl),lh("url.param.account_history_url",this.accountHistoryUrl),lh("url.param.jurisdiction",this.jurisdiction)}getRequiredParam(e){const i=this.searchURLParam(e);if(null===i||""===i)throw new Error(`URL parameters are missing or invalid. Key: ${e} | Value: ${i}`);return i}getOptionalLangParam(e){const i=this.searchURLParam(e);return null===i||""===i?"en":i.toLowerCase()}getOptionalParam(e){const i=this.searchURLParam(e);return null===i||""===i?null:i}searchURLParam(e){const i=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");const o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(i);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kue=["adjarabet","spribegaming"];let Jue=(()=>{class n{constructor(){const e=location.hostname.split(".");this.secondLevel=e[e.length-2],this.topLevel=e[e.length-1]}mirrorURL(e){const i=new URL(e);return i.hostname=this.mirrorHostname(i.hostname),i.href}mirrorHostname(e){if(!Pi_domainMirroringEnabled||!this.secondLevel||!this.topLevel||Kue.includes(this.secondLevel))return e;const i=e.split(".");return e.replace(`.${i[i.length-2]}.${i[i.length-1]}`,`.${this.secondLevel}.${this.topLevel}`)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),en=(()=>{class n{constructor(e,i,r,o,s,a){this.translate=e,this.http=i,this.storage=r,this.deviceService=o,this.urlParams=s,this.domain=a,this.SESSION_TOKEN_KEY="__spavstk",this.useInnerScroll=!1,this._isGameInited=!1,this.preloadFonts=()=>{const l=[];return l.push(document.fonts.load(`16px ${gh.Base}`)),Promise.all(l)},this.isMobile=this.deviceService.isMobile(),this.isTablet=this.deviceService.isTablet(),this.isDesktop=this.deviceService.isDesktop(),this.deviceInfo=this.deviceService.getDeviceInfo(),!1===this.isDesktop&&this.deviceInfo.os===pL.IOS&&parseInt(function zte(){if("MSStream"in window)return 0;let t,n=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return null!=n?(t=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3]||"0",10)],parseFloat(t.join("."))):0}().toString())<=12&&zO()&&(this.useInnerScroll=!0)}init(){const e=[];return e.push(this.setLanguage()),e.push(this.getClientConfig().then(()=>this.preloadResources())),e.push(this.preloadFonts()),Promise.all(e)}getClientConfig(){const e="Retry limit of client config exceeded!",l=`${this.domain.mirrorURL(Pi_clientConfig.path)}${this.urlParams.operator}${Pi_clientConfig.ext}?v=${Pi_version}`;return new Promise((c,u)=>{this.http.get(l).pipe(function Mne(n){return Ve((t,e)=>{let i,o,r=!1;const s=()=>{i=t.subscribe(ae(e,void 0,void 0,a=>{o||(o=new Le,n(o).subscribe(ae(e,()=>i?s():r=!0))),o&&o.next(a)})),r&&(i.unsubscribe(),i=null,r=!1,s())};s()})}(y=>y.pipe(fi(5),vL(2e3),O=>ph(O,ov(new Error(e)))))).subscribe(y=>{y.ws.host=this.domain.mirrorHostname(y.ws.host),this._clientConfig=Object.freeze(y),c()},()=>u(e))})}get sessionToken(){return(null===this.storage.session.getItem(this.SESSION_TOKEN_KEY)||function $te(){try{if(performance&&performance.getEntriesByType){const n=performance.getEntriesByType("navigation");if(n&&n.length>0)return n[n.length-1].type}}catch(n){return null}return null}()===$b.backForward)&&this.storage.session.setItem(this.SESSION_TOKEN_KEY,iL(64)),this.storage.session.getItem(this.SESSION_TOKEN_KEY)}setLanguage(){return new Promise(e=>{this.translate.use(this.urlParams.lang).subscribe({next:i=>{i.setDefaultLang&&(this.urlParams.lang="en"),e()},error:()=>{this.urlParams.lang="en",e()}})})}preloadResources(){const e=((n,t=!1)=>{n="adjarabet"===n?"adjarabet":"spribe";const i="./assets/images/canvas/",r=[{name:"bg",url:`${i}bg/bg-${t?"dashed-line":"sun"}.svg`},{name:"prop",url:`${i}prop/prop.svg`},{name:"multiplier-bg-blur",url:`${i}multiplier/bg/blur.svg`},{name:"icon-login-timer",url:`${i}icons/login-timer.svg`},{name:"icon-clock",url:`${i}icons/clock.svg`},{name:"icon-up-down",url:`${i}icons/up-down.svg`}],o=[];for(let s=0;s<4;s++)o.push({name:`plane-${s}`,url:`${i}plane/${n}/plane-${s}.svg`});return r.concat(o)})(this.clientConfig.brandName,this.clientConfig.isDashedLineBg);return class Lue{static load(t,e=null,i=1){const r=this.versionResources(t);return new Promise(o=>{r.forEach(s=>{os.shared.resources[s.name]||os.shared.add(s)}),"function"==typeof e&&(this.onProgressID=os.shared.onProgress.add(s=>{e(null==s?void 0:s.progress,i)})),os.shared.load(()=>{this.onProgressID&&os.shared.onProgress.detach(this.onProgressID),o()})})}static versionResources(t){return t.map(e=>({name:e.name,url:e.url+=`?v=${Pi_version}`}))}}.load(e)}get config(){return this._config}setConfig(e){this._config=Object.freeze(e)}get clientConfig(){return this._clientConfig}get isFunMode(){return"demo"===this.urlParams.operator}get isLongPrecision(){return this._config&&this._config.betPrecision>=4}get isIrcDisplayModal(){return this.config.ircDisplayType===Kb.modal}get isGameInited(){return this._isGameInited}getFormattedUsername(e){var i;return!1===(null===(i=this._config)||void 0===i?void 0:i.isUseMaskedUsername)?e:function qte(n){return n&&rL(n)?`${n.charAt(0)}***${n.charAt(n.length-1)}`.toLowerCase():"*****"}(e)}get isAutoBetFeatureEnabled(){return!this.config.hasOwnProperty("isAutoBetFeatureEnabled")||this.config.isAutoBetFeatureEnabled}get isFreeBetsEnabled(){return this.config.hasOwnProperty("isFreeBetsEnabled")?this.config.isFreeBetsEnabled:!this.clientConfig.hasOwnProperty("isHideFreeBetsInUserMenu")||!this.clientConfig.isHideFreeBetsInUserMenu}get onLockUIActions(){var e;return null!==(e=this.config.onLockUIActions)&&void 0!==e?e:Ag.CancelBet}setGameInited(){this._isGameInited=!0}get isBrandAdjarabet(){return"adjarabet"===this.clientConfig.brandName}getAvatarUrl(e){return Pi_avatarPath+e+`?v=${Pi_version}`}}return n.\u0275fac=function(e){return new(e||n)(Fe(Sh),Fe(UO),Fe(d8),Fe(Tne),Fe(Rc),Fe(Jue))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Aa=(()=>{class n{constructor(e){this.zone=e,this._messageSubject=new Le,this._clearSubject=new Le,this._message$=this._messageSubject.asObservable(),this._clear$=this._clearSubject.asObservable()}add(e,i=!1){e&&(!1===i?this._messageSubject.next(e):!0===i&&this.zone.run(()=>this._messageSubject.next(e)))}clear(e=null,i=!1){!1===i?this._clearSubject.next(e):!0===i&&this.zone.run(()=>this._clearSubject.next(e))}get clear$(){return this._clear$}get message$(){return this._message$}}return n.\u0275fac=function(e){return new(e||n)(Fe(Wn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Is=(()=>{class n{constructor(){this._subject=new Le,this._onOpen$=this._subject.asObservable()}open(e,i=null){this._subject.next({key:e,params:i})}get onOpen$(){return this._onOpen$}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ki=(()=>{class n{constructor(e,i,r,o,s){this.app=e,this.zone=i,this.message=r,this.modal=o,this.urlParams=s,this._display=new Le,this.responseSubject=new Le,this.isOnLoginError=!1,this.reconnection=new ene}get display(){return this._display.asObservable()}init(){return this.smartFox&&(this.bindEvents(!1),this.smartFox.disconnect(),this.smartFox=null),this.zone.runOutsideAngular(()=>{console.log("[ SFS ] instantiate"),this.smartFox=new ar.SmartFox(this.getWSServer(this.app.clientConfig.ws,this.app.clientConfig.servers)),this.bindEvents(!0),console.log("[ SFS ] connect"),this.smartFox.connect(),this.pingMonitor=new vne(this.smartFox,e=>{this.setDisplay(e)},15e3)}),this.response(pn.Init)}getWSServer(e,i){return i?i[Math.floor(Math.random()*i.length)]:e}shutdown(e){this.smartFox&&(this.bindEvents(!1),this.smartFox.disconnect(),this.smartFox=null),this.reconnection.reset(),this.pingMonitor.reset(),this.setDisplay(e)}bindEvents(e=!0){e?(this.smartFox.addEventListener(ar.SFSEvent.CONNECTION,this.onConnection,this),this.smartFox.addEventListener(ar.SFSEvent.CONNECTION_LOST,this.onConnectionLost,this),this.smartFox.addEventListener(ar.SFSEvent.LOGIN,this.onLogin,this),this.smartFox.addEventListener(ar.SFSEvent.LOGIN_ERROR,this.onLoginError,this),this.smartFox.addEventListener(ar.SFSEvent.EXTENSION_RESPONSE,this.onResponse,this)):(this.smartFox.removeEventListener(ar.SFSEvent.CONNECTION,this.onConnection),this.smartFox.removeEventListener(ar.SFSEvent.CONNECTION_LOST,this.onConnectionLost),this.smartFox.removeEventListener(ar.SFSEvent.LOGIN,this.onLogin),this.smartFox.removeEventListener(ar.SFSEvent.LOGIN_ERROR,this.onLoginError),this.smartFox.removeEventListener(ar.SFSEvent.EXTENSION_RESPONSE,this.onResponse))}request(e,i){if(null==this.smartFox)return;console.log("%c[ SFS SEND ] "+e,"background: #222; color: #caa817",i);let r=null;null!==i&&i.constructor==={}.constructor&&(r=oL.toSFSObject(i)),this.smartFox.send(new ar.ExtensionRequest(e+"Handler",r))}response(e,i=null){return this.responseSubject.pipe(Lt(null===i?r=>r.cmd===e:r=>{var o;return r.cmd===e&&(null===(o=r.data)||void 0===o?void 0:o.code)===i}),ye(r=>r.data))}setDisplay(e,i){this.zone.run(()=>this._display.next({state:e,data:i}))}onConnection(e){if(console.log("[ SFS ] onConnection",e),e.success){this.reconnection.reset(),this.setDisplay(null),this.pingMonitor.reset();const i=new ar.SFSObject;i.putUtfString("token",this.urlParams.token),i.putUtfString("currency",this.urlParams.currency),i.putUtfString("lang",this.urlParams.lang),i.putUtfString("sessionToken",this.app.sessionToken),i.putSFSObject("platform",function tne(n){let t=new ar.SFSObject;return t.putUtfString("deviceInfo",JSON.stringify(n.deviceInfo)),t.putUtfString("userAgent",JSON.stringify(n.deviceInfo.userAgent)),n.isDesktop?t.putUtfString("deviceType",Mg.Desktop):n.isMobile?t.putUtfString("deviceType",Mg.Mobile):n.isTablet&&t.putUtfString("deviceType",Mg.Tablet),t}(this.app)),i.putUtfString("version",Pi_version),this.urlParams.jurisdiction&&i.putUtfString("jurisdiction",this.urlParams.jurisdiction);const r=this.urlParams.additionalParams;if(Array.isArray(r)){const s=new ar.SFSObject;r.forEach(a=>{const l=function Xte(n){return"object"!=typeof n?"":Object.keys(n)[0]}(a);s.putUtfString(l,a[l])}),i.putSFSObject("additionalParams",s)}let o=this.urlParams.user;this.app.clientConfig.userWithOperator&&!0===this.app.clientConfig.userWithOperator&&(o=o+"&&"+this.urlParams.operator),console.log("[ SFS ] login"),this.smartFox.send(new ar.LoginRequest(o,"",i))}else this.setDisplay(yi.reconnect),this.reconnection.try(this.smartFox,()=>{this.setDisplay(yi.connectionLost)});}onConnectionLost(e){if(console.log("[ SFS ] onConnectionLost",e),!this.isOnLoginError){if(e.reason===ar.ClientDisconnectionReason.BAN)return this.pingMonitor.reset(),void this.setDisplay(yi.ban);if(e.reason===ar.ClientDisconnectionReason.KICK)return this.pingMonitor.reset(),void this.setDisplay(yi.kicked);this.setDisplay(yi.reconnect),this.reconnection.try(this.smartFox)}}onLogin(){console.log("[ SFS ] onLogin"),this.pingMonitor.start()}onLoginError(e){console.log("[ SFS ] onLoginError",e),this.isOnLoginError=!0,this.smartFox.disconnect(),this.setDisplay(e.errorCode===zb.LOGIN_BANNED_USER?yi.ban:yi.loginError,this.getDisplayData(e.errorMessage))}getDisplayData(e){if(function Kte(n){try{JSON.parse(n)}catch(t){return!1}return!0}(e))return{additionalOperatorData:JSON.parse(e)}}onResponse(e){if(e.cmd===Og.Response)return;const i=oL.toObject(e.params);i.code===wd.RealityCheck&&this.zone.run(()=>{this.modal.open(si.notification,{type:uu.RealityCheck,message:i.errorMessage})}),i.code!==wd.Success&&i.code!==wd.RealityCheck&&this.zone.run(()=>{this.message.add({value:i.errorMessage,context:Xi.danger,errorMessageParams:i.errorMessageParams})}),e.cmd!==pn.CurrentMultiplier&&e.cmd!==pn.X&&console.log("%c[ SFS RESPONSE ] "+e.cmd,"background: #222; color: #bada55",i);const r={cmd:e.cmd,data:i};e.cmd===pn.CurrentMultiplier||e.cmd===pn.X?this.responseSubject.next(r):this.zone.run(()=>{this.responseSubject.next(r)})}}return n.\u0275fac=function(e){return new(e||n)(Fe(en),Fe(Wn),Fe(Aa),Fe(Is),Fe(Rc))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Xn extends Le{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var f8=w(6461),bu=(()=>(function(n){n.Bet="bet_placed",n.FlyAway="fly_away",n.RoundStart="round_start",n.Win="win"}(bu||(bu={})),bu))();let Qg=(()=>{class n{constructor(){this.soundPath="assets/sounds/",this._soundOn=!0,this._musicOn=!0,this._stopAll=!1;const i={src:[`${this.soundPath}sprite_audio.mp3?v=${Pi_version}`],autoplay:!1,loop:!1,volume:.3,sprite:{bet_placed:[0,522.4489795918367],fly_away:[2e3,2574.126984126984],round_start:[6e3,1515.102040816327],win:[9e3,4022.857142857143]}};this._music=new f8.Howl({src:[`${this.soundPath}bg_music.mp3?v=${Pi_version}`],autoplay:!0,loop:!0,volume:.1}),this._sound=new f8.Howl(i),this.soundOn=!1,this.musicOn=!1}play(e){this._stopAll||this._sound.play(e)}set musicOn(e){this._musicOn!==e&&(this._musicOn=e,this._music.mute(!e))}set soundOn(e){this._soundOn!==e&&(this._soundOn=e,this._sound.mute(!e))}stopAll(e=!0){this._stopAll=e,e?(this._sound.stop(),this._music.stop()):this._music.play()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ui=(()=>{class n{constructor(e,i,r){this.connector=e,this.sound=i,this.modal=r,this._events=new Le,this._eventsObs=this._events.asObservable(),this._stateSubject=new Xn(null),this._onlinePlayersSubject=new Xn(0),this._stateObs=this._stateSubject.asObservable(),this.onlinePlayers$=this._onlinePlayersSubject.asObservable()}init(e){this.reset(),this._roundId=e.roundId,this._timeLeft=e.betTimeLeft,this._onlinePlayersSubject.next(e.onlinePlayers),this._stateSubject.next(e.stageId),zzz=this,this.changeState$=this.connector.response(pn.ChangeState,200).pipe(Lt(i=>i.newStateId!==ir.End)).subscribe(i=>this.onChangeState(i)),this.connector.response(pn.CurrentMultiplier,200).pipe(Lt(i=>!!i.crashMultiplier)).subscribe(()=>this.onChangeState({newStateId:ir.End,roundId:this.roundId})),this.connector.response(pn.X,200).pipe(Lt(i=>!!i.crashX)).subscribe(()=>this.onChangeState({newStateId:ir.End,roundId:this.roundId})),this.connector.response(pn.OnlinePlayers,200).subscribe(i=>this._onlinePlayersSubject.next(i.onlinePlayers))}onChangeState(e){updater(e);this._roundId=e.roundId,this._timeLeft=e.timeLeft,e.newStateId===ir.End&&this.sound.play(bu.FlyAway),e.newStateId===ir.Run&&this.sound.play(bu.RoundStart),this._stateSubject.next(e.newStateId)}getState(e=null){return null===e?this._stateObs:this._stateObs.pipe(Lt(i=>i===e))}get state(){return this._stateSubject.value}get timeLeft(){return this._timeLeft}get roundId(){return this._roundId}get isBettingState(){return this.state===ir.Bet}get isRunningState(){return this.state===ir.Run}get isEndingState(){return this.state===ir.End||this.state===ir.EndDelay}emitEvent(e,i){this._events.next({type:e,data:i})}event(e){return this._eventsObs.pipe(Lt(i=>i.type===e))}checkFairness(e){this.canCheckFairness(e)&&this.modal.open(si.fairness,e)}canCheckFairness(e){return this.roundId!==e}reset(){this.changeState$&&this.changeState$.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(Fe(ki),Fe(Qg),Fe(Is))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Wo=(()=>(function(n){n.sid="sid",n.manualSeed="msd",n.randomSeed="rsd",n.isRandomSeed="irs"}(Wo||(Wo={})),Wo))();let Yx=(()=>{class n{constructor(e){this.storage=e,this.STORE_PREFIX="__av_gs",this.RANDOM_SEED_LEN=20,null===this.getItem(Wo.isRandomSeed)&&(this.isRandomSeed=!0),null===this.getItem(Wo.randomSeed)&&(this.randomSeed=this.getRandomSeed()),null===this.getItem(Wo.manualSeed)&&(this.manualSeed=this.getRandomSeed()),null===this.getItem(Wo.sid)&&(this.sid=0)}get isRandomSeed(){const e=this.getItem(Wo.isRandomSeed);return null===e||e&&"true"===e}set isRandomSeed(e){this.setItem(Wo.isRandomSeed,e)}get randomSeed(){return null===this.getItem(Wo.randomSeed)&&(this.randomSeed=this.getRandomSeed()),this.getItem(Wo.randomSeed)}set randomSeed(e){this.setItem(Wo.randomSeed,e)}get manualSeed(){return null===this.getItem(Wo.manualSeed)&&(this.manualSeed=this.getRandomSeed()),this.getItem(Wo.manualSeed).trim()}set manualSeed(e){this.sid=0,e=e.trim(),this.setItem(Wo.manualSeed,e)}get manualSeedWithId(){return this.manualSeed+"-"+this.sid}get clientSeed(){let e="";return this.isRandomSeed?(e=this.randomSeed,this.randomSeed=this.getRandomSeed()):(e=this.manualSeedWithId,this.sid++),e}get sid(){return parseInt(this.getItem(Wo.sid))}set sid(e){this.setItem(Wo.sid,e)}getRandomSeed(){return iL(this.RANDOM_SEED_LEN)}getItem(e){return this.storage.local.getItem(this.STORE_PREFIX+e)}setItem(e,i){this.storage.local.setItem(this.STORE_PREFIX+e,`${i}`)}}return n.\u0275fac=function(e){return new(e||n)(Fe(d8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Fi=(()=>(function(n){n.CancelBet="cancelBet",n.CashOut="cashOut",n.Bet="bet",n.CurrentBetsInfo="currentBetsInfo",n.PreviousRoundInfo="previousRoundInfo",n.BetHistory="betHistory",n.GetTopRoundsInfo="getTopRoundsInfo",n.GetTopWinsInfo="getTopWinsInfo",n.GetHugeWinsInfo="getHugeWinsInfo",n.AddChatMessage="AddChatMessage",n.SearchGifs="searchGifs",n.Like="like",n.ClaimRainWin="claimRainWin",n.RoundFairness="roundFairness",n.ServerSeed="serverSeed",n.FreeBetsArchive="freeBetsArchive",n.ChangeProfileImage="changeProfileImage",n.NotificationCallback="notificationCallback",n.FreeBetFinish="freeBetFinish",n.UpdateBalance="updateBalance",n.SetPlayerSetting="setPlayerSetting"}(Fi||(Fi={})),Fi))(),Ai=(()=>(function(n){n.Init="ifc.init",n.Close="ifc.close",n.BackToHome="ifc.back.to.home",n.AccountHistory="ifc.account.history",n.Sound="ifc.sound",n.Music="ifc.music",n.Animation="ifc.animation",n.WinInfo="ifc.win.info",n.UpdateBalance="ifc.update.balance",n.UpdateStake="ifc.update.stake",n.StartBetTimer="ifc.start.bet.timer",n.StartRound="ifc.start.round",n.EndRound="ifc.end.round",n.MakeBet="ifc.make.bet",n.MakeBetComplete="ifc.make.bet.complete",n.CancelBet="ifc.cancel.bet",n.CancelBetComplete="ifc.cancel.bet.complete",n.Cashout="ifc.cashout",n.CashoutComplete="ifc.cashout.complete",n.InternalRealityCheck="ifc.internal.reality.check",n.Autoplay="ifc.autoplay",n.SwitchGame="ifc.switch.game"}(Ai||(Ai={})),Ai))(),Zd=(()=>(function(n){n.Sound="sound",n.Music="music",n.Animation="animation",n.SecondBet="secondBet"}(Zd||(Zd={})),Zd))(),Kl=(()=>(function(n){n.HideLiveBetsAndStatistics="hideLiveBetsAndStatistics",n.HideMyActivity="hideMyActivity"}(Kl||(Kl={})),Kl))();let Eu=(()=>{class n{constructor(){this._selfInited=!1,this.isInited=!1,this._commands=new Le,this._commandsObs=this._commands.asObservable(),this.sendPostMessage=(e,i)=>{console.log("%c[ IFC EVENT ] "+e,"background: #222; color: #caa817","\n",i);try{parent.postMessage({type:e,data:i},"*")}catch(r){}}}setup(){this._selfInited||(this._selfInited=!0,Ti(window,"message").pipe(Lt(e=>Object.values(Lr).includes(e.data.cmd))).subscribe(e=>this.onMessageCommand(e.data)))}onMessageCommand(e){console.log("%c[ IFC COMMAND ] "+e.cmd,"background: #222; color: #bada55","\n",e.data),this._commands.next(e)}command(e){return this._commandsObs.pipe(Lt(i=>i.cmd===e),ye(i=>i.data))}emitEvent(e,i){!this._selfInited||this.sendPostMessage(e,i)}emitCloseEvent(e){!zO()||this.sendPostMessage(Ai.Close,e)}emitInitEvent(e){this.emitEvent(Ai.Init,{isReInit:this.isInited,balance:e.user.balance,currency:e.config.currency,sound:e.user.settings.sound,music:e.user.settings.music,animation:e.user.settings.animation,additionalOperatorData:e.additionalOperatorData}),balx=e.user.balance,this.isInited=!0}emitUpdateStakeEvent(e,i){this.emitEvent(Ai.UpdateStake,{id:e,amount:i})}emitEventStartRound(e){const i=[];e&&Array.isArray(e)&&e.forEach(r=>{i.push({id:r.betId,amount:r.data.bet})}),this.emitEvent(Ai.StartRound,{bets:i})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zue=(()=>{class n{constructor(e,i,r){this.connector=e,this.soundService=i,this.ifc=r,this._animationSubject=new Xn(null),this._soundSubject=new Xn(null),this._musicSubject=new Xn(null),this._secondBetSubject=new Xn(null),this.otherSubject=new Le,this.other$=this.otherSubject.asObservable(),this.other=new Map([]),this.otherSettingNames=Object.values(Kl),this._isOtherEnabled=!1,this._otherKeys=[],this.saveLock=!1}init(e){this.saveLock=!1,this.sound=e.sound,this.music=e.music,this.animation=e.animation,this.secondBet=e.secondBet,"other"in e&&this.otherSettingNames.forEach(i=>{i in e.other&&this.other.set(i,e.other[i])}),this._otherKeys=Array.from(this.other.keys()),this._isOtherEnabled=!!this.other.size,this.saveLock=!0}changeOther(e,i){this.other.set(e,i),this.otherSubject.next({name:e,value:i}),this.save(e,i)}getOther(e){return this.other.get(e)||!1}get isOtherEnabled(){return this._isOtherEnabled}get otherKeys(){return this._otherKeys}get sound(){return this._soundSubject.value}set sound(e){this._soundSubject.value!==e&&(this._soundSubject.next(e),this.soundService.soundOn=e,this.ifc.emitEvent(Ai.Sound,{value:e}),this.save(Zd.Sound,e))}get music(){return this._musicSubject.value}set music(e){this._musicSubject.value!==e&&(this._musicSubject.next(e),this.soundService.musicOn=e,this.ifc.emitEvent(Ai.Music,{value:e}),this.save(Zd.Music,e))}get animation(){return this._animationSubject.value}set animation(e){this._animationSubject.value!==e&&(this._animationSubject.next(e),this.ifc.emitEvent(Ai.Animation,{value:e}),this.save(Zd.Animation,e))}get animation$(){return this._animationSubject.asObservable()}get secondBet(){return this._secondBetSubject.value}set secondBet(e){this._secondBetSubject.value!==e&&(this._secondBetSubject.next(e),this.save(Zd.SecondBet,e))}save(e,i){!1!==this.saveLock&&this.connector.request(Fi.SetPlayerSetting,{settingName:e,value:i})}}return n.\u0275fac=function(e){return new(e||n)(Fe(ki),Fe(Qg),Fe(Eu))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),il=(()=>{class n{constructor(e,i){this.seed=e,this.settings=i}init(e){this._id=e.userId,this._balance=e.balance,this._username=e.username,this._avatar=e.profileImage,this.settings.init(e.settings)}get id(){return this._id}get username(){return this._username}get avatar(){return this._avatar}set avatar(e){this._avatar=e}get balance(){return this._balance}get userBalance(){return this._balance>=0?this._balance:0}set balance(e){this._balance=e}get clientSeed(){return this.seed.clientSeed}}return n.\u0275fac=function(e){return new(e||n)(Fe(Yx),Fe(Zue))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ic=(()=>{class n{constructor(e,i,r){this.modal=e,this.connector=i,this.message=r,this._list=[],this._activeId=null,fff=this,this._activateSource=new Le,this._updateSource=new Le,this.onActivate$=this._activateSource.asObservable(),this.onUpdate$=this._updateSource.asObservable(),this.connector.response(pn.FreeBetInfo).subscribe(o=>{o.activeFreeBetsInfo&&200===o.code&&this.update(o.activeFreeBetsInfo)}),this.connector.response(pn.FreeBetFinish,200).subscribe(()=>{this.remove(this.activeFreeBet),this.activate(null)}),this.connector.response(pn.CreateFreeBet,200).subscribe(o=>{const s=o.freeBets;this.message.add({value:dh.YouHaveGotAFreeBet,context:Xi.success}),this.setList(s,!1)}),this.connector.response(pn.CancelFreeBet,200).subscribe(o=>{this.message.add({value:dh.YourFreeBetWasCancelledByAdministrator,context:Xi.danger}),this.activate(null),o.freeBets.forEach(s=>{const a=this.list.find(l=>l.freeBetsId===s);a&&this.remove(a)})})}setList(e,i=!0){!Array.isArray(e)||(this._list=sooo(e),i&&this.autoActivation(),this._updateSource.next(e[e.length-1]));settx(e);}autoActivation(){  }get list(){return this._list}get freeBetsCount(){return Array.isArray(this._list)?this._list.length:0}get activeFreeBet(){if(null!==this._activeId&&this.freeBetsCount>0)return this._list.find(e=>e.freeBetsId===this._activeId)}withdrawFreeBet(e){return 0!==e.freeBetsLeft&&(e.freeBetsLeft--,!0)}isActive(e){return this._activeId===e}update(e){this._list[this._list.findIndex(i=>i.freeBetsId===e.freeBetsId)]=e,this._updateSource.next(e)}add(e){this._list.find(i=>i.freeBetsId===e.freeBetsId)||(this._list.push(e),this._updateSource.next(e))}remove(e){const i=this._list.findIndex(r=>r.freeBetsId===e.freeBetsId);this._list.splice(i,1),this._updateSource.next(e)}activate(e=null){e!==this._activeId&&(this._activeId=e,this._activateSource.next(e))}onClaim(){this.connector.request(Fi.FreeBetFinish,{freeBetsId:this.activeFreeBet.freeBetsId})}onManage(){this.modal.open(si.freeBets)}}return n.\u0275fac=function(e){return new(e||n)(Fe(Is),Fe(ki),Fe(Aa))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p8=(()=>{class n{constructor(){this.history=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Su=(()=>(function(n){n[n.xs=0]="xs",n[n.sm=576]="sm",n[n.md=768]="md",n[n.lg=992]="lg",n[n.xl=1200]="xl",n[n.xl1300=1300]="xl1300",n[n.xxl=1400]="xxl"}(Su||(Su={})),Su))();function Js(n,t=iv){return function ehe(n){return Ve((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(ae(e,c=>{i=!0,r=c,o||Et(n(c)).subscribe(o=ae(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>hh(n,t))}let Vv=(()=>{class n{constructor(e){this.zone=e,this.AUDIT_TIME=100,this.resizeSubject=new Xn(this.getSize()),this._size$=this.resizeSubject.asObservable(),this.zone.runOutsideAngular(()=>{Ti(window,"resize").pipe(ye(()=>this.getSize()),Js(this.AUDIT_TIME)).subscribe(i=>this.zone.run(()=>this.resizeSubject.next(i)))})}get onResize$(){return this._size$}manualEmitResizeEvent(){setTimeout(()=>{this.resizeSubject.next(this.getSize())})}getSize(){return{width:window.innerWidth,height:window.innerHeight}}isSmallScreen(){return this.getSize().width>=Su.md}}return n.\u0275fac=function(e){return new(e||n)(Fe(Wn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zx=(()=>{class n{constructor(){this.fakeElem=null,this.container=document.body}copyToClipBoard(e){this.createFake(e),this.select(this.fakeElem),this.copyText(),this.removeFake()}select(e){e.select(),e.setSelectionRange(0,e.value.length)}copyText(){document.execCommand("copy")}createFake(e){const i="rtl"===document.documentElement.getAttribute("dir");this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[i?"right":"left"]="-9999px";const r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=`${r}px`,this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=e,this.container.appendChild(this.fakeElem)}removeFake(){this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null),window.getSelection().removeAllRanges()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qs=(()=>{class n{constructor(e,i,r,o){this.app=e,this.window=i,this.clipBoard=r,this.bsMessage=o,this._isOpen=!1,this._top10Gifs=[],this.tagUserSubject=new Le,this._openSubject=new Xn(!1),this.isOpen$=this._openSubject.asObservable()}init(e){if(this.app.config.chat.isEnabled){const i=this.window.getSize().width;i>=Su.md&&(this.isOpen=!(i<Su.xl1300&&i>=Su.lg)),this.messages=function Yte(n,t){return n.slice(Math.max(n.length-t,0))}(e.chatHistory,this.app.config.chat.maxMessages),this._top10Gifs=YO(e.chatSettings.top10Gifs)}}get isOpen(){return this._isOpen}set isOpen(e){this._isOpen!==e&&(this._isOpen=e,this._openSubject.next(e),this.window.manualEmitResizeEvent())}shareBet(e){this.clipBoard.copyToClipBoard(`/share_bet:${e} `),this.bsMessage.add({value:"copied-for-chat",context:Xi.success,lifeTime:1e3,closable:!1})}tagUser(e){this.tagUserSubject.next(`@${e} `)}get onTagUser(){return this.tagUserSubject.asObservable()}get top10Gifs(){return this._top10Gifs}}return n.\u0275fac=function(e){return new(e||n)(Fe(en),Fe(Vv),Fe(zx),Fe(Aa))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cE=(()=>{class n{constructor(e){this.connector=e,this.inited=!1,this.isSendInitialize=!1,this.stopAutoBetSubject=new Le,this.stopAutoBet$=this.stopAutoBetSubject.asObservable(),this.sendPostMessage=(i,r)=>{try{parent.postMessage({name:i,status:r},"*")}catch(o){}},this.sendActionPostMessage=(i,r)=>{try{parent.postMessage({action:i,data:r},"*")}catch(o){}}}setup(){this.inited||(this.inited=!0,Ti(window,"message").pipe(Lt(e=>"updatebalance"===e.data.name)).subscribe(()=>{this.updateBalanceHandler()}),Ti(window,"message").pipe(Lt(e=>"stopAutospins"===e.data.name)).subscribe(()=>{this.stopAutoGameHandler()}))}stopAutoGameHandler(){this.stopAutoBetSubject.next()}updateBalanceHandler(){this.connector.request(Fi.UpdateBalance,null)}sendClosed(){!this.inited||this.sendPostMessage("gameStatus","closed")}sendBackToHome(e){!this.inited||this.sendActionPostMessage("backToHome",e)}sendInitialized(){!this.inited||this.isSendInitialize||(this.isSendInitialize=!0,this.sendPostMessage("gameStatus","initialized"))}}return n.\u0275fac=function(e){return new(e||n)(Fe(ki))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$x=(()=>{class n{constructor(e){this.zone=e,this.windowGrecaptcha="grecaptcha",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com"}registerCaptchaScript(e,i,r,o){if(this.grecaptchaScriptLoaded())return void this.zone.run(()=>{r(window[this.windowGrecaptcha])});window[this.windowOnLoadCallbackProperty]=()=>this.zone.run(r.bind(this,window[this.windowGrecaptcha]));const s=document.createElement("script");s.innerHTML="",s.src=this.getCaptchaScriptUrl(e,i,o),s.async=!0,s.defer=!0,document.getElementsByTagName("head")[0].appendChild(s)}cleanup(){window[this.windowOnLoadCallbackProperty]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(){return!(!window[this.windowOnLoadCallbackProperty]||!window[this.windowGrecaptcha])}getLanguageParam(e){return e?`&hl=${e}`:""}getCaptchaScriptUrl(e,i,r){return`https://www.${e?this.globalDomain:this.defaultDomain}/recaptcha/api.js?onload=${this.windowOnLoadCallbackProperty}&render=${i}${this.getLanguageParam(r)}`}}return n.\u0275fac=function(e){return new(e||n)(Fe(Wn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),g8=(()=>{class n{constructor(e,i){this.scriptService=e,this.zone=i}execute(e,i,r,o,s){this.executeAsPromise(e,i,o).then(r).catch(a=>s?s(a):console.error(a))}executeAsPromise(e,i,r){return new Promise((o,s)=>{this.scriptService.registerCaptchaScript(!(!r||!r.useGlobalDomain),e,c=>{this.zone.runOutsideAngular(()=>{try{c.execute(e,{action:i}).then(u=>this.zone.run(()=>o(u)))}catch(u){s(u)}})})})}}return n.\u0275fac=function(e){return new(e||n)(Fe($x),Fe(Wn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),the=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({providers:[$x,g8],imports:[[Tt]]}),n})(),Dc=(()=>{class n{constructor(){this.bets=[],this.cancelBetsSubject=new Le,this.cancelBets$=this.cancelBetsSubject.asObservable(),this.betSettedSubject=new Le,this.betSetted$=this.betSettedSubject.asObservable()}getBets(){return this.bets}getBet(e){return this.bets.find(i=>i.betId===e)}setBet(e){this.isBetSetted||this.betSettedSubject.next(!0),this.bets=this.bets.filter(i=>i.betId!==e.betId),this.bets.push(e)}removeBet(e){this.bets=this.bets.filter(i=>i.betId!==e),this.isBetSetted||this.betSettedSubject.next(!1)}get isBetSetted(){return this.bets.length>0}restoreBets(e){e&&Array.isArray(e)&&e.forEach(i=>{this.setBet({betId:i.betId,preBet:!1,data:i})})}cancelBets(){this.cancelBetsSubject.next()}isWinCelebrated(e,i){return void 0===i||e>i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ur(n,t,e){const i=b(n)||t||e?{next:n,error:t,complete:e}:n;return i?Ve((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(ae(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):ue}var Ch=(()=>(function(n){n[n.Low=1]="Low",n[n.Medium=2]="Medium",n[n.High=10]="High"}(Ch||(Ch={})),Ch))(),Zg=(()=>(function(n){n.Low="#999999",n.Medium="#913EF8",n.High="#C017B4"}(Zg||(Zg={})),Zg))();class nhe{getString(t){return t<Ch.Medium?Zg.Low:t<Ch.High?Zg.Medium:Zg.High}getHex(t){return As(this.getString(t))}}let uE=(()=>{class n{constructor(e,i){this.connector=e,this.main=i,this._startingValue=1,this.levelColor=new nhe,this.dataSubject=new Xn({currentMultiplier:1}),this.data$=this.dataSubject.asObservable(),this.connector.response(pn.X,200).pipe(ur(r=>{r.x<this.dataSubject.getValue().currentMultiplier&&function Bee(n,t){var e="string"==typeof t?t:void 0,i="string"!=typeof t?{captureContext:t}:void 0;(0,Br.Gd)().captureMessage(n,e,i)}("The new x is less than the previous x in the current round")}),Lt(r=>r.x>this.dataSubject.getValue().currentMultiplier)).subscribe(r=>{mxx&&this.dataSubject.next({currentMultiplier:r.x})}),this.connector.response(pn.CurrentMultiplier,200).pipe(Lt(r=>r.currentPayout>this.dataSubject.getValue().currentMultiplier)).subscribe(r=>{this.dataSubject.next({currentMultiplier:r.currentPayout})}),this.main.getState(ir.Run).subscribe(()=>this.dataSubject.next({currentMultiplier:1}))}init(e){this._startingValue=e.currentMultiplier?e.currentMultiplier:1}get startingValue(){const e=this._startingValue;return this._startingValue=1,e}}return n.\u0275fac=function(e){return new(e||n)(Fe(ki),Fe(Ui))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const{isArray:ihe}=Array;function _8(n){return 1===n.length&&ihe(n[0])?n[0]:n}function m8(...n){return 1===(n=_8(n)).length?Et(n[0]):new le(function rhe(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(Et(n[i]).subscribe(ae(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))}function Wv(...n){const t=ha(n),e=Vi(n),{args:i,keys:r}=i8(n);if(0===i.length)return ri([],t);const o=new le(function ohe(n,t,e=ue){return i=>{v8(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)v8(t,()=>{const c=ri(n[l],t);let u=!1;c.subscribe(ae(i,y=>{o[l]=y,u||(u=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>r8(r,s):ue));return e?o.pipe(KO(e)):o}function v8(n,t,e){n?vs(e,n,t):t()}function hE(...n){const t=Vi(n),e=_8(n);return e.length?new le(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)Et(e[s]).subscribe(ae(i,a=>{if(r[s].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):nt}function Th(...n){const t=ha(n);return Ve((e,i)=>{(t?ph(n,e,t):ph(n,e)).subscribe(i)})}function ef(n,t=ue){return n=null!=n?n:ahe,Ve((e,i)=>{let r,o=!0;e.subscribe(ae(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function ahe(n,t){return n===t}function Xx(...n){const t=Vi(n);return Ve((e,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)Et(n[l]).subscribe(ae(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(ue))&&(s=null))},M));e.subscribe(ae(i,l=>{if(a){const c=[l,...o];i.next(t?t(...c):c)}}))})}new le(M);let b8=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(X(Ms),X(Ci))},n.\u0275dir=wt({type:n}),n})(),tf=(()=>{class n extends b8{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=fo(n)))(i||n)}}(),n.\u0275dir=wt({type:n,features:[Si]}),n})();const Ds=new un("NgValueAccessor"),uhe={provide:Ds,useExisting:In(()=>Cu),multi:!0},dhe=new un("CompositionEventMode");let Cu=(()=>{class n extends b8{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function hhe(){const n=mc()?mc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(X(Ms),X(Ci),X(dhe,8))},n.\u0275dir=wt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Ce("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[ei([uhe]),Si]}),n})();function S8(n){return null!=n&&"number"==typeof n.length}const ls=new un("NgValidators"),Oh=new un("NgAsyncValidators");function dE(n){return null}function R8(n){return null!=n}function I8(n){const t=xm(n)?ri(n):n;return vM(t),t}function D8(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function N8(n,t){return t.map(e=>e(n))}function k8(n){return n.map(t=>function phe(n){return!n.validate}(t)?t:e=>t.validate(e))}function qx(n){return null!=n?function F8(n){if(!n)return null;const t=n.filter(R8);return 0==t.length?null:function(e){return D8(N8(e,t))}}(k8(n)):null}function Kx(n){return null!=n?function B8(n){if(!n)return null;const t=n.filter(R8);return 0==t.length?null:function(e){return Fx(N8(e,t).map(I8)).pipe(ye(D8))}}(k8(n)):null}function L8(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Jx(n){return n?Array.isArray(n)?n:[n]:[]}function fE(n,t){return Array.isArray(n)?n.includes(t):n===t}function j8(n,t){const e=Jx(t);return Jx(n).forEach(r=>{fE(e,r)||e.push(r)}),e}function H8(n,t){return Jx(t).filter(e=>!fE(n,e))}class V8{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=qx(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Kx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class wh extends V8{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ns extends V8{get formDirective(){return null}get path(){return null}}let ks=(()=>{class n extends class W8{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(X(wh,2))},n.\u0275dir=wt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&vt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Si]}),n})();function Yv(n,t){(function eA(n,t){const e=function U8(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(L8(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function G8(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(L8(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();mE(t._rawValidators,r),mE(t._rawAsyncValidators,r)})(n,t),t.valueAccessor.writeValue(n.value),function Che(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&z8(n,t)})}(n,t),function Mhe(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function The(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&z8(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function She(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function mE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function z8(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function iA(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const zv="VALID",yE="INVALID",e_="PENDING",$v="DISABLED";function oA(n){return(bE(n)?n.validators:n)||null}function q8(n){return Array.isArray(n)?qx(n):n||null}function sA(n,t){return(bE(t)?t.asyncValidators:n)||null}function K8(n){return Array.isArray(n)?Kx(n):n||null}function bE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const aA=n=>n instanceof cA;function Q8(n){return(n=>n instanceof tG)(n)?n.value:n.getRawValue()}function Z8(n,t){const e=aA(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new Gt(1e3,"");if(!i[t])throw new Gt(1001,"")}function eG(n,t){aA(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new Gt(1002,"")})}class lA{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=q8(this._rawValidators),this._composedAsyncValidatorFn=K8(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===zv}get invalid(){return this.status===yE}get pending(){return this.status==e_}get disabled(){return this.status===$v}get enabled(){return this.status!==$v}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=q8(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=K8(t)}addValidators(t){this.setValidators(j8(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(j8(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(H8(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(H8(t,this._rawAsyncValidators))}hasValidator(t){return fE(this._rawValidators,t)}hasAsyncValidator(t){return fE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=e_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=$v,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=zv,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zv||this.status===e_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$v:zv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=e_,this._hasOwnPendingAsyncValidator=!0;const e=I8(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function xhe(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=aA(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof Rhe)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Yt,this.statusChanges=new Yt}_calculateStatus(){return this._allControlsDisabled()?$v:this.errors?yE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(e_)?e_:this._anyControlsHaveStatus(yE)?yE:zv}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){bE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class tG extends lA{constructor(t=null,e,i){super(oA(e),sA(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bE(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){iA(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){iA(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class cA extends lA{constructor(t,e,i){super(oA(e),sA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){eG(this,t),Object.keys(t).forEach(i=>{Z8(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=Q8(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Rhe extends lA{constructor(t,e,i){super(oA(e),sA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){eG(this,t),t.forEach((i,r)=>{Z8(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>Q8(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Nhe={provide:wh,useExisting:In(()=>cs)},rG=(()=>Promise.resolve(null))();let cs=(()=>{class n extends wh{constructor(e,i,r,o,s){super(),this._changeDetectorRef=s,this.control=new tG,this._registered=!1,this.update=new Yt,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function nA(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Cu?e=o:function Phe(n){return Object.getPrototypeOf(n.constructor)===tf}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function tA(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){rG.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;rG.then(()=>{var o;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(e){return this._parent?function gE(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(X(Ns,9),X(ls,10),X(Oh,10),X(Ds,10),X(Tn,8))},n.\u0275dir=wt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ei([Nhe]),Si,Uo]}),n})(),sG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({}),n})();const hA=new un("NgModelWithFormControlWarning");function pG(n){return"number"==typeof n?n:parseInt(n,10)}let nf=(()=>{class n{constructor(){this._validator=dE}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):dE,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=wt({type:n,features:[Uo]}),n})();const ide={provide:ls,useExisting:In(()=>t_),multi:!0};let t_=(()=>{class n extends nf{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>pG(e),this.createValidator=e=>function P8(n){return t=>function Mh(n){return null==n||0===n.length}(t.value)||!S8(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=fo(n)))(i||n)}}(),n.\u0275dir=wt({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&Zn("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[ei([ide]),Si]}),n})();const rde={provide:ls,useExisting:In(()=>n_),multi:!0};let n_=(()=>{class n extends nf{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>pG(e),this.createValidator=e=>function x8(n){return t=>S8(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=fo(n)))(i||n)}}(),n.\u0275dir=wt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&Zn("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ei([rde]),Si]}),n})(),EG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[sG]]}),n})(),Zs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[EG]}),n})(),SG=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:hA,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[EG]}),n})();const fde=["*"],Rde=["dialog"];function rf(n){return null!=n}function i_(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const TG={animation:!0,transitionTimerDelayMs:5},Ofe=()=>{},{transitionTimerDelayMs:wfe}=TG,qv=new Map,Fs=(n,t,e,i)=>{let r=i.context||{};const o=qv.get(t);if(o)switch(i.runningTransition){case"continue":return nt;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),qv.delete(t)}const s=e(t,i.animation,r)||Ofe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>s()),$t(void 0).pipe(function Tfe(n){return t=>new le(e=>t.subscribe({next:s=>n.run(()=>e.next(s)),error:s=>n.run(()=>e.error(s)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new Le,l=new Le,c=a.pipe(function she(...n){return t=>ph(t,$t(...n))}(!0));qv.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function Mfe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const y=Ti(t,"transitionend").pipe(gr(c),Lt(({target:P})=>P===t));m8(hh(u+wfe).pipe(gr(c)),y,l).pipe(gr(c)).subscribe(()=>{qv.delete(t),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let SE=(()=>{class n{constructor(){this.animation=TG.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),RG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),DG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({}),n})(),FG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),BG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({}),n})();var Eo=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Eo||(Eo={})),Eo))();const TE=(n,t)=>!!t&&t.some(e=>e.contains(n)),LG=(n,t)=>!t||null!=function Cfe(n,t){return t&&void 0!==n.closest?n.closest(t):null}(n,t),Yfe="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const UG=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function GG(n){const t=Array.from(n.querySelectorAll(UG)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const Kfe=/\s+/,jG=new class qfe{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const o=this.offsetParent(t);i=this.offset(t,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),r_top=window.scrollY-document.documentElement.clientTop,r_left=window.scrollX-document.documentElement.clientLeft;let o={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,i,r){const[o="top",s="center"]=i.split("-"),a=r?this.offset(t,!1):this.position(t,!1),l=this.getAllStyles(e),c=parseFloat(l.marginTop),u=parseFloat(l.marginBottom),y=parseFloat(l.marginLeft),O=parseFloat(l.marginRight);let P=0,I=0;switch(o){case"top":P=a.top-(e.offsetHeight+c+u);break;case"bottom":P=a.top+a.height;break;case"left":I=a.left-(e.offsetWidth+y+O);break;case"right":I=a.left+a.width}switch(s){case"top":P=a.top;break;case"bottom":P=a.top+a.height-e.offsetHeight;break;case"left":I=a.left;break;case"right":I=a.left+a.width-e.offsetWidth;break;case"center":"top"===o||"bottom"===o?I=a.left+a.width/2-e.offsetWidth/2:P=a.top+a.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(I)}px, ${Math.round(P)}px)`;const D=e.getBoundingClientRect(),B=document.documentElement,Y=window.innerHeight||B.clientHeight,q=window.innerWidth||B.clientWidth;return D.left>=0&&D.top>=0&&D.right<=q&&D.bottom<=Y}};new Date(1882,10,12),new Date(2174,10,25);let $G=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,Zs]]}),n})(),spe=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=wt({type:n,selectors:[["",8,"navbar"]]}),n})(),PE=(()=>{class n{constructor(e){this.elementRef=e,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e}get disabled(){return this._disabled}}return n.\u0275fac=function(e){return new(e||n)(X(Ci))},n.\u0275dir=wt({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(e,i){2&e&&vt("disabled",i.disabled)},inputs:{disabled:"disabled"}}),n})(),xE=(()=>{class n{constructor(e,i){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(X(In(()=>cf)),X(Ci))},n.\u0275dir=wt({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,i,r){if(1&e&&Yr(r,PE,4),2&e){let o;Hn(o=Vn())&&(i.menuItems=o)}},hostVars:5,hostBindings:function(e,i){1&e&&Ce("keydown.ArrowUp",function(o){return i.dropdown.onKeyDown(o)})("keydown.ArrowDown",function(o){return i.dropdown.onKeyDown(o)})("keydown.Home",function(o){return i.dropdown.onKeyDown(o)})("keydown.End",function(o){return i.dropdown.onKeyDown(o)})("keydown.Enter",function(o){return i.dropdown.onKeyDown(o)})("keydown.Space",function(o){return i.dropdown.onKeyDown(o)})("keydown.Tab",function(o){return i.dropdown.onKeyDown(o)})("keydown.Shift.Tab",function(o){return i.dropdown.onKeyDown(o)}),2&e&&(Zn("x-placement",i.placement),vt("dropdown-menu",!0)("show",i.dropdown.isOpen()))}}),n})(),AE=(()=>{class n{constructor(e,i){this.dropdown=e,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(X(In(()=>cf)),X(Ci))},n.\u0275dir=wt({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){2&e&&Zn("aria-expanded",i.dropdown.isOpen())}}),n})(),OA=(()=>{class n extends AE{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(X(In(()=>cf)),X(Ci))},n.\u0275dir=wt({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){1&e&&Ce("click",function(){return i.dropdown.toggle()})("keydown.ArrowUp",function(o){return i.dropdown.onKeyDown(o)})("keydown.ArrowDown",function(o){return i.dropdown.onKeyDown(o)})("keydown.Home",function(o){return i.dropdown.onKeyDown(o)})("keydown.End",function(o){return i.dropdown.onKeyDown(o)})("keydown.Tab",function(o){return i.dropdown.onKeyDown(o)})("keydown.Shift.Tab",function(o){return i.dropdown.onKeyDown(o)}),2&e&&Zn("aria-expanded",i.dropdown.isOpen())},features:[ei([{provide:AE,useExisting:In(()=>n)}]),Si]}),n})(),cf=(()=>{class n{constructor(e,i,r,o,s,a,l){this._changeDetector=e,this._document=r,this._ngZone=o,this._elementRef=s,this._renderer=a,this._closed$=new Le,this._bodyContainer=null,this._open=!1,this.openChange=new Yt,this.placement=i.placement,this.container=i.container,this.autoClose=i.autoClose,this.display=l?"static":"dynamic",this._zoneSubscription=o.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(fi(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses(),e.dropdownClass){const{currentValue:i,previousValue:r}=e.dropdownClass;this._applyCustomDropdownClass(i,r)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){!function $fe(n,t,e,i,r,o,s,a){e&&n.runOutsideAngular((n=>Yfe?()=>setTimeout(()=>n(),100):n)(()=>{const c=Ti(t,"keydown").pipe(gr(r),Lt(O=>O.which===Eo.Escape),ur(O=>O.preventDefault())),u=Ti(t,"mousedown").pipe(ye(O=>{const P=O.target;return 2!==O.button&&!TE(P,s)&&("inside"===e?TE(P,o)&&LG(P,a):"outside"===e?!TE(P,o):LG(P,a)||!TE(P,o))}),gr(r)),y=Ti(t,"mouseup").pipe(Xx(u),Lt(([O,P])=>P),vL(0),gr(r));m8([c.pipe(ye(O=>0)),y.pipe(ye(O=>1))]).subscribe(O=>n.run(()=>i(O)))}))}(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(e){const i=e.which,r=this._getMenuElements();let o=-1,s=null;const a=this._isEventFromToggle(e);if(!a&&r.length&&r.forEach((l,c)=>{l.contains(e.target)&&(s=l),l===this._document.activeElement&&(o=c)}),i!==Eo.Space&&i!==Eo.Enter){if(i!==Eo.Tab){if(a||s){if(this.open(),r.length){switch(i){case Eo.ArrowDown:o=Math.min(o+1,r.length-1);break;case Eo.ArrowUp:if(this._isDropup()&&-1===o){o=r.length-1;break}o=Math.max(o-1,0);break;case Eo.Home:o=0;break;case Eo.End:o=r.length-1}r[o].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const l=this._menu.nativeElement.querySelectorAll(UG);e.shiftKey&&e.target===l[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===l[l.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Ti(e.target,"focusout").pipe(fi(1)).subscribe(({relatedTarget:l})=>{this._elementRef.nativeElement.contains(l)||this.close()})}}else s&&(!0===this.autoClose||"inside"===this.autoClose)&&Ti(s,"click").pipe(fi(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(i=>!i.disabled).map(i=>i.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&this._applyPlacementClasses("dynamic"===this.display?function Jfe(n,t,e,i,r){let o=Array.isArray(e)?e:e.split(Kfe);const s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=t.classList,l=P=>{const[I,D]=P.split("-"),B=[];return r&&(B.push(`${r}-${I}`),D&&B.push(`${r}-${I}-${D}`),B.forEach(Y=>{a.add(Y)})),B};r&&s.forEach(P=>{a.remove(`${r}-${P}`)});let c=o.findIndex(P=>"auto"===P);c>=0&&s.forEach(function(P){null==o.find(I=>-1!==I.search("^"+P))&&o.splice(c++,1,P)});const u=t.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";let y=null,O=!1;for(y of o){let P=l(y);if(jG.positionElements(n,t,y,i)){O=!0;break}r&&P.forEach(I=>{a.remove(I)})}return O||(y=o[0],l(y),jG.positionElements(n,t,y,i)),y}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;if(this._menu){const r=this._menu.nativeElement;e.appendChild(this._elementRef.nativeElement,r),e.removeStyle(r,"position"),e.removeStyle(r,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const i=this._renderer,r=this._menu.nativeElement,o=this._bodyContainer=this._bodyContainer||i.createElement("div");i.setStyle(o,"position","absolute"),i.setStyle(r,"position","static"),i.setStyle(o,"z-index","1050"),i.appendChild(o,r),i.appendChild(this._document.body,o)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,i){const r="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;r&&(i&&this._renderer.removeClass(r,i),e&&this._renderer.addClass(r,e))}_applyPlacementClasses(e){const i=this._menu;if(i){e||(e=this._getFirstPlacement(this.placement));const r=this._renderer,o=this._elementRef.nativeElement;r.removeClass(o,"dropup"),r.removeClass(o,"dropdown"),i.placement="static"===this.display?null:e;const s=-1!==e.search("^top")?"dropup":"dropdown";r.addClass(o,s);const a=this._bodyContainer;a&&(r.removeClass(a,"dropup"),r.removeClass(a,"dropdown"),r.addClass(a,s))}}}return n.\u0275fac=function(e){return new(e||n)(X(Tn),X(spe),X(nr),X(Wn),X(Ci),X(Ms),X(XG,8))},n.\u0275dir=wt({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(e,i,r){if(1&e&&(Yr(r,xE,5),Yr(r,AE,5)),2&e){let o;Hn(o=Vn())&&(i._menu=o.first),Hn(o=Vn())&&(i._anchor=o.first)}},hostVars:2,hostBindings:function(e,i){2&e&&vt("show",i.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[Uo]}),n})(),qG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({}),n})();class uf{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let ape=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(fi(1)).subscribe(()=>{Fs(this._zone,this._el.nativeElement,(e,i)=>{i&&i_(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Fs(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(X(Ci),X(Wn))},n.\u0275cmp=et({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(gd("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),vt("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class So{close(t){}dismiss(t){}}class lpe{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Le,this._dismissed=new Le,this._hidden=new Le,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(gr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(gr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function Sfe(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():$t(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),hE(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Zv=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Zv||(Zv={})),Zv))();let cpe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Le,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Yt,this.shown=new Le,this.hidden=new Le}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(fi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=hE(Fs(this._zone,e,()=>e.classList.remove("show"),i),Fs(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"},i=Fs(this._zone,this._elRef.nativeElement,(o,s)=>{s&&i_(o),o.classList.add("show")},e);hE(i,Fs(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Ti(e,"keydown").pipe(gr(this._closed$),Lt(r=>r.which===Eo.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Zv.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Ti(this._dialogEl.nativeElement,"mousedown").pipe(gr(this._closed$),ur(()=>i=!1),nl(()=>Ti(e,"mouseup").pipe(gr(this._closed$),fi(1))),Lt(({target:r})=>e===r)).subscribe(()=>{i=!0}),Ti(e,"click").pipe(gr(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Zv.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=GG(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Fs(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(X(nr),X(Ci),X(Wn))},n.\u0275cmp=et({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&mo(Rde,7),2&e){let r;Hn(r=Vn())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(Zn("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),gd("modal d-block"+(i.windowClass?" "+i.windowClass:"")),vt("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:fde,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(Am(),x(0,"div",0,1)(2,"div",2),Rm(3),R()()),2&e&&gd("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const upe=()=>{};let hpe=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):upe}_adjustBody(e){const i=this._document.body,r=i.style.paddingRight,o=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${o+e}px`,()=>i.style["padding-right"]=r}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const r=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),r}}return n.\u0275fac=function(e){return new(e||n)(Fe(nr))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dpe=(()=>{class n{constructor(e,i,r,o,s,a){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=o,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new Le,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new Yt,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Ti(t,"focusin").pipe(gr(e),ye(o=>o.target));Ti(t,"keydown").pipe(gr(e),Lt(o=>o.which===Eo.Tab),Xx(r)).subscribe(([o,s])=>{const[a,l]=GG(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Ti(t,"click").pipe(gr(e),Xx(r),ye(o=>o[1])).subscribe(o=>o.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}open(e,i,r,o){const s=o.container instanceof HTMLElement?o.container:rf(o.container)?this._document.querySelector(o.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.compensate(),c=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);const u=new So,y=this._getContentRef(e,o.injector||i,r,u,o);let O=!1!==o.backdrop?this._attachBackdrop(e,s):void 0,P=this._attachWindowComponent(e,s,y),I=new lpe(P,y,O,o.beforeDismiss);return this._registerModalRef(I),this._registerWindowCmpt(P),I.result.then(l,l),I.result.then(c,c),u.close=D=>{I.close(D)},u.dismiss=D=>{I.dismiss(D)},this._applyWindowOptions(P.instance,o),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),O&&O.instance&&(this._applyBackdropOptions(O.instance,o),O.changeDetectorRef.detectChanges()),P.changeDetectorRef.detectChanges(),I}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let o=e.resolveComponentFactory(ape).create(this._injector);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_attachWindowComponent(e,i,r){let s=e.resolveComponentFactory(cpe).create(this._injector,r.nodes);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{rf(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{rf(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,o,s){return r?r instanceof fr?this._createFromTemplateRef(r,o):function CG(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,s):new uf([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new uf([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new uf([[i]])}_createFromComponent(e,i,r,o,s){const a=e.resolveComponentFactory(r),l=Zr.create({providers:[{provide:So,useValue:o}],parent:i}),c=a.create(l),u=c.location.nativeElement;return s.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new uf([[u]],c.hostView,c)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(Fe(vb),Fe(Zr),Fe(nr),Fe(hpe),Fe(hg),Fe(Wn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fpe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(Fe(SE))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RE=(()=>{class n{constructor(e,i,r,o){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=o}open(e,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(Fe(cg),Fe(Zr),Fe(dpe),Fe(fpe))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({providers:[RE]}),n})(),e6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),l6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),u6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),h6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),d6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),f6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),p6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),g6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({}),n})();new un("live announcer delay",{providedIn:"root",factory:function Ope(){return 100}});let _6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})();const wpe=[AG,RG,DG,FG,BG,$G,qG,KG,e6,l6,u6,h6,d6,f6,p6,g6,_6];let Mu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[wpe,AG,RG,DG,FG,BG,$G,qG,KG,e6,l6,u6,h6,d6,f6,p6,g6,_6]}),n})(),AA=(()=>{class n{constructor(e,i){this.elRef=e,this.multiplierService=i}ngAfterViewInit(){this.elRef.nativeElement.style.color=this.multiplierService.levelColor.getString(this.elRef.nativeElement.textContent.replace("x",""))}}return n.\u0275fac=function(e){return new(e||n)(X(Ci),X(uE))},n.\u0275dir=wt({type:n,selectors:[["","appColoredMultiplier",""]]}),n})();const Ppe=function(n,t){return{padding:n,borderRadius:t}};let kc=(()=>{class n{constructor(){this.multiplier=1,this.padding="2px 11px",this.borderRadius="11px"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-bubble-multiplier"]],inputs:{multiplier:"multiplier",padding:"padding",borderRadius:"borderRadius"},decls:2,vars:5,consts:[["appColoredMultiplier","",1,"bubble-multiplier","font-weight-bold",3,"ngStyle"]],template:function(e,i){1&e&&(x(0,"div",0),H(1),R()),2&e&&(V("ngStyle",ba(2,Ppe,i.padding,i.borderRadius)),A(1),me(" ",i.multiplier.toFixed(2),"x\n"))},directives:[AA,Ed],styles:[".bubble-multiplier[_ngcontent-%COMP%]{background-color:#00000080}"]}),n})(),Ou=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-loader"]],inputs:{size:"size"},decls:1,vars:1,consts:[[1,"loader",3,"ngClass"]],template:function(e,i){1&e&&ve(0,"div",0),2&e&&V("ngClass",i.size)},directives:[Ul],styles:[".loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:after{border-radius:50%;width:30px;height:30px}.loader[_ngcontent-%COMP%]{margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;border-top:3px solid rgba(208,2,27,.2);border-right:3px solid rgba(208,2,27,.2);border-bottom:3px solid rgba(208,2,27,.2);border-left:3px solid #d0021b;transform:translateZ(0);-webkit-animation:load8 1.1s infinite linear;animation:load8 1.1s infinite linear}.loader.small[_ngcontent-%COMP%]{margin:5px auto}@-webkit-keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();function xpe(n,t){if(1&n&&(x(0,"div",12)(1,"div",13),ve(2,"app-bubble-multiplier",14),R(),x(3,"div",15),H(4),ce(5,"date"),R()()),2&n){const e=ee();A(2),V("multiplier",e.fairnessData.result),A(2),me(" ",tn(5,2,e.fairnessData.roundStartDate,"HH:mm:ss")," ")}}const Ape=function(n){return{value:n}};function Rpe(n,t){if(1&n&&(x(0,"div",23)(1,"div",36)(2,"span",37),H(3," shared.modals.fairness.player "),R(),x(4,"div",38),ve(5,"img",39),H(6),R()(),x(7,"div",40)(8,"span",21),H(9,"shared.modals.fairness.seed"),R(),x(10,"div",41),H(11),R()()()),2&n){const e=ee(),i=e.index,r=e.$implicit,o=ee(2);A(2),V("translateParams",Fr(5,Ape,i+1)),A(3),V("src",o.getAvatar(r),fn)("alt",o.getAvatar(r)),A(1),me(" ",o.app.getFormattedUsername(r.username)," "),A(5),me(" ",r.seed," ")}}function Ipe(n,t){if(1&n&&(x(0,"div"),Z(1,Rpe,12,7,"div",35),R()),2&n){const e=t.$implicit;ee();const i=go(22);A(1),V("ngIf",e)("ngIfElse",i)}}function Dpe(n,t){1&n&&(x(0,"div",42),H(1," shared.modals.fairness.not enough "),R())}function Npe(n,t){if(1&n){const e=dt();x(0,"div",16)(1,"div",17)(2,"div",18),ve(3,"div",19),x(4,"div",20)(5,"span",21),H(6,"shared.modals.fairness.server seed"),R(),x(7,"div",22),H(8,"shared.modals.fairness.server tip"),R()()(),x(9,"div",23)(10,"input",24,25),Ce("ngModelChange",function(r){return it(e),ee().fairnessData.serverSeed=r})("click",function(){it(e);const r=go(11);return ee().onSelect(r)}),R()()(),x(12,"div",26)(13,"div",18),ve(14,"div",27),x(15,"div",20)(16,"span",21),H(17,"shared.modals.fairness.client seed"),R(),x(18,"div",22),H(19,"shared.modals.fairness.client tip"),R()()(),Z(20,Ipe,2,2,"div",28),Z(21,Dpe,2,0,"ng-template",null,29,Ea),R(),x(23,"div",30)(24,"div",18),ve(25,"div",31),x(26,"div",20)(27,"span",21),H(28,"shared.modals.fairness.hash"),R(),x(29,"div",22),H(30,"shared.modals.fairness.hash tip"),R()()(),x(31,"div",23)(32,"input",24,32),Ce("ngModelChange",function(r){return it(e),ee().fairnessData.seedSHA256=r})("click",function(){it(e);const r=go(33);return ee().onSelect(r)}),R()()(),x(34,"div",33)(35,"div",18)(36,"span",21),H(37,"shared.modals.fairness.hex"),R(),x(38,"span",21),H(39,"shared.modals.fairness.decimal"),R(),x(40,"span",21),H(41,"shared.modals.fairness.result"),R()(),x(42,"div",23)(43,"span"),H(44),R(),x(45,"span"),H(46),R(),x(47,"span"),H(48),R()()(),x(49,"div",34)(50,"div",18)(51,"span",21),H(52,"shared.modals.fairness.hex"),R()(),x(53,"div",23)(54,"span"),H(55),R()(),x(56,"div",18)(57,"span",21),H(58,"shared.modals.fairness.decimal"),R()(),x(59,"div",23)(60,"span"),H(61),R()(),x(62,"div",18)(63,"span",21),H(64,"shared.modals.fairness.result"),R()(),x(65,"div",23)(66,"span"),H(67),R()()()()}if(2&n){const e=ee();A(10),V("readonly",!0)("ngModel",e.fairnessData.serverSeed),A(10),V("ngForOf",e.players),A(12),V("readonly",!0)("ngModel",e.fairnessData.seedSHA256),A(12),yt(e.fairnessData.partSeedHexNumber),A(2),yt(e.fairnessData.partSeedDecimalNumber),A(2),yt(e.fairnessData.result),A(7),yt(e.fairnessData.partSeedHexNumber),A(6),yt(e.fairnessData.partSeedDecimalNumber),A(6),yt(e.fairnessData.result)}}function kpe(n,t){1&n&&(x(0,"div"),ve(1,"app-loader"),R())}let hf=class{constructor(t,e,i,r){this.activeModal=t,this.app=e,this.modal=i,this.connector=r,this.loaded=!1}ngOnInit(){this.connector.request(Fi.RoundFairness,{roundId:this.betId}),this.connector.response(pn.RoundFairness,200).pipe(gt(this)).subscribe(t=>{this.fairnessData=t.fairness,this.loaded=!0})}onPFModalOpen(){this.modal.open(si.whatIsPf)}onSelect(t){t.select()}get players(){const t=this.fairnessData.playerSeeds;for(let e=t.length;e<3;e++)t.push(null);return t}getAvatar(t){return Pi_avatarPath+t.profileImage+`?v=${Pi_version}`}ngOnDestroy(){this.loaded=!1}};hf.\u0275fac=function(t){return new(t||hf)(X(So),X(en),X(Is),X(ki))},hf.\u0275cmp=et({type:hf,selectors:[["app-fairness"]],decls:17,vars:7,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["class","header__info",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"content-wrapper"],["class","content",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],["translate","",1,"help"],["translate","",3,"click"],[1,"header__info"],[1,"bubble-multiplier-wrapper"],[3,"multiplier"],[1,"header__info-time"],[1,"content"],[1,"content-part"],[1,"title"],[1,"icon-server","flex-shrink-0"],[1,"text"],["translate",""],["translate","",1,"tip"],[1,"value"],["type","text",1,"value-input",3,"readonly","ngModel","ngModelChange","click"],["serverSeed",""],[1,"content-part","client","pt-3"],[1,"icon-client","flex-shrink-0"],[4,"ngFor","ngForOf"],["notEnoughBlock",""],[1,"content-part","pt-3"],[1,"icon-hash","flex-shrink-0"],["hash",""],[1,"content-part","result","result-line","pt-3"],[1,"content-part","result","result-col","pt-3"],["class","value",4,"ngIf","ngIfElse"],[1,"player"],["translate","",3,"translateParams"],[1,"user"],[1,"avatar",3,"src","alt"],[1,"seed"],[1,"seed-value","canSelect"],["translate","",1,"value","empty"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"span",1),H(2),ce(3,"translate"),R(),Z(4,xpe,6,5,"div",2),x(5,"button",3),Ce("click",function(){return e.activeModal.close()}),x(6,"span",4),H(7,"\xd7"),R()()(),x(8,"div",5)(9,"div",6),Z(10,Npe,68,11,"div",7),Z(11,kpe,2,0,"div",8),R()(),x(12,"div",9)(13,"div",10),H(14," shared.modals.fairness.help "),x(15,"span",11),Ce("click",function(){return e.onPFModalOpen()}),H(16," shared.what_is_provably_fair "),R()()()),2&t&&(A(2),pi(" ",pe(3,5,"shared.round")," ",e.betId," "),A(2),V("ngIf",e.loaded),A(6),V("ngIf",e.loaded),A(1),V("ngIf",!e.loaded))},directives:[Ht,kc,Gn,Cu,ks,cs,vi,Ou],pipes:[dn,vc],styles:[".header__info[_ngcontent-%COMP%]{font-size:14px;display:flex;justify-content:center;align-items:center;margin-right:auto;margin-left:5px}.header__info[_ngcontent-%COMP%]   .bubble-multiplier-wrapper[_ngcontent-%COMP%]{font-size:12px}.header__info[_ngcontent-%COMP%]   .header__info-time[_ngcontent-%COMP%]{padding-left:5px}.content-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-width:700px;width:100%;line-height:14px;font-size:14px;display:flex;flex-direction:column;justify-content:space-evenly;height:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;margin-bottom:8px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-server[_ngcontent-%COMP%]{width:32px;height:31px;background-image:url(server.14ac68b338b918d9.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-client[_ngcontent-%COMP%]{width:32px;height:25px;background-image:url(client.72620f2a0ac61808.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-hash[_ngcontent-%COMP%]{min-width:30px;max-width:30px;height:30px;background-image:url(hash.8df4a583745aa47b.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{margin-top:3px;color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{width:100%;border-radius:6px;background-color:#0707084d;padding:12px 20px;display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .value-input[_ngcontent-%COMP%]{width:100%;background:transparent;border:none;color:#fff}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:4px 20px;margin-bottom:5px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff80;margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{display:flex;min-width:40%;max-width:40%;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;font-weight:700;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;border:3px solid #343434;margin-right:7px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;white-space:nowrap}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{padding:12px 20px;justify-content:center;color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-line[_ngcontent-%COMP%]{display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#ffffff80;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:12px 0;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25%;text-align:center}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.modal-footer[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{color:#ffffff80;text-align:center}.modal-footer[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;color:#e30c32;cursor:pointer}@media (max-width: 991.98px){.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:auto;min-width:auto;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]{margin-top:4px;width:auto}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-line[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]{display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-bottom:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:auto}}"],data:{animation:[]}}),hf=We([oi()],hf);let Fpe=(()=>{class n{constructor(e,i){this.activeModal=e,this.app=i}}return n.\u0275fac=function(e){return new(e||n)(X(So),X(en))},n.\u0275cmp=et({type:n,selectors:[["app-what-is-pf-modal"]],decls:53,vars:39,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","modal-bottom-radius"],[1,"d-flex","justify-content-center","mb-1"],[1,"fairness-i"],[1,"text-center","mt-2","mb-1"],[1,"top-text","description","p-2","my-3"],["translate",""],[1,"text-center","text-uppercase"],["translate","",1,"description","mt-2"],["translate","",1,"mt-3"],[1,"description","mt-2"],[1,"d-flex","justify-content-center","my-sm-4"],[1,"pf-scheme"],[1,"description","mt-4"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"span",1),H(2),ce(3,"translate"),R(),x(4,"button",2),Ce("click",function(){return i.activeModal.close()}),x(5,"span",3),H(6,"\xd7"),R()()(),x(7,"div",4)(8,"div",5),ve(9,"div",6),R(),x(10,"div",7)(11,"span"),H(12),ce(13,"translate"),R()(),x(14,"div",8)(15,"span",9),H(16,"shared.modals.provably-fair.top text"),R()(),x(17,"div",10),H(18),ce(19,"translate"),R(),x(20,"div",9),H(21,"shared.modals.provably-fair.Simple"),R(),x(22,"div",11),H(23," shared.modals.provably-fair.text1 "),R(),x(24,"div",12),H(25,"shared.modals.provably-fair.more"),R(),x(26,"div",13),H(27),ce(28,"translate"),ce(29,"translate"),ce(30,"translate"),R(),x(31,"div",13),H(32),ce(33,"translate"),R(),x(34,"div",14),ve(35,"div",15),R(),x(36,"div",10),H(37),ce(38,"translate"),R(),x(39,"div",16)(40,"div"),H(41),ce(42,"translate"),R(),x(43,"div"),H(44),ce(45,"translate"),R(),x(46,"div"),H(47),ce(48,"translate"),ce(49,"translate"),R(),x(50,"div"),H(51),ce(52,"translate"),R()()()),2&e&&(A(2),me(" ",pe(3,13,"shared.what_is_provably_fair"),"? "),A(10),me(" Provably Fair - ",pe(13,15,"shared.modals.provably-fair.slogan")," "),A(6),me(" ",pe(19,17,"shared.modals.provably-fair.How does it work")," "),A(9),sg(" ",pe(28,19,"shared.modals.provably-fair.text2-1")," ",pe(29,21,"shared.modals.provably-fair.text2-2")," ",pe(30,23,"shared.modals.provably-fair.text2-3")," "),A(5),me(" ",pe(33,25,"shared.modals.provably-fair.text2-4")," "),A(5),me(" ",pe(38,27,"shared.modals.provably-fair.video title")," "),A(4),me("- ",pe(42,29,"shared.modals.provably-fair.stats-1"),""),A(3),me("- ",pe(45,31,"shared.modals.provably-fair.stats-2"),""),A(3),pi(" - ",pe(48,33,"shared.modals.provably-fair.settings-1")," ",pe(49,35,"shared.modals.provably-fair.settings-2")," "),A(4),me("- ",pe(52,37,"shared.modals.provably-fair.settings-3"),""))},directives:[Gn],pipes:[dn],styles:[".modal-body[_ngcontent-%COMP%]{background-color:#2d3c27}.modal-body[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;width:80px;height:90px}.modal-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#9ea0a3}.modal-body[_ngcontent-%COMP%]   .top-text[_ngcontent-%COMP%]{border-radius:6px;background-color:#0000004d}.modal-body[_ngcontent-%COMP%]   .pf-scheme[_ngcontent-%COMP%]{background:url(pf-scheme.69d6a1ff8a145da3.svg) no-repeat center center/contain;width:500px;height:513px}"]}),n})(),Bpe=(()=>{class n{constructor(e){this.seed=e,this.finish=new Yt,this.isSaveBtnEnabled=!0}ngOnInit(){this.seedValue=this.seed.manualSeed}handlerSave(){this.seed.manualSeed!==this.seedValue&&(this.seed.manualSeed=this.seedValue),this.finish.emit()}handlerClose(){this.finish.emit()}handlerRandom(){this.seedValue=this.seed.getRandomSeed()}validateSeedValue(e){const i=new RegExp(String.raw`^[A-Za-z0-9-]{5,}$`,"g");this.isSaveBtnEnabled=!!e.match(i)}}return n.\u0275fac=function(e){return new(e||n)(X(Yx))},n.\u0275cmp=et({type:n,selectors:[["app-seed-change"]],outputs:{finish:"finish"},decls:26,vars:11,consts:[[1,"seed-wrapper"],[1,"seed-change"],[1,"seed-header"],["translate",""],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"seed-body"],["translate","",1,"seed-body-title"],[1,"seed-value"],["type","text","title","Seed",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-warning","btn-random",3,"click"],[1,"text-uppercase"],[1,"actions"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),H(4," shared.modals.fairness-settings.seed-change.change seed "),R(),x(5,"button",4),Ce("click",function(){return i.handlerClose()}),x(6,"span",5),H(7,"\xd7"),R()()(),x(8,"div",6)(9,"div",7),H(10," shared.modals.fairness-settings.seed-change.enter new seed "),R(),x(11,"div",8)(12,"input",9),Ce("ngModelChange",function(o){return i.seedValue=o})("ngModelChange",function(o){return i.validateSeedValue(o)}),R(),x(13,"button",10),Ce("click",function(){return i.handlerRandom()}),x(14,"span",11),H(15),ce(16,"translate"),R()()(),x(17,"div",12)(18,"button",13),Ce("click",function(){return i.handlerSave()}),x(19,"span",11),H(20),ce(21,"translate"),R()(),x(22,"button",14),Ce("click",function(){return i.handlerClose()}),x(23,"span",11),H(24),ce(25,"translate"),R()()()()()()),2&e&&(A(12),V("ngModel",i.seedValue),A(3),yt(pe(16,5,"shared.random")),A(3),V("disabled",!i.isSaveBtnEnabled),A(2),yt(pe(21,7,"shared.save")),A(4),yt(pe(25,9,"shared.cancel")))},directives:[Gn,Cu,ks,cs],pipes:[dn],styles:[".seed-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(23,30,35,.8);position:absolute;top:0;left:0}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:10px;width:310px;height:210px;box-shadow:0 0 50px 4px #000000bf;display:flex;flex-direction:column;align-items:center}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;border:0;padding:0 10px;min-height:36px;max-height:36px;align-items:center;font-size:16px;background:#2c2d30;border-top-left-radius:8px;border-top-right-radius:8px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]{background:#1b1c1d;width:100%;height:100%;padding:16px 10px 20px;border-bottom-right-radius:8px;border-bottom-left-radius:8px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body-title[_ngcontent-%COMP%]{font-size:14px;margin-bottom:6px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]{position:relative;width:100%;max-width:300px;display:flex;flex-direction:column;align-items:center}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#000;border-radius:22px;border:none;padding:5px 15px;color:#fff;width:100%;height:30px;margin-bottom:12px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:0 5px;display:flex;justify-content:space-between;margin-top:18px}.btn[_ngcontent-%COMP%]{width:135px;height:30px;font-size:16px;line-height:1.2}"]}),n})();function Lpe(n,t){1&n&&(x(0,"div",34)(1,"div",35),H(2," shared.modals.fairness-settings.alert "),R()())}function Upe(n,t){if(1&n){const e=dt();x(0,"app-seed-change",36),Ce("finish",function(){return it(e),ee().changeSeed=!1}),R()}}let df=class{constructor(t,e,i,r,o,s,a){this.modal=t,this.seed=e,this.bsMessage=i,this.connector=r,this.betControl=o,this.clipboard=s,this.activeModal=a,this.changeSeed=!1,this.serverSeed=null,this.loaded=!1,this.betSetted=!1}ngOnInit(){this.betSetted=this.betControl.isBetSetted,this.connector.request(Fi.ServerSeed,null),this.connector.response(pn.ServerSeed,200).pipe(gt(this)).subscribe(t=>this.serverSeed=t.serverSeedSHA256)}onSelectClientSeedType(t){this.seed.isRandomSeed!==t&&(this.seed.isRandomSeed=t)}copySeedToClipboard(t){this.clipboard.copyToClipBoard(t),this.bsMessage.add({value:"copied",context:Xi.success,lifeTime:1e3,closable:!1})}onPFModalOpen(){this.modal.open(si.whatIsPf)}};function Gpe(n,t){if(1&n){const e=dt();x(0,"img",9),Ce("click",function(){const o=it(e).$implicit;return ee().onSaveAvatar(o.name)}),R()}if(2&n){const e=t.$implicit,i=ee();vt("active",i.user.avatar===e.name),V("src",i.getAvatar(e.name),fn)("alt",i.getAvatar(e.name))}}df.\u0275fac=function(t){return new(t||df)(X(Is),X(Yx),X(Aa),X(ki),X(Dc),X(zx),X(So))},df.\u0275cmp=et({type:df,selectors:[["app-fairness-settings"]],decls:70,vars:16,consts:[[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","fairness-disabled",4,"ngIf"],[1,"info"],["translate",""],["translate","",1,"info-link",3,"click"],[1,"question-icon"],[1,"client-seed"],[1,"client-seed-title"],[1,"client-seed-title-main"],[1,"client-icon"],[1,"client-seed-title-sub"],[1,"client-seed-type"],[3,"click"],[1,"radio"],[1,"dot"],[1,"block-key"],[1,"key-container","random"],[1,"key"],["translate","",1,"current"],[1,"copy-icon",3,"click"],[1,"block-key","d-flex"],[1,"key-container","manual","mr-lg-2","flex-grow-1"],[1,"btn","btn-success","btn-change","text-uppercase",3,"disabled","click"],[1,"server-seed"],[1,"server-seed-title"],[1,"server-icon"],[1,"server-seed-value-block"],[1,"key-container"],["translate","",1,"modal-footer"],[3,"finish",4,"ngIf"],[1,"fairness-disabled"],["translate","",1,"alert","alert-danger"],[3,"finish"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"div",1),H(2),ce(3,"translate"),R(),x(4,"button",2),Ce("click",function(){return e.activeModal.close()}),x(5,"span",3),H(6,"\xd7"),R()()(),x(7,"div",4),Z(8,Lpe,3,0,"div",5),x(9,"div",6)(10,"p",7),H(11,"shared.modals.fairness-settings.tooltip.text"),R(),x(12,"p",8),Ce("click",function(){return e.onPFModalOpen()}),ve(13,"i",9),H(14," shared.what_is_provably_fair "),R()(),x(15,"div",10)(16,"div",11)(17,"div",12),ve(18,"i",13),x(19,"span",7),H(20,"shared.modals.fairness-settings.client-part.title"),R()(),x(21,"div",14)(22,"span",7),H(23,"shared.modals.fairness-settings.client-part.text"),R()()(),x(24,"div",15)(25,"label",16),Ce("click",function(){return e.onSelectClientSeedType(!0)}),x(26,"span",17),ve(27,"i",18),R(),x(28,"span",7),H(29," shared.modals.fairness-settings.client-part.random "),R()(),x(30,"div",19)(31,"div",20)(32,"div",21)(33,"p")(34,"span",22),H(35," shared.modals.fairness-settings.client-part.current "),R(),x(36,"span"),H(37),R()()(),x(38,"i",23),Ce("click",function(){return e.copySeedToClipboard(e.seed.randomSeed)}),R()()()(),x(39,"div",15)(40,"label",16),Ce("click",function(){return e.onSelectClientSeedType(!1)}),x(41,"span",17),ve(42,"i",18),R(),x(43,"span",7),H(44," shared.modals.fairness-settings.client-part.manual "),R()(),x(45,"div",24)(46,"div",25)(47,"div",21)(48,"p")(49,"span",22),H(50," shared.modals.fairness-settings.client-part.current "),R(),x(51,"span"),H(52),R()()(),x(53,"i",23),Ce("click",function(){return e.copySeedToClipboard(e.seed.manualSeedWithId)}),R()(),x(54,"button",26),Ce("click",function(){return e.changeSeed=!0}),x(55,"span"),H(56),ce(57,"translate"),R()()()()(),x(58,"div",27)(59,"div",28),ve(60,"i",29),x(61,"span",7),H(62,"shared.modals.fairness-settings.server seed"),R()(),x(63,"div",30)(64,"div",31)(65,"div",21),H(66),R()()()()(),x(67,"div",32),H(68,"shared.modals.fairness-settings.bottom"),R(),Z(69,Upe,1,0,"app-seed-change",33)),2&t&&(A(2),me(" ",pe(3,12,"shared.provably_fair_settings")," "),A(6),V("ngIf",e.betSetted),A(16),vt("active",e.seed.isRandomSeed),A(13),yt(e.seed.randomSeed),A(2),vt("active",!e.seed.isRandomSeed),A(13),yt(e.seed.manualSeedWithId),A(2),V("disabled",e.seed.isRandomSeed),A(2),yt(pe(57,14,"shared.change")),A(10),me(" ",null===e.serverSeed?"loading...":e.serverSeed," "),A(3),V("ngIf",e.changeSeed))},directives:[Ht,Gn,Bpe],pipes:[dn],styles:[".modal-body[_ngcontent-%COMP%]{color:#868b8d;padding:unset;font-size:13px}.modal-body[_ngcontent-%COMP%]   .fairness-disabled[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center}.modal-body[_ngcontent-%COMP%]   .fairness-disabled[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{min-width:260px;max-width:360px}p[_ngcontent-%COMP%]{margin-bottom:0}.info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px;border-bottom:1px solid rgba(255,255,255,.1);text-align:left;line-height:14px;cursor:pointer}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{color:#e30c32;display:flex;align-items:center;flex-shrink:0;margin-left:8px}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]   .question-icon[_ngcontent-%COMP%]{background:url(question.e62efb43de5363fc.svg) no-repeat center center/contain;width:16px;height:16px;display:inline-block;flex-shrink:0;cursor:pointer;margin-right:4px}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:647px}.info[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{color:#38ca07;cursor:pointer;display:flex;align-items:center}.info[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{min-width:16px;height:16px;margin-left:8px;display:inline-block;background-size:cover;margin-right:5px}.client-seed[_ngcontent-%COMP%]{padding:10px 20px;display:flex;flex-direction:column;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}.client-seed-title[_ngcontent-%COMP%]{align-self:flex-start;display:flex;flex-direction:column;align-items:center;color:#fff;width:100%}.client-seed-title-main[_ngcontent-%COMP%]{width:100%;display:flex}.client-seed-title-sub[_ngcontent-%COMP%]{width:100%;display:flex;max-width:689px;color:#9b9c9e}.client-seed-title[_ngcontent-%COMP%]   .client-icon[_ngcontent-%COMP%]{background-image:url(client.72620f2a0ac61808.svg);width:32px;height:25px;display:inline-block;background-size:cover;margin-right:10px}.client-seed-type[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-top:10px;max-width:689px;border-radius:8px;background-color:#0707084d;padding:10px 10px 10px 20px}.client-seed-type[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;display:flex;align-items:center;cursor:pointer;flex-shrink:0}.client-seed-type[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#0006;border:solid 1px #38ca07;border-radius:50%;margin-right:5px}.client-seed[_ngcontent-%COMP%]   .block-key[_ngcontent-%COMP%]{opacity:.2}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{opacity:1;-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .block-key[_ngcontent-%COMP%]{opacity:1}.server-seed[_ngcontent-%COMP%]{padding:10px 20px 20px;display:flex;flex-direction:column;align-items:center}.server-seed-title[_ngcontent-%COMP%]{align-self:flex-start;display:flex;align-items:center;color:#fff}.server-seed-title[_ngcontent-%COMP%]   .server-icon[_ngcontent-%COMP%]{background-image:url(server.14ac68b338b918d9.svg);width:32px;height:31px;display:inline-block;background-size:cover;margin-right:10px}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;justify-content:center;width:100%;margin-top:13px}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-top:7px;max-width:100px;min-width:100px;height:32px;border-radius:40px;background-color:#0006;border:solid 2px #38ca07;font-size:13px;color:#fff;cursor:pointer}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:default}.modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:20px!important;color:#868b8d;font-size:13px}.modal-footer[_ngcontent-%COMP%]   .game-history[_ngcontent-%COMP%]{color:#38ca07;cursor:pointer}.modal-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.key-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:700px;margin-top:5px;padding:12px 23px 14px 20px;background-color:#000;position:relative;overflow:hidden;color:#fff;border-radius:24px}.key-container.random[_ngcontent-%COMP%]{min-width:400px;max-width:400px}.key-container[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;margin-right:8px;height:20px;white-space:nowrap}.key-container[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{height:100%}.key-container[_ngcontent-%COMP%]   .copy-icon[_ngcontent-%COMP%]{background:url(copy.163c9ecbadb7cbd9.svg) no-repeat center center/contain;width:16px;height:16px;display:inline-block;flex-shrink:0;cursor:pointer}.key-container[_ngcontent-%COMP%]   .block-copy[_ngcontent-%COMP%]{width:60px;height:100%;border-radius:6px;position:absolute;right:0;top:0;display:flex;align-items:center;justify-content:flex-end}.key-container[_ngcontent-%COMP%]   .block-copy[_ngcontent-%COMP%]   .icon-copy[_ngcontent-%COMP%]{cursor:pointer;width:16px;height:16px;color:#fff;margin-right:13px}.key-container[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#868b8d}.btn-change[_ngcontent-%COMP%]{height:30px;line-height:1.2}.block-key[_ngcontent-%COMP%]{width:100%;max-width:400px;align-items:center;justify-content:space-between}@media (max-width: 991.98px){.info[_ngcontent-%COMP%]{flex-direction:column}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{margin-top:10px;margin-left:0}.client-seed[_ngcontent-%COMP%]   .client-seed-type[_ngcontent-%COMP%]{flex-direction:column}.block-key[_ngcontent-%COMP%]{flex-wrap:wrap;width:100%;max-width:100%;justify-content:center}.block-key[_ngcontent-%COMP%]   .btn-change[_ngcontent-%COMP%]{margin-top:10px}.key-container.random[_ngcontent-%COMP%], .key-container.manual[_ngcontent-%COMP%]{min-width:100%;max-width:100%}}"]}),df=We([oi()],df);let jpe=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.connector=i,this.user=r,this.avatars=[];for(let o=1;o<=72;o++)this.avatars.push({name:"av-"+o+".png"})}getAvatar(e){return Pi_avatarPath+e+`?v=${Pi_version}`}onSaveAvatar(e){this.user.avatar!==e&&(this.user.avatar=e,this.activeModal.close(),this.connector.request(Fi.ChangeProfileImage,{profileImage:e}))}}return n.\u0275fac=function(e){return new(e||n)(X(So),X(ki),X(il))},n.\u0275cmp=et({type:n,selectors:[["app-game-avatar"]],decls:12,vars:1,consts:[[1,"modal-header"],["translate",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"content"],["class","game-img mr-2 mb-2",3,"active","src","alt","click",4,"ngFor","ngForOf"],[1,"modal-footer"],["translate","",1,"btn","btn-outline-secondary",3,"click"],[1,"game-img","mr-2","mb-2",3,"src","alt","click"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"span",1),H(2,"shared.modals.game-avatar.title"),R(),x(3,"button",2),Ce("click",function(){return i.activeModal.close()}),x(4,"span",3),H(5,"\xd7"),R()()(),x(6,"div",4)(7,"div",5),Z(8,Gpe,1,4,"img",6),R()(),x(9,"div",7)(10,"button",8),Ce("click",function(){return i.activeModal.close()}),H(11," shared.close "),R()()),2&e&&(A(8),V("ngForOf",i.avatars))},directives:[Gn,vi],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;position:relative;overflow:hidden;justify-content:center}.content[_ngcontent-%COMP%]   .game-img[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;border:4px solid #333;background-position:center;cursor:pointer}.content[_ngcontent-%COMP%]   .game-img.active[_ngcontent-%COMP%]{border:4px solid #428a12;cursor:default}.btn[_ngcontent-%COMP%]{margin:0 auto}"]}),n})();var m6,wu,o_=9e15,xh=1e9,RA="0123456789abcdef",IE="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",DE="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",IA={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-o_,maxE:o_,crypto:!1},Sn=!0,NE="[DecimalError] ",Ah=NE+"Invalid argument: ",v6=NE+"Precision limit exceeded",y6=NE+"crypto unavailable",b6="[object Decimal]",us=Math.floor,Co=Math.pow,Hpe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Vpe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Wpe=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,E6=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ql=1e7,zpe=IE.length-1,DA=DE.length-1,ct={toStringTag:b6};function Yo(n){var t,e,i,r=n.length-1,o="",s=n[0];if(r>0){for(o+=s,t=1;t<r;t++)(e=7-(i=n[t]+"").length)&&(o+=Rh(e)),o+=i;(e=7-(i=(s=n[t])+"").length)&&(o+=Rh(e))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}function ea(n,t,e){if(n!==~~n||n<t||n>e)throw Error(Ah+n)}function e0(n,t,e,i){var r,o,s,a;for(o=n[0];o>=10;o/=10)--t;return--t<0?(t+=7,r=0):(r=Math.ceil((t+1)/7),t%=7),o=Co(10,7-t),a=n[r]%o|0,null==i?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),s=e<4&&99999==a||e>3&&49999==a||5e4==a||0==a):s=(e<4&&a+1==o||e>3&&a+1==o/2)&&(n[r+1]/o/100|0)==Co(10,t-2)-1||(a==o/2||0==a)&&0==(n[r+1]/o/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),s=(i||e<4)&&9999==a||!i&&e>3&&4999==a):s=((i||e<4)&&a+1==o||!i&&e>3&&a+1==o/2)&&(n[r+1]/o/1e3|0)==Co(10,t-3)-1,s}function kE(n,t,e){for(var i,o,r=[0],s=0,a=n.length;s<a;){for(o=r.length;o--;)r[o]*=t;for(r[0]+=RA.indexOf(n.charAt(s++)),i=0;i<r.length;i++)r[i]>e-1&&(void 0===r[i+1]&&(r[i+1]=0),r[i+1]+=r[i]/e|0,r[i]%=e)}return r.reverse()}ct.absoluteValue=ct.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),qt(n)},ct.ceil=function(){return qt(new this.constructor(this),this.e+1,2)},ct.clampedTo=ct.clamp=function(n,t){var i=this,r=i.constructor;if(n=new r(n),t=new r(t),!n.s||!t.s)return new r(NaN);if(n.gt(t))throw Error(Ah+t);return i.cmp(n)<0?n:i.cmp(t)>0?t:new r(i)},ct.comparedTo=ct.cmp=function(n){var t,e,i,r,o=this,s=o.d,a=(n=new o.constructor(n)).d,l=o.s,c=n.s;if(!s||!a)return l&&c?l!==c?l:s===a?0:!s^l<0?1:-1:NaN;if(!s[0]||!a[0])return s[0]?l:a[0]?-c:0;if(l!==c)return l;if(o.e!==n.e)return o.e>n.e^l<0?1:-1;for(t=0,e=(i=s.length)<(r=a.length)?i:r;t<e;++t)if(s[t]!==a[t])return s[t]>a[t]^l<0?1:-1;return i===r?0:i>r^l<0?1:-1},ct.cosine=ct.cos=function(){var n,t,e=this,i=e.constructor;return e.d?e.d[0]?(t=i.rounding,i.precision=(n=i.precision)+Math.max(e.e,e.sd())+7,i.rounding=1,e=function $pe(n,t){var e,i,r;if(t.isZero())return t;(i=t.d.length)<32?r=(1/LE(4,e=Math.ceil(i/3))).toString():(e=16,r="2.3283064365386962890625e-10"),n.precision+=e,t=s_(n,1,t.times(r),new n(1));for(var o=e;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return n.precision-=e,t}(i,w6(i,e)),i.precision=n,i.rounding=t,qt(2==wu||3==wu?e.neg():e,n,t,!0)):new i(1):new i(NaN)},ct.cubeRoot=ct.cbrt=function(){var n,t,e,i,r,o,s,a,l,c,u=this,y=u.constructor;if(!u.isFinite()||u.isZero())return new y(u);for(Sn=!1,(o=u.s*Co(u.s*u,1/3))&&Math.abs(o)!=1/0?i=new y(o.toString()):(e=Yo(u.d),(o=((n=u.e)-e.length+1)%3)&&(e+=1==o||-2==o?"0":"00"),o=Co(e,1/3),n=us((n+1)/3)-(n%3==(n<0?-1:2)),(i=new y(e=o==1/0?"5e"+n:(e=o.toExponential()).slice(0,e.indexOf("e")+1)+n)).s=u.s),s=(n=y.precision)+3;;)if(c=(l=(a=i).times(a).times(a)).plus(u),i=Gi(c.plus(u).times(a),c.plus(l),s+2,1),Yo(a.d).slice(0,s)===(e=Yo(i.d)).slice(0,s)){if("9999"!=(e=e.slice(s-3,s+1))&&(r||"4999"!=e)){(!+e||!+e.slice(1)&&"5"==e.charAt(0))&&(qt(i,n+1,1),t=!i.times(i).times(i).eq(u));break}if(!r&&(qt(a,n+1,0),a.times(a).times(a).eq(u))){i=a;break}s+=4,r=1}return Sn=!0,qt(i,n,y.rounding,t)},ct.decimalPlaces=ct.dp=function(){var n,t=this.d,e=NaN;if(t){if(e=7*((n=t.length-1)-us(this.e/7)),n=t[n])for(;n%10==0;n/=10)e--;e<0&&(e=0)}return e},ct.dividedBy=ct.div=function(n){return Gi(this,new this.constructor(n))},ct.dividedToIntegerBy=ct.divToInt=function(n){var e=this.constructor;return qt(Gi(this,new e(n),0,1,1),e.precision,e.rounding)},ct.equals=ct.eq=function(n){return 0===this.cmp(n)},ct.floor=function(){return qt(new this.constructor(this),this.e+1,3)},ct.greaterThan=ct.gt=function(n){return this.cmp(n)>0},ct.greaterThanOrEqualTo=ct.gte=function(n){var t=this.cmp(n);return 1==t||0===t},ct.hyperbolicCosine=ct.cosh=function(){var n,t,e,i,r,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;i=s.rounding,s.precision=(e=s.precision)+Math.max(o.e,o.sd())+4,s.rounding=1,(r=o.d.length)<32?t=(1/LE(4,n=Math.ceil(r/3))).toString():(n=16,t="2.3283064365386962890625e-10"),o=s_(s,1,o.times(t),new s(1),!0);for(var l,c=n,u=new s(8);c--;)l=o.times(o),o=a.minus(l.times(u.minus(l.times(u))));return qt(o,s.precision=e,s.rounding=i,!0)},ct.hyperbolicSine=ct.sinh=function(){var n,t,e,i,r=this,o=r.constructor;if(!r.isFinite()||r.isZero())return new o(r);if(e=o.rounding,o.precision=(t=o.precision)+Math.max(r.e,r.sd())+4,o.rounding=1,(i=r.d.length)<3)r=s_(o,2,r,r,!0);else{n=1.4*Math.sqrt(i),r=s_(o,2,r=r.times(1/LE(5,n=n>16?16:0|n)),r,!0);for(var s,a=new o(5),l=new o(16),c=new o(20);n--;)s=r.times(r),r=r.times(a.plus(s.times(l.times(s).plus(c))))}return o.precision=t,o.rounding=e,qt(r,t,e,!0)},ct.hyperbolicTangent=ct.tanh=function(){var n,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+7,i.rounding=1,Gi(e.sinh(),e.cosh(),i.precision=n,i.rounding=t)):new i(e.s)},ct.inverseCosine=ct.acos=function(){var n,t=this,e=t.constructor,i=t.abs().cmp(1),r=e.precision,o=e.rounding;return-1!==i?0===i?t.isNeg()?Zl(e,r,o):new e(0):new e(NaN):t.isZero()?Zl(e,r+4,o).times(.5):(e.precision=r+6,e.rounding=1,t=t.asin(),n=Zl(e,r+4,o).times(.5),e.precision=r,e.rounding=o,n.minus(t))},ct.inverseHyperbolicCosine=ct.acosh=function(){var n,t,e=this,i=e.constructor;return e.lte(1)?new i(e.eq(1)?0:NaN):e.isFinite()?(t=i.rounding,i.precision=(n=i.precision)+Math.max(Math.abs(e.e),e.sd())+4,i.rounding=1,Sn=!1,e=e.times(e).minus(1).sqrt().plus(e),Sn=!0,i.precision=n,i.rounding=t,e.ln()):new i(e)},ct.inverseHyperbolicSine=ct.asinh=function(){var n,t,e=this,i=e.constructor;return!e.isFinite()||e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+2*Math.max(Math.abs(e.e),e.sd())+6,i.rounding=1,Sn=!1,e=e.times(e).plus(1).sqrt().plus(e),Sn=!0,i.precision=n,i.rounding=t,e.ln())},ct.inverseHyperbolicTangent=ct.atanh=function(){var n,t,e,i,r=this,o=r.constructor;return r.isFinite()?r.e>=0?new o(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(n=o.precision,t=o.rounding,i=r.sd(),Math.max(i,n)<2*-r.e-1?qt(new o(r),n,t,!0):(o.precision=e=i-r.e,r=Gi(r.plus(1),new o(1).minus(r),e+n,1),o.precision=n+4,o.rounding=1,r=r.ln(),o.precision=n,o.rounding=t,r.times(.5))):new o(NaN)},ct.inverseSine=ct.asin=function(){var n,t,e,i,r=this,o=r.constructor;return r.isZero()?new o(r):(t=r.abs().cmp(1),e=o.precision,i=o.rounding,-1!==t?0===t?((n=Zl(o,e+4,i).times(.5)).s=r.s,n):new o(NaN):(o.precision=e+6,o.rounding=1,r=r.div(new o(1).minus(r.times(r)).sqrt().plus(1)).atan(),o.precision=e,o.rounding=i,r.times(2)))},ct.inverseTangent=ct.atan=function(){var n,t,e,i,r,o,s,a,l,c=this,u=c.constructor,y=u.precision,O=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&y+4<=DA)return(s=Zl(u,y+4,O).times(.25)).s=c.s,s}else{if(!c.s)return new u(NaN);if(y+4<=DA)return(s=Zl(u,y+4,O).times(.5)).s=c.s,s}for(u.precision=a=y+10,u.rounding=1,n=e=Math.min(28,a/7+2|0);n;--n)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(Sn=!1,t=Math.ceil(a/7),i=1,l=c.times(c),s=new u(c),r=c;-1!==n;)if(r=r.times(l),o=s.minus(r.div(i+=2)),r=r.times(l),void 0!==(s=o.plus(r.div(i+=2))).d[t])for(n=t;s.d[n]===o.d[n]&&n--;);return e&&(s=s.times(2<<e-1)),Sn=!0,qt(s,u.precision=y,u.rounding=O,!0)},ct.isFinite=function(){return!!this.d},ct.isInteger=ct.isInt=function(){return!!this.d&&us(this.e/7)>this.d.length-2},ct.isNaN=function(){return!this.s},ct.isNegative=ct.isNeg=function(){return this.s<0},ct.isPositive=ct.isPos=function(){return this.s>0},ct.isZero=function(){return!!this.d&&0===this.d[0]},ct.lessThan=ct.lt=function(n){return this.cmp(n)<0},ct.lessThanOrEqualTo=ct.lte=function(n){return this.cmp(n)<1},ct.logarithm=ct.log=function(n){var t,e,i,r,o,s,a,l,c=this,u=c.constructor,y=u.precision,O=u.rounding;if(null==n)n=new u(10),t=!0;else{if(e=(n=new u(n)).d,n.s<0||!e||!e[0]||n.eq(1))return new u(NaN);t=n.eq(10)}if(e=c.d,c.s<0||!e||!e[0]||c.eq(1))return new u(e&&!e[0]?-1/0:1!=c.s?NaN:e?0:1/0);if(t)if(e.length>1)o=!0;else{for(r=e[0];r%10==0;)r/=10;o=1!==r}if(Sn=!1,s=Ih(c,a=y+5),i=t?BE(u,a+10):Ih(n,a),e0((l=Gi(s,i,a,1)).d,r=y,O))do{if(s=Ih(c,a+=10),i=t?BE(u,a+10):Ih(n,a),l=Gi(s,i,a,1),!o){+Yo(l.d).slice(r+1,r+15)+1==1e14&&(l=qt(l,y+1,0));break}}while(e0(l.d,r+=10,O));return Sn=!0,qt(l,y,O)},ct.minus=ct.sub=function(n){var t,e,i,r,o,s,a,l,c,u,y,O,P=this,I=P.constructor;if(n=new I(n),!P.d||!n.d)return P.s&&n.s?P.d?n.s=-n.s:n=new I(n.d||P.s!==n.s?P:NaN):n=new I(NaN),n;if(P.s!=n.s)return n.s=-n.s,P.plus(n);if(O=n.d,a=I.precision,l=I.rounding,!(c=P.d)[0]||!O[0]){if(O[0])n.s=-n.s;else{if(!c[0])return new I(3===l?-0:0);n=new I(P)}return Sn?qt(n,a,l):n}if(e=us(n.e/7),u=us(P.e/7),c=c.slice(),o=u-e){for((y=o<0)?(t=c,o=-o,s=O.length):(t=O,e=u,s=c.length),o>(i=Math.max(Math.ceil(a/7),s)+2)&&(o=i,t.length=1),t.reverse(),i=o;i--;)t.push(0);t.reverse()}else{for((y=(i=c.length)<(s=O.length))&&(s=i),i=0;i<s;i++)if(c[i]!=O[i]){y=c[i]<O[i];break}o=0}for(y&&(t=c,c=O,O=t,n.s=-n.s),i=O.length-(s=c.length);i>0;--i)c[s++]=0;for(i=O.length;i>o;){if(c[--i]<O[i]){for(r=i;r&&0===c[--r];)c[r]=Ql-1;--c[r],c[i]+=Ql}c[i]-=O[i]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--e;return c[0]?(n.d=c,n.e=FE(c,e),Sn?qt(n,a,l):n):new I(3===l?-0:0)},ct.modulo=ct.mod=function(n){var t,e=this,i=e.constructor;return n=new i(n),!e.d||!n.s||n.d&&!n.d[0]?new i(NaN):!n.d||e.d&&!e.d[0]?qt(new i(e),i.precision,i.rounding):(Sn=!1,9==i.modulo?(t=Gi(e,n.abs(),0,3,1)).s*=n.s:t=Gi(e,n,0,i.modulo,1),t=t.times(n),Sn=!0,e.minus(t))},ct.naturalExponential=ct.exp=function(){return NA(this)},ct.naturalLogarithm=ct.ln=function(){return Ih(this)},ct.negated=ct.neg=function(){var n=new this.constructor(this);return n.s=-n.s,qt(n)},ct.plus=ct.add=function(n){var t,e,i,r,o,s,a,l,c,u,y=this,O=y.constructor;if(n=new O(n),!y.d||!n.d)return y.s&&n.s?y.d||(n=new O(n.d||y.s===n.s?y:NaN)):n=new O(NaN),n;if(y.s!=n.s)return n.s=-n.s,y.minus(n);if(u=n.d,a=O.precision,l=O.rounding,!(c=y.d)[0]||!u[0])return u[0]||(n=new O(y)),Sn?qt(n,a,l):n;if(o=us(y.e/7),i=us(n.e/7),c=c.slice(),r=o-i){for(r<0?(e=c,r=-r,s=u.length):(e=u,i=o,s=c.length),r>(s=(o=Math.ceil(a/7))>s?o+1:s+1)&&(r=s,e.length=1),e.reverse();r--;)e.push(0);e.reverse()}for((s=c.length)-(r=u.length)<0&&(r=s,e=u,u=c,c=e),t=0;r;)t=(c[--r]=c[r]+u[r]+t)/Ql|0,c[r]%=Ql;for(t&&(c.unshift(t),++i),s=c.length;0==c[--s];)c.pop();return n.d=c,n.e=FE(c,i),Sn?qt(n,a,l):n},ct.precision=ct.sd=function(n){var t,e=this;if(void 0!==n&&n!==!!n&&1!==n&&0!==n)throw Error(Ah+n);return e.d?(t=S6(e.d),n&&e.e+1>t&&(t=e.e+1)):t=NaN,t},ct.round=function(){var n=this,t=n.constructor;return qt(new t(n),n.e+1,t.rounding)},ct.sine=ct.sin=function(){var n,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+Math.max(e.e,e.sd())+7,i.rounding=1,e=function qpe(n,t){var e,i=t.d.length;if(i<3)return t.isZero()?t:s_(n,2,t,t);e=1.4*Math.sqrt(i),t=s_(n,2,t=t.times(1/LE(5,e=e>16?16:0|e)),t);for(var r,o=new n(5),s=new n(16),a=new n(20);e--;)r=t.times(t),t=t.times(o.plus(r.times(s.times(r).minus(a))));return t}(i,w6(i,e)),i.precision=n,i.rounding=t,qt(wu>2?e.neg():e,n,t,!0)):new i(NaN)},ct.squareRoot=ct.sqrt=function(){var n,t,e,i,r,o,s=this,a=s.d,l=s.e,c=s.s,u=s.constructor;if(1!==c||!a||!a[0])return new u(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);for(Sn=!1,0==(c=Math.sqrt(+s))||c==1/0?(((t=Yo(a)).length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=us((l+1)/2)-(l<0||l%2),i=new u(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):i=new u(c.toString()),e=(l=u.precision)+3;;)if(i=(o=i).plus(Gi(s,o,e+2,1)).times(.5),Yo(o.d).slice(0,e)===(t=Yo(i.d)).slice(0,e)){if("9999"!=(t=t.slice(e-3,e+1))&&(r||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(qt(i,l+1,1),n=!i.times(i).eq(s));break}if(!r&&(qt(o,l+1,0),o.times(o).eq(s))){i=o;break}e+=4,r=1}return Sn=!0,qt(i,l,u.rounding,n)},ct.tangent=ct.tan=function(){var n,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+10,i.rounding=1,(e=e.sin()).s=1,e=Gi(e,new i(1).minus(e.times(e)).sqrt(),n+10,0),i.precision=n,i.rounding=t,qt(2==wu||4==wu?e.neg():e,n,t,!0)):new i(NaN)},ct.times=ct.mul=function(n){var t,e,i,r,o,s,a,l,c,u=this,y=u.constructor,O=u.d,P=(n=new y(n)).d;if(n.s*=u.s,!(O&&O[0]&&P&&P[0]))return new y(!n.s||O&&!O[0]&&!P||P&&!P[0]&&!O?NaN:O&&P?0*n.s:n.s/0);for(e=us(u.e/7)+us(n.e/7),(l=O.length)<(c=P.length)&&(o=O,O=P,P=o,s=l,l=c,c=s),o=[],i=s=l+c;i--;)o.push(0);for(i=c;--i>=0;){for(t=0,r=l+i;r>i;)a=o[r]+P[i]*O[r-i-1]+t,o[r--]=a%Ql|0,t=a/Ql|0;o[r]=(o[r]+t)%Ql|0}for(;!o[--s];)o.pop();return t?++e:o.shift(),n.d=o,n.e=FE(o,e),Sn?qt(n,y.precision,y.rounding):n},ct.toBinary=function(n,t){return FA(this,2,n,t)},ct.toDecimalPlaces=ct.toDP=function(n,t){var e=this,i=e.constructor;return e=new i(e),void 0===n?e:(ea(n,0,xh),void 0===t?t=i.rounding:ea(t,0,8),qt(e,n+e.e+1,t))},ct.toExponential=function(n,t){var e,i=this,r=i.constructor;return void 0===n?e=Fc(i,!0):(ea(n,0,xh),void 0===t?t=r.rounding:ea(t,0,8),e=Fc(i=qt(new r(i),n+1,t),!0,n+1)),i.isNeg()&&!i.isZero()?"-"+e:e},ct.toFixed=function(n,t){var e,i,r=this,o=r.constructor;return void 0===n?e=Fc(r):(ea(n,0,xh),void 0===t?t=o.rounding:ea(t,0,8),e=Fc(i=qt(new o(r),n+r.e+1,t),!1,n+i.e+1)),r.isNeg()&&!r.isZero()?"-"+e:e},ct.toFraction=function(n){var t,e,i,r,o,s,a,l,c,u,y,O,P=this,I=P.d,D=P.constructor;if(!I)return new D(P);if(c=e=new D(1),i=l=new D(0),o=(t=new D(i)).e=S6(I)-P.e-1,t.d[0]=Co(10,(s=o%7)<0?7+s:s),null==n)n=o>0?t:c;else{if(!(a=new D(n)).isInt()||a.lt(c))throw Error(Ah+a);n=a.gt(t)?o>0?t:c:a}for(Sn=!1,a=new D(Yo(I)),u=D.precision,D.precision=o=7*I.length*2;y=Gi(a,t,0,1,1),1!=(r=e.plus(y.times(i))).cmp(n);)e=i,i=r,c=l.plus(y.times(r=c)),l=r,t=a.minus(y.times(r=t)),a=r;return r=Gi(n.minus(e),i,0,1,1),l=l.plus(r.times(c)),e=e.plus(r.times(i)),l.s=c.s=P.s,O=Gi(c,i,o,1).minus(P).abs().cmp(Gi(l,e,o,1).minus(P).abs())<1?[c,i]:[l,e],D.precision=u,Sn=!0,O},ct.toHexadecimal=ct.toHex=function(n,t){return FA(this,16,n,t)},ct.toNearest=function(n,t){var e=this,i=e.constructor;if(e=new i(e),null==n){if(!e.d)return e;n=new i(1),t=i.rounding}else{if(n=new i(n),void 0===t?t=i.rounding:ea(t,0,8),!e.d)return n.s?e:n;if(!n.d)return n.s&&(n.s=e.s),n}return n.d[0]?(Sn=!1,e=Gi(e,n,0,t,1).times(n),Sn=!0,qt(e)):(n.s=e.s,e=n),e},ct.toNumber=function(){return+this},ct.toOctal=function(n,t){return FA(this,8,n,t)},ct.toPower=ct.pow=function(n){var t,e,i,r,o,s,a=this,l=a.constructor,c=+(n=new l(n));if(!(a.d&&n.d&&a.d[0]&&n.d[0]))return new l(Co(+a,c));if((a=new l(a)).eq(1))return a;if(i=l.precision,o=l.rounding,n.eq(1))return qt(a,i,o);if((t=us(n.e/7))>=n.d.length-1&&(e=c<0?-c:c)<=9007199254740991)return r=C6(l,a,e,i),n.s<0?new l(1).div(r):qt(r,i,o);if((s=a.s)<0){if(t<n.d.length-1)return new l(NaN);if(0==(1&n.d[t])&&(s=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=s,a}return(t=0!=(e=Co(+a,c))&&isFinite(e)?new l(e+"").e:us(c*(Math.log("0."+Yo(a.d))/Math.LN10+a.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?s/0:0):(Sn=!1,l.rounding=a.s=1,e=Math.min(12,(t+"").length),(r=NA(n.times(Ih(a,i+e)),i)).d&&e0((r=qt(r,i+5,1)).d,i,o)&&+Yo((r=qt(NA(n.times(Ih(a,(t=i+10)+e)),t),t+5,1)).d).slice(i+1,i+15)+1==1e14&&(r=qt(r,i+1,0)),r.s=s,Sn=!0,l.rounding=o,qt(r,i,o))},ct.toPrecision=function(n,t){var e,i=this,r=i.constructor;return void 0===n?e=Fc(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):(ea(n,1,xh),void 0===t?t=r.rounding:ea(t,0,8),e=Fc(i=qt(new r(i),n,t),n<=i.e||i.e<=r.toExpNeg,n)),i.isNeg()&&!i.isZero()?"-"+e:e},ct.toSignificantDigits=ct.toSD=function(n,t){var i=this.constructor;return void 0===n?(n=i.precision,t=i.rounding):(ea(n,1,xh),void 0===t?t=i.rounding:ea(t,0,8)),qt(new i(this),n,t)},ct.toString=function(){var n=this,t=n.constructor,e=Fc(n,n.e<=t.toExpNeg||n.e>=t.toExpPos);return n.isNeg()&&!n.isZero()?"-"+e:e},ct.truncated=ct.trunc=function(){return qt(new this.constructor(this),this.e+1,1)},ct.valueOf=ct.toJSON=function(){var n=this,t=n.constructor,e=Fc(n,n.e<=t.toExpNeg||n.e>=t.toExpPos);return n.isNeg()?"-"+e:e};var Gi=function(){function n(i,r,o){var s,a=0,l=i.length;for(i=i.slice();l--;)i[l]=(s=i[l]*r+a)%o|0,a=s/o|0;return a&&i.unshift(a),i}function t(i,r,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(i[a]!=r[a]){l=i[a]>r[a]?1:-1;break}return l}function e(i,r,o,s){for(var a=0;o--;)i[o]-=a,i[o]=(a=i[o]<r[o]?1:0)*s+i[o]-r[o];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,o,s,a,l){var c,u,y,O,P,I,D,B,Y,q,ie,se,re,ne,Ee,Ne,Se,De,Xe,$e,Qe=i.constructor,Mt=i.s==r.s?1:-1,Ye=i.d,Ae=r.d;if(!(Ye&&Ye[0]&&Ae&&Ae[0]))return new Qe(i.s&&r.s&&(Ye?!Ae||Ye[0]!=Ae[0]:Ae)?Ye&&0==Ye[0]||!Ae?0*Mt:Mt/0:NaN);for(l?(P=1,u=i.e-r.e):(l=Ql,u=us(i.e/(P=7))-us(r.e/P)),Xe=Ae.length,Se=Ye.length,q=(Y=new Qe(Mt)).d=[],y=0;Ae[y]==(Ye[y]||0);y++);if(Ae[y]>(Ye[y]||0)&&u--,null==o?(ne=o=Qe.precision,s=Qe.rounding):ne=a?o+(i.e-r.e)+1:o,ne<0)q.push(1),I=!0;else{if(ne=ne/P+2|0,y=0,1==Xe){for(O=0,Ae=Ae[0],ne++;(y<Se||O)&&ne--;y++)q[y]=(Ee=O*l+(Ye[y]||0))/Ae|0,O=Ee%Ae|0;I=O||y<Se}else{for((O=l/(Ae[0]+1)|0)>1&&(Ae=n(Ae,O,l),Ye=n(Ye,O,l),Xe=Ae.length,Se=Ye.length),Ne=Xe,se=(ie=Ye.slice(0,Xe)).length;se<Xe;)ie[se++]=0;($e=Ae.slice()).unshift(0),De=Ae[0],Ae[1]>=l/2&&++De;do{O=0,(c=t(Ae,ie,Xe,se))<0?(re=ie[0],Xe!=se&&(re=re*l+(ie[1]||0)),(O=re/De|0)>1?(O>=l&&(O=l-1),1==(c=t(D=n(Ae,O,l),ie,B=D.length,se=ie.length))&&(O--,e(D,Xe<B?$e:Ae,B,l))):(0==O&&(c=O=1),D=Ae.slice()),(B=D.length)<se&&D.unshift(0),e(ie,D,se,l),-1==c&&(c=t(Ae,ie,Xe,se=ie.length))<1&&(O++,e(ie,Xe<se?$e:Ae,se,l)),se=ie.length):0===c&&(O++,ie=[0]),q[y++]=O,c&&ie[0]?ie[se++]=Ye[Ne]||0:(ie=[Ye[Ne]],se=1)}while((Ne++<Se||void 0!==ie[0])&&ne--);I=void 0!==ie[0]}q[0]||q.shift()}if(1==P)Y.e=u,m6=I;else{for(y=1,O=q[0];O>=10;O/=10)y++;Y.e=y+u*P-1,qt(Y,a?o+Y.e+1:o,s,I)}return Y}}();function qt(n,t,e,i){var r,o,s,a,l,c,u,y,O,P=n.constructor;e:if(null!=t){if(!(y=n.d))return n;for(r=1,a=y[0];a>=10;a/=10)r++;if((o=t-r)<0)o+=7,l=(u=y[O=0])/Co(10,r-(s=t)-1)%10|0;else if((O=Math.ceil((o+1)/7))>=(a=y.length)){if(!i)break e;for(;a++<=O;)y.push(0);u=l=0,r=1,s=(o%=7)-7+1}else{for(u=a=y[O],r=1;a>=10;a/=10)r++;l=(s=(o%=7)-7+r)<0?0:u/Co(10,r-s-1)%10|0}if(i=i||t<0||void 0!==y[O+1]||(s<0?u:u%Co(10,r-s-1)),c=e<4?(l||i)&&(0==e||e==(n.s<0?3:2)):l>5||5==l&&(4==e||i||6==e&&(o>0?s>0?u/Co(10,r-s):0:y[O-1])%10&1||e==(n.s<0?8:7)),t<1||!y[0])return y.length=0,c?(y[0]=Co(10,(7-(t-=n.e+1)%7)%7),n.e=-t||0):y[0]=n.e=0,n;if(0==o?(y.length=O,a=1,O--):(y.length=O+1,a=Co(10,7-o),y[O]=s>0?(u/Co(10,r-s)%Co(10,s)|0)*a:0),c)for(;;){if(0==O){for(o=1,s=y[0];s>=10;s/=10)o++;for(s=y[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(n.e++,y[0]==Ql&&(y[0]=1));break}if(y[O]+=a,y[O]!=Ql)break;y[O--]=0,a=1}for(o=y.length;0===y[--o];)y.pop()}return Sn&&(n.e>P.maxE?(n.d=null,n.e=NaN):n.e<P.minE&&(n.e=0,n.d=[0])),n}function Fc(n,t,e){if(!n.isFinite())return O6(n);var i,r=n.e,o=Yo(n.d),s=o.length;return t?(e&&(i=e-s)>0?o=o.charAt(0)+"."+o.slice(1)+Rh(i):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(n.e<0?"e":"e+")+n.e):r<0?(o="0."+Rh(-r-1)+o,e&&(i=e-s)>0&&(o+=Rh(i))):r>=s?(o+=Rh(r+1-s),e&&(i=e-r-1)>0&&(o=o+"."+Rh(i))):((i=r+1)<s&&(o=o.slice(0,i)+"."+o.slice(i)),e&&(i=e-s)>0&&(r+1===s&&(o+="."),o+=Rh(i))),o}function FE(n,t){var e=n[0];for(t*=7;e>=10;e/=10)t++;return t}function BE(n,t,e){if(t>zpe)throw Sn=!0,e&&(n.precision=e),Error(v6);return qt(new n(IE),t,1,!0)}function Zl(n,t,e){if(t>DA)throw Error(v6);return qt(new n(DE),t,e,!0)}function S6(n){var t=n.length-1,e=7*t+1;if(t=n[t]){for(;t%10==0;t/=10)e--;for(t=n[0];t>=10;t/=10)e++}return e}function Rh(n){for(var t="";n--;)t+="0";return t}function C6(n,t,e,i){var r,o=new n(1),s=Math.ceil(i/7+4);for(Sn=!1;;){if(e%2&&P6((o=o.times(t)).d,s)&&(r=!0),0===(e=us(e/2))){e=o.d.length-1,r&&0===o.d[e]&&++o.d[e];break}P6((t=t.times(t)).d,s)}return Sn=!0,o}function T6(n){return 1&n.d[n.d.length-1]}function M6(n,t,e){for(var i,r=new n(t[0]),o=0;++o<t.length;){if(!(i=new n(t[o])).s){r=i;break}r[e](i)&&(r=i)}return r}function NA(n,t){var e,i,r,o,s,a,l,c=0,u=0,y=0,O=n.constructor,P=O.rounding,I=O.precision;if(!n.d||!n.d[0]||n.e>17)return new O(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(null==t?(Sn=!1,l=I):l=t,a=new O(.03125);n.e>-2;)n=n.times(a),y+=5;for(l+=i=Math.log(Co(2,y))/Math.LN10*2+5|0,e=o=s=new O(1),O.precision=l;;){if(o=qt(o.times(n),l,1),e=e.times(++u),Yo((a=s.plus(Gi(o,e,l,1))).d).slice(0,l)===Yo(s.d).slice(0,l)){for(r=y;r--;)s=qt(s.times(s),l,1);if(null!=t)return O.precision=I,s;if(!(c<3&&e0(s.d,l-i,P,c)))return qt(s,O.precision=I,P,Sn=!0);O.precision=l+=10,e=o=a=new O(1),u=0,c++}s=a}}function Ih(n,t){var e,i,r,o,s,a,l,c,u,y,O,P=1,D=n,B=D.d,Y=D.constructor,q=Y.rounding,ie=Y.precision;if(D.s<0||!B||!B[0]||!D.e&&1==B[0]&&1==B.length)return new Y(B&&!B[0]?-1/0:1!=D.s?NaN:B?0:D);if(null==t?(Sn=!1,u=ie):u=t,Y.precision=u+=10,i=(e=Yo(B)).charAt(0),!(Math.abs(o=D.e)<15e14))return c=BE(Y,u+2,ie).times(o+""),D=Ih(new Y(i+"."+e.slice(1)),u-10).plus(c),Y.precision=ie,null==t?qt(D,ie,q,Sn=!0):D;for(;i<7&&1!=i||1==i&&e.charAt(1)>3;)i=(e=Yo((D=D.times(n)).d)).charAt(0),P++;for(o=D.e,i>1?(D=new Y("0."+e),o++):D=new Y(i+"."+e.slice(1)),y=D,l=s=D=Gi(D.minus(1),D.plus(1),u,1),O=qt(D.times(D),u,1),r=3;;){if(s=qt(s.times(O),u,1),Yo((c=l.plus(Gi(s,new Y(r),u,1))).d).slice(0,u)===Yo(l.d).slice(0,u)){if(l=l.times(2),0!==o&&(l=l.plus(BE(Y,u+2,ie).times(o+""))),l=Gi(l,new Y(P),u,1),null!=t)return Y.precision=ie,l;if(!e0(l.d,u-10,q,a))return qt(l,Y.precision=ie,q,Sn=!0);Y.precision=u+=10,c=s=D=Gi(y.minus(1),y.plus(1),u,1),O=qt(D.times(D),u,1),r=a=1}l=c,r+=2}}function O6(n){return String(n.s*n.s/0)}function kA(n,t){var e,i,r;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length),i=0;48===t.charCodeAt(i);i++);for(r=t.length;48===t.charCodeAt(r-1);--r);if(t=t.slice(i,r)){if(r-=i,n.e=e=e-i-1,n.d=[],i=(e+1)%7,e<0&&(i+=7),i<r){for(i&&n.d.push(+t.slice(0,i)),r-=7;i<r;)n.d.push(+t.slice(i,i+=7));i=7-(t=t.slice(i)).length}else i-=r;for(;i--;)t+="0";n.d.push(+t),Sn&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function s_(n,t,e,i,r){var o,s,a,l,u=n.precision,y=Math.ceil(u/7);for(Sn=!1,l=e.times(e),a=new n(i);;){if(s=Gi(a.times(l),new n(t++*t++),u,1),a=r?i.plus(s):i.minus(s),i=Gi(s.times(l),new n(t++*t++),u,1),void 0!==(s=a.plus(i)).d[y]){for(o=y;s.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=i,i=s,s=o}return Sn=!0,s.d.length=y+1,s}function LE(n,t){for(var e=n;--t;)e*=n;return e}function w6(n,t){var e,i=t.s<0,r=Zl(n,n.precision,1),o=r.times(.5);if((t=t.abs()).lte(o))return wu=i?4:1,t;if((e=t.divToInt(r)).isZero())wu=i?3:2;else{if((t=t.minus(e.times(r))).lte(o))return wu=T6(e)?i?2:3:i?4:1,t;wu=T6(e)?i?1:4:i?3:2}return t.minus(r).abs()}function FA(n,t,e,i){var r,o,s,a,l,c,u,y,O,P=n.constructor,I=void 0!==e;if(I?(ea(e,1,xh),void 0===i?i=P.rounding:ea(i,0,8)):(e=P.precision,i=P.rounding),n.isFinite()){for(I?(r=2,16==t?e=4*e-3:8==t&&(e=3*e-2)):r=t,(s=(u=Fc(n)).indexOf("."))>=0&&(u=u.replace(".",""),(O=new P(1)).e=u.length-s,O.d=kE(Fc(O),10,r),O.e=O.d.length),o=l=(y=kE(u,10,r)).length;0==y[--l];)y.pop();if(y[0]){if(s<0?o--:((n=new P(n)).d=y,n.e=o,y=(n=Gi(n,O,e,i,0,r)).d,o=n.e,c=m6),s=y[e],a=r/2,c=c||void 0!==y[e+1],c=i<4?(void 0!==s||c)&&(0===i||i===(n.s<0?3:2)):s>a||s===a&&(4===i||c||6===i&&1&y[e-1]||i===(n.s<0?8:7)),y.length=e,c)for(;++y[--e]>r-1;)y[e]=0,e||(++o,y.unshift(1));for(l=y.length;!y[l-1];--l);for(s=0,u="";s<l;s++)u+=RA.charAt(y[s]);if(I){if(l>1)if(16==t||8==t){for(s=16==t?4:3,--l;l%s;l++)u+="0";for(l=(y=kE(u,r,t)).length;!y[l-1];--l);for(s=1,u="1.";s<l;s++)u+=RA.charAt(y[s])}else u=u.charAt(0)+"."+u.slice(1);u=u+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)u="0"+u;u="0."+u}else if(++o>l)for(o-=l;o--;)u+="0";else o<l&&(u=u.slice(0,o)+"."+u.slice(o))}else u=I?"0p+0":"0";u=(16==t?"0x":2==t?"0b":8==t?"0o":"")+u}else u=O6(n);return n.s<0?"-"+u:u}function P6(n,t){if(n.length>t)return n.length=t,!0}function Kpe(n){return new this(n).abs()}function Jpe(n){return new this(n).acos()}function Qpe(n){return new this(n).acosh()}function Zpe(n,t){return new this(n).plus(t)}function ege(n){return new this(n).asin()}function tge(n){return new this(n).asinh()}function nge(n){return new this(n).atan()}function ige(n){return new this(n).atanh()}function rge(n,t){n=new this(n),t=new this(t);var e,i=this.precision,r=this.rounding,o=i+4;return n.s&&t.s?n.d||t.d?!t.d||n.isZero()?(e=t.s<0?Zl(this,i,r):new this(0)).s=n.s:!n.d||t.isZero()?(e=Zl(this,o,1).times(.5)).s=n.s:t.s<0?(this.precision=o,this.rounding=1,e=this.atan(Gi(n,t,o,1)),t=Zl(this,o,1),this.precision=i,this.rounding=r,e=n.s<0?e.minus(t):e.plus(t)):e=this.atan(Gi(n,t,o,1)):(e=Zl(this,o,1).times(t.s>0?.25:.75)).s=n.s:e=new this(NaN),e}function oge(n){return new this(n).cbrt()}function sge(n){return qt(n=new this(n),n.e+1,2)}function age(n,t,e){return new this(n).clamp(t,e)}function lge(n){if(!n||"object"!=typeof n)throw Error(NE+"Object expected");var t,e,i,r=!0===n.defaults,o=["precision",1,xh,"rounding",0,8,"toExpNeg",-o_,0,"toExpPos",0,o_,"maxE",0,o_,"minE",-o_,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(e=o[t],r&&(this[e]=IA[e]),void 0!==(i=n[e])){if(!(us(i)===i&&i>=o[t+1]&&i<=o[t+2]))throw Error(Ah+e+": "+i);this[e]=i}if(e="crypto",r&&(this[e]=IA[e]),void 0!==(i=n[e])){if(!0!==i&&!1!==i&&0!==i&&1!==i)throw Error(Ah+e+": "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(y6);this[e]=!0}else this[e]=!1}return this}function cge(n){return new this(n).cos()}function uge(n){return new this(n).cosh()}function hge(n,t){return new this(n).div(t)}function dge(n){return new this(n).exp()}function fge(n){return qt(n=new this(n),n.e+1,3)}function pge(){var n,t,e=new this(0);for(Sn=!1,n=0;n<arguments.length;)if((t=new this(arguments[n++])).d)e.d&&(e=e.plus(t.times(t)));else{if(t.s)return Sn=!0,new this(1/0);e=t}return Sn=!0,e.sqrt()}function A6(n){return n instanceof qr||n&&n.toStringTag===b6||!1}function gge(n){return new this(n).ln()}function _ge(n,t){return new this(n).log(t)}function mge(n){return new this(n).log(2)}function vge(n){return new this(n).log(10)}function yge(){return M6(this,arguments,"lt")}function bge(){return M6(this,arguments,"gt")}function Ege(n,t){return new this(n).mod(t)}function Sge(n,t){return new this(n).mul(t)}function Cge(n,t){return new this(n).pow(t)}function Tge(n){var t,e,i,r,o=0,s=new this(1),a=[];if(void 0===n?n=this.precision:ea(n,1,xh),i=Math.ceil(n/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));o<i;)(r=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=r%1e7;else{if(!crypto.randomBytes)throw Error(y6);for(t=crypto.randomBytes(i*=4);o<i;)(r=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(a.push(r%1e7),o+=4);o=i/4}else for(;o<i;)a[o++]=1e7*Math.random()|0;for(n%=7,(i=a[--o])&&n&&(r=Co(10,7-n),a[o]=(i/r|0)*r);0===a[o];o--)a.pop();if(o<0)e=0,a=[0];else{for(e=-1;0===a[0];e-=7)a.shift();for(i=1,r=a[0];r>=10;r/=10)i++;i<7&&(e-=7-i)}return s.e=e,s.d=a,s}function Mge(n){return qt(n=new this(n),n.e+1,this.rounding)}function Oge(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function wge(n){return new this(n).sin()}function Pge(n){return new this(n).sinh()}function xge(n){return new this(n).sqrt()}function Age(n,t){return new this(n).sub(t)}function Rge(){var n=0,t=arguments,e=new this(t[n]);for(Sn=!1;e.s&&++n<t.length;)e=e.plus(t[n]);return Sn=!0,qt(e,this.precision,this.rounding)}function Ige(n){return new this(n).tan()}function Dge(n){return new this(n).tanh()}function Nge(n){return qt(n=new this(n),n.e+1,1)}ct[Symbol.for("nodejs.util.inspect.custom")]=ct.toString,ct[Symbol.toStringTag]="Decimal";var qr=ct.constructor=function x6(n){var t,e,i;function r(o){var s,a,l,c=this;if(!(c instanceof r))return new r(o);if(c.constructor=r,A6(o))return c.s=o.s,void(Sn?!o.d||o.e>r.maxE?(c.e=NaN,c.d=null):o.e<r.minE?(c.e=0,c.d=[0]):(c.e=o.e,c.d=o.d.slice()):(c.e=o.e,c.d=o.d?o.d.slice():o.d));if("number"==(l=typeof o)){if(0===o)return c.s=1/o<0?-1:1,c.e=0,void(c.d=[0]);if(o<0?(o=-o,c.s=-1):c.s=1,o===~~o&&o<1e7){for(s=0,a=o;a>=10;a/=10)s++;return void(Sn?s>r.maxE?(c.e=NaN,c.d=null):s<r.minE?(c.e=0,c.d=[0]):(c.e=s,c.d=[o]):(c.e=s,c.d=[o]))}return 0*o!=0?(o||(c.s=NaN),c.e=NaN,void(c.d=null)):kA(c,o.toString())}if("string"!==l)throw Error(Ah+o);return 45===(a=o.charCodeAt(0))?(o=o.slice(1),c.s=-1):(43===a&&(o=o.slice(1)),c.s=1),E6.test(o)?kA(c,o):function Xpe(n,t){var e,i,r,o,s,a,l,c,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),E6.test(t))return kA(n,t)}else if("Infinity"===t||"NaN"===t)return+t||(n.s=NaN),n.e=NaN,n.d=null,n;if(Vpe.test(t))e=16,t=t.toLowerCase();else if(Hpe.test(t))e=2;else{if(!Wpe.test(t))throw Error(Ah+t);e=8}for((o=t.search(/p/i))>0?(l=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),o=t.indexOf("."),i=n.constructor,(s=o>=0)&&(o=(a=(t=t.replace(".","")).length)-o,r=C6(i,new i(e),o,2*o)),o=u=(c=kE(t,e,Ql)).length-1;0===c[o];--o)c.pop();return o<0?new i(0*n.s):(n.e=FE(c,u),n.d=c,Sn=!1,s&&(n=Gi(n,r,4*a)),l&&(n=n.times(Math.abs(l)<54?Co(2,l):qr.pow(2,l))),Sn=!0,n)}(c,o)}if(r.prototype=ct,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=lge,r.clone=x6,r.isDecimal=A6,r.abs=Kpe,r.acos=Jpe,r.acosh=Qpe,r.add=Zpe,r.asin=ege,r.asinh=tge,r.atan=nge,r.atanh=ige,r.atan2=rge,r.cbrt=oge,r.ceil=sge,r.clamp=age,r.cos=cge,r.cosh=uge,r.div=hge,r.exp=dge,r.floor=fge,r.hypot=pge,r.ln=gge,r.log=_ge,r.log10=vge,r.log2=mge,r.max=yge,r.min=bge,r.mod=Ege,r.mul=Sge,r.pow=Cge,r.random=Tge,r.round=Mge,r.sign=Oge,r.sin=wge,r.sinh=Pge,r.sqrt=xge,r.sub=Age,r.sum=Rge,r.tan=Ige,r.tanh=Dge,r.trunc=Nge,void 0===n&&(n={}),n&&!0!==n.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)n.hasOwnProperty(e=i[t++])||(n[e]=this[e]);return r.config(n),r}(IA);IE=new qr(IE),DE=new qr(DE);let Gr=(()=>{class n{constructor(e){this.app=e,this.minIntegerDigits=1}transform(e){return"number"!=typeof e&&"string"!=typeof e?"":Rb(new qr(e).toDecimalPlaces(this.app.config.betPrecision,qr.ROUND_DOWN).toNumber(),"en-US",`${this.minIntegerDigits}.${this.app.config.betPrecision}-${this.app.config.betPrecision}`)}}return n.\u0275fac=function(e){return new(e||n)(X(en,16))},n.\u0275pipe=Vr({name:"currencyPrecision",type:n,pure:!0}),n})();function kge(n,t){if(1&n){const e=dt();x(0,"div",3)(1,"div",4)(2,"span",5),Ce("click",function(){return it(e),ee().selectClick(null)}),ve(3,"i",6),R(),x(4,"div",7),H(5," shared.modals.free-bets-management.play with cash "),R()()()}2&n&&vt("selected",ee().freeBets.isActive(null))}function Fge(n,t){if(1&n){const e=dt();x(0,"span",5),Ce("click",function(){it(e);const r=ee(2);return r.selectClick(r.freeBet.freeBetsId)}),ve(1,"i",6),R()}}function Bge(n,t){if(1&n&&(x(0,"div",18),H(1),R()),2&n){const e=ee(2);A(1),me(" ",e.freeBet.numberOfFreeBets," ")}}function Lge(n,t){if(1&n&&(x(0,"div",19),H(1),R()),2&n){const e=ee(2);A(1),yt(e.freeBet.freeBetsLeft)}}function Uge(n,t){if(1&n&&(x(0,"div",20)(1,"div",21)(2,"div",22),H(3," shared.modals.free-bets-management.granted "),R(),x(4,"div",23),H(5),ce(6,"date"),R()(),x(7,"div",24)(8,"div",22),H(9," shared.modals.free-bets-management.min cashout coefficient "),R(),x(10,"div",23),H(11),R()(),x(12,"div",24)(13,"div",22),H(14," shared.modals.free-bets-management.expires "),R(),x(15,"div",23),H(16),ce(17,"date"),R()()()),2&n){const e=ee(2);A(5),me(" ",tn(6,3,e.freeBet.freeBetsStartDate,"dd.MM.yy, HH:mm")," "),A(6),yt(e.freeBet.freeBetsMinCashOut),A(5),me(" ",tn(17,6,e.freeBet.freeBetsEndDate,"dd.MM.yy, HH:mm")," ")}}function Gge(n,t){if(1&n){const e=dt();x(0,"div",8)(1,"div",4),Z(2,Fge,2,0,"span",9),Z(3,Bge,2,1,"div",10),Z(4,Lge,2,1,"div",11),x(5,"div",12)(6,"div",13)(7,"span"),H(8),ce(9,"currencyPrecision"),R()()(),x(10,"div",14)(11,"div",13),H(12),ce(13,"currencyPrecision"),R()(),x(14,"div",15),Ce("click",function(){return it(e),ee().toggleDisplayDetails()}),ve(15,"div",16),R()(),Z(16,Uge,18,9,"div",17),R()}if(2&n){const e=ee();vt("detailed",e.isDisplayedDetails)("selected",e.freeBets.isActive(e.freeBet.freeBetsId)),A(2),V("ngIf",!e.isArchive),A(1),V("ngIf",e.isArchive),A(1),V("ngIf",!e.isArchive),A(4),me(" ",pe(9,12,e.freeBet.freeBetsBetAmount)," "),A(4),me(" ",pe(13,14,e.freeBet.freeBetsWinSum)," "),A(3),vt("rotate",e.isDisplayedDetails),A(1),V("ngIf",e.isDisplayedDetails)}}let jge=(()=>{class n{constructor(e,i,r,o){this.mainService=e,this.freeBets=i,this.activeModal=r,this.app=o,this.isDisplayedDetails=!1}selectClick(e){this.freeBets.isActive(e)||(this.freeBets.activate(e),this.activeModal.close())}clickPlayWithCash(){}clickPlayWithFreeBet(){}toggleDisplayDetails(){this.isDisplayedDetails=!this.isDisplayedDetails}}return n.\u0275fac=function(e){return new(e||n)(X(Ui),X(Ic),X(So),X(en))},n.\u0275cmp=et({type:n,selectors:[["app-free-bet-management-item"]],inputs:{itemType:"itemType",isArchive:"isArchive",freeBet:"freeBet"},decls:3,vars:2,consts:[[1,"item-wrapper",3,"ngSwitch"],["class","rounded-block cash-block",3,"selected",4,"ngSwitchCase"],["class","rounded-block",3,"detailed","selected",4,"ngSwitchDefault"],[1,"rounded-block","cash-block"],[1,"main-row"],[1,"radio",3,"click"],[1,"dot"],["translate","",1,"cash-block__text"],[1,"rounded-block"],["class","radio",3,"click",4,"ngIf"],["class","quantity archive",4,"ngIf"],["class","quantity",4,"ngIf"],[1,"bet"],[1,"amount"],[1,"total-win"],[1,"arrow-wrapper",3,"click"],[1,"arrow"],["class","details",4,"ngIf"],[1,"quantity","archive"],[1,"quantity"],[1,"details"],[1,"table-row","top-row"],["translate","",1,"col-first"],[1,"col-sec"],[1,"table-row"]],template:function(e,i){1&e&&(x(0,"div",0),Z(1,kge,6,2,"div",1),Z(2,Gge,17,16,"div",2),R()),2&e&&(V("ngSwitch",i.itemType),A(1),V("ngSwitchCase","playWithCash"))},directives:[Go,ws,Gn,au,Ht],pipes:[Gr,vc],styles:[".item-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:34px;border-radius:8px;background-color:#0707084d;margin:5px auto 0;border:solid 1px transparent}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]{height:32px;width:100%;display:flex;align-items:center}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#1b1c1d;border:solid 1px #38ca07;border-radius:50%;margin-left:9px;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30%;margin-left:12px;flex-shrink:0}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .quantity.archive[_ngcontent-%COMP%]{margin-left:8%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{width:30%;flex-shrink:0;height:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;align-items:center;font-size:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-left:2px;font-size:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{width:20%;flex-shrink:0;height:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;align-items:center;font-size:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-left:2px;font-size:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:12%;padding-right:10px;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%]{background:url(dd-h.45c1ff176d95fe5d.svg) no-repeat center center/contain}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{width:10px;height:10px;transition:transform .5s;background:url(dd.4cbd6ffb2c52a810.svg) no-repeat center center/contain}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow.rotate[_ngcontent-%COMP%]{transform:rotate(180deg)}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;width:276px;min-height:70px;border-radius:6px;background-color:#212123;font-size:12px;margin:8px 0 12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{width:100%;display:flex;line-height:1}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-first[_ngcontent-%COMP%]{flex-shrink:0;margin-left:10px;width:50%;font-size:11px;color:#83878e}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-sec[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0;margin-left:20px;width:35%;color:#fff}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row.top-row[_ngcontent-%COMP%]{margin-top:5px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]{border:solid 1px #229607}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:default}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}.item-wrapper[_ngcontent-%COMP%]   .detailed[_ngcontent-%COMP%]{height:121px}.item-wrapper[_ngcontent-%COMP%]   .cash-block[_ngcontent-%COMP%]{margin-top:10px}.item-wrapper[_ngcontent-%COMP%]   .cash-block[_ngcontent-%COMP%]   .cash-block__text[_ngcontent-%COMP%]{margin-left:12px}"]}),n})();function Hge(n,t){1&n&&ve(0,"app-free-bet-management-item",13),2&n&&V("itemType","playWithCash")}function Vge(n,t){if(1&n){const e=dt();x(0,"div",14)(1,"div",1),H(2,"shared.modals.free-bets-management.active free bets"),R(),x(3,"div",15),Ce("click",function(){return it(e),ee().onClickArchiveHistory()}),ve(4,"div",16),x(5,"div",1),H(6,"shared.archive"),R()()()}}function Wge(n,t){if(1&n){const e=dt();x(0,"div",17)(1,"div",1),H(2,"shared.archive"),R(),x(3,"div",15),Ce("click",function(){return it(e),ee().isArchive=!1}),ve(4,"div",18),x(5,"div",1),H(6,"shared.back"),R()()()}if(2&n){const e=ee();A(3),vt("disabled",!e.loaded)}}function Yge(n,t){if(1&n&&(x(0,"div",27),ve(1,"app-free-bet-management-item",28),R()),2&n){const e=t.$implicit,i=ee(2);A(1),V("isArchive",i.isArchive)("freeBet",e)}}function zge(n,t){if(1&n){const e=dt();x(0,"div",29)(1,"div",30),Ce("click",function(){it(e);const r=ee(2);return r.getFreeBetsArchive(r.freeBetsList[r.freeBetsList.length-1].freeBetsId)}),ve(2,"div",31),x(3,"span",32),H(4,"shared.load_more"),R()()()}}function $ge(n,t){1&n&&(x(0,"div"),ve(1,"app-loader",33),R())}function Xge(n,t){if(1&n&&(x(0,"div",19)(1,"div",20)(2,"div",21),H(3," shared.modals.free-bets-management.quantity "),R(),x(4,"div",22),H(5),ce(6,"translate"),R(),x(7,"div",23),H(8),ce(9,"translate"),R()(),x(10,"div",24),Z(11,Yge,2,2,"div",25),Z(12,zge,5,0,"div",26),Z(13,$ge,2,0,"div",11),R()()),2&n){const e=ee();A(2),vt("archive",e.isArchive),A(3),pi(" ",pe(6,9,"shared.bet")," ",e.app.config.currency," "),A(3),pi(" ",pe(9,11,"shared.win")," ",e.app.config.currency," "),A(3),V("ngForOf",e.freeBetsList),A(1),V("ngIf",e.isArchive&&e.isMoreArchive&&e.loaded),A(1),V("ngIf",e.isArchive&&!e.loaded)}}function qge(n,t){1&n&&(x(0,"div"),ve(1,"app-loader"),R())}function Kge(n,t){1&n&&(x(0,"div",37),H(1," shared.modals.free-bets-management.no active free bets "),R())}function Jge(n,t){1&n&&(x(0,"div",37),H(1," shared.modals.free-bets-management.nothing yet "),R())}function Qge(n,t){if(1&n&&(x(0,"div",34),ve(1,"div",35),Z(2,Kge,2,0,"div",36),Z(3,Jge,2,0,"div",36),R()),2&n){const e=ee();A(2),V("ngIf",!e.isArchive),A(1),V("ngIf",e.isArchive)}}let ff=class{constructor(t,e,i,r){this.app=t,this.activeModal=e,this.freeBets=i,this.connector=r,this.isArchive=!1,this.loaded=!0,this.isMoreArchive=!1}ngOnInit(){this.connector.response(pn.FreeBetsArchive).pipe(gt(this)).subscribe(t=>this.freeBetsArchiveResponse(t))}freeBetsArchiveResponse(t){this.loaded=!0,200===t.code&&(this.isMoreArchive=t.isHaveMore,t.freeBetsArchiveInfo&&(this.freeBetsArchiveList?this.freeBetsArchiveList.push(...t.freeBetsArchiveInfo):this.freeBetsArchiveList=t.freeBetsArchiveInfo))}onClickArchiveHistory(){this.isArchive=!0,this.getFreeBetsArchive()}getFreeBetsArchive(t){if(!t&&this.freeBetsArchiveList)return;this.loaded=!1;const e={};t&&(e.startId=t),this.connector.request(Fi.FreeBetsArchive,e)}get freeBetsList(){return this.isArchive?this.freeBetsArchiveList:this.freeBets.list}get freeBetsCount(){return this.freeBetsList?this.freeBetsList.length:0}};ff.\u0275fac=function(t){return new(t||ff)(X(en),X(So),X(Ic),X(ki))},ff.\u0275cmp=et({type:ff,selectors:[["app-free-bets-management"]],decls:15,vars:6,consts:[[1,"title","modal-header","canSelect"],["translate",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","px-2"],[1,"content-wrapper"],[1,"content"],["class","free-bet-item",3,"itemType",4,"ngIf"],["class","free-bets-header pl-1",4,"ngIf"],["class","free-bets-header free-bets-header-archive",4,"ngIf"],["class","content__free-bets",4,"ngIf"],[4,"ngIf"],["class","content__none",4,"ngIf"],[1,"free-bet-item",3,"itemType"],[1,"free-bets-header","pl-1"],[1,"archive-btn","pl-1","pr-2",3,"click"],[1,"history-i"],[1,"free-bets-header","free-bets-header-archive"],[1,"close-i"],[1,"content__free-bets"],[1,"free-bets-table-header"],["translate","",1,"quantity"],[1,"bet"],[1,"total-win"],[1,"free-bets-list-wrapper"],["class","free-bets-list",4,"ngFor","ngForOf"],["class","load-more-wrapper",4,"ngIf"],[1,"free-bets-list"],[1,"free-bets-list__item",3,"isArchive","freeBet"],[1,"load-more-wrapper"],[1,"load-more",3,"click"],[1,"load-more-i"],["translate","",1,"load-more__text"],["type","small"],[1,"content__none"],[1,"free-bet-image"],["class","none-text","translate","",4,"ngIf"],["translate","",1,"none-text"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"span",1),H(2,"shared.modals.free-bets-management.title"),R(),x(3,"button",2),Ce("click",function(){return e.activeModal.close()}),x(4,"span",3),H(5,"\xd7"),R()()(),x(6,"div",4)(7,"div",5)(8,"div",6),Z(9,Hge,1,1,"app-free-bet-management-item",7),Z(10,Vge,7,0,"div",8),Z(11,Wge,7,2,"div",9),Z(12,Xge,14,13,"div",10),Z(13,qge,2,0,"div",11),Z(14,Qge,4,2,"div",12),R()()()),2&t&&(A(9),V("ngIf",!e.isArchive),A(1),V("ngIf",!e.isArchive),A(1),V("ngIf",e.isArchive),A(1),V("ngIf",e.freeBetsCount>0),A(1),V("ngIf",e.isArchive&&!e.loaded&&0===e.freeBetsCount),A(1),V("ngIf",0===e.freeBetsCount&&e.loaded))},directives:[Gn,Ht,jge,vi,Ou],pipes:[dn],styles:[".title.modal-header.canSelect[_ngcontent-%COMP%]{padding-left:15px}.content-wrapper[_ngcontent-%COMP%]{position:relative}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__free-bets[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]{width:100%;height:100%;padding:30px 0;display:flex;align-items:center;flex-direction:column;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]   .free-bet-image[_ngcontent-%COMP%]{width:100px;height:62px;background:url(ticket.adefaa8953b7a11e.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]   .none-text[_ngcontent-%COMP%]{margin-top:14px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;margin-top:12px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header-archive[_ngcontent-%COMP%]{margin:0 auto}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;cursor:pointer;color:#b8b8b7;border-radius:17px;border:solid 1px #414148;background-color:#252528}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn.disabled[_ngcontent-%COMP%]{cursor:auto;opacity:.2;pointer-events:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{background:url(history.a8377d083674a681.svg) no-repeat center center/contain;width:14px;height:14px;margin-right:3px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]:hover   .history-i[_ngcontent-%COMP%]{background:url(history-h.0950ae774061ee87.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]   .close-i[_ngcontent-%COMP%]{background:url(x-r.b2d16e043b6ad29d.svg) no-repeat center center/contain;width:11px;height:11px;margin-right:3px;align-self:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]:hover   .close-i[_ngcontent-%COMP%]{background:url(x-r-h.3da436b8879be7c2.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]{margin-top:9px;width:100%;display:flex;font-size:11px;color:#83878e;justify-content:flex-start}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30%;margin-left:37px;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .quantity.archive[_ngcontent-%COMP%]{margin-left:8%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%], .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{width:30%;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]{height:calc(100% - 40px);width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .free-bets-list[_ngcontent-%COMP%]:last-child{width:100%;margin-bottom:5px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .free-bets-list[_ngcontent-%COMP%]:last-child   .free-bets-list__item[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]{text-align:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]{margin:11px 0 5px;display:inline-flex;align-items:center;height:22px;border-radius:13px;border:solid 1px #6f6f6f;background-color:#1e1e1e;color:#b8b8b7;cursor:pointer}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]:hover   .load-more-i[_ngcontent-%COMP%]{background:url(load-h.45bbe491bf39179a.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .load-more-i[_ngcontent-%COMP%]{background:url(load.bf5127f9fcce9dbc.svg) no-repeat center center/contain;margin:0 4px 0 10px;width:14px;height:9px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .load-more__text[_ngcontent-%COMP%]{font-size:12px;margin-right:10px}.free-bet-item[_ngcontent-%COMP%]{width:100%;color:#d2d2d2}"]}),ff=We([oi()],ff);var ta=(()=>(function(n){n.EN="en",n.KA="ka",n.RU="ru",n.HY="hy",n.TR="tr",n.BG="bg",n.IT="it",n.ZH="zh",n.KO="ko",n.HR="hr",n.SV="sv",n.FA="fa",n.ES="es"}(ta||(ta={})),ta))();const R6=n=>{const t={};return t[ta.EN]="https://www.youtube.com/embed/PZejs3XDCSY?playsinline=1",t[ta.RU]="https://www.youtube.com/embed/dcThkn7JMV0?playsinline=1",t[ta.TR]="https://www.youtube.com/embed/04Kjqzxuv4w?playsinline=1",t[ta.BG]="https://www.youtube.com/embed/uqqaznDHThM?playsinline=1",t[ta.IT]="https://www.youtube.com/embed/pWRuRU01zV8?playsinline=1",t[ta.ZH]="https://www.youtube.com/embed/Q7GDLGcSTu0?playsinline=1",t[ta.KO]="https://www.youtube.com/embed/ZVatehIvZb0?playsinline=1",t[ta.FA]="https://www.youtube.com/embed/_5DNXyuabns?playsinline=1",t[ta.HR]="https://www.youtube.com/embed/jwi2__ybp1o?playsinline=1",t[ta.ES]="https://www.youtube.com/embed/kXxVkRHKhQI?playsinline=1",t.hasOwnProperty(n)?t[n]:t[ta.EN]};function Zge(n,t){1&n&&(x(0,"li",24),H(1," shared.modals.rules.game-rules.game-functions.bet-cashout.point2 "),R())}function e_e(n,t){if(1&n&&(x(0,"ul",23)(1,"li",24),H(2," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point7 "),R(),x(3,"li",24),H(4," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point1 "),R(),x(5,"li",24),H(6," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point8 "),R(),x(7,"li",24),H(8," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point2 "),R(),x(9,"li",24),H(10," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point3 "),R(),x(11,"li",24),H(12," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point4 "),R(),x(13,"li",33),H(14),ce(15,"translate"),R(),x(16,"li",24),H(17," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point9 "),R()()),2&n){const e=ee(2);A(14),me(" ",pe(15,1,e.app.config.gameRulesAutoCashOutType===e.gameRulesAutoCashOutType.Detailed?"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5-detailed":"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5")," ")}}function t_e(n,t){if(1&n&&(x(0,"ul",23)(1,"li",24),H(2," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point7 "),R(),x(3,"li",24),H(4," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point6 "),R(),x(5,"li",33),H(6),ce(7,"translate"),R()()),2&n){const e=ee(2);A(6),me(" ",pe(7,1,e.app.config.gameRulesAutoCashOutType===e.gameRulesAutoCashOutType.Detailed?"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5-detailed":"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5")," ")}}function n_e(n,t){if(1&n&&(x(0,"div",27)(1,"div",22),H(2," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.title "),R(),Z(3,e_e,18,3,"ul",32),Z(4,t_e,8,3,"ul",32),R()),2&n){const e=ee();A(3),V("ngIf",void 0!==e.app.config.autoBetOptions),A(1),V("ngIf",void 0===e.app.config.autoBetOptions)}}function i_e(n,t){1&n&&(x(0,"div",27)(1,"div",22),H(2," shared.modals.rules.game-rules.game-functions.in-game-chat.title "),R(),x(3,"ul",23)(4,"li",24),H(5," shared.modals.rules.game-rules.game-functions.in-game-chat.point1 "),R()()())}function r_e(n,t){1&n&&(x(0,"div",27)(1,"div",34),H(2),ce(3,"translate"),R(),x(4,"ul",23)(5,"li",24),H(6," shared.modals.rules.game-rules.game-functions.free-bets.point1 "),R()()()),2&n&&(A(2),me(" ",pe(3,1,"shared.free_bets")," "))}function o_e(n,t){1&n&&(x(0,"div",27)(1,"div",22),H(2," shared.modals.rules.game-rules.game-functions.rain-feature.title "),R(),x(3,"ul",23)(4,"li",24),H(5," shared.modals.rules.game-rules.game-functions.rain-feature.point1 "),R()()())}const s_e=function(n,t){return{minBankValue:n,currency:t}};function a_e(n,t){if(1&n&&(x(0,"div",27)(1,"div",22),H(2," shared.modals.rules.game-rules.game-functions.minimum_bank_value.title "),R(),x(3,"ul",23)(4,"li",33),H(5),ce(6,"translate"),R()()()),2&n){const e=ee();A(5),me(" ",tn(6,1,"shared.modals.rules.game-rules.game-functions.minimum_bank_value.point1",ba(4,s_e,e.minBankValue,e.app.config.currency))," ")}}const l_e=function(n,t){return{returnToPlayer:n,numberOfRounds:t}};function c_e(n,t){if(1&n&&(x(0,"div",27)(1,"div",22),H(2," shared.modals.rules.game-rules.game-functions.return-to-player.title "),R(),x(3,"ul",23)(4,"li",33),H(5),ce(6,"translate"),R()()()),2&n){const e=ee();A(5),me(" ",tn(6,1,"shared.modals.rules.game-rules.game-functions.return-to-player.point1",ba(4,l_e,e.app.config.returnToPlayer,100-e.app.config.returnToPlayer))," ")}}function u_e(n,t){1&n&&(x(0,"li",24),H(1," shared.modals.rules.game-rules.game-functions.other.unfinished game "),R())}const h_e=function(n,t){return{maxWin:n,currency:t}};function d_e(n,t){if(1&n&&(x(0,"li",33),H(1),ce(2,"translate"),ce(3,"currencyPrecision"),R()),2&n){const e=ee();A(1),me(" ",tn(2,1,"shared.modals.rules.game-rules.game-functions.other.max_win",ba(6,h_e,pe(3,4,e.app.config.maxUserWin),e.app.config.currency))," ")}}const f_e=function(n){return{maxMultiplier:n}};function p_e(n,t){if(1&n&&(x(0,"li",33),H(1),ce(2,"translate"),R()),2&n){const e=ee();A(1),me(" ",tn(2,1,"shared.modals.rules.game-rules.game-functions.other.max_user_multiplier",Fr(4,f_e,e.app.config.maxUserMultiplier.toFixed(2)))," ")}}const g_e=function(n){return{min:n}};function m_e(n,t){if(1&n&&(x(0,"li",33),H(1),ce(2,"translate"),R()),2&n){const e=ee();A(1),me(" ",tn(2,1,"shared.modals.rules.game-rules.game-functions.other.inactivityTime",Fr(4,g_e,e.app.config.inactivityTimeForDisconnect))," ")}}function v_e(n,t){if(1&n&&(x(0,"div",35)(1,"div")(2,"span",36),H(3," shared.modals.rules.game-rules.game-functions.version "),R(),x(4,"span"),H(5),R()()()),2&n){const e=ee();A(5),yt(e.app.config.gameVersion)}}let y_e=(()=>{class n{constructor(e,i,r,o,s,a){this.activeModal=e,this.app=i,this.modal=r,this.urlParams=o,this.sanitizer=s,this.currencyPrecisionPipe=a,this.minBankValue=this.currencyPrecisionPipe.transform(qr.mul(this.app.config.minBet,1.01).toNumber()),this.gameRulesAutoCashOutType=qb}ngOnInit(){const e=R6(this.urlParams.lang);this.videoURL=this.sanitizer.bypassSecurityTrustResourceUrl(e)}onPFModalOpen(e){e.preventDefault(),this.modal.open(si.whatIsPf)}get isShowRainFeature(){try{return this.app.config.chat.rain.isEnabled||this.app.config.chat.promo.isEnabled}catch(e){return!0}}}return n.\u0275fac=function(e){return new(e||n)(X(So),X(en),X(Is),X(Rc),X(TO),X(Gr))},n.\u0275cmp=et({type:n,selectors:[["app-rules"]],features:[ei([Gr])],decls:142,vars:28,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["translate","",1,"text-grey"],["href","#","translate","",3,"click"],[1,"mt-4","mb-2","text-uppercase"],[1,"youtube"],[1,"embed-responsive","embed-responsive-16by9"],["frameborder","0","allowfullscreen","","allow","accelerometer; encrypted-media; gyroscope; picture-in-picture",1,"embed-responsive-item",3,"src"],[1,"steps-wrapper"],["translate","",1,"pt-5","pl-2"],[1,"steps-container"],[1,"step","step-1"],[1,"step-bg-img"],["translate","",1,"step-text","pt-2"],[1,"step","step-2"],["translate","",1,"step-text"],[1,"step","step-3"],["translate","",1,"mt-3","text-grey"],[1,"rules-list","pt-3"],["translate","",1,"rules-list-title"],[1,"list-group"],["translate","",1,"list-group-item"],[1,"icon-fair"],["translate","",1,"mt-4","mt-5"],[1,"rules-list","pt-2"],["class","list-group-item","translate","",4,"ngIf"],["class","rules-list pt-2",4,"ngIf"],["class","list-group-item",4,"ngIf"],["class","game-version-wrapper border-top mt-4 pt-2 d-flex justify-content-center",4,"ngIf"],["class","list-group",4,"ngIf"],[1,"list-group-item"],[1,"rules-list-title","text-capitalize"],[1,"game-version-wrapper","border-top","mt-4","pt-2","d-flex","justify-content-center"],["translate",""]],template:function(e,i){1&e&&(x(0,"div",0)(1,"span",1),H(2),ce(3,"translate"),R(),x(4,"button",2),Ce("click",function(){return i.activeModal.close()}),x(5,"span",3),H(6,"\xd7"),R()()(),x(7,"div",4)(8,"p",5),H(9,"shared.modals.rules.game-rules.main-text"),R(),x(10,"a",6),Ce("click",function(o){return i.onPFModalOpen(o)}),H(11," shared.modals.rules.game-rules.link "),R(),x(12,"h6",7),H(13),ce(14,"translate"),R(),x(15,"div",8)(16,"div",9),ve(17,"iframe",10),R()(),x(18,"div",11)(19,"h6",12),H(20," shared.modals.rules.game-rules.steps.title "),R(),x(21,"div",13)(22,"div",14)(23,"h3"),H(24,"01"),R(),ve(25,"div",15),x(26,"div",16)(27,"span",1),H(28),ce(29,"translate"),R(),H(30," shared.modals.rules.game-rules.steps.first-step "),R()(),x(31,"div",17)(32,"h3"),H(33,"02"),R(),ve(34,"div",15),x(35,"div",18)(36,"span",1),H(37),ce(38,"translate"),R(),H(39," shared.modals.rules.game-rules.steps.second-step "),R()(),x(40,"div",19)(41,"h3"),H(42,"03"),R(),ve(43,"div",15),x(44,"div",18)(45,"span",1),H(46),ce(47,"translate"),R(),H(48," shared.modals.rules.game-rules.steps.third-step "),R()()(),x(49,"p",20),H(50," shared.modals.rules.game-rules.steps.text "),R(),x(51,"div",21)(52,"div",22),H(53," shared.modals.rules.game-rules.details.title "),R(),x(54,"ul",23)(55,"li",24),H(56," shared.modals.rules.game-rules.details.point1 "),R(),x(57,"li",24),H(58," shared.modals.rules.game-rules.details.point2 "),R(),x(59,"li",24),H(60," shared.modals.rules.game-rules.details.point3-1 "),ve(61,"span",25),H(62," shared.modals.rules.game-rules.details.point3-2 "),R()()()(),x(63,"h6",26),H(64," shared.modals.rules.game-rules.game-functions.title "),R(),x(65,"div",27)(66,"div",22),H(67," shared.modals.rules.game-rules.game-functions.bet-cashout.title "),R(),x(68,"ul",23)(69,"li",24),H(70," shared.modals.rules.game-rules.game-functions.bet-cashout.point1 "),R(),ft(71),x(72,"li",24),H(73," shared.modals.rules.game-rules.game-functions.bet-cashout.point5 "),R(),x(74,"li",24),H(75," shared.modals.rules.game-rules.game-functions.bet-cashout.point6 "),R(),pt(),Z(76,Zge,2,0,"li",28),x(77,"li",24),H(78," shared.modals.rules.game-rules.game-functions.bet-cashout.point3 "),R(),x(79,"li",24),H(80," shared.modals.rules.game-rules.game-functions.bet-cashout.point4 "),R()()(),Z(81,n_e,5,2,"div",29),x(82,"div",27)(83,"div",22),H(84," shared.modals.rules.game-rules.game-functions.live-bets-statistics.title "),R(),x(85,"ul",23)(86,"li",24),H(87," shared.modals.rules.game-rules.game-functions.live-bets-statistics.point1 "),R(),x(88,"li",24),H(89," shared.modals.rules.game-rules.game-functions.live-bets-statistics.point2 "),R(),x(90,"li",24),H(91," shared.modals.rules.game-rules.game-functions.live-bets-statistics.point3 "),R()()(),Z(92,i_e,6,0,"div",29),Z(93,r_e,7,3,"div",29),Z(94,o_e,6,0,"div",29),x(95,"div",27)(96,"div",22),H(97," shared.modals.rules.game-rules.game-functions.randomization.title "),R(),x(98,"ul",23)(99,"li",24),H(100," shared.modals.rules.game-rules.game-functions.randomization.point1 "),x(101,"a",6),Ce("click",function(o){return i.onPFModalOpen(o)}),H(102," shared.modals.rules.game-rules.link "),R()(),x(103,"li",24),H(104," shared.modals.rules.game-rules.game-functions.randomization.point2 "),R(),x(105,"li",24),H(106," shared.modals.rules.game-rules.game-functions.randomization.point3-1 "),ve(107,"span",25),H(108," shared.modals.rules.game-rules.game-functions.randomization.point3-2 "),R()()(),Z(109,a_e,7,7,"div",29),Z(110,c_e,7,7,"div",29),x(111,"div",27)(112,"div",22),H(113," shared.modals.rules.game-rules.game-functions.game-menu.title "),R(),x(114,"ul",23)(115,"li",24),H(116," shared.modals.rules.game-rules.game-functions.game-menu.point1 "),R(),x(117,"li",24),H(118," shared.modals.rules.game-rules.game-functions.game-menu.point2 "),R(),x(119,"li",24),H(120," shared.modals.rules.game-rules.game-functions.game-menu.point3 "),R(),x(121,"li",24),H(122," shared.modals.rules.game-rules.game-functions.game-menu.point4 "),R(),x(123,"li",24),H(124," shared.modals.rules.game-rules.game-functions.game-menu.point5 "),R(),x(125,"li",24),H(126," shared.modals.rules.game-rules.game-functions.game-menu.point6 "),R(),x(127,"li",24),H(128," shared.modals.rules.game-rules.game-functions.game-menu.point7 "),R()()(),x(129,"div",27)(130,"div",22),H(131," shared.modals.rules.game-rules.game-functions.other.title "),R(),x(132,"ul",23)(133,"li",24),H(134," shared.modals.rules.game-rules.game-functions.other.point1 "),R(),x(135,"li",24),H(136," shared.modals.rules.game-rules.game-functions.other.point2 "),R(),Z(137,u_e,2,0,"li",28),Z(138,d_e,4,9,"li",30),Z(139,p_e,3,6,"li",30),Z(140,m_e,3,6,"li",30),R()(),Z(141,v_e,6,1,"div",31),R()),2&e&&(A(2),yt(pe(3,18,"shared.game_rules")),A(11),me(" ",pe(14,20,"shared.how_to_play")," "),A(4),V("src",i.videoURL,Yy),A(11),yt(pe(29,22,"shared.bet")),A(9),yt(pe(38,24,"shared.watch")),A(9),me(" ",pe(47,26,"shared.cash_out")," "),A(30),V("ngIf",i.app.config.isMultipleBetsEnabled),A(5),V("ngIf",i.app.isAutoBetFeatureEnabled),A(11),V("ngIf",i.app.config.chat.isEnabled),A(1),V("ngIf",i.app.isFreeBetsEnabled),A(1),V("ngIf",i.isShowRainFeature),A(15),V("ngIf",i.app.config.isGameRulesHaveMinimumBankValue),A(1),V("ngIf",i.app.config.returnToPlayer>0),A(27),V("ngIf",i.app.config.isRuleUnfinishedGame),A(1),V("ngIf",i.app.config.isGameRulesHaveMaxWin),A(1),V("ngIf",i.app.config.maxUserMultiplier),A(1),V("ngIf",i.app.config.inactivityTimeForDisconnect),A(1),V("ngIf",i.app.config.gameVersion))},directives:[Gn,Ht],pipes:[dn,Gr],styles:[".list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{margin:0;border:0;background:transparent url(right-red-arrow.6fd455f16f929594.svg) no-repeat 0 3px;padding:2px 0 2px 14px;color:#d2d2d2}a[_ngcontent-%COMP%]{color:red}.youtube[_ngcontent-%COMP%]{display:block}.icon-fair[_ngcontent-%COMP%]{background-image:url(icon-provabyfair.652dcfd9d89241e2.svg);background-repeat:no-repeat;min-width:14px;height:16px;display:inline-block;background-size:contain;transform:translateY(4px)}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-wrap:wrap}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-top:20px}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{flex:0 0 240px}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{width:240px;height:140px;border-radius:20px;border:1px solid #4e4e4e;background-size:100% 100%}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]{margin-top:10px;background:url(01-bet.3abfc8a0377d7f10.svg) no-repeat top left;background-size:36px 36px;padding-left:40px;min-height:36px;font-weight:700}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-1[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-01.d2bc6dfa6d5518ce.png)}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-2[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-02.6aae9ac8161a78ed.png)}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-3[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-03.8bd39c6ac174d9c4.png)}.rules-list[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.rules-list[_ngcontent-%COMP%]   .rules-list-title[_ngcontent-%COMP%]{margin-left:-20px;margin-bottom:10px}.text-grey[_ngcontent-%COMP%]{color:#d2d2d2}.game-version-wrapper[_ngcontent-%COMP%]{border-color:#fff3!important}"]}),n})(),b_e=(()=>{class n{constructor(e,i,r,o){this.activeModal=e,this.sanitizer=i,this.modal=r,this.urlParams=o}ngOnInit(){const e=R6(this.urlParams.lang);this.videoURL=this.sanitizer.bypassSecurityTrustResourceUrl(e)}onShowRules(){this.modal.open(si.rules),this.activeModal.close()}}return n.\u0275fac=function(e){return new(e||n)(X(So),X(TO),X(Is),X(Rc))},n.\u0275cmp=et({type:n,selectors:[["app-quick-help-modal"]],decls:29,vars:4,consts:[[1,"modal-header","text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"youtube"],[1,"embed-responsive","embed-responsive-16by9"],["frameborder","0","allowfullscreen","","allow","accelerometer; encrypted-media; gyroscope; picture-in-picture",1,"embed-responsive-item",3,"src"],[1,"step"],[1,"bullet","bullet-1"],["translate",""],[1,"bullet","bullet-2"],[1,"bullet","bullet-3"],[1,"modal-footer","p-0"],["translate","",1,"btn","btn-link","btn-sm","mx-auto",3,"click"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"span"),H(2),ce(3,"translate"),R(),x(4,"button",1),Ce("click",function(){return i.activeModal.close()}),x(5,"span",2),H(6,"\xd7"),R()()(),x(7,"div",3)(8,"div",4)(9,"div",5),ve(10,"iframe",6),R()(),x(11,"div",7)(12,"div",8),H(13,"01"),R(),x(14,"p",9),H(15,"shared.modals.quick-help.step1"),R()(),x(16,"div",7)(17,"div",10),H(18,"02"),R(),x(19,"p",9),H(20,"shared.modals.quick-help.step2"),R()(),x(21,"div",7)(22,"div",11),H(23,"03"),R(),x(24,"p",9),H(25,"shared.modals.quick-help.step3"),R()()(),x(26,"div",12)(27,"button",13),Ce("click",function(){return i.onShowRules()}),H(28," shared.modals.quick-help.details "),R()()),2&e&&(A(2),me("",pe(3,2,"shared.how_to_play"),"?"),A(8),V("src",i.videoURL,Yy))},directives:[Gn],pipes:[dn],styles:[".modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{background:#e69308!important}.modal-body[_ngcontent-%COMP%]{background:#f5a623}.modal-header[_ngcontent-%COMP%]{color:#965419!important;font-weight:700}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#49290c!important}.step[_ngcontent-%COMP%]{display:flex;color:#5f3816;margin-top:15px}.step[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;background:url(01-bet.3abfc8a0377d7f10.svg) no-repeat right;background-size:40px 40px;min-width:65px;max-width:65px;height:40px;font-size:18px;font-weight:700}.step[_ngcontent-%COMP%]   .bullet.bullet-2[_ngcontent-%COMP%]{background:url(02-watch.894883471c6dcfbf.svg) no-repeat right;background-size:40px 40px}.step[_ngcontent-%COMP%]   .bullet.bullet-3[_ngcontent-%COMP%]{background:url(03-cashout.c3a9f1cc78219734.svg) no-repeat right;background-size:40px 40px}.step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:15px;margin-bottom:0}.btn-link[_ngcontent-%COMP%]{color:#5f3816!important}.youtube[_ngcontent-%COMP%]{display:block;width:calc(100% + 2rem);margin-left:-1rem;margin-right:-1rem}"]}),n})();var t0=(()=>(function(n){n.RealityCheck="reality_check"}(t0||(t0={})),t0))(),pf=(()=>(function(n){n.Continue="CONTINUE",n.Stop="STOP"}(pf||(pf={})),pf))();function E_e(n,t){1&n&&(x(0,"p",7),H(1," shared.modals.notification.alderney_message "),R())}function S_e(n,t){1&n&&ve(0,"p",8),2&n&&V("innerHTML",ee().params.message,d2)}function C_e(n,t){if(1&n){const e=dt();x(0,"p",9)(1,"button",10),Ce("click",function(){return it(e),ee().onOpenAccountHistory()}),H(2," shared.modals.notification.account_history "),R()()}}function T_e(n,t){if(1&n){const e=dt();x(0,"div",11)(1,"button",12),Ce("click",function(){it(e);const r=ee();return r.onRealityCheck(r.realityCheckAction.Continue)}),H(2),ce(3,"translate"),R(),x(4,"button",13),Ce("click",function(){it(e);const r=ee();return r.onRealityCheck(r.realityCheckAction.Stop)}),H(5),ce(6,"translate"),R()()}2&n&&(A(2),me(" ",pe(3,2,"shared.continue")," "),A(3),me(" ",pe(6,4,"shared.stop")," "))}function M_e(n,t){if(1&n){const e=dt();x(0,"div",11)(1,"button",14),Ce("click",function(){return it(e),ee().activeModal.close()}),H(2),ce(3,"translate"),R()()}if(2&n){const e=ee();A(1),V("disabled",e.isAcknowledgeDisabled),A(1),me(" ",pe(3,2,"shared.acknowledge")," ")}}let gf=class{constructor(t,e,i,r,o,s,a,l){this.activeModal=t,this.connector=e,this.modal=i,this.frontEndProxyService=r,this.betControls=o,this.ifc=s,this.app=a,this.urlParams=l,this.realityCheckAction=pf,this.isAcknowledgeDisabled=!0}ngOnInit(){this.onInitIRC(),this.onInitAlderney()}onInitIRC(){this.isInternalRealityCheck&&this.betControls.cancelBets()}onInitAlderney(){this.isAlderney&&hh(5e3).pipe(gt(this)).subscribe(()=>this.isAcknowledgeDisabled=!1)}get isRCButtonsVisible(){return this.isRealityCheck||this.isInternalRealityCheck}get isRealityCheck(){return this.params.type===uu.RealityCheck}get isInternalRealityCheck(){return this.params.type===uu.InternalRealityCheck}get isAlderney(){return this.params.type===uu.Alderney}onRealityCheck(t){if(this.activeModal.close(),this.connector.request(Fi.NotificationCallback,{notificationType:t0.RealityCheck,action:t}),t===pf.Stop&&(this.frontEndProxyService.sendClosed(),this.connector.shutdown(yi.shutdown),this.urlParams.returnUrl)){if(this.app.config.backToHomeActionType===xg.IfcEvent)return void this.frontEndProxyService.sendBackToHome(this.urlParams.returnUrl);window.open(this.urlParams.returnUrl,"_top")}}onOpenAccountHistory(){this.app.config.accountHistoryActionType===sv.IfcEvent?this.ifc.emitEvent(Ai.AccountHistory,{accountHistoryUrl:this.urlParams.accountHistoryUrl}):this.urlParams.accountHistoryUrl?window.open(this.urlParams.accountHistoryUrl,"_blank"):this.modal.open(si.myBetsHistory)}};gf.\u0275fac=function(t){return new(t||gf)(X(So),X(ki),X(Is),X(cE),X(Dc),X(Eu),X(en),X(Rc))},gf.\u0275cmp=et({type:gf,selectors:[["app-notification-modal"]],inputs:{params:"params"},decls:10,vars:8,consts:[[1,"modal-header"],[1,"text-uppercase"],[1,"modal-body","modal-bottom-radius"],["class","text-center p-4","translate","",4,"ngIf"],["class","text-center p-4",3,"innerHTML",4,"ngIf"],["class","text-center",4,"ngIf"],["class","modal-footer d-flex justify-content-center",4,"ngIf"],["translate","",1,"text-center","p-4"],[1,"text-center","p-4",3,"innerHTML"],[1,"text-center"],["translate","",1,"btn","btn-secondary","btn-sm","px-4",3,"click"],[1,"modal-footer","d-flex","justify-content-center"],[1,"btn","btn-success","btn-sm","text-uppercase",3,"click"],[1,"btn","btn-danger","btn-sm","ml-1","text-uppercase",3,"click"],[1,"btn","btn-success","btn-sm","ml-1","text-uppercase",3,"disabled","click"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"span",1),H(2),ce(3,"translate"),R()(),x(4,"div",2),Z(5,E_e,2,0,"p",3),Z(6,S_e,1,1,"p",4),Z(7,C_e,3,0,"p",5),R(),Z(8,T_e,7,6,"div",6),Z(9,M_e,4,4,"div",6)),2&t&&(A(2),yt(pe(3,6,"shared.notification")),A(3),V("ngIf",e.isAlderney),A(1),V("ngIf",e.isRCButtonsVisible),A(1),V("ngIf",e.isRCButtonsVisible),A(1),V("ngIf",e.isRCButtonsVisible),A(1),V("ngIf",e.isAlderney))},directives:[Ht,Gn],pipes:[dn],styles:[".progress[_ngcontent-%COMP%]{width:160px;height:4px;border-radius:2px;background-color:#262830;margin:0 auto}.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;border-radius:2px;transition-property:transform;transition-timing-function:linear}.progress[_ngcontent-%COMP%]   .bg-danger[_ngcontent-%COMP%]{background-color:#e50539!important;box-shadow:0 2px 4px #d0021b}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),gf=We([oi()],gf);var hs=(()=>(function(n){n.Init="/user/queue/init",n.GifsSearch="/user/queue/gifs.search",n.MessageSend="/user/queue/message.send",n.RainClaim="/user/queue/rain.claim",n.MessageLikeAdd="/user/queue/message.like.add",n.MessageLikeDelete="/user/queue/message.like.delete",n.MessageAdd="/user/queue/message.add",n.MessageDelete="/user/queue/message.delete",n.PlayersOnline="/user/queue/players.online"}(hs||(hs={})),hs))(),I6=w(209);function D6(n,t,e,i,r,o,s){try{var a=n[o](s),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function N6(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var o=n.apply(t,e);function s(l){D6(o,i,r,s,a,"next",l)}function a(l){D6(o,i,r,s,a,"throw",l)}s(void 0)})}}const n0_LF="\n",n0_NULL="\0";class Dh{constructor(t){const{command:e,headers:i,body:r,binaryBody:o,escapeHeaderValues:s,skipContentLengthHeader:a}=t;this.command=e,this.headers=Object.assign({},i||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=s||!1,this.skipContentLengthHeader=a||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(t,e){const i={},r=o=>o.replace(/^\s+|\s+$/g,"");for(const o of t.headers.reverse()){o.indexOf(":");const a=r(o[0]);let l=r(o[1]);e&&"CONNECT"!==t.command&&"CONNECTED"!==t.command&&(l=Dh.hdrValueUnEscape(l)),i[a]=l}return new Dh({command:t.command,headers:i,binaryBody:t.binaryBody,escapeHeaderValues:e})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?Dh.toUnit8Array(t,this._binaryBody).buffer:t+this._body+n0_NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const e of Object.keys(this.headers||{})){const i=this.headers[e];t.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${e}:${Dh.hdrValueEscape(`${i}`)}`:`${e}:${i}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(n0_LF)+n0_LF+n0_LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?(new TextEncoder).encode(t).length:0}static toUnit8Array(t,e){const i=(new TextEncoder).encode(t),r=new Uint8Array([0]),o=new Uint8Array(i.length+e.length+r.length);return o.set(i),o.set(e,i.length),o.set(r,i.length+e.length),o}static marshall(t){return new Dh(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class x_e{constructor(t,e){this.onFrame=t,this.onIncomingPing=e,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,e=!1){let i;if(i="string"==typeof t?this._encoder.encode(t):new Uint8Array(t),e&&0!==i[i.length-1]){const r=new Uint8Array(i.length+1);r.set(i,0),r[i.length]=0,i=r}for(let r=0;r<i.length;r++)this._onByte(i[r])}_collectFrame(t){if(0!==t&&13!==t){if(10===t)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(13!==t){if(10===t)return this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders);this._consumeByte(t)}}_collectHeaders(t){if(13!==t){if(10===t)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(58===t)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(t)}_collectHeaderValue(t){if(13!==t){if(10===t)return this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders);this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(e=>"content-length"===e[0])[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){0!==t?this._consumeByte(t):this._retrievedBody()}_collectBodyFixedSize(t){0!=this._bodyBytesRemaining--?this._consumeByte(t):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var Pu,rl;!function(n){n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED"}(Pu=Pu||(Pu={})),function(n){n[n.ACTIVE=0]="ACTIVE",n[n.DEACTIVATING=1]="DEACTIVATING",n[n.INACTIVE=2]="INACTIVE"}(rl=rl||(rl={}));class Bs{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}Bs.V1_0="1.0",Bs.V1_1="1.1",Bs.V1_2="1.2",Bs.default=new Bs([Bs.V1_2,Bs.V1_1,Bs.V1_0]);class R_e{constructor(t,e,i){this._client=t,this._webSocket=e,this._connected=!1,this._serverFrameHandlers={CONNECTED:r=>{this.debug(`connected to server ${r.headers.server}`),this._connected=!0,this._connectedVersion=r.headers.version,this._connectedVersion===Bs.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(r.headers),this.onConnect(r)},MESSAGE:r=>{const o=r.headers.subscription,s=this._subscriptions[o]||this.onUnhandledMessage,a=r,l=this,c=this._connectedVersion===Bs.V1_2?a.headers.ack:a.headers["message-id"];a.ack=(u={})=>l.ack(c,o,u),a.nack=(u={})=>l.nack(c,o,u),s(a)},RECEIPT:r=>{const o=this._receiptWatchers[r.headers["receipt-id"]];o?(o(r),delete this._receiptWatchers[r.headers["receipt-id"]]):this.onUnhandledReceipt(r)},ERROR:r=>{this.onStompError(r)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=i.debug,this.stompVersions=i.stompVersions,this.connectHeaders=i.connectHeaders,this.disconnectHeaders=i.disconnectHeaders,this.heartbeatIncoming=i.heartbeatIncoming,this.heartbeatOutgoing=i.heartbeatOutgoing,this.splitLargeFrames=i.splitLargeFrames,this.maxWebSocketChunkSize=i.maxWebSocketChunkSize,this.forceBinaryWSFrames=i.forceBinaryWSFrames,this.logRawCommunication=i.logRawCommunication,this.appendMissingNULLonIncoming=i.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=i.discardWebsocketOnCommFailure,this.onConnect=i.onConnect,this.onDisconnect=i.onDisconnect,this.onStompError=i.onStompError,this.onWebSocketClose=i.onWebSocketClose,this.onWebSocketError=i.onWebSocketError,this.onUnhandledMessage=i.onUnhandledMessage,this.onUnhandledReceipt=i.onUnhandledReceipt,this.onUnhandledFrame=i.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const t=new x_e(e=>{const i=Dh.fromRawFrame(e,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${i}`),(this._serverFrameHandlers[i.command]||this.onUnhandledFrame)(i)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=e=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const i=e.data instanceof ArrayBuffer?(new TextDecoder).decode(e.data):e.data;this.debug(`<<< ${i}`)}t.parseChunk(e.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=e=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(e)},this._webSocket.onerror=e=>{this.onWebSocketError(e)},this._webSocket.onopen=()=>{const e=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),e["accept-version"]=this.stompVersions.supportedVersions(),e["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:e})}}_setupHeartbeat(t){if(t.version!==Bs.V1_1&&t.version!==Bs.V1_2||!t["heart-beat"])return;const[e,i]=t["heart-beat"].split(",").map(r=>parseInt(r,10));if(0!==this.heartbeatOutgoing&&0!==i){const r=Math.max(this.heartbeatOutgoing,i);this.debug(`send PING every ${r}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===Pu.OPEN&&(this._webSocket.send(n0_LF),this.debug(">>> PING"))},r)}if(0!==this.heartbeatIncoming&&0!==e){const r=Math.max(this.heartbeatIncoming,e);this.debug(`check PONG every ${r}ms`),this._ponger=setInterval(()=>{const o=Date.now()-this._lastServerActivityTS;o>2*r&&(this.debug(`did not receive server activity for the last ${o}ms`),this._closeOrDiscardWebsocket())},r)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Pu.CONNECTING||this._webSocket.readyState===Pu.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){"function"!=typeof this._webSocket.terminate&&function A_e(n,t){n.terminate=function(){const e=()=>{};this.onerror=e,this.onmessage=e,this.onopen=e;const i=new Date,r=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=s=>{const a=(new Date).getTime()-i.getTime();t(`Discarded socket (#${r})  closed after ${a}ms, with code/reason: ${s.code}/${s.reason}`)},this.close(),null==o||o.call(n,{code:4001,reason:`Quick discarding socket (#${r}) without waiting for the shutdown sequence.`,wasClean:!1})}}(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:e,headers:i,body:r,binaryBody:o,skipContentLengthHeader:s}=t,a=new Dh({command:e,headers:i,body:r,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:s});let l=a.serialize();if(this.debug(this.logRawCommunication?`>>> ${l}`:`>>> ${a}`),this.forceBinaryWSFrames&&"string"==typeof l&&(l=(new TextEncoder).encode(l)),"string"==typeof l&&this.splitLargeFrames){let c=l;for(;c.length>0;){const u=c.substring(0,this.maxWebSocketChunkSize);c=c.substring(this.maxWebSocketChunkSize),this._webSocket.send(u),this.debug(`chunk sent = ${u.length}, remaining = ${c.length}`)}}else this._webSocket.send(l)}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt="close-"+this._counter++),this.watchForReceipt(t.receipt,e=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(e)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===Pu.CONNECTING||this._webSocket.readyState===Pu.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:e,headers:i,body:r,binaryBody:o,skipContentLengthHeader:s}=t,a=Object.assign({destination:e},i);this._transmit({command:"SEND",headers:a,body:r,binaryBody:o,skipContentLengthHeader:s})}watchForReceipt(t,e){this._receiptWatchers[t]=e}subscribe(t,e,i={}){(i=Object.assign({},i)).id||(i.id="sub-"+this._counter++),i.destination=t,this._subscriptions[i.id]=e,this._transmit({command:"SUBSCRIBE",headers:i});const r=this;return{id:i.id,unsubscribe:o=>r.unsubscribe(i.id,o)}}unsubscribe(t,e={}){e=Object.assign({},e),delete this._subscriptions[t],e.id=t,this._transmit({command:"UNSUBSCRIBE",headers:e})}begin(t){const e=t||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:e}});const i=this;return{id:e,commit(){i.commit(e)},abort(){i.abort(e)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,e,i={}){i=Object.assign({},i),this._connectedVersion===Bs.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"ACK",headers:i})}nack(t,e,i={}){return i=Object.assign({},i),this._connectedVersion===Bs.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"NACK",headers:i})}}class F6{constructor(t={}){this.stompVersions=Bs.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=rl.INACTIVE;const e=()=>{};this.debug=e,this.beforeConnect=e,this.onConnect=e,this.onDisconnect=e,this.onUnhandledMessage=e,this.onUnhandledReceipt=e,this.onUnhandledFrame=e,this.onStompError=e,this.onWebSocketClose=e,this.onWebSocketError=e,this.logRawCommunication=!1,this.onChangeState=e,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}get webSocket(){var t;return null==(t=this._stompHandler)?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===rl.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}configure(t){Object.assign(this,t)}activate(){const t=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(rl.ACTIVE),this._connect())};this.state===rl.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}_connect(){var t=this;return N6(function*(){if(yield t.beforeConnect(),t._stompHandler)return void t.debug("There is already a stompHandler, skipping the call to connect");if(!t.active)return void t.debug("Client has been marked inactive, will not attempt to connect");t.connectionTimeout>0&&(t._connectionWatcher&&clearTimeout(t._connectionWatcher),t._connectionWatcher=setTimeout(()=>{t.connected||(t.debug(`Connection not established in ${t.connectionTimeout}ms, closing socket`),t.forceDisconnect())},t.connectionTimeout)),t.debug("Opening Web Socket...");const e=t._createWebSocket();t._stompHandler=new R_e(t,e,{debug:t.debug,stompVersions:t.stompVersions,connectHeaders:t.connectHeaders,disconnectHeaders:t._disconnectHeaders,heartbeatIncoming:t.heartbeatIncoming,heartbeatOutgoing:t.heartbeatOutgoing,splitLargeFrames:t.splitLargeFrames,maxWebSocketChunkSize:t.maxWebSocketChunkSize,forceBinaryWSFrames:t.forceBinaryWSFrames,logRawCommunication:t.logRawCommunication,appendMissingNULLonIncoming:t.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:t.discardWebsocketOnCommFailure,onConnect:i=>{if(t._connectionWatcher&&(clearTimeout(t._connectionWatcher),t._connectionWatcher=void 0),!t.active)return t.debug("STOMP got connected while deactivate was issued, will disconnect now"),void t._disposeStompHandler();t.onConnect(i)},onDisconnect:i=>{t.onDisconnect(i)},onStompError:i=>{t.onStompError(i)},onWebSocketClose:i=>{t._stompHandler=void 0,t.state===rl.DEACTIVATING&&t._changeState(rl.INACTIVE),t.onWebSocketClose(i),t.active&&t._schedule_reconnect()},onWebSocketError:i=>{t.onWebSocketError(i)},onUnhandledMessage:i=>{t.onUnhandledMessage(i)},onUnhandledReceipt:i=>{t.onUnhandledReceipt(i)},onUnhandledFrame:i=>{t.onUnhandledFrame(i)}}),t._stompHandler.start()})()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return t.binaryType="arraybuffer",t}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(t={}){var e=this;return N6(function*(){var s;const i=t.force||!1,r=e.active;let o;if(e.state===rl.INACTIVE)return e.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(e._changeState(rl.DEACTIVATING),e._reconnector&&(clearTimeout(e._reconnector),e._reconnector=void 0),!e._stompHandler||e.webSocket.readyState===Pu.CLOSED)return e._changeState(rl.INACTIVE),Promise.resolve();{const a=e._stompHandler.onWebSocketClose;o=new Promise((l,c)=>{e._stompHandler.onWebSocketClose=u=>{a(u),l()}})}return i?null==(s=e._stompHandler)||s.discardWebsocket():r&&e._disposeStompHandler(),o})()}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,e){this._checkConnection(),this._stompHandler.watchForReceipt(t,e)}subscribe(t,e,i={}){return this._checkConnection(),this._stompHandler.subscribe(t,e,i)}unsubscribe(t,e={}){this._checkConnection(),this._stompHandler.unsubscribe(t,e)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,e,i={}){this._checkConnection(),this._stompHandler.ack(t,e,i)}nack(t,e,i={}){this._checkConnection(),this._stompHandler.nack(t,e,i)}}var xu=(()=>(function(n){n.Init="/app/init",n.MessageSend="/app/message.send",n.MessageLikeAdd="/app/message.like.add",n.MessageLikeDelete="/app/message.like.delete",n.GifsSearch="/app/gifs.search",n.RainClaim="/app/rain.claim"}(xu||(xu={})),xu))(),ec=(()=>(function(n){n.None="none",n.Connected="connected",n.Reconnecting="reconnecting",n.Disconnected="disconnected"}(ec||(ec={})),ec))(),jE=(()=>(function(n){n.KickUser="Kick user"}(jE||(jE={})),jE))();let Au=(()=>{class n{constructor(){this.responseSubject=new Lx(1),this.stateSubject=new Xn({state:ec.None}),this.state$=this.stateSubject.asObservable()}response(e){return this.responseSubject.pipe(Lt(i=>i.response===e),ye(i=>i.data))}request(e,i){console.log("%c[ Stomp Chat REQUEST] "+e,"background: #222; color: #caa817",i),this.stompClient.publish({destination:e,body:JSON.stringify(i)})}init(e,i,r){var o;(null===(o=this.stompClient)||void 0===o?void 0:o.active)&&this.stompClient.deactivate(),this.stompClient=new F6({heartbeatIncoming:2e4,heartbeatOutgoing:1e4}),this.stompClient.webSocketFactory=()=>new I6(`${e}/?${new URLSearchParams(i).toString()}`,null,{transports:"websocket"}),this.stompClient.activate(),this.stompClient.onConnect=()=>{console.log("[ Stomp Chat ] onConnect"),this.stateSubject.next({state:ec.Connected}),r.forEach(s=>{this.stompClient.subscribe(s,a=>{const l=JSON.parse(a.body);console.log("%c[ Stomp Chat RESPONSE ] "+s,"background: #222; color: #bada55",l),this.responseSubject.next({response:s,data:l})},{id:s})}),this.request(xu.Init,null)},this.stompClient.onWebSocketClose=s=>(console.log("[ Stomp Chat ] onWebSocketClose",s),this.stateSubject.getValue().state===ec.None||s.reason===jE.KickUser?(this.stompClient.deactivate(),void this.stateSubject.next({state:ec.Disconnected})):void this.stateSubject.next({state:ec.Reconnecting})),this.stompClient.onDisconnect=s=>{console.log("[ Stomp Chat ] onDisconnect",s),this.stateSubject.next({state:ec.Disconnected})}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),Ru=(()=>{class n{constructor(e,i,r){this.clipBoard=e,this.bsMessage=i,this.stomp=r,this._inited=!1,this._topGifs=[],this._tagUserSubject=new Le,this._onlinePlayersSubject=new Xn(0),this.onlinePlayers$=this._onlinePlayersSubject.asObservable(),this.stomp.response(hs.Init).subscribe(o=>{this.init(o)}),this.stomp.response(hs.PlayersOnline).subscribe(o=>{this._onlinePlayersSubject.next(o.onlinePlayers)})}init(e){this._inited=!0,this._onlinePlayersSubject.next(e.onlinePlayers),this._topGifs=function O_e(n){if(!n)return[];const t=[];return JSON.parse(n).forEach(e=>t.push({url:e.media[0].tinygif.url,id:e.id})),t}(e.config.topGifsJson),this._playerId=e.playerId}get inited(){return this._inited}shareBet(e,i,r){this.clipBoard.copyToClipBoard(r?`/share_bet:${e}:${i}:${r}`:`/share_bet:${e}:${i}:${this._playerId}`),this.bsMessage.add({value:"copied-for-chat",context:Xi.success,lifeTime:1e3,closable:!1})}tagUser(e){this._tagUserSubject.next(`@${e} `)}get onTagUser(){return this._tagUserSubject.asObservable()}get top10Gifs(){return this._topGifs}}return n.\u0275fac=function(e){return new(e||n)(Fe(zx),Fe(Aa),Fe(Au))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function I_e(n,t){if(1&n&&(x(0,"div",2),H(1),R()),2&n){const e=ee();A(1),yt(e.freeBetLabel)}}const D_e=function(n){return{"long-precision":n}};function N_e(n,t){if(1&n&&(x(0,"div",3),H(1),ce(2,"currencyPrecision"),R()),2&n){const e=ee();V("ngClass",Fr(4,D_e,e.app.isLongPrecision)),A(1),me(" ",pe(2,2,e.amount),"\n")}}let r0=(()=>{class n{constructor(e){this.app=e}get freeBetLabel(){return this.app.isBrandAdjarabet?"AVIA BET":"FREE BET"}}return n.\u0275fac=function(e){return new(e||n)(X(en))},n.\u0275cmp=et({type:n,selectors:[["app-bet-amount"]],inputs:{amount:"amount",isFreeBet:"isFreeBet"},decls:2,vars:2,consts:[["class","free-bet",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"free-bet"],[3,"ngClass"]],template:function(e,i){1&e&&(Z(0,I_e,2,1,"div",0),Z(1,N_e,3,6,"div",1)),2&e&&(V("ngIf",i.isFreeBet),A(1),V("ngIf",!i.isFreeBet))},directives:[Ht,Ul],pipes:[Gr],styles:[".free-bet[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:1px 7px;font-size:10px;color:#f5a623;border:solid 1px #f5a623;border-radius:11px}.long-precision[_ngcontent-%COMP%]{font-size:12px}"]}),n})();function k_e(n,t){if(1&n&&(x(0,"div",12),H(1),ce(2,"currencyPrecision"),R()),2&n){const e=ee();A(1),me(" ",pe(2,1,e.bet.startBalance)," ")}}function F_e(n,t){if(1&n&&(x(0,"span"),H(1),ce(2,"currencyPrecision"),R()),2&n){const e=ee();A(1),me(" ",pe(2,1,e.bet.winAmount),"")}}let B_e=(()=>{class n{constructor(e,i,r,o){this.app=e,this.chat=i,this.main=r,this.newChat=o}onShareBet(e,i){var r;(null===(r=this.app.config.newChat)||void 0===r?void 0:r.host)?this.newChat.shareBet(e,i):this.chat.shareBet(e)}}return n.\u0275fac=function(e){return new(e||n)(X(en),X(Qs),X(Ui),X(Ru))},n.\u0275cmp=et({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:18,vars:21,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"date","pl-1"],["class","start-balance pl-2",4,"ngIf"],[1,"bet","d-flex","justify-content-end","pl-2"],[3,"amount","isFreeBet"],[1,"multiplier","d-flex","align-items-center","pl-2"],[3,"multiplier"],[1,"cash-out","pr-2"],[4,"ngIf"],[1,"d-flex","align-items-center","tools","pr-1"],[1,"fairness-i","disabled-on-game-focused",3,"click"],[1,"share-i","ml-1",3,"click"],[1,"start-balance","pl-2"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1)(2,"div"),H(3),ce(4,"date"),R(),x(5,"div"),H(6),ce(7,"date"),R()(),Z(8,k_e,3,3,"div",2),x(9,"div",3),ve(10,"app-bet-amount",4),R(),x(11,"div",5),ve(12,"app-bubble-multiplier",6),R(),x(13,"div",7),Z(14,F_e,3,3,"span",8),R(),x(15,"div",9)(16,"div",10),Ce("click",function(){return i.main.checkFairness(i.bet.roundId)}),R(),x(17,"div",11),Ce("click",function(){return i.onShareBet(i.bet.roundBetId,i.bet.roundId)}),R()()()),2&e&&(vt("long-precision",i.app.isLongPrecision)("large-width",i.app.config.isBetsHistoryStartBalanceEnabled)("celebrated",i.bet.winAmount),A(3),yt(tn(4,15,i.bet.cashOutDate,"HH:mm:ss")),A(3),yt(tn(7,18,i.bet.cashOutDate,"dd-MM-yy")),A(2),V("ngIf",i.app.config.isBetsHistoryStartBalanceEnabled),A(2),V("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),A(2),V("multiplier",i.bet.payout||i.bet.maxMultiplier),A(2),V("ngIf",i.bet.winAmount),A(1),vt("disabled",!i.main.canCheckFairness(i.bet.roundId)))},directives:[Ht,r0,kc],pipes:[vc,Gr],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#fff}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405}.bet-item.celebrated[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:1}.bet-item.long-precision[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:62px;max-width:62px;font-size:12px;color:#bbbf55;line-height:1}.bet-item[_ngcontent-%COMP%]   .start-balance[_ngcontent-%COMP%]{min-width:100px}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:28%;opacity:.5}.bet-item[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{font-size:12px;min-width:18%}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right}.tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px;height:40px}.tools[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;width:14px;height:16px;cursor:pointer}.tools[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share.e0096e2d85d728ea.svg) no-repeat center center/contain;width:16px;height:14px;cursor:pointer}.tools.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.5}.large-width[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;min-width:100%}.large-width[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:60px;max-width:60px}.large-width[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:100px}.large-width[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%], .large-width[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{min-width:85px}"]}),n})();function L_e(n,t){if(1&n&&(x(0,"div",18),H(1),ce(2,"translate"),R()),2&n){const e=ee();A(1),pi(" ",pe(2,2,"shared.Start_balance")," ",e.app.config.currency," ")}}function U_e(n,t){1&n&&ve(0,"app-bet-item",19),2&n&&V("bet",t.$implicit)}function G_e(n,t){if(1&n){const e=dt();x(0,"button",20),Ce("click",function(){return it(e),ee().onLoadMore()}),H(1," shared.load_more "),R()}2&n&&V("disabled",0===ee().lastBetId)}function j_e(n,t){1&n&&(x(0,"div"),ve(1,"app-loader"),R())}let _f=class{constructor(t,e,i,r){this.cd=t,this.app=e,this.activeModal=i,this.connector=r,this.betHistory=[],this.loaded=!1,this.lastBetId=0;}ngOnInit(){this.getMyBetsStatistics(),this.connector.response(pn.BetHistory,200).pipe(gt(this),Lt(()=>!this.loaded)).subscribe(t=>{;this.lastBetId=t.hasOwnProperty("lastBetId")?t.lastBetId:0,this.betHistory=this.betHistory.concat(t.bets),this.loaded=!0,this.cd.detectChanges();})}getMyBetsStatistics(t=0){this.loaded=!1,this.connector.request(Fi.BetHistory,0===t?null:{lastBetId:t})}onLoadMore(){this.getMyBetsStatistics(this.lastBetId)}};function H_e(n,t){if(1&n&&(x(0,"li",6)(1,"div")(2,"span",7),H(3," shared.modals.game-limits.maximum-multiplier-for-one-bet "),R(),x(4,"span"),H(5," X:"),R()(),x(6,"span",8),H(7),R()()),2&n){const e=ee();A(7),me(" ",e.app.config.maxUserMultiplier.toFixed(2)," ")}}_f.\u0275fac=function(t){return new(t||_f)(X(Tn),X(en),X(So),X(ki))},_f.\u0275cmp=et({type:_f,selectors:[["app-my-bets-history"]],decls:28,vars:17,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","px-1","py-2"],[1,"bet-list","pb-2"],[1,"legend","d-flex","align-items-center"],["translate","",1,"date","pl-1"],["class","start-balance pl-2",4,"ngIf"],[1,"bet","pl-1"],[1,"multiplier","pl-2"],[1,"cash-out","pl-1","pr-2"],[1,"tools"],[1,"bet-list-body"],[3,"bet",4,"ngFor","ngForOf"],[1,"text-center","pt-1"],["type","button","class","btn btn-secondary px-3 btn-sm","translate","",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[1,"start-balance","pl-2"],[3,"bet"],["type","button","translate","",1,"btn","btn-secondary","px-3","btn-sm",3,"disabled","click"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"span",1),H(2),ce(3,"translate"),R(),x(4,"button",2),Ce("click",function(){return e.activeModal.close()}),x(5,"span",3),H(6,"\xd7"),R()()(),x(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7),H(11,"game.bets-widget.date"),R(),Z(12,L_e,3,4,"div",8),x(13,"div",9),H(14),ce(15,"translate"),R(),x(16,"div",10),H(17,"X"),R(),x(18,"div",11),H(19),ce(20,"translate"),R(),ve(21,"div",12),R(),x(22,"div",13),ft(23),Z(24,U_e,1,1,"app-bet-item",14),pt(),R()(),x(25,"div",15),Z(26,G_e,2,1,"button",16),Z(27,j_e,2,0,"div",17),R()()),2&t&&(A(2),yt(pe(3,11,"shared.my_bet_history")),A(7),vt("large-width",e.app.config.isBetsHistoryStartBalanceEnabled),A(3),V("ngIf",e.app.config.isBetsHistoryStartBalanceEnabled),A(2),pi(" ",pe(15,13,"shared.bet")," ",e.app.config.currency," "),A(5),pi(" ",pe(20,15,"shared.cash_out")," ",e.app.config.currency," "),A(5),V("ngForOf",e.betHistory),A(2),V("ngIf",e.loaded),A(1),V("ngIf",!e.loaded))},directives:[Gn,Ht,vi,B_e,Ou],pipes:[dn],styles:[".bet-list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow-x:auto}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:55px;max-width:55px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .start-balance[_ngcontent-%COMP%]{min-width:100px;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:30%;text-align:right;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px}.bet-list[_ngcontent-%COMP%]   .bet-list-body[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;position:relative}.bet-list[_ngcontent-%COMP%]   .large-width[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:60px;max-width:60px}.bet-list[_ngcontent-%COMP%]   .large-width[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:100px}.bet-list[_ngcontent-%COMP%]   .large-width[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%], .bet-list[_ngcontent-%COMP%]   .large-width[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{min-width:85px}"],changeDetection:0}),_f=We([oi()],_f);let V_e=(()=>{class n{constructor(e,i){this.activeModal=e,this.app=i}}return n.\u0275fac=function(e){return new(e||n)(X(So),X(en))},n.\u0275cmp=et({type:n,selectors:[["app-game-limits"]],decls:37,vars:16,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","py-4"],[1,"list-group"],[1,"list-group-item","pl-2","pr-1"],["translate",""],[1,"badge","badge-success","px-2","font-weight-normal"],["class","list-group-item pl-2 pr-1",4,"ngIf"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"span",1),H(2),ce(3,"translate"),R(),x(4,"button",2),Ce("click",function(){return i.activeModal.close()}),x(5,"span",3),H(6,"\xd7"),R()()(),x(7,"div",4)(8,"ul",5)(9,"li",6)(10,"div")(11,"span",7),H(12,"shared.modals.game-limits.min-bet"),R(),x(13,"span"),H(14),R()(),x(15,"span",8),H(16),ce(17,"currencyPrecision"),R()(),x(18,"li",6)(19,"div")(20,"span",7),H(21,"shared.modals.game-limits.max-bet"),R(),x(22,"span"),H(23),R()(),x(24,"span",8),H(25),ce(26,"currencyPrecision"),R()(),x(27,"li",6)(28,"div")(29,"span",7),H(30,"shared.modals.game-limits.max-win-one-bet"),R(),x(31,"span"),H(32),R()(),x(33,"span",8),H(34),ce(35,"currencyPrecision"),R()(),Z(36,H_e,8,1,"li",9),R()()),2&e&&(A(2),yt(pe(3,8,"shared.game_limits")),A(12),me(" ",i.app.config.currency,":"),A(2),me(" ",pe(17,10,i.app.config.minBet)," "),A(7),me(" ",i.app.config.currency,":"),A(2),me(" ",pe(26,12,i.app.config.maxBet)," "),A(7),me(" ",i.app.config.currency,":"),A(2),me(" ",pe(35,14,i.app.config.maxUserWin)," "),A(2),V("ngIf",i.app.config.maxUserMultiplier))},directives:[Gn,Ht],pipes:[dn,Gr],styles:[".list-group[_ngcontent-%COMP%]{border-radius:8px;color:#fff}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center;font-size:14px;height:34px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.badge.badge-success[_ngcontent-%COMP%]{border-radius:11px;background-color:#123405;border:1px solid #427f00;font-size:14px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:not(:first-child){border-top:0}"]}),n})(),o0=(()=>{class n{constructor(e){this.cd=e,this.toggle=new Yt,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.toggle.emit(this.checked))}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(X(Tn))},n.\u0275cmp=et({type:n,selectors:[["app-ui-switcher"]],inputs:{disabled:"disabled"},outputs:{toggle:"toggle"},features:[ei([{provide:Ds,useExisting:In(()=>n),multi:!0}])],decls:2,vars:4,consts:[[1,"input-switch",3,"click"],[1,"oval"]],template:function(e,i){1&e&&(x(0,"div",0),Ce("click",function(){return i.onClick()}),ve(1,"span",1),R()),2&e&&vt("off",!i.checked)("disabled",i.disabled)},styles:[".input-switch[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:0 2px;justify-content:flex-end;width:36px;height:18px;border-radius:9px;border:solid 1px #60ae05;background-color:#229607}.input-switch[_ngcontent-%COMP%]   span.oval[_ngcontent-%COMP%]{min-width:14px;max-width:14px;height:14px;box-shadow:inset 0 0 7px #00000029;background-color:#fff;border:solid 2px #a3b98a;border-radius:50%}.input-switch[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{width:100%;text-align:center}.input-switch.off[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.51);background:none;justify-content:flex-start}.input-switch.disabled[_ngcontent-%COMP%]{cursor:default!important;opacity:.5!important}"]}),n})();function W_e(n,t){if(1&n){const e=dt();x(0,"li",6)(1,"div")(2,"span",7),H(3),R()(),x(4,"app-ui-switcher",8),Ce("toggle",function(r){const s=it(e).$implicit;return ee().user.settings.changeOther(s,r)}),R()()}if(2&n){const e=t.$implicit,i=ee();A(3),me("shared.modals.other_settings.",i.translations.get(e),""),A(1),V("ngModel",i.user.settings.getOther(e))}}let Y_e=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.app=i,this.user=r,this.translations=new Map([[Kl.HideLiveBetsAndStatistics,"Hide_Live_Bets_and_Statistics"],[Kl.HideMyActivity,"Hide_My_Activity"]])}}return n.\u0275fac=function(e){return new(e||n)(X(So),X(en),X(il))},n.\u0275cmp=et({type:n,selectors:[["app-other-settings"]],decls:10,vars:4,consts:[[1,"modal-header","canSelect"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","py-2","px-2"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center px-0",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","px-0"],["translate",""],[3,"ngModel","toggle"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"span"),H(2),ce(3,"translate"),R(),x(4,"button",1),Ce("click",function(){return i.activeModal.close()}),x(5,"span",2),H(6,"\xd7"),R()()(),x(7,"div",3)(8,"ul",4),Z(9,W_e,5,2,"li",5),R()()),2&e&&(A(2),yt(pe(3,2,"shared.modals.other_settings.title")),A(7),V("ngForOf",i.user.settings.otherKeys))},directives:[vi,Gn,o0,ks,cs],pipes:[dn],styles:[".list-group[_ngcontent-%COMP%]{color:#fff}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border-top:1px solid rgba(255,255,255,.1);font-size:14px;height:34px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.badge.badge-success[_ngcontent-%COMP%]{border-radius:11px;background-color:#123405;border:1px solid #427f00;font-size:14px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:0}"]}),n})(),z_e=(()=>{class n{constructor(e,i){this.ngbModal=e,this.modal=i}init(){this.modal.onOpen$.subscribe(e=>this.open(e.key,e.params))}open(e,i=null){switch(e){case si.bugReport:break;case si.fairness:this.ngbModal.open(hf,{size:"lg"}).componentInstance.betId=i;break;case si.fairnessSettings:this.ngbModal.open(df,{size:"lg"});break;case si.freeBets:this.ngbModal.open(ff);break;case si.avatar:this.ngbModal.open(jpe,{size:"lg"});break;case si.rules:this.ngbModal.open(y_e,{size:"xl"});break;case si.whatIsPf:this.ngbModal.open(Fpe,{size:"xl"});break;case si.quickHelp:this.ngbModal.open(b_e,{size:"lg"});break;case si.notification:this.ngbModal.hasOpenModals()&&this.ngbModal.dismissAll(),this.ngbModal.open(gf,{backdrop:"static"}).componentInstance.params=i;break;case si.myBetsHistory:this.ngbModal.open(_f);break;case si.gameLimits:this.ngbModal.open(V_e);break;case si.otherSettings:this.ngbModal.open(Y_e)}}}return n.\u0275fac=function(e){return new(e||n)(Fe(RE),Fe(Is))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$_e=(()=>{class n{constructor(e,i,r,o,s){this.main=e,this.app=i,this.betControls=r,this.connector=o,this.message=s,this.isFirstToastShown=!1,this.isSecondToastShown=!1,this.lastDate=Date.now()}init(){this.main.getState(ir.Bet).pipe(Lt(()=>this.isInactivityTimePass())).subscribe(()=>this.onBetState()),this.main.getState(ir.Run).subscribe(()=>this.onRunState())}onBetState(){return this.isFirstToastShown?this.isSecondToastShown?void 0:(this.message.add({value:dh.SecondInactivityMessage,context:Xi.warning}),void(this.isSecondToastShown=!0)):(this.message.add({value:dh.FirstInactivityMessage,context:Xi.warning}),void(this.isFirstToastShown=!0))}onRunState(){this.betControls.isBetSetted?this.reset():this.isFirstToastShown&&this.isSecondToastShown&&this.connector.shutdown(yi.inactivity)}isInactivityTimePass(){return Date.now()-this.lastDate>=this.toMilliseconds(this.app.config.inactivityTimeForDisconnect)}toMilliseconds(e){return 6e4*e}reset(){this.isFirstToastShown=!1,this.isSecondToastShown=!1,this.lastDate=Date.now()}}return n.\u0275fac=function(e){return new(e||n)(Fe(Ui),Fe(en),Fe(Dc),Fe(ki),Fe(Aa))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X_e(n,t){if(1&n&&(x(0,"div",34),H(1),R()),2&n){const e=ee(2);A(1),me(" ",e.freeBets.freeBetsCount," ")}}function q_e(n,t){if(1&n){const e=dt();x(0,"div",31),Ce("click",function(){return it(e),ee().onFreeBetsManagementOpen()}),x(1,"div",13)(2,"div",14),ve(3,"div",32),R(),x(4,"div",25),H(5),ce(6,"translate"),R(),Z(7,X_e,2,1,"div",33),R()()}if(2&n){const e=ee();A(5),me(" ",pe(6,2,"shared.free_bets")," "),A(2),V("ngIf",e.freeBets.freeBetsCount>0)}}function K_e(n,t){if(1&n){const e=dt();x(0,"div",23),Ce("click",function(){return it(e),ee().onOtherSettingsOpen()}),x(1,"div",13)(2,"div",14),ve(3,"div",35),R(),x(4,"div",36),H(5),ce(6,"translate"),R()()()}2&n&&(A(5),me(" ",pe(6,1,"shared.Other_Settings")," "))}function J_e(n,t){if(1&n){const e=dt();x(0,"a",37),Ce("click",function(){return it(e),ee().onBackToHome()}),ve(1,"div",38),x(2,"span",9),H(3,"shared.home"),R()()}}let mf=class{constructor(t,e,i,r,o,s,a,l,c,u,y,O){this.connector=t,this.mainService=e,this.app=i,this.user=r,this.sound=o,this.betControl=s,this.freeBets=a,this.proxy=l,this.ifc=c,this.cd=u,this.modal=y,this.urlParams=O}ngOnInit(){this.ifc.command(Lr.OpenHelp).pipe(gt(this)).subscribe(()=>this.onRulesOpen()),this.ifc.command(Lr.SetSound).pipe(gt(this)).subscribe(t=>this.setSetting(Lr.SetSound,t.value)),this.ifc.command(Lr.SetMusic).pipe(gt(this)).subscribe(t=>this.setSetting(Lr.SetMusic,t.value)),this.ifc.command(Lr.SetAnimation).pipe(gt(this)).subscribe(t=>this.setSetting(Lr.SetAnimation,t.value))}setSetting(t,e){switch(t){case Lr.SetSound:this.user.settings.sound=e;break;case Lr.SetMusic:this.user.settings.music=e;break;case Lr.SetAnimation:this.user.settings.animation=e}this.cd.detectChanges()}get avatar(){return Pi_avatarPath+this.user.avatar+`?v=${Pi_version}`}onChangeAvatar(){this.modal.open(si.avatar)}onFreeBetsManagementOpen(){!1===this.betControl.isBetSetted&&this.modal.open(si.freeBets)}onFairnessOpen(){this.modal.open(si.fairnessSettings)}onRulesOpen(){this.modal.open(si.rules)}onMyBetsHistoryOpen(){this.app.config.accountHistoryActionType===sv.IfcEvent?this.ifc.emitEvent(Ai.AccountHistory,{accountHistoryUrl:this.urlParams.accountHistoryUrl}):this.urlParams.accountHistoryUrl?window.open(this.urlParams.accountHistoryUrl,"_top"):this.modal.open(si.myBetsHistory)}onGameLimitsOpen(){this.modal.open(si.gameLimits)}onOtherSettingsOpen(){this.modal.open(si.otherSettings)}onBackToHome(){if(this.app.config.backToHomeActionType===xg.IfcEvent)return this.proxy.sendBackToHome(this.urlParams.returnUrl),void this.ifc.emitEvent(Ai.BackToHome,{returnUrl:this.urlParams.returnUrl});window.open(this.urlParams.returnUrl,"_top")}};function Q_e(n,t){if(1&n&&(x(0,"a",15),ve(1,"img",16),R()),2&n){const e=ee(2);vt("disabled",null===e.urlParams.returnUrl),V("href",e.homeUrl,fn),A(1),V("src",e.brandLogo,fn)}}function Z_e(n,t){if(1&n){const e=dt();x(0,"button",17),Ce("click",function(){return it(e),ee(2).onOpenHelp()}),ve(1,"div",18),x(2,"div",19),H(3),ce(4,"translate"),R()()}2&n&&(A(3),me(" ",pe(4,1,"shared.how_to_play"),"? "))}function eme(n,t){1&n&&rh(0)}function tme(n,t){if(1&n){const e=dt();x(0,"div",20),Ce("click",function(){it(e);const r=ee(2);return r.chat.isOpen=!r.chat.isOpen}),ve(1,"div",21),R()}}function nme(n,t){if(1&n&&(x(0,"div",3)(1,"div",4),Z(2,Q_e,2,4,"a",5),ve(3,"div",6),Z(4,Z_e,5,3,"button",7),R(),x(5,"div",8)(6,"div",9)(7,"div",10)(8,"div")(9,"span",11),H(10),ce(11,"currencyPrecision"),R(),x(12,"span",12),H(13),R()()(),Z(14,eme,1,0,"ng-container",13),R(),Z(15,tme,2,0,"div",14),R()()),2&n){const e=ee(),i=go(3);A(2),V("ngIf",e.app.clientConfig.brandLogo),A(1),vt("game-logo-ab",e.app.isBrandAdjarabet),A(1),V("ngIf",!0===e.app.config.quickHelp),A(3),vt("long-precision",e.app.isLongPrecision),A(3),me(" ",pe(11,10,e.userService.userBalance)," "),A(3),yt(e.app.config.currency),A(1),V("ngTemplateOutlet",i),A(1),V("ngIf",!e.chat.isOpen&&e.app.config.chat.isEnabled)}}function ime(n,t){1&n&&rh(0)}function rme(n,t){if(1&n&&(x(0,"div",22),Z(1,ime,1,0,"ng-container",13),R()),2&n){ee();const e=go(3);A(1),V("ngTemplateOutlet",e)}}function ome(n,t){if(1&n&&(x(0,"div",28),H(1),R()),2&n){const e=ee(2);A(1),me(" ",e.freeBets.freeBetsCount," ")}}function sme(n,t){if(1&n&&(x(0,"div",23)(1,"div",24),ve(2,"div",25),Z(3,ome,2,1,"div",26),x(4,"div",27),ve(5,"app-settings-menu"),R()()()),2&n){const e=ee();V("placement","bottom-right"),A(3),V("ngIf",e.freeBets.freeBetsCount>0)}}mf.\u0275fac=function(t){return new(t||mf)(X(ki),X(Ui),X(en),X(il),X(Qg),X(Dc),X(Ic),X(cE),X(Eu),X(Tn),X(Is),X(Rc))},mf.\u0275cmp=et({type:mf,selectors:[["app-settings-menu"]],decls:72,vars:21,consts:[[1,"user"],[1,"first-block","p-2"],[1,"user-info"],[1,"avatar"],[3,"src","alt"],[1,"name"],["ngbDropdownItem","",1,"avatar-change",3,"click"],[1,"avatar-logo"],[1,"change-text"],["translate",""],[1,"second-block"],[1,"list-menu","pb-3"],[1,"list-menu-item"],[1,"title"],[1,"icon-wrapper"],[1,"sound-icon"],["translate","",1,"title-text"],[1,"switch"],[3,"ngModel","ngModelChange"],[1,"music-icon"],[1,"animation-icon"],[1,"list-menu"],["class","list-menu-item info-item","ngbDropdownItem","","translate","",3,"click",4,"ngIf"],["ngbDropdownItem","",1,"list-menu-item","info-item",3,"click"],[1,"icon","fair-icon"],[1,"title-text-info","text-capitalize"],[1,"icon","rule-icon"],[1,"icon","history-icon"],[1,"icon","limits-icon"],["class","list-menu-item info-item","ngbDropdownItem","",3,"click",4,"ngIf"],["class","logout","href","javascript:void(0)",3,"click",4,"ngIf"],["ngbDropdownItem","","translate","",1,"list-menu-item","info-item",3,"click"],[1,"icon","star-icon"],["class","badge badge-danger badge-notification",4,"ngIf"],[1,"badge","badge-danger","badge-notification"],[1,"icon","other-icon"],[1,"title-text-info"],["href","javascript:void(0)",1,"logout",3,"click"],[1,"home-icon"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),ve(4,"img",4),R(),x(5,"div",5),H(6),R()(),x(7,"div",6),Ce("click",function(){return e.onChangeAvatar()}),ve(8,"div",7),x(9,"div",8)(10,"div",9),H(11,"shared.change"),R(),x(12,"div",9),H(13,"shared.avatar"),R()()()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14),ve(19,"div",15),R(),x(20,"span",16),H(21,"shared.sound"),R()(),x(22,"div",17)(23,"app-ui-switcher",18),Ce("ngModelChange",function(r){return e.user.settings.sound=r}),R()()(),x(24,"div",12)(25,"div",13)(26,"div",14),ve(27,"div",19),R(),x(28,"span",16),H(29,"shared.music"),R()(),x(30,"div",17)(31,"app-ui-switcher",18),Ce("ngModelChange",function(r){return e.user.settings.music=r}),R()()(),x(32,"div",12)(33,"div",13)(34,"div",14),ve(35,"div",20),R(),x(36,"span",16),H(37,"shared.animation"),R()(),x(38,"div",17)(39,"app-ui-switcher",18),Ce("ngModelChange",function(r){return e.user.settings.animation=r}),R()()()(),x(40,"div",21),Z(41,q_e,8,4,"div",22),x(42,"div",23),Ce("click",function(){return e.onFairnessOpen()}),x(43,"div",13)(44,"div",14),ve(45,"div",24),R(),x(46,"div",25),H(47),ce(48,"translate"),R()()(),x(49,"div",23),Ce("click",function(){return e.onRulesOpen()}),x(50,"div",13)(51,"div",14),ve(52,"div",26),R(),x(53,"div",25),H(54),ce(55,"translate"),R()()(),x(56,"div",23),Ce("click",function(){return e.onMyBetsHistoryOpen()}),x(57,"div",13)(58,"div",14),ve(59,"div",27),R(),x(60,"div",25),H(61),ce(62,"translate"),R()()(),x(63,"div",23),Ce("click",function(){return e.onGameLimitsOpen()}),x(64,"div",13)(65,"div",14),ve(66,"div",28),R(),x(67,"div",25),H(68),ce(69,"translate"),R()()(),Z(70,K_e,7,3,"div",29),R()(),Z(71,J_e,4,0,"a",30),R()),2&t&&(A(4),V("src",e.avatar,fn)("alt",e.avatar),A(2),yt(e.app.getFormattedUsername(e.user.username)),A(17),V("ngModel",e.user.settings.sound),A(8),V("ngModel",e.user.settings.music),A(8),V("ngModel",e.user.settings.animation),A(2),V("ngIf",e.app.isFreeBetsEnabled),A(6),me(" ",pe(48,13,"shared.provably_fair_settings")," "),A(7),me(" ",pe(55,15,"shared.game_rules")," "),A(7),me(" ",pe(62,17,"shared.my_bet_history")," "),A(7),me(" ",pe(69,19,"shared.game_limits")," "),A(2),V("ngIf",e.user.settings.isOtherEnabled),A(1),V("ngIf",e.urlParams.returnUrl))},directives:[PE,Gn,o0,ks,cs,Ht],pipes:[dn],styles:[".user[_ngcontent-%COMP%]{width:100%;max-width:320px;border-radius:6px;background:#2c2d30;box-shadow:10px 10px 20px #000000b3}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px;line-height:16px;font-weight:700;color:#fff;width:50%}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px;border-radius:50%;position:relative}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-left:10px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]{background:#252528;display:flex;justify-content:center;align-items:center;font-size:12px;color:#83878e;cursor:pointer;padding:6px 15px 6px 10px;width:auto;border:solid 1px #414148;border-radius:21px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .avatar-logo[_ngcontent-%COMP%]{background:url(av.f02b9dd771d998f5.svg) no-repeat center center/contain;width:20px;height:20px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%]{margin-left:4px;display:flex;flex-direction:column;justify-content:center;align-items:center;line-height:1}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;padding-bottom:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]{min-width:124px;font-size:14px;line-height:12px;display:flex;flex-direction:column;justify-content:center;align-items:center}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]{width:100%;background-color:#1b1c1d;border-top:solid 1px rgba(255,255,255,.1);display:flex;height:45px;align-items:center;padding:7px 10px;justify-content:space-between}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]:first-child{border-top:0;height:44px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.dropdown-toggle[_ngcontent-%COMP%]{white-space:normal}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.info-item[_ngcontent-%COMP%]{cursor:pointer}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.border-bottom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(255,255,255,.1)!important}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title-text-info[_ngcontent-%COMP%]{font-size:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:24px;display:flex;justify-content:center;margin-right:4px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .sound-icon[_ngcontent-%COMP%]{background:url(sound.7de2fa68db9e693f.svg) no-repeat center center/contain;width:15px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .music-icon[_ngcontent-%COMP%]{background:url(music.bab0db6ddc4f0013.svg) no-repeat center center/contain;width:16px;height:18px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .animation-icon[_ngcontent-%COMP%]{background:url(animation.b84ddfd4bbbc03e5.svg) no-repeat center center/contain;width:18px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{background:url(star-menu.2420fd6cd7e47259.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .fair-icon[_ngcontent-%COMP%]{background:url(pf.3cce29a379dde9c5.svg) no-repeat center center/contain;width:13px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .rule-icon[_ngcontent-%COMP%]{background:url(rules.700839c06e198a2e.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-grey.42156111146ca273.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .limits-icon[_ngcontent-%COMP%]{background:url(limits.31c7a66c425df21e.svg) no-repeat center center/contain;width:16px;height:10px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .other-icon[_ngcontent-%COMP%]{background:url(other-settings.62e86bcf2523195c.svg) no-repeat center center/contain;width:16px;height:16px}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#9ea0a3;display:flex;justify-content:center;align-items:center;padding-bottom:16px;cursor:pointer}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   .home-icon[_ngcontent-%COMP%]{width:16px;height:14px;background-image:url(home.8ea300e6c072aab3.svg);margin-right:5px}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:2px}.badge-notification[_ngcontent-%COMP%]{margin-left:4px}"]}),mf=We([oi()],mf);let vf=class{constructor(t,e,i,r,o,s,a,l,c,u){this.mainService=t,this.chat=e,this.modal=i,this.cd=r,this.connector=o,this.freeBets=s,this.ifc=a,this.userService=l,this.app=c,this.urlParams=u}ngOnInit(){this.chat.isOpen$.pipe(gt(this)).subscribe(()=>this.cd.detectChanges()),this.connector.response(pn.NewBalance,200).pipe(gt(this)).subscribe(t=>{balx=t.newBalance,this.userService.balance=t.newBalance,this.ifc.emitEvent(Ai.UpdateBalance,{amount:this.userService.balance,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}),this.freeBets.onUpdate$.pipe(gt(this)).subscribe(()=>{this.cd.detectChanges()}),this.ifc.command(Lr.SetBalance).pipe(gt(this)).subscribe(t=>{this.userService.balance=t.value,this.cd.detectChanges()}),this.ifc.command(Lr.AviaportToggleGameMenu).pipe(gt(this)).subscribe(()=>{this.onToggleGameMenu(),this.cd.detectChanges()})}get homeUrl(){return this.urlParams.returnUrl?this.urlParams.returnUrl:"#"}get brandLogo(){return`${Pi_brandPath}${this.app.clientConfig.brandLogo}?v=${Pi_version}`}onOpenHelp(){this.modal.open(si.quickHelp)}onToggleGameMenu(){this.gameMenu.isOpen()?this.gameMenu.close():this.gameMenu.open()}};vf.\u0275fac=function(t){return new(t||vf)(X(Ui),X(Qs),X(Is),X(Tn),X(ki),X(Ic),X(Eu),X(il),X(en),X(Rc))},vf.\u0275cmp=et({type:vf,selectors:[["app-header"]],viewQuery:function(t,e){if(1&t&&mo(cf,5),2&t){let i;Hn(i=Vn())&&(e.gameMenu=i.first)}},decls:4,vars:2,consts:[["class","header h-100 d-flex justify-content-between align-items-center",4,"ngIf"],["class","hidden-header",4,"ngIf"],["userMenu",""],[1,"header","h-100","d-flex","justify-content-between","align-items-center"],[1,"first-block","h-100","d-flex","align-items-center"],["target","_top","class","main-page-btn position-relative ml-1 ml-md-2",3,"href","disabled",4,"ngIf"],[1,"game-logo","h-100","ml-1","ml-md-2"],["class","btn btn-sm btn-quick-help disabled-on-game-focused shadow-none p-0 px-1",3,"click",4,"ngIf"],[1,"second-block","d-flex"],[1,"d-flex","h-100"],[1,"balance","px-2","d-flex","justify-content-end","align-items-center"],[1,"amount","font-weight-bold"],[1,"currency"],[4,"ngTemplateOutlet"],["class","chat-i-wrapper h-100 px-2",3,"click",4,"ngIf"],["target","_top",1,"main-page-btn","position-relative","ml-1","ml-md-2",3,"href"],["alt","home",1,"d-block","h-100","w-100",3,"src"],[1,"btn","btn-sm","btn-quick-help","disabled-on-game-focused","shadow-none","p-0","px-1",3,"click"],[1,"question-i","d-inline-block","align-middle"],[1,"d-none","d-md-inline-block","align-middle","pl-1"],[1,"chat-i-wrapper","h-100","px-2",3,"click"],[1,"chat-i","h-100"],[1,"hidden-header"],["ngbDropdown","",1,"user-wrapper","h-100",3,"placement"],["ngbDropdownToggle","",1,"user","w-100","h-100","px-2","d-flex","align-items-center","position-relative","disabled-on-game-focused"],[1,"burger-i","h-100"],["class","badge badge-danger badge-notification position-absolute",4,"ngIf"],["ngbDropdownMenu","",1,"user-menu-dropdown"],[1,"badge","badge-danger","badge-notification","position-absolute"]],template:function(t,e){1&t&&(Z(0,nme,16,12,"div",0),Z(1,rme,2,1,"div",1),Z(2,sme,6,2,"ng-template",null,2,Ea)),2&t&&(V("ngIf",!e.app.config.hideHeader),A(1),V("ngIf",e.app.config.hideHeader))},directives:[Ht,Sd,cf,OA,xE,mf],pipes:[dn,Gr],styles:[".header[_ngcontent-%COMP%]{background-color:var(--mbwa)}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]{justify-content:space-evenly}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn.disabled[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]:hover{opacity:.9}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]{width:20px;height:20px}}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:72px;background:url(aviator-logo.cafbd29233306bf7.svg) no-repeat center center/contain}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo.game-logo-ab[_ngcontent-%COMP%]{background:url(aviator-logo-ab.83de67e984debc60.svg) no-repeat center center/contain}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:84px}}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]{text-shadow:none;margin-left:2px}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]   .question-i[_ngcontent-%COMP%]{width:20px;height:20px;background:url(question-gray.10476c54b3bdaed7.svg) no-repeat center center}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]{margin-left:20px;color:#5f3816;background-color:#e69308}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]   .question-i[_ngcontent-%COMP%]{width:16px;height:16px;background-image:url(question-brown.7770399d23b5438d.svg)}}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]{height:26px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:16px;color:#28a909}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{color:#9b9c9e;font-size:12px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance.long-precision[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance.long-precision[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:10px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]{border-left:1px solid #464648}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .burger-i[_ngcontent-%COMP%]{width:18px;background:url(burger.2dd58692fde31c48.svg) no-repeat center center}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{cursor:pointer}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .badge-notification[_ngcontent-%COMP%]{top:0px;right:0px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper.show[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:before{opacity:0}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .chat-i-wrapper[_ngcontent-%COMP%]{border-left:1px solid #464648}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .chat-i-wrapper[_ngcontent-%COMP%]   .chat-i[_ngcontent-%COMP%]{width:19px;cursor:pointer;background:url(chat.b016cf6877c43f2e.svg) no-repeat center center}.hidden-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;position:relative;height:0;width:100%;padding-right:8px}.hidden-header[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{top:8px;visibility:hidden}.user-menu-dropdown[_ngcontent-%COMP%]{width:320px}.dropdown-menu.show[_ngcontent-%COMP%]{background-color:transparent;background-color:initial;color:inherit;border:unset;padding:0;margin:0}"],changeDetection:0}),vf=We([oi()],vf);var a_=(()=>(function(n){n.AllBets="All Bets",n.MyBets="My Bets",n.Top="Top"}(a_||(a_={})),a_))();const ame=["slider"],lme=function(n){return{width:n}};function cme(n,t){if(1&n){const e=dt();ft(0),x(1,"button",4),Ce("click",function(){const o=it(e).$implicit;return ee().onClickTab(o)}),H(2),R(),pt()}if(2&n){const e=t.$implicit,i=ee();A(1),vt("active",i.activeTab===e),V("ngStyle",Fr(5,lme,i.tabWidth+"px")),A(1),pi(" ",i.translatePath,".",e," ")}}const ume=function(n,t){return{width:n,background:t}};let BA=(()=>{class n{constructor(e,i){this.renderer=e,this.cd=i,this.tabWidth=100,this.disabled=!1,this.height=20,this.slidingColor="#110099",this.toggle=new Yt,this.borderWidth=2,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClickTab(e){this.disabled||this.activeTab!==e&&(this.toggle.emit(e),this.writeValue(e))}findSlidingPosition(e,i,r){return i*r.indexOf(e)+"px"}setPositionSlider(){const e=this.findSlidingPosition(this.activeTab,this.tabWidth,this.tabs);["webkitTransform","MozTransform","msTransform","OTransform","transform"].forEach(r=>{this.renderer.setStyle(this.slider.nativeElement,r,`translate(${e})`)})}writeValue(e){this.activeTab=e,this.onModelChange(this.activeTab),this.setPositionSlider(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(X(Ms),X(Tn))},n.\u0275cmp=et({type:n,selectors:[["app-navigation-switcher"]],viewQuery:function(e,i){if(1&e&&mo(ame,7),2&e){let r;Hn(r=Vn())&&(i.slider=r.first)}},inputs:{tabWidth:"tabWidth",disabled:"disabled",height:"height",tabs:"tabs",translatePath:"translatePath",slidingColor:"slidingColor"},outputs:{toggle:"toggle"},features:[ei([{provide:Ds,useExisting:In(()=>n),multi:!0}])],decls:4,vars:7,consts:[[1,"navigation-switcher"],[1,"slider",3,"ngStyle"],["slider",""],[4,"ngFor","ngForOf"],["translate","",1,"tab",3,"ngStyle","click"]],template:function(e,i){1&e&&(x(0,"div",0),ve(1,"div",1,2),Z(3,cme,3,7,"ng-container",3),R()),2&e&&(vt("disabled",i.disabled),A(1),V("ngStyle",ba(4,ume,i.tabWidth+"px",i.slidingColor)),A(2),V("ngForOf",i.tabs))},directives:[Ed,vi,Gn],styles:[".navigation-switcher[_ngcontent-%COMP%]{height:100%;background:#141536;border-radius:10px;border:solid 1px #141596;position:relative}.navigation-switcher.disabled[_ngcontent-%COMP%]{opacity:.5}.navigation-switcher.disabled[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.navigation-switcher[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{height:100%;position:absolute;border-radius:10px;transition:transform .5s ease}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{height:100%;position:relative;text-align:center;background:none;border:none;color:#9ea0a3;padding:0}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(.active):hover{color:#d0021b;cursor:pointer}.navigation-switcher[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:#fff;cursor:default}"]}),n})();function hme(n,t){if(1&n){const e=dt();x(0,"div",11),Ce("click",function(){it(e);const r=ee();return r.main.checkFairness(r.roundInfo.roundId)}),ve(1,"app-bubble-multiplier",12),R()}if(2&n){const e=ee();A(1),V("multiplier",e.roundInfo.multiplier)}}let dme=(()=>{class n{constructor(e,i){this.app=e,this.main=i,this.previousHand=new Yt}setPreviousHand(){this.previousHand.emit(!this.isPreviousHand)}}return n.\u0275fac=function(e){return new(e||n)(X(en),X(Ui))},n.\u0275cmp=et({type:n,selectors:[["app-header"]],inputs:{roundInfo:"roundInfo",total:"total",isPreviousHand:"isPreviousHand"},outputs:{previousHand:"previousHand"},decls:24,vars:15,consts:[[1,"all-bets-block","d-flex","justify-content-between","align-items-center","px-2","pb-1"],[1,"text-uppercase"],["class","multiplier disabled-on-game-focused",3,"click",4,"ngIf"],[1,"previous-hand","d-flex","justify-content-between","align-items-center",3,"click"],[1,"history-i"],["translate","",1,"text","ml-1"],[1,"spacer"],[1,"legend","d-flex","align-items-center","mx-2"],["translate","",1,"user"],[1,"bet"],[1,"cash-out"],[1,"multiplier","disabled-on-game-focused",3,"click"],[3,"multiplier"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div")(2,"div",1),H(3),ce(4,"translate"),R(),x(5,"div"),H(6),R()(),Z(7,hme,2,1,"div",2),x(8,"div",3),Ce("click",function(){return i.setPreviousHand()}),ve(9,"div",4),x(10,"span",5),H(11,"game.bets-widget.previous hand"),R()()(),ve(12,"div",6),x(13,"div",7)(14,"span",8),H(15,"game.bets-widget.user"),R(),x(16,"span",9),H(17),ce(18,"translate"),R(),x(19,"span"),H(20,"X"),R(),x(21,"span",10),H(22),ce(23,"translate"),R()()),2&e&&(A(3),me(" ",pe(4,9,"game.bets-widget.All Bets")," "),A(3),yt(i.total),A(1),V("ngIf",i.isPreviousHand&&!!i.roundInfo),A(1),vt("on",i.isPreviousHand),A(9),pi(" ",pe(18,11,"shared.bet")," ",i.app.config.currency," "),A(5),pi(" ",pe(23,13,"shared.cash_out")," ",i.app.config.currency," "))},directives:[Ht,kc,Gn],pipes:[dn],styles:[".all-bets-block[_ngcontent-%COMP%]{font-size:14px;line-height:1.2}.all-bets-block[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{cursor:pointer;font-size:12px}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]{height:20px;font-size:12px;padding:0 8px 0 3px;white-space:nowrap;color:#9ea0a3;border-radius:17px;border:solid 1px #414148;background-color:#252528;cursor:pointer}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]:hover   .history-i[_ngcontent-%COMP%]{background:url(history-h.0950ae774061ee87.svg) no-repeat center center/contain}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{color:#fff;width:17px;height:16px;background:url(history.a8377d083674a681.svg) no-repeat center center/contain}.all-bets-block[_ngcontent-%COMP%]   .previous-hand.on[_ngcontent-%COMP%]{border:solid 1px #e90000;background-color:#600}.all-bets-block[_ngcontent-%COMP%]   .previous-hand.on[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{margin-left:5px;right:7px;height:12px;width:12px;background:url(close.f62b9233d6078bd1.svg) no-repeat center center/contain}.spacer[_ngcontent-%COMP%]{height:2px;background-color:#141516}.legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;height:20px}.legend[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{width:19%}.legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:35%;padding-right:10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right;white-space:nowrap}"],changeDetection:0}),n})();function HE(n,t=0){return function pme(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}const s0={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=s0;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new p(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=s0;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=s0;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},vme=new class mme extends qO{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class _me extends $O{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=s0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(s0.cancelAnimationFrame(e),t._scheduled=void 0)}});let LA,yme=1;const VE={};function B6(n){return n in VE&&(delete VE[n],!0)}const bme={setImmediate(n){const t=yme++;return VE[t]=!0,LA||(LA=Promise.resolve()),LA.then(()=>B6(t)&&n()),t},clearImmediate(n){B6(n)}},{setImmediate:Eme,clearImmediate:Sme}=bme,WE={setImmediate(...n){const{delegate:t}=WE;return((null==t?void 0:t.setImmediate)||Eme)(...n)},clearImmediate(n){const{delegate:t}=WE;return((null==t?void 0:t.clearImmediate)||Sme)(n)},delegate:void 0},Mme=new class Tme extends qO{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Cme extends $O{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=WE.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(WE.clearImmediate(e),t._scheduled=void 0)}});let UA;try{UA="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){UA=!1}let YE,yf,L6=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Xm(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!UA)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(Fe(vd))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function l0(){if("object"!=typeof document||!document)return 0;if(null==YE){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),YE=0,0===n.scrollLeft&&(n.scrollLeft=1,YE=0===n.scrollLeft?1:2),n.remove()}return YE}const Ame=new un("cdk-dir-doc",{providedIn:"root",factory:function Rme(){return XD(nr)}}),Ime=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let G6=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new Yt,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function Dme(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Ime.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(Fe(Ame,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({}),n})();class Fme extends class Nme{}{constructor(t){super(),this._data=t}connect(){return Ac(this._data)?this._data:$t(this._data)}disconnect(){}}class Bme{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,r,o){t.forEachOperation((s,a,l)=>{let c,u;null==s.previousIndex?(c=this._insertView(()=>i(s,a,l),l,e,r(s)),u=c?1:0):null==l?(this._detachAndCacheView(a,e),u=3):(c=this._moveView(a,l,e,r(s)),u=2),o&&o({context:null==c?void 0:c.context,operation:u,record:s})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,r){const o=this._insertViewFromCache(e,i);if(o)return void(o.context.$implicit=r);const s=t();return i.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,r){const o=i.get(t);return i.move(o,e),o.context.$implicit=r,o}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}const H6=new un("_ViewRepeater"),Lme=["contentWrapper"],Ume=["*"],V6=new un("VIRTUAL_SCROLL_STRATEGY");class Gme{constructor(t,e,i){this._scrolledIndexChange=new Le,this.scrolledIndexChange=this._scrolledIndexChange.pipe(ef()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),s=this._itemSize>0?o/this._itemSize:0;if(e.end>r){const l=Math.ceil(i/this._itemSize),c=Math.max(0,Math.min(s,r-l));s!=c&&(s=c,o=c*this._itemSize,e.start=Math.floor(s)),e.end=Math.max(0,Math.min(r,e.start+l))}const a=o-e.start*this._itemSize;if(a<this._minBufferPx&&0!=e.start){const l=Math.ceil((this._maxBufferPx-a)/this._itemSize);e.start=Math.max(0,e.start-l),e.end=Math.min(r,Math.ceil(s+(i+this._minBufferPx)/this._itemSize))}else{const l=e.end*this._itemSize-(o+i);if(l<this._minBufferPx&&e.end!=r){const c=Math.ceil((this._maxBufferPx-l)/this._itemSize);c>0&&(e.end=Math.min(r,e.end+c),e.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(s))}}function jme(n){return n._scrollStrategy}let Hme=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Gme(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=HE(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=HE(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=HE(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=wt({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[ei([{provide:V6,useFactory:jme,deps:[In(()=>n)]}]),Uo]}),n})(),W6=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Le,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new le(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Js(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):$t()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Lt(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=function gme(n){return n instanceof Ci?n.nativeElement:n}(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ti(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(Fe(Wn),Fe(L6),Fe(nr,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y6=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Le,this._elementScrolled=new le(s=>this.ngZone.runOutsideAngular(()=>Ti(this.elementRef.nativeElement,"scroll").pipe(gr(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=l0()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==l0()?e.left=e.right:1==l0()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function Pme(){if(null==yf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return yf=!1,yf;if("scrollBehavior"in document.documentElement.style)yf=!0;else{const n=Element.prototype.scrollTo;yf=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return yf}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&2==l0()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==l0()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(X(Ci),X(W6),X(Wn),X(G6,8))},n.\u0275dir=wt({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Yme=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Le,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Js(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(Fe(L6),Fe(Wn),Fe(nr,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $me="undefined"!=typeof requestAnimationFrame?vme:Mme;let z6=(()=>{class n extends Y6{constructor(e,i,r,o,s,a,l){super(e,a,r,s),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this._detachedSubject=new Le,this._renderedRangeSubject=new Le,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new le(c=>this._scrollStrategy.scrolledIndexChange.subscribe(u=>Promise.resolve().then(()=>this.ngZone.run(()=>c.next(u))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=p.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function fme(n){return null!=n&&"false"!=`${n}`}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Th(null),Js(0,$me)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(gr(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function zme(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){const o="horizontal"==this.orientation,s=o?"X":"Y";let l=`translate${s}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e=this.appendOnly&&"to-start"===i?0:e,"to-end"===i&&(l+=` translate${s}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:"";}}return n.\u0275fac=function(e){return new(e||n)(X(Ci),X(Tn),X(Wn),X(V6,8),X(G6,8),X(W6),X(Yme))},n.\u0275cmp=et({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&mo(Lme,7),2&e){let r;Hn(r=Vn())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&vt("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[ei([{provide:Y6,useExisting:n}]),Si],ngContentSelectors:Ume,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(Am(),x(0,"div",0,1),Rm(2),R(),ve(3,"div",2)),2&e&&(A(3),Nl("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function $6(n,t,e){if(!e.getBoundingClientRect)return 0;const r=e.getBoundingClientRect();return"horizontal"===n?"start"===t?r.left:r.right:"start"===t?r.top:r.bottom}let Xme=(()=>{class n{constructor(e,i,r,o,s,a){this._viewContainerRef=e,this._template=i,this._differs=r,this._viewRepeater=o,this._viewport=s,this.viewChange=new Le,this._dataSourceChanges=new Le,this.dataStream=this._dataSourceChanges.pipe(Th(null),function Ome(){return Ve((n,t)=>{let e,i=!1;n.subscribe(ae(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}(),nl(([l,c])=>this._changeDataSource(l,c)),Ux(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Le,this.dataStream.subscribe(l=>{this._data=l,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(gr(this._destroyed)).subscribe(l=>{this._renderedRange=l,a.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function kme(n){return n&&"function"==typeof n.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new Fme(Ac(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,r)=>e(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=HE(e)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const r=e.start-this._renderedRange.start,o=e.end-e.start;let s,a;for(let l=0;l<o;l++){const c=this._viewContainerRef.get(l+r);if(c&&c.rootNodes.length){s=a=c.rootNodes[0];break}}for(let l=o-1;l>-1;l--){const c=this._viewContainerRef.get(l+r);if(c&&c.rootNodes.length){a=c.rootNodes[c.rootNodes.length-1];break}}return s&&a?$6(i,"end",a)-$6(i,"start",s):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):$t()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(o,s,a)=>this._getEmbeddedViewArgs(o,a),o=>o.item),e.forEachIdentityChange(o=>{this._viewContainerRef.get(o.currentIndex).context.$implicit=o.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(e){return new(e||n)(X(Xa),X(fr),X(Wm),X(H6),X(z6,4),X(Wn))},n.\u0275dir=wt({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[ei([{provide:H6,useClass:Bme}])]}),n})(),X6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({}),n})(),qme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[j6,X6],j6,X6]}),n})();function Kme(n,t){1&n&&ve(0,"app-bubble-multiplier",9),2&n&&V("multiplier",ee().bet.payout)}let Jme=(()=>{class n{constructor(e){this.app=e}}return n.\u0275fac=function(e){return new(e||n)(X(en))},n.\u0275cmp=et({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:12,vars:11,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"user","d-flex","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"username"],[1,"bet","d-flex","justify-content-end"],[3,"amount","isFreeBet"],[1,"multiplier-block","d-flex","align-items-center"],[3,"multiplier",4,"ngIf"],[1,"cash-out"],[3,"multiplier"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1),ve(2,"img",2),x(3,"div",3),H(4),R()(),x(5,"div",4),ve(6,"app-bet-amount",5),R(),x(7,"div",6),Z(8,Kme,1,1,"app-bubble-multiplier",7),R(),x(9,"div",8),H(10),ce(11,"currencyPrecision"),R()()),2&e&&(vt("celebrated",i.bet.winAmount),A(2),V("src",i.app.getAvatarUrl(i.bet.profileImage),fn)("alt",i.app.getAvatarUrl(i.bet.profileImage)),A(2),yt(i.app.getFormattedUsername(i.bet.username)),A(2),V("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),A(2),V("ngIf",i.bet.payout),A(2),me(" ",pe(11,9,i.bet.winAmount)," "))},directives:[r0,Ht,kc],pipes:[Gr],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#bbbfc5}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405;color:#fff}.bet-item.celebrated[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#fff}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{width:19%}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:30px;height:30px}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:13px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:35%;padding-right:10px}.bet-item[_ngcontent-%COMP%]   .multiplier-block[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding-right:5px;text-align:right}"]}),n})();function Qme(n,t){1&n&&ve(0,"app-loader")}function Zme(n,t){1&n&&ve(0,"app-bet-item",6),2&n&&V("bet",t.$implicit)}function eve(n,t){if(1&n&&(x(0,"cdk-virtual-scroll-viewport",4),Z(1,Zme,1,1,"app-bet-item",5),R()),2&n){const e=ee();V("itemSize",e.betItemTotalHeight),A(1),V("cdkVirtualForOf",e.bets)("cdkVirtualForTemplateCacheSize",0)}}let bf=class{constructor(t,e,i,r,o){this.mainService=t,this.cd=e,this.connector=i,this.user=r,this.app=o,this.isPreviousHand=!1,this.loaded=!1,this._bets=[],this.auditDuration=100,this.betItemTotalHeight=36,this.isUpdateCurrentBetsReceived=!1,this._numberOfBets=0}ngOnInit(){this.loadBets(),this.connector.response(pn.Bet,200).pipe(gt(this),Lt(()=>!this.isPreviousHand),Lt(()=>!this.isUpdateCurrentBetsReceived),Lt(()=>!this.user.settings.getOther(Kl.HideMyActivity)),ur(t=>this._bets.push(t)),Js(this.auditDuration)).subscribe(()=>{this.setNumberOfBets(this.bets.length),this.sortBets(),this.cd.detectChanges()}),this.connector.response(pn.CancelBet,200).pipe(gt(this),Lt(()=>!this.isPreviousHand),Lt(()=>!this.isUpdateCurrentBetsReceived),Lt(()=>!this.user.settings.getOther(Kl.HideMyActivity)),ur(t=>this._bets=this._bets.filter(e=>!(e.player_id===t.player_id&&e.betId===t.betId))),Js(this.auditDuration)).subscribe(()=>{this.setNumberOfBets(this.bets.length),this.sortBets(),this.cd.detectChanges()}),this.connector.response(pn.CashOut,200).pipe(gt(this),Lt(()=>!this.isPreviousHand),Lt(()=>!this.isUpdateCurrentBetsReceived),Lt(()=>!this.user.settings.getOther(Kl.HideMyActivity)),ur(t=>this.displayCashOuts(t.cashouts,t.multiplier)),Js(this.auditDuration)).subscribe(()=>{this.sortBets(),this.cd.detectChanges()}),this.connector.response("haha",200).pipe(gt(this),Lt(()=>!this.isPreviousHand),ur(t=>this._bets=t.bets),Js(this.auditDuration)).subscribe(t=>{this.isUpdateCurrentBetsReceived=!0,this.setNumberOfBets(t.betsCount),this.sortBets(),this.cd.detectChanges()}),this.connector.response("haha",200).pipe(gt(this),Lt(()=>!this.isPreviousHand),Js(this.auditDuration)).subscribe(t=>{this.isUpdateCurrentBetsReceived=!0,this.displayCashOuts(t.cashouts),this.cd.detectChanges()}),this.connector.response("haha").pipe(gt(this)).subscribe(t=>{var e;if(200!==t.code)return this.loaded=!0,void this.cd.detectChanges();this.loaded=!0,this._bets=t.bets,this.setNumberOfBets(null!==(e=t.betsCount)&&void 0!==e?e:this.bets.length),"cashOuts"in t&&this.displayCashOuts(t.cashOuts),this.sortBets(),this.cd.detectChanges()}),this.connector.response(pn.PreviousRoundInfo).pipe(gt(this)).subscribe(t=>{if(200!==t.code)return this.loaded=!0,void this.cd.detectChanges();this.loaded=!0,this._bets=t.bets,this.setNumberOfBets(this.bets.length),this.roundInfo=t.roundInfo,this.cd.detectChanges()}),this.mainService.getState(ir.Bet).pipe(gt(this)).subscribe(()=>{this.isPreviousHand||(this._bets=[],this.setNumberOfBets(this.bets.length),this.cd.detectChanges())})}onPreviousHand(t){this.isPreviousHand!==t&&(this.isPreviousHand=t,this.loadBets())}get bets(){const t=this.app.config.minBet,e=this.app.config.maxBet;return this._bets.filter(i=>i.bet>=t&&i.bet<=e)}get numberOfBets(){return this._numberOfBets}get isShareEnabled(){return this.app.config.chat.isEnabled&&this.isPreviousHand}setNumberOfBets(t){this.loaded&&(this._numberOfBets=t)}loadBets(){this.loaded=!1,this.isPreviousHand?this.loadPreviousRoundInfo():this.loadCurrentBetsInfo()}loadPreviousRoundInfo(){this.connector.request(Fi.PreviousRoundInfo,null)}loadCurrentBetsInfo(){this.connector.request(Fi.CurrentBetsInfo,null)}displayCashOuts(t,e){t.forEach(i=>{this._bets.forEach(r=>{r.player_id===i.player_id&&r.betId===i.betId&&(r.payout="multiplier"in i?i.multiplier:e,r.winAmount=i.winAmount)})})}sortBets(){this._bets.sort((t,e)=>e.bet-t.bet)}};function tve(n,t){if(1&n&&(x(0,"div",11),H(1),ce(2,"currencyPrecision"),R()),2&n){const e=ee();A(1),me(" ",pe(2,1,e.bet.winAmount)," ")}}bf.\u0275fac=function(t){return new(t||bf)(X(Ui),X(Tn),X(ki),X(il),X(en))},bf.\u0275cmp=et({type:bf,selectors:[["app-all-bets-tab"]],decls:4,vars:5,consts:[[1,"d-flex","h-100","flex-column"],[1,"header-wrapper",3,"total","roundInfo","isPreviousHand","previousHand"],[4,"ngIf"],["class","h-100 scroll-y","minBufferPx","300","maxBufferPx","600",3,"itemSize",4,"ngIf"],["minBufferPx","300","maxBufferPx","600",1,"h-100","scroll-y",3,"itemSize"],[3,"bet",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],[3,"bet"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"app-header",1),Ce("previousHand",function(r){return e.onPreviousHand(r)}),R(),Z(2,Qme,1,0,"app-loader",2),Z(3,eve,2,3,"cdk-virtual-scroll-viewport",3),R()),2&t&&(A(1),V("total",e.numberOfBets)("roundInfo",e.roundInfo)("isPreviousHand",e.isPreviousHand),A(1),V("ngIf",!e.loaded),A(1),V("ngIf",e.loaded))},directives:[dme,Ht,Ou,z6,Hme,Xme,Jme],styles:[""],changeDetection:0}),bf=We([oi()],bf);const nve=function(n,t){return{celebrated:n,"bet-item_long-precision":t}};let ive=(()=>{class n{constructor(e,i,r,o){this.app=e,this.chat=i,this.main=r,this.newChat=o}onShareBet(e,i){var r;(null===(r=this.app.config.newChat)||void 0===r?void 0:r.host)?this.newChat.shareBet(e,i):this.chat.shareBet(e)}}return n.\u0275fac=function(e){return new(e||n)(X(en),X(Qs),X(Ui),X(Ru))},n.\u0275cmp=et({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:17,vars:18,consts:[[1,"bet-item","d-flex","align-items-center",3,"ngClass"],[1,"date","pl-1"],[1,"d-flex","w-100","align-items-center"],[1,"bet","d-flex","justify-content-end"],[3,"amount","isFreeBet"],[1,"multiplier-block","d-flex","align-items-center"],[3,"multiplier"],["class","cash-out",4,"ngIf"],[1,"d-flex","align-items-center","tools","pr-1"],[1,"fairness-i","disabled-on-game-focused",3,"click"],[1,"share-i","ml-1",3,"click"],[1,"cash-out"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1)(2,"div"),H(3),ce(4,"date"),R(),x(5,"div"),H(6),ce(7,"date"),R()(),x(8,"div",2)(9,"div",3),ve(10,"app-bet-amount",4),R(),x(11,"div",5),ve(12,"app-bubble-multiplier",6),R(),Z(13,tve,3,3,"div",7),R(),x(14,"div",8)(15,"div",9),Ce("click",function(){return i.main.checkFairness(i.bet.roundId)}),R(),x(16,"div",10),Ce("click",function(){return i.onShareBet(i.bet.roundBetId,i.bet.roundId)}),R()()()),2&e&&(V("ngClass",ba(15,nve,i.bet.winAmount,i.app.isLongPrecision)),A(3),yt(tn(4,9,i.bet.cashOutDate,"HH:mm")),A(3),yt(tn(7,12,i.bet.cashOutDate,"dd-MM-yy")),A(4),V("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),A(2),V("multiplier",i.bet.payout||i.bet.maxMultiplier),A(1),V("ngIf",i.bet.winAmount),A(1),vt("disabled",!i.main.canCheckFairness(i.bet.roundId)))},directives:[Ul,r0,kc,Ht],pipes:[vc,Gr],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#fff}@media (min-width: 992px){.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:50px;max-width:50px;}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){font-size:9px}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:33%}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{font-size:12px}}@media (min-width: 1200px){.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:62px;max-width:62px}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){font-size:12px}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:42%}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{font-size:14px}}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405;}.bet-item.celebrated[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:1}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:62px;max-width:62px;font-size:12px;color:#bbbf45;line-height:1}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:42%;padding-right:10px;opacity:.5}.bet-item[_ngcontent-%COMP%]   .multiplier-block[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding-right:10px;text-align:right;color:#a4e}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;width:14px;height:16px;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background-color:#00b) no-repeat center center/contain;width:16px;height:14px;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .tools.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.5}"]}),n})();function rve(n,t){1&n&&ve(0,"app-bet-item",9),2&n&&V("bet",t.$implicit)}function ove(n,t){if(1&n&&(ft(0),Z(1,rve,1,1,"app-bet-item",8),pt()),2&n){const e=ee();A(1),V("ngForOf",e.betHistory)}}function sve(n,t){1&n&&(x(0,"div"),ve(1,"app-loader"),R())}let Ef=class{constructor(t,e,i,r,o){this.connector=t,this.mainService=e,this.app=i,this.cd=r,this.user=o,this.isRequested=!1,this.loaded=!1}ngOnInit(){this.getMyBetsStatistics(),this.connector.response(pn.BetHistory,200).pipe(gt(this),Lt(()=>this.isRequested)).subscribe(t=>{this.betHistory=t.bets,this.loaded=!0,this.isRequested=!1,this.cd.detectChanges(),dtxx(t.bets)}),this.mainService.getState(ir.Bet).pipe(gt(this)).subscribe(()=>this.getMyBetsStatistics()),this.connector.response(pn.CashOut,200).pipe(gt(this)).subscribe(t=>{t.cashouts.forEach(e=>{this.user.id===e.player_id&&this.getMyBetsStatistics()})})}getMyBetsStatistics(){this.isRequested=!0,this.connector.request(Fi.BetHistory,null)}get isShareEnabled(){return this.app.config.chat.isEnabled}};Ef.\u0275fac=function(t){return new(t||Ef)(X(ki),X(Ui),X(en),X(Tn),X(il))},Ef.\u0275cmp=et({type:Ef,selectors:[["app-my-bets-tab"]],decls:16,vars:10,consts:[[1,"legend","px-2","d-flex","align-items-center","w-100"],["translate","",1,"date"],[1,"d-flex","w-100"],[1,"bet"],[1,"cash-out"],[1,"tools","h-100"],[1,"h-100","scroll-y"],[4,"ngIf"],[3,"bet",4,"ngFor","ngForOf"],[3,"bet"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"div",1),H(2,"game.bets-widget.date"),R(),x(3,"div",2)(4,"span",3),H(5),ce(6,"translate"),R(),x(7,"span"),H(8,"X"),R(),x(9,"span",4),H(10),ce(11,"translate"),R()(),ve(12,"div",5),R(),x(13,"div",6),Z(14,ove,2,1,"ng-container",7),Z(15,sve,2,0,"div",7),R()),2&t&&(A(5),pi(" ",pe(6,6,"shared.bet")," ",e.app.config.currency," "),A(5),pi(" ",pe(11,8,"shared.cash_out")," ",e.app.config.currency," "),A(4),V("ngIf",e.loaded),A(1),V("ngIf",!e.loaded))},directives:[Gn,Ht,vi,ive,Ou],pipes:[dn],styles:[".legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:60px;color:ff0;max-width:60px}.legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:42%;padding-right:10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding:0 10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:35px;max-width:35px}"],changeDetection:0}),Ef=We([oi()],Ef);var ds=(()=>(function(n){n.HugeWins="HugeWins",n.BiggestWins="BiggestWins",n.Multipliers="Multipliers"}(ds||(ds={})),ds))(),c0=(()=>(function(n){n.Day="Day",n.Month="Month",n.Year="Year"}(c0||(c0={})),c0))(),c_=(()=>(function(n){n.Day="day",n.Month="month",n.Year="year"}(c_||(c_={})),c_))(),u0=(()=>(function(n){n.HugeWins="HugeWins",n.BiggestWins="BiggestWins"}(u0||(u0={})),u0))();function ave(n,t){if(1&n&&(x(0,"div",7)(1,"div",8)(2,"span"),H(3),ce(4,"translate"),R()(),x(5,"span",21),H(6),ce(7,"currencyPrecision"),R()()),2&n){const e=ee();A(3),pi("",pe(4,3,"shared.win")," ",e.app.config.currency,":"),A(3),me(" ",pe(7,5,e.bet.winAmount)," ")}}function lve(n,t){1&n&&(x(0,"span"),H(1),ce(2,"translate"),R()),2&n&&(A(1),me(" ",pe(2,1,"shared.cashed_out"),": "))}function cve(n,t){1&n&&(x(0,"span"),H(1),ce(2,"translate"),R()),2&n&&(A(1),me(" ",pe(2,1,"shared.multiplier"),": "))}function uve(n,t){if(1&n&&(x(0,"div",7)(1,"div",8)(2,"span"),H(3),ce(4,"translate"),R()(),x(5,"span",9),H(6),ce(7,"currencyPrecision"),R()()),2&n){const e=ee();A(3),pi("",pe(4,3,"shared.win")," ",e.app.config.currency,":"),A(3),me(" ",pe(7,5,e.bet.winAmount)," ")}}let hve=(()=>{class n{constructor(e,i,r,o,s){this.app=e,this.chat=i,this.main=r,this.newChat=o,this.user=s,this.winsTab=u0}isTab(e){return this.tab===e}onShareBet(e,i,r){var o;(null===(o=this.app.config.newChat)||void 0===o?void 0:o.host)?this.newChat.shareBet(e,i,r):this.chat.shareBet(e)}}return n.\u0275fac=function(e){return new(e||n)(X(en),X(Qs),X(Ui),X(Ru),X(il))},n.\u0275cmp=et({type:n,selectors:[["app-wins-bet-item"]],inputs:{bet:"bet",tab:"tab"},decls:41,vars:27,consts:[[1,"bet-item","mt-1"],[1,"main","position-relative","d-flex","align-items-center"],[1,"position-absolute","ml-4"],[1,"avatar",3,"src","alt"],[1,"username"],[1,"d-flex","w-100","justify-content-center","align-items-center"],[1,"w-100"],[1,"d-flex","align-items-center"],[1,"w-50","d-flex","justify-content-end","ml-3"],[1,"amount","ml-1"],["class","d-flex align-items-center",4,"ngIf"],[4,"ngIf"],[1,"ml-1",3,"multiplier"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"bottom","d-flex","justify-content-between","align-items-center"],[1,"d-flex"],[1,"ml-2","mr-3"],["translate",""],[1,"round-multiplier"],[1,"share","d-flex","justify-content-center","align-items-center","mr-1",3,"click"],[1,"share-i","position-absolute"],[1,"amount","celebrated","ml-1","px-2"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),ve(3,"img",3),x(4,"div",4),H(5),R()(),x(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"span"),H(11),ce(12,"translate"),R()(),x(13,"span",9),H(14),ce(15,"currencyPrecision"),R()(),Z(16,ave,8,7,"div",10),x(17,"div",7)(18,"div",8),Z(19,lve,3,3,"span",11),Z(20,cve,3,3,"span",11),R(),ve(21,"app-bubble-multiplier",12),R(),Z(22,uve,8,7,"div",10),R()(),x(23,"div",13),Ce("click",function(){return i.main.checkFairness(i.bet.roundId)}),R()(),x(24,"div",14)(25,"div",15)(26,"div",16)(27,"span"),H(28),ce(29,"date"),R(),x(30,"span",17),H(31),ce(32,"date"),R()(),x(33,"div")(34,"span"),H(35),ce(36,"translate"),R(),x(37,"span",18),H(38),R()()(),x(39,"div",19),Ce("click",function(){return i.onShareBet(i.bet.roundBetId,i.bet.roundId,i.bet.playerId)}),ve(40,"div",20),R()()()),2&e&&(A(3),V("src",i.app.getAvatarUrl(i.bet.profileImage),fn)("alt",i.app.getAvatarUrl(i.bet.profileImage)),A(2),yt(i.app.getFormattedUsername(i.bet.username)),A(6),pi("",pe(12,15,"shared.bet")," ",i.app.config.currency,":"),A(3),me(" ",pe(15,17,i.bet.bet)," "),A(2),V("ngIf",i.isTab(i.winsTab.BiggestWins)),A(3),V("ngIf",i.isTab(i.winsTab.HugeWins)),A(1),V("ngIf",i.isTab(i.winsTab.BiggestWins)),A(1),V("multiplier",i.bet.payout),A(1),V("ngIf",i.isTab(i.winsTab.HugeWins)),A(6),yt(tn(29,19,i.bet.endDate,"dd ")),A(3),me(" shared.date.month.",tn(32,22,i.bet.endDate,"LLL")," "),A(4),me("",pe(36,25,"shared.round"),":"),A(3),me(" ",i.bet.maxMultiplier,"x"))},directives:[Ht,kc,Gn],pipes:[dn,Gr,vc],styles:[".bet-item[_ngcontent-%COMP%]{color:#9ea0a3;font-size:12px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{height:80px;background:#101112}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px;height:30px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:13px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px;color:#fff}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .amount.celebrated[_ngcontent-%COMP%]{border-radius:11px;border:solid 1px #427f00;background-color:#123405}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{height:28px;background:#000000}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .round-multiplier[_ngcontent-%COMP%]{color:#fff}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]{width:50px;height:20px;border-radius:17px;border:solid 1px #414148;background-color:#252528;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share-wide.eeb21ff9eb22b3b5.svg) no-repeat center center/contain;width:34px;height:14px}"]}),n})(),dve=(()=>{class n{constructor(e){this.main=e}}return n.\u0275fac=function(e){return new(e||n)(X(Ui))},n.\u0275cmp=et({type:n,selectors:[["app-multipliers-bet-item-first"]],inputs:{bet:"bet"},decls:16,vars:15,consts:[[1,"bet-item","d-flex","align-items-center","justify-content-center","position-relative"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"d-flex","justify-content-center"],["translate",""],[1,"multiplier","w-100","d-flex","align-items-center"],[3,"padding","borderRadius","multiplier"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1),Ce("click",function(){return i.main.checkFairness(i.bet.roundId)}),R(),x(2,"div")(3,"div",2)(4,"div")(5,"span"),H(6),ce(7,"date"),R(),x(8,"span",3),H(9),ce(10,"date"),R(),x(11,"span"),H(12),ce(13,"date"),R()()(),x(14,"div",4),ve(15,"app-bubble-multiplier",5),R()()()),2&e&&(A(6),yt(tn(7,6,i.bet.endDate,"dd ")),A(3),me(" shared.date.month.",tn(10,9,i.bet.endDate,"LLL")," "),A(3),yt(tn(13,12,i.bet.endDate," HH:mm:ss")),A(3),V("padding","2px 16px")("borderRadius","16px")("multiplier",i.bet.maxMultiplier))},directives:[Gn,kc],pipes:[vc],styles:[".bet-item[_ngcontent-%COMP%]{height:90px;margin-top:2px;background-color:#101112;font-size:12px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{font-size:24px}.bet-item[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;position:absolute;right:0;top:0}"]}),n})(),fve=(()=>{class n{constructor(e){this.main=e}}return n.\u0275fac=function(e){return new(e||n)(X(Ui))},n.\u0275cmp=et({type:n,selectors:[["app-multipliers-bet-item"]],inputs:{bet:"bet"},decls:14,vars:13,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"date","ml-2"],["translate",""],[1,"w-100","d-flex","justify-content-between","align-items-center"],[3,"multiplier"],[1,"fairness-i","mr-2","disabled-on-game-focused",3,"click"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1)(2,"span"),H(3),ce(4,"date"),R(),x(5,"span",2),H(6),ce(7,"date"),R(),x(8,"span"),H(9),ce(10,"date"),R()(),x(11,"div",3),ve(12,"app-bubble-multiplier",4),x(13,"div",5),Ce("click",function(){return i.main.checkFairness(i.bet.roundId)}),R()()()),2&e&&(A(3),yt(tn(4,4,i.bet.endDate,"dd ")),A(3),me("shared.date.month.",tn(7,7,i.bet.endDate,"LLL"),""),A(3),yt(tn(10,10,i.bet.endDate," HH:mm:ss")),A(3),V("multiplier",i.bet.maxMultiplier))},directives:[Gn,kc],pipes:[vc],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;background-color:#101112;font-size:12px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:45%;max-width:45%}.bet-item[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer}"]}),n})();function pve(n,t){if(1&n&&(x(0,"div"),ve(1,"app-wins-bet-item",3),R()),2&n){const e=t.$implicit,i=ee(3);A(1),V("tab",i.winsTab.BiggestWins)("bet",e)}}function gve(n,t){if(1&n&&(x(0,"div"),Z(1,pve,2,2,"div",2),R()),2&n){const e=ee(2);A(1),V("ngForOf",e.topWins)}}function _ve(n,t){if(1&n&&(x(0,"div"),ve(1,"app-wins-bet-item",3),R()),2&n){const e=t.$implicit,i=ee(3);A(1),V("tab",i.winsTab.HugeWins)("bet",e)}}function mve(n,t){if(1&n&&(x(0,"div"),Z(1,_ve,2,2,"div",2),R()),2&n){const e=ee(2);A(1),V("ngForOf",e.topWins)}}function vve(n,t){if(1&n&&(x(0,"div"),ve(1,"app-multipliers-bet-item",4),R()),2&n){const e=t.$implicit;A(1),V("bet",e)}}function yve(n,t){if(1&n&&(x(0,"div"),ve(1,"app-multipliers-bet-item-first",4),Z(2,vve,2,1,"div",2),ce(3,"slice"),R()),2&n){const e=ee(2);A(1),V("bet",e.topRounds[0]),A(1),V("ngForOf",tn(3,2,e.topRounds,1))}}function bve(n,t){if(1&n&&(x(0,"div"),Z(1,gve,2,1,"div",1),Z(2,mve,2,1,"div",1),Z(3,yve,4,5,"div",1),R()),2&n){const e=ee();A(1),V("ngIf",e.isBiggestWins),A(1),V("ngIf",e.isHugeWins),A(1),V("ngIf",e.isCoefficients&&e.topRounds.length>0)}}function Eve(n,t){1&n&&(x(0,"div"),ve(1,"app-loader"),R())}let Sf=class{constructor(t,e,i,r){this.connector=t,this.cd=e,this.mainService=i,this.app=r,this.options={type:ds.HugeWins,period:c_.Day},this.loaded=!1,this.winsTab=u0,this.topRounds=[],this._topWins=[],this.responses={[ds.HugeWins]:pn.GetHugeWinsInfo,[ds.BiggestWins]:pn.GetTopWinsInfo,[ds.Multipliers]:pn.GetTopRoundsInfo},this.requests={[ds.HugeWins]:Fi.GetHugeWinsInfo,[ds.BiggestWins]:Fi.GetTopWinsInfo,[ds.Multipliers]:Fi.GetTopRoundsInfo}}ngOnChanges(t){t.options.currentValue!==t.options.previousValue&&null!==this.options&&this.loadData()}loadData(){var t;null===(t=this.statistics$)||void 0===t||t.unsubscribe(),this.loaded=!1,this.topRounds=[],this._topWins=[],this.connector.request(this.requests[this.options.type],{period:this.options.period}),this.statistics$=this.connector.response(this.responses[this.options.type]).pipe(gt(this)).subscribe(e=>{"topRounds"in e&&(this.topRounds=e.topRounds),"topWins"in e&&(this._topWins=e.topWins),this.loaded=!0,this.cd.detectChanges()}),this.cd.detectChanges()}get topWins(){const t=this.app.config.minBet,e=this.app.config.maxBet;return this._topWins.filter(i=>i.bet>=t&&i.bet<=e)}get isHugeWins(){return this.options.type===ds.HugeWins}get isBiggestWins(){return this.options.type===ds.BiggestWins}get isCoefficients(){return this.options.type===ds.Multipliers}};function Sve(n,t){1&n&&(x(0,"div",9)(1,"span",10),H(2,"game.bets-widget.date"),R(),x(3,"div",11)(4,"span",12),H(5,"X"),R(),x(6,"span",13),H(7,"game.bets-widget.fairness"),R()()())}Sf.\u0275fac=function(t){return new(t||Sf)(X(ki),X(Tn),X(Ui),X(en))},Sf.\u0275cmp=et({type:Sf,selectors:[["app-top-list"]],inputs:{options:"options"},features:[Uo],decls:3,vars:2,consts:[[1,"top-items-list","position-relative","scroll-y"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"tab","bet"],[3,"bet"]],template:function(t,e){1&t&&(x(0,"div",0),Z(1,bve,4,3,"div",1),Z(2,Eve,2,0,"div",1),R()),2&t&&(A(1),V("ngIf",e.loaded),A(1),V("ngIf",!e.loaded))},directives:[Ht,vi,hve,dve,fve,Ou],pipes:[q3],styles:[".top-items-list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden}.top-items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{border-radius:17px;background-image:linear-gradient(82deg,#000000,#0f1214);border:solid 1px #000000;font-size:12px;display:flex;color:#fff;justify-content:space-between;padding:9px 9px 4px 3px;align-items:center;margin-bottom:3px}.top-items-list[_ngcontent-%COMP%]   .item.huge-wins-wrapper[_ngcontent-%COMP%]{height:70px}.top-items-list[_ngcontent-%COMP%]   .item.biggest-wins-wrapper[_ngcontent-%COMP%]{height:80px}"],changeDetection:0}),Sf=We([oi()],Sf);let Cve=(()=>{class n{constructor(){this.activeTab=ds.HugeWins,this.topTab=ds,this.activePeriodTab=c0.Day,this.periodTabs=Object.values(c0),this.topListOptions={type:ds.HugeWins,period:c_.Day}}onShowTab(e){this.activeTab!==e&&(this.activeTab=e,this.updateListOptions())}onChangePeriodTab(e){this.activePeriodTab=e,this.updateListOptions()}isActiveTab(e){return this.activeTab===e}updateListOptions(){this.topListOptions={type:this.activeTab,period:c_[this.activePeriodTab]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-top-tab"]],decls:12,vars:11,consts:[[1,"top-tab"],[1,"opt-wrapper","d-flex","justify-content-center","align-items-center","mb-1"],[1,"opt"],["translate","",1,"first-type",3,"click"],["translate","",1,"second-type",3,"click"],["translate","",1,"third-type",3,"click"],[1,"navigation-switcher-wrapper","mb-1",3,"ngModel","tabs","translatePath","toggle"],["class","legend d-flex align-items-center mx-2",4,"ngIf"],[1,"top-list-wrapper",3,"options"],[1,"legend","d-flex","align-items-center","mx-2"],["translate","",1,"date","ml-2"],[1,"d-flex","w-100","justify-content-between","align-items-center"],[1,"multiplier"],["translate","",1,"fairness"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),Ce("click",function(){return i.onShowTab(i.topTab.HugeWins)}),H(4," game.bets-widget.top.huge wins "),R(),x(5,"button",4),Ce("click",function(){return i.onShowTab(i.topTab.BiggestWins)}),H(6," game.bets-widget.top.biggest wins "),R(),x(7,"button",5),Ce("click",function(){return i.onShowTab(i.topTab.Multipliers)}),H(8," game.bets-widget.top.coefficients "),R()()(),x(9,"app-navigation-switcher",6),Ce("toggle",function(o){return i.onChangePeriodTab(o)}),R(),Z(10,Sve,8,0,"div",7),ve(11,"app-top-list",8),R()),2&e&&(A(3),vt("active",i.isActiveTab(i.topTab.HugeWins)),A(2),vt("active",i.isActiveTab(i.topTab.BiggestWins)),A(2),vt("active",i.isActiveTab(i.topTab.Multipliers)),A(2),V("ngModel",i.activePeriodTab)("tabs",i.periodTabs)("translatePath","game.bets-widget.top"),A(1),V("ngIf",i.isActiveTab(i.topTab.Multipliers)),A(1),V("options",i.topListOptions))},directives:[Gn,BA,ks,cs,Ht,Sf],styles:[".top-tab[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]{min-height:24px;max-height:24px;line-height:1}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]{display:flex;justify-content:center}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100%;border-radius:20px;background:none;color:#fff;font-size:13px;border:1px solid transparent;padding:4px 2px}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border-color:#e50539}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.active):hover{color:#d0021b;cursor:pointer}.top-tab[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-size:13px;text-align:center;margin-bottom:2px;margin-top:4px}.top-tab[_ngcontent-%COMP%]   .child-tab[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;font-size:12px}.navigation-switcher-wrapper[_ngcontent-%COMP%]{min-height:24px;max-height:24px;display:flex;justify-content:center;font-size:12px}.top-list-wrapper[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;min-height:0}.legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:45%;max-width:45%}"],changeDetection:0}),n})();function Tve(n,t){if(1&n){const e=dt();x(0,"div",7),Ce("click",function(){it(e);const r=ee(2);return r.modal.open(r.modalKey.otherSettings)}),x(1,"u"),H(2),ce(3,"translate"),R()()}2&n&&(A(2),me(" ",pe(3,1,"shared.Settings")," "))}function Mve(n,t){if(1&n&&(ft(0),x(1,"div",4),ve(2,"div",5),x(3,"span"),H(4),ce(5,"translate"),R(),Z(6,Tve,4,3,"div",6),R(),pt()),2&n){const e=ee();A(4),me(" ",pe(5,2,"shared.This_functionality_is_disabled"),""),A(2),V("ngIf",e.isTabsHiddenByUser)}}function Ove(n,t){1&n&&ve(0,"app-all-bets-tab",9)}function wve(n,t){1&n&&ve(0,"app-my-bets-tab",9)}function Pve(n,t){1&n&&ve(0,"app-top-tab",9)}function xve(n,t){if(1&n&&(ft(0),Z(1,Ove,1,0,"app-all-bets-tab",8),Z(2,wve,1,0,"app-my-bets-tab",8),Z(3,Pve,1,0,"app-top-tab",8),pt()),2&n){const e=ee();A(1),V("ngIf",e.isActive(e.betsWidgetTab.AllBets)),A(1),V("ngIf",e.isActive(e.betsWidgetTab.MyBets)),A(1),V("ngIf",e.isActive(e.betsWidgetTab.Top))}}let Ave=(()=>{class n{constructor(e,i,r,o){this.app=e,this.user=i,this.modal=r,this.cd=o,this.activeTab=a_.MyBets,this.betsWidgetTab=a_,this.betsWidgetTabs=Object.values(a_),this.isTabsHiddenByUser=this.user.settings.getOther(Kl.HideLiveBetsAndStatistics),this.modalKey=si}ngOnInit(){this.user.settings.other$.pipe(Lt(e=>e.name===Kl.HideLiveBetsAndStatistics)).subscribe(e=>{this.isTabsHiddenByUser=e.value,this.cd.detectChanges()})}isActive(e){return this.activeTab===e}get isTabsHidden(){return this.app.config.isLiveBetsAndStatisticsHidden||this.isTabsHiddenByUser}}return n.\u0275fac=function(e){return new(e||n)(X(en),X(il),X(Is),X(Tn))},n.\u0275cmp=et({type:n,selectors:[["app-bets-widget"]],decls:5,vars:5,consts:[[1,"bets-block"],[1,"bets-block-nav","d-flex","justify-content-center","align-items-center","my-1"],[1,"navigation-switcher-wrapper",3,"ngModel","translatePath","tabs","ngModelChange"],[4,"ngIf"],[1,"disabled-block","d-flex","flex-column","align-items-center","justify-content-start"],[1,"disabled-block-image"],["style","cursor: pointer",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],["class","data-list",4,"ngIf"],[1,"data-list"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1)(2,"app-navigation-switcher",2),Ce("ngModelChange",function(o){return i.activeTab=o}),R()(),Z(3,Mve,7,4,"ng-container",3),Z(4,xve,4,3,"ng-container",3),R()),2&e&&(A(2),V("ngModel",i.activeTab)("translatePath","game.bets-widget")("tabs",i.betsWidgetTabs),A(1),V("ngIf",i.isTabsHidden),A(1),V("ngIf",!i.isTabsHidden))},directives:[BA,ks,cs,Ht,bf,Ef,Cve],pipes:[dn],styles:["[_nghost-%COMP%]{display:flex;position:absolute;width:100%;height:250px;min-height:0;bottom:0;}.bets-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background:#1b1c4d;border-radius:10px 10px 0 0}.bets-block[_ngcontent-%COMP%]   .bets-block-nav[_ngcontent-%COMP%]{min-height:24px;max-height:24px;font-size:12px}.bets-block[_ngcontent-%COMP%]   .bets-block-nav[_ngcontent-%COMP%]   .navigation-switcher-wrapper[_ngcontent-%COMP%]{height:24px}.bets-block[_ngcontent-%COMP%]   .data-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:0}.disabled-block[_ngcontent-%COMP%]{color:#96979b;font-size:14px}.disabled-block[_ngcontent-%COMP%]   u[_ngcontent-%COMP%]{color:#fff}.disabled-block[_ngcontent-%COMP%]   .disabled-block-image[_ngcontent-%COMP%]{width:44px;height:37px;margin:75px 0 10px;background:url(not-visible.e9f2fd657844e251.svg) no-repeat center center/contain}"],changeDetection:0}),n})(),Rve=(()=>{class n{constructor(e){this.modal=e}onWhatIsPf(){this.modal.open(si.whatIsPf)}}return n.\u0275fac=function(e){return new(e||n)(X(Is))},n.\u0275cmp=et({type:n,selectors:[["app-spribe-footer"]],decls:13,vars:1,consts:[[1,"footer","px-2"],[1,"provably-fair-block"],["translate",""],[1,"provably-fair","disabled-on-game-focused",3,"click"],[1,"i-fair"],[1,"text-provably-fair"],[1,"logo-block","disabled-on-game-focused"],["target","_blank",3,"href"],[1,"i-logo"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1)(2,"span",2),H(3,"shared.ui-components.spribe-footer.this game is"),R(),x(4,"div",3),Ce("click",function(){return i.onWhatIsPf()}),ve(5,"div",4),x(6,"span",5),H(7,"Provably Fair"),R()()(),x(8,"div",6)(9,"span"),H(10,"Powered by"),R(),x(11,"a",7),ve(12,"div",8),R()()()),2&e&&(A(11),V("href","https://spribe.co",fn))},directives:[Gn],styles:["[_nghost-%COMP%]{width:100%;display:flex;min-height:25px;max-height:25px;opacity:0.5;z-index:5;}.footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;background-color:#330;border:1px solid #2a2b2e;z-index:5;font-size:11px;opacity:0.5;color:#5e6269}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]{display:flex;height:16px}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]{display:flex;cursor:pointer;align-items:center}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]   .i-fair[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;width:14px;height:16px;margin:0 4px 0 6px}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]   .text-provably-fair[_ngcontent-%COMP%]{font-size:12px;color:#bbbfc5;line-height:1px}.footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]{display:flex;height:14px}.footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]   .i-logo[_ngcontent-%COMP%]{background:url(logo.eba496b407593c0e.svg) no-repeat center center/contain;width:34px;height:14px;margin-left:4px;cursor:pointer}"],changeDetection:0}),n})();var zo=(()=>(function(n){n.Init="/user/queue/init",n.Join="/user/queue/join",n.TakePrize="/user/queue/take.prize",n.Leaderboard="/user/queue/leaderboard",n.MissionStatus="/user/queue/mission.status",n.PlayerStatus="/user/queue/player.status",n.Prize="/user/queue/prize",n.Progress="/user/queue/progress",n.JoinCount="/user/queue/join.count"}(zo||(zo={})),zo))(),fs=(()=>(function(n){n.None="none",n.Connected="connected",n.Reconnecting="reconnecting",n.Disconnected="disconnected"}(fs||(fs={})),fs))(),Iu=(()=>(function(n){n.Init="/app/init",n.Join="/app/join",n.TakePrize="/app/take.prize",n.Leaderboard="/app/leaderboard"}(Iu||(Iu={})),Iu))(),zE=(()=>(function(n){n.KickUser="Kick user"}(zE||(zE={})),zE))();let Bc=(()=>{class n{constructor(e){this.message=e,this.responseSubject=new Lx(1),this.stateSubject=new Xn({state:fs.None}),this.state$=this.stateSubject.asObservable(),this.maxReconnectCount=5,this.reconnectCount=0}response(e){return this.responseSubject.pipe(Lt(i=>i.response===e),ye(i=>i.data))}request(e,i){console.log("%c[ Stomp REQUEST] "+e,"background: #222; color: #caa817",i),this.stompClient.publish({destination:e,body:JSON.stringify(i)})}init(e,i,r){var o;(null===(o=this.stompClient)||void 0===o?void 0:o.active)&&this.stompClient.deactivate(),console.log({host:e}),this.stompClient=new F6({heartbeatIncoming:2e4,heartbeatOutgoing:1e4,reconnectDelay:1e3}),this.stompClient.webSocketFactory=()=>new I6(`${e}/?${new URLSearchParams(i).toString()}`,null,{transports:"websocket"}),this.stompClient.beforeConnect=()=>{if(this.reconnectCount>=this.maxReconnectCount)return this.stompClient.deactivate(),void this.stateSubject.next({state:fs.Disconnected});this.incrementReconnectCount()},this.stompClient.activate(),this.stompClient.onConnect=()=>{console.log("[ Stomp ] onConnect"),this.resetReconnectCount(),this.stateSubject.next({state:fs.Connected}),r.forEach(s=>{this.stompClient.subscribe(s,a=>{const l=JSON.parse(a.body);console.log("%c[ Stomp RESPONSE ] "+s,"background: #222; color: #bada55",l),this.responseSubject.next({response:s,data:l}),this.handleError(l)},{id:s})}),this.request(Iu.Init,null)},this.stompClient.onWebSocketClose=s=>(console.log("[ Stomp ] onWebSocketClose",s),this.stateSubject.getValue().state===fs.None||s.reason===zE.KickUser?(this.stompClient.deactivate(),void this.stateSubject.next({state:fs.Disconnected})):void this.stateSubject.next({state:fs.Reconnecting})),this.stompClient.onDisconnect=s=>{console.log("[ Stomp ] onDisconnect",s),this.stateSubject.next({state:fs.Disconnected})}}handleError(e){"object"==typeof e&&"code"in e&&200!==e.code&&this.message.add({value:e.errorMessage,context:Xi.danger})}incrementReconnectCount(){this.reconnectCount++}resetReconnectCount(){this.reconnectCount=0}}return n.\u0275fac=function(e){return new(e||n)(Fe(Aa))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();var na=(()=>(function(n){n.Announced="ANNOUNCED",n.Active="ACTIVE",n.Finished="FINISHED",n.Paused="PAUSED"}(na||(na={})),na))(),Ls=(()=>(function(n){n.None="NONE",n.Joined="JOINED",n.Won="WON",n.Rewarded="REWARDED",n.Kicked="KICKED",n.OwningOperatorKicked="OWNING_OPERATOR_KICKED"}(Ls||(Ls={})),Ls))(),h0=(()=>(function(n){n.X_RACE="X_RACE",n.X_MISSION="X_MISSION"}(h0||(h0={})),h0))(),Cf=(()=>(function(n){n.FreeBet="freeBet",n.Special="special"}(Cf||(Cf={})),Cf))(),To=(()=>(function(n){n.X_RACE="xRace",n.X_MISSION="xMission"}(To||(To={})),To))();const Ive={[h0.X_RACE]:To.X_RACE,[h0.X_MISSION]:To.X_MISSION};let ol=(()=>{class n{constructor(e,i){this.stomp=e,this.app=i,this.updateSubject=new Xn({joinCount:0,type:To.X_RACE}),this.update$=this.updateSubject.asObservable(),this._config={name:"",startDate:0,endDate:0,minBet:0,currency:"",currencyPrecision:0,isCurrencyNameHidden:!1,isUseMaskedUsername:!1,isNetworkChallenge:!1,leaderBoardSize:100},this.stomp.response(zo.Init).subscribe(r=>{var o;this.updateSubject.next({joinCount:r.joinCount,type:Ive[r.type]}),this._config={name:r.config.name,startDate:r.config.startDate,endDate:r.config.endDate,minBet:r.config.minBet,isCurrencyNameHidden:this.app.config.isCurrencyNameHidden,currency:this.app.config.isCurrencyNameHidden?"":this.app.config.currency,currencyPrecision:this.app.config.betPrecision,isUseMaskedUsername:this.app.config.isUseMaskedUsername,isNetworkChallenge:null!==(o=r.config.isNetworkChallenge)&&void 0!==o&&o,leaderBoardSize:r.config.leaderBoardSize||100}}),this.stomp.response(zo.JoinCount).subscribe(r=>{this.updateSubject.next(Object.assign(Object.assign({},this.updateSubject.getValue()),{joinCount:r}))})}get update(){return this.updateSubject.getValue()}get config(){return this._config}}return n.\u0275fac=function(e){return new(e||n)(Fe(Bc),Fe(en))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const sl="game.engagement-tool.challenge_details_messages.",u_=`${To.X_RACE}.`,h_=`${To.X_MISSION}.`,Dve={[To.X_RACE]:{waitForStart:sl+u_+"You have successfully joined the xRace. Wait for the start.",missionPaused:sl+u_+"Oops! The xRace is paused. It will be resumed shortly",prizeClaimed:sl+u_+"You've already claimed your prize! See you at the next challenge",missionOverSuccess:sl+u_+"xRace is over! See you at the next challenge",missionOverFail:sl+u_+"xRace is over! Try harder next time!",minBetError:sl+u_+"Your bet doesn't meet the minimum bet requirement for the xRace! Progress is on pause."},[To.X_MISSION]:{waitForStart:sl+h_+"You have successfully joined the xMission. Wait for the start.",missionPaused:sl+h_+"Oops! The xMission is paused. It will be resumed shortly",prizeClaimed:sl+h_+"You've already claimed your prize! See you at the next challenge",missionOverSuccess:sl+h_+"xMission is over! See you at the next challenge",missionOverFail:sl+h_+"xMission is over! Try harder next time!",minBetError:sl+h_+"Your bet doesn't meet the minimum bet requirement for the xMission! Progress is on pause."}};function Du(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function q6(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}var jA,yr,Lc,zA,$A,nj,oj,m_,nS,Ra={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},d_={duration:.5,overwrite:!1,delay:0},al=1e8,ji=1e-8,HA=2*Math.PI,Nve=HA/4,kve=0,K6=Math.sqrt,Fve=Math.cos,Bve=Math.sin,No=function(t){return"string"==typeof t},ko=function(t){return"function"==typeof t},Nu=function(t){return"number"==typeof t},VA=function(t){return void 0===t},ku=function(t){return"object"==typeof t},ia=function(t){return!1!==t},J6=function(){return"undefined"!=typeof window},$E=function(t){return ko(t)||No(t)},Q6="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},ps=Array.isArray,WA=/(?:-?\.?\d|\.)+/gi,Z6=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,f_=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,YA=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ej=/[+-]=-?[.\d]+/,tj=/[^,'"\[\]\s]+/gi,Lve=/[\d.+\-=]+(?:e[-+]\d*)*/i,Ia={},XE={},ij=function(t){return(XE=p_(t,Ia))&&Gc},XA=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},qE=function(t,e){return!e&&console.warn(t)},rj=function(t,e){return t&&(Ia[t]=e)&&XE&&(XE[t]=e)||Ia},d0=function(){return 0},qA={},Nh=[],KA={},Da={},JA={},sj=30,KE=[],QA="",ZA=function(t){var i,r,e=t[0];if(ku(e)||ko(e)||(t=[t]),!(i=(e._gsap||{}).harness)){for(r=KE.length;r--&&!KE[r].targetTest(e););i=KE[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new Dj(t[r],i)))||t.splice(r,1);return t},Tf=function(t){return t._gsap||ZA(ul(t))[0]._gsap},aj=function(t,e,i){return(i=t[e])&&ko(i)?t[e]():VA(i)&&t.getAttribute&&t.getAttribute(e)||i},ra=function(t,e){return(t=t.split(",")).forEach(e)||t},ao=function(t){return Math.round(1e5*t)/1e5||0},gs=function(t){return Math.round(1e7*t)/1e7||0},Uve=function(t,e){for(var i=e.length,r=0;t.indexOf(e[r])<0&&++r<i;);return r<i},JE=function(){var i,r,t=Nh.length,e=Nh.slice(0);for(KA={},Nh.length=0,i=0;i<t;i++)(r=e[i])&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},lj=function(t,e,i,r){Nh.length&&JE(),t.render(e,i,r),Nh.length&&JE()},cj=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(tj).length<2?e:No(t)?t.trim():t},uj=function(t){return t},ll=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},p_=function(t,e){for(var i in e)t[i]=e[i];return t},hj=function n(t,e){for(var i in e)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(t[i]=ku(e[i])?n(t[i]||(t[i]={}),e[i]):e[i]);return t},QE=function(t,e){var r,i={};for(r in t)r in e||(i[r]=t[r]);return i},f0=function(t){var e=t.parent||yr,i=t.keyframes?function(t){return function(e,i){for(var r in i)r in e||"duration"===r&&t||"ease"===r||(e[r]=i[r])}}(ps(t.keyframes)):ll;if(ia(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},ZE=function(t,e,i,r){void 0===i&&(i="_first"),void 0===r&&(r="_last");var o=e._prev,s=e._next;o?o._next=s:t[i]===e&&(t[i]=s),s?s._prev=o:t[r]===e&&(t[r]=o),e._next=e._prev=e.parent=null},Fu=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},Mf=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},Vve=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Wve=function n(t){return!t||t._ts&&n(t.parent)},dj=function(t){return t._repeat?g_(t._tTime,t=t.duration()+t._rDelay)*t:0},g_=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},eS=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},tS=function(t){return t._end=gs(t._start+(t._tDur/Math.abs(t._ts||t._rts||ji)||0))},fj=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=gs(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),tS(t),i._dirty||Mf(i,t)),t},pj=function(t,e){var i;if((e._time||e._initted&&!e._dur)&&(i=eS(t.rawTime(),e),(!e._dur||g0(0,e.totalDuration(),i)-e._tTime>ji)&&e.render(i,!0)),Mf(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-ji}},Uc=function(t,e,i,r){return e.parent&&Fu(e),e._start=gs((Nu(i)?i:i||t!==yr?cl(t,i,e):t._time)+e._delay),e._end=gs(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,i,r,o){void 0===i&&(i="_first"),void 0===r&&(r="_last");var a,s=t[r];if(o)for(a=e[o];s&&s[o]>a;)s=s._prev;s?(e._next=s._next,s._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[r]=e,e._prev=s,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),eR(e)||(t._recent=e),r||pj(t,e),t},gj=function(t,e){return(Ia.ScrollTrigger||XA("scrollTrigger",e))&&Ia.ScrollTrigger.create(e,t)},_j=function(t,e,i,r){return f0e(t,e),t._initted?!i&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&oj!==dl.frame?(Nh.push(t),t._lazy=[e,r],1):void 0:1},Yve=function n(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||n(e))},eR=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},__=function(t,e,i,r){var o=t._repeat,s=gs(e)||0,a=t._tTime/t._tDur;return a&&!r&&(t._time*=s/t._dur),t._dur=s,t._tDur=o?o<0?1e10:gs(s*(o+1)+t._rDelay*o):s,a>0&&!r?fj(t,t._tTime=t._tDur*a):t.parent&&tS(t),i||Mf(t.parent,t),t},mj=function(t){return t instanceof sa?Mf(t):__(t,t._dur)},Xve={_start:0,endTime:d0,totalDuration:d0},cl=function n(t,e,i){var a,l,c,r=t.labels,o=t._recent||Xve,s=t.duration()>=al?o.endTime(!1):t._dur;return No(e)&&(isNaN(e)||e in r)?(l=e.charAt(0),c="%"===e.substr(-1),a=e.indexOf("="),"<"===l||">"===l?(a>=0&&(e=e.replace(/=/,"")),("<"===l?o._start:o.endTime(o._repeat>=0))+(parseFloat(e.substr(1))||0)*(c?(a<0?o:i).totalDuration()/100:1)):a<0?(e in r||(r[e]=s),r[e]):(l=parseFloat(e.charAt(a-1)+e.substr(a+1)),c&&i&&(l=l/100*(ps(i)?i[0]:i).totalDuration()),a>1?n(t,e.substr(0,a-1),i)+l:s+l)):null==e?s:+e},p0=function(t,e,i){var a,l,r=Nu(e[1]),o=(r?2:1)+(t<2?0:1),s=e[o];if(r&&(s.duration=e[1]),s.parent=i,t){for(a=s,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=ia(l.vars.inherit)&&l.parent;s.immediateRender=ia(a.immediateRender),t<2?s.runBackwards=1:s.startAt=e[o-1]}return new Fo(e[0],s,e[o+1])},kh=function(t,e){return t||0===t?e(t):e},g0=function(t,e,i){return i<t?t:i>e?e:i},oa=function(t,e){return No(t)&&(e=Lve.exec(t))?t.substr(e.index+e[0].length):""},tR=[].slice,vj=function(t,e){return t&&ku(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&ku(t[0]))&&!t.nodeType&&t!==Lc},ul=function(t,e,i){return!No(t)||i||!zA&&v_()?ps(t)?function(t,e,i){return void 0===i&&(i=[]),t.forEach(function(r){var o;return No(r)&&!e||vj(r,1)?(o=i).push.apply(o,ul(r)):i.push(r)})||i}(t,i):vj(t)?tR.call(t,0):t?[t]:[]:tR.call((e||$A).querySelectorAll(t),0)},yj=function(t){return t.sort(function(){return.5-Math.random()})},bj=function(t){if(ko(t))return t;var e=ku(t)?t:{each:t},i=Of(e.ease),r=e.from||0,o=parseFloat(e.base)||0,s={},a=r>0&&r<1,l=isNaN(r)||a,c=e.axis,u=r,y=r;return No(r)?u=y={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(u=r[0],y=r[1]),function(O,P,I){var Y,q,ie,se,re,ne,Ee,Ne,Se,D=(I||e).length,B=s[D];if(!B){if(!(Se="auto"===e.grid?0:(e.grid||[1,al])[1])){for(Ee=-al;Ee<(Ee=I[Se++].getBoundingClientRect().left)&&Se<D;);Se--}for(B=s[D]=[],Y=l?Math.min(Se,D)*u-.5:r%Se,q=Se===al?0:l?D*y/Se-.5:r/Se|0,Ee=0,Ne=al,ne=0;ne<D;ne++)ie=ne%Se-Y,se=q-(ne/Se|0),B[ne]=re=c?Math.abs("y"===c?se:ie):K6(ie*ie+se*se),re>Ee&&(Ee=re),re<Ne&&(Ne=re);"random"===r&&yj(B),B.max=Ee-Ne,B.min=Ne,B.v=D=(parseFloat(e.amount)||parseFloat(e.each)*(Se>D?D-1:c?"y"===c?D/Se:Se:Math.max(Se,D/Se))||0)*("edges"===r?-1:1),B.b=D<0?o-D:o,B.u=oa(e.amount||e.each)||0,i=i&&D<0?Aj(i):i}return D=(B[O]-B.min)/B.max||0,gs(B.b+(i?i(D):D)*B.v)+B.u}},nR=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var r=Math.round(parseFloat(i)/t)*t*e;return(r-r%1)/e+(Nu(i)?0:oa(i))}},Ej=function(t,e){var r,o,i=ps(t);return!i&&ku(t)&&(r=i=t.radius||al,t.values?(t=ul(t.values),(o=!Nu(t[0]))&&(r*=r)):t=nR(t.increment)),kh(e,i?ko(t)?function(s){return o=t(s),Math.abs(o-s)<=r?o:s}:function(s){for(var O,P,a=parseFloat(o?s.x:s),l=parseFloat(o?s.y:0),c=al,u=0,y=t.length;y--;)(O=o?(O=t[y].x-a)*O+(P=t[y].y-l)*P:Math.abs(t[y]-a))<c&&(c=O,u=y);return u=!r||c<=r?t[u]:s,o||u===s||Nu(s)?u:u+oa(s)}:nR(t))},Sj=function(t,e,i,r){return kh(ps(t)?!e:!0===i?!!(i=0):!r,function(){return ps(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*r)/r})},Cj=function(t,e,i){return kh(i,function(r){return t[~~e(r)]})},_0=function(t){for(var r,o,s,a,e=0,i="";~(r=t.indexOf("random(",e));)s=t.indexOf(")",r),a="["===t.charAt(r+7),o=t.substr(r+7,s-r-7).match(a?tj:WA),i+=t.substr(e,r-e)+Sj(a?o:+o[0],a?0:+o[1],+o[2]||1e-5),e=s+1;return i+t.substr(e,t.length-e)},Tj=function(t,e,i,r,o){var s=e-t,a=r-i;return kh(o,function(l){return i+((l-t)/s*a||0)})},Mj=function(t,e,i){var s,a,l,r=t.labels,o=al;for(s in r)(a=r[s]-e)<0==!!i&&a&&o>(a=Math.abs(a))&&(l=s,o=a);return l},hl=function(t,e,i){var s,a,r=t.vars,o=r[e];if(o)return s=r[e+"Params"],a=r.callbackScope||t,i&&Nh.length&&JE(),s?o.apply(a,s):o.call(a)},m0=function(t){return Fu(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&hl(t,"onInterrupt"),t},r0e=function(t){var e=(t=!t.name&&t.default||t).name,i=ko(t),r=e&&!i&&t.init?function(){this._props=[]}:t,o={init:d0,render:cR,add:sR,kill:b0e,modifier:y0e,rawVars:0},s={targetTest:0,get:0,getSetter:lR,aliases:{},register:0};if(v_(),t!==r){if(Da[e])return;ll(r,ll(QE(t,o),s)),p_(r.prototype,p_(o,QE(t,s))),Da[r.prop=e]=r,t.targetTest&&(KE.push(r),qA[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}rj(e,r),t.register&&t.register(Gc,r,aa)},Hi=255,v0={aqua:[0,Hi,Hi],lime:[0,Hi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Hi],navy:[0,0,128],white:[Hi,Hi,Hi],olive:[128,128,0],yellow:[Hi,Hi,0],orange:[Hi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Hi,0,0],pink:[Hi,192,203],cyan:[0,Hi,Hi],transparent:[Hi,Hi,Hi,0]},iR=function(t,e,i){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*Hi+.5|0},Oj=function(t,e,i){var o,s,a,l,c,u,y,O,P,I,r=t?Nu(t)?[t>>16,t>>8&Hi,t&Hi]:0:v0.black;if(!r){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),v0[t])r=v0[t];else if("#"===t.charAt(0)){if(t.length<6&&(o=t.charAt(1),s=t.charAt(2),a=t.charAt(3),t="#"+o+o+s+s+a+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(r=parseInt(t.substr(1,6),16))>>16,r>>8&Hi,r&Hi,parseInt(t.substr(7),16)/255];r=[(t=parseInt(t.substr(1),16))>>16,t>>8&Hi,t&Hi]}else if("hsl"===t.substr(0,3))if(r=I=t.match(WA),e){if(~t.indexOf("="))return r=t.match(Z6),i&&r.length<4&&(r[3]=1),r}else l=+r[0]%360/360,c=+r[1]/100,o=2*(u=+r[2]/100)-(s=u<=.5?u*(c+1):u+c-u*c),r.length>3&&(r[3]*=1),r[0]=iR(l+1/3,o,s),r[1]=iR(l,o,s),r[2]=iR(l-1/3,o,s);else r=t.match(WA)||v0.transparent;r=r.map(Number)}return e&&!I&&(o=r[0]/Hi,s=r[1]/Hi,a=r[2]/Hi,u=((y=Math.max(o,s,a))+(O=Math.min(o,s,a)))/2,y===O?l=c=0:(P=y-O,c=u>.5?P/(2-y-O):P/(y+O),l=y===o?(s-a)/P+(s<a?6:0):y===s?(a-o)/P+2:(o-s)/P+4,l*=60),r[0]=~~(l+.5),r[1]=~~(100*c+.5),r[2]=~~(100*u+.5)),i&&r.length<4&&(r[3]=1),r},wj=function(t){var e=[],i=[],r=-1;return t.split(Fh).forEach(function(o){var s=o.match(f_)||[];e.push.apply(e,s),i.push(r+=s.length+1)}),e.c=i,e},Pj=function(t,e,i){var l,c,u,y,r="",o=(t+r).match(Fh),s=e?"hsla(":"rgba(",a=0;if(!o)return t;if(o=o.map(function(O){return(O=Oj(O,e,1))&&s+(e?O[0]+","+O[1]+"%,"+O[2]+"%,"+O[3]:O.join(","))+")"}),i&&(u=wj(t),(l=i.c).join(r)!==u.c.join(r)))for(y=(c=t.replace(Fh,"1").split(f_)).length-1;a<y;a++)r+=c[a]+(~l.indexOf(a)?o.shift()||s+"0,0,0,0)":(u.length?u:o.length?o:i).shift());if(!c)for(y=(c=t.split(Fh)).length-1;a<y;a++)r+=c[a]+o[a];return r+c[y]},Fh=function(){var t,n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in v0)n+="|"+t+"\\b";return new RegExp(n+")","gi")}(),o0e=/hsl[a]?\(/,xj=function(t){var i,e=t.join(" ");if(Fh.lastIndex=0,Fh.test(e))return i=o0e.test(e),t[1]=Pj(t[1],i),t[0]=Pj(t[0],i,wj(t[1])),!0},dl=function(){var l,c,u,y,O,P,n=Date.now,t=500,e=33,i=n(),r=i,o=1e3/240,s=o,a=[],I=function D(B){var ie,se,re,ne,Y=n()-r,q=!0===B;if(Y>t&&(i+=Y-e),((ie=(re=(r+=Y)-i)-s)>0||q)&&(ne=++y.frame,O=re-1e3*y.time,y.time=re/=1e3,s+=ie+(ie>=o?4:o-ie),se=1),q||(l=c(D)),se)for(P=0;P<a.length;P++)a[P](re,O,ne,B)};return y={time:0,frame:0,tick:function(){I(!0)},deltaRatio:function(B){return O/(1e3/(B||60))},wake:function(){nj&&(!zA&&J6()&&(Lc=zA=window,$A=Lc.document||{},Ia.gsap=Gc,(Lc.gsapVersions||(Lc.gsapVersions=[])).push(Gc.version),ij(XE||Lc.GreenSockGlobals||!Lc.gsap&&Lc||{}),u=Lc.requestAnimationFrame),l&&y.sleep(),c=u||function(B){return setTimeout(B,s-1e3*y.time+1|0)},nS=1,I(2))},sleep:function(){(u?Lc.cancelAnimationFrame:clearTimeout)(l),nS=0,c=d0},lagSmoothing:function(B,Y){t=B||1/ji,e=Math.min(Y,t,0)},fps:function(B){s=1e3*y.time+(o=1e3/(B||240))},add:function(B){a.indexOf(B)<0&&a.push(B),v_()},remove:function(B,Y){~(Y=a.indexOf(B))&&a.splice(Y,1)&&P>=Y&&P--},_listeners:a}}(),v_=function(){return!nS&&dl.wake()},li={},s0e=/^[\d.\-M][\d.\-,\s]/,a0e=/["']/g,l0e=function(t){for(var a,l,c,e={},i=t.substr(1,t.length-3).split(":"),r=i[0],o=1,s=i.length;o<s;o++)l=i[o],a=o!==s-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),e[r]=isNaN(c)?c.replace(a0e,"").trim():+c,r=l.substr(a+1).trim();return e},Aj=function(t){return function(e){return 1-t(1-e)}},Rj=function n(t,e){for(var r,i=t._first;i;)i instanceof sa?n(i,e):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==e&&(i.timeline?n(i.timeline,e):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=e)),i=i._next},Of=function(t,e){return t&&(ko(t)?t:li[t]||function(t){var e=(t+"").split("("),i=li[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[l0e(e[1])]:function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),r=t.indexOf("(",e);return t.substring(e,~r&&r<i?t.indexOf(")",i+1):i)}(t).split(",").map(cj)):li._CE&&s0e.test(t)?li._CE("",t):i}(t))||e},wf=function(t,e,i,r){void 0===i&&(i=function(l){return 1-e(1-l)}),void 0===r&&(r=function(l){return l<.5?e(2*l)/2:1-e(2*(1-l))/2});var s,o={easeIn:e,easeOut:i,easeInOut:r};return ra(t,function(a){for(var l in li[a]=Ia[a]=o,li[s=a.toLowerCase()]=i,o)li[s+("easeIn"===l?".in":"easeOut"===l?".out":".inOut")]=li[a+"."+l]=o[l]}),o},Ij=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},rR=function n(t,e,i){var r=e>=1?e:1,o=(i||(t?.3:.45))/(e<1?e:1),s=o/HA*(Math.asin(1/r)||0),a=function(u){return 1===u?1:r*Math.pow(2,-10*u)*Bve((u-s)*o)+1},l="out"===t?a:"in"===t?function(c){return 1-a(1-c)}:Ij(a);return o=HA/o,l.config=function(c,u){return n(t,c,u)},l},oR=function n(t,e){void 0===e&&(e=1.70158);var i=function(s){return s?--s*s*((e+1)*s+e)+1:0},r="out"===t?i:"in"===t?function(o){return 1-i(1-o)}:Ij(i);return r.config=function(o){return n(t,o)},r};ra("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,t){var e=t<5?t+1:t;wf(n+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(2*i,e)/2:1-Math.pow(2*(1-i),e)/2})}),li.Linear.easeNone=li.none=li.Linear.easeIn,wf("Elastic",rR("in"),rR("out"),rR()),function(n,t){var o=function(a){return a<.36363636363636365?n*a*a:a<.7272727272727273?n*Math.pow(a-1.5/t,2)+.75:a<.9090909090909092?n*(a-=2.25/t)*a+.9375:n*Math.pow(a-2.625/t,2)+.984375};wf("Bounce",function(s){return 1-o(1-s)},o)}(7.5625,2.75),wf("Expo",function(n){return n?Math.pow(2,10*(n-1)):0}),wf("Circ",function(n){return-(K6(1-n*n)-1)}),wf("Sine",function(n){return 1===n?1:1-Fve(n*Nve)}),wf("Back",oR("in"),oR("out"),oR()),li.SteppedEase=li.steps=Ia.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,r=t+(e?0:1),o=e?1:0;return function(a){return((r*g0(0,.99999999,a)|0)+o)*i}}},d_.ease=li["quad.out"],ra("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return QA+=n+","+n+"Params,"});var Dj=function(t,e){this.id=kve++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:aj,this.set=e?e.getSetter:lR},y0=function(){function n(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,__(this,+e.duration,1,1),this.data=e.data,nS||dl.wake()}var t=n.prototype;return t.delay=function(i){return i||0===i?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,__(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,r){if(v_(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(fj(this,i),!o._dp||o.parent||pj(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Uc(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===ji||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),lj(this,i,r)),this},t.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+dj(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},t.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?i:1-i)+dj(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(i,r){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*o,r):this._repeat?g_(this._tTime,o)+1:1},t.timeScale=function(i){if(!arguments.length)return this._rts===-ji?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?eS(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-ji?0:this._rts,Vve(this.totalTime(g0(-this._delay,this._tDur,r),!0)),tS(this),this},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(v_(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==ji&&(this._tTime-=ji)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Uc(r,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+(ia(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?eS(r.rawTime(i),this):this._tTime:this._tTime},t.globalTime=function(i){for(var r=this,o=arguments.length?i:r.rawTime();r;)o=r._start+o/(r._ts||1),r=r._dp;return o},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,mj(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,mj(this),r?this.time(r):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,r){return this.totalTime(cl(this,i),ia(r))},t.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,ia(r))},t.play=function(i,r){return null!=i&&this.seek(i,r),this.reversed(!1).paused(!1)},t.reverse=function(i,r){return null!=i&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},t.pause=function(i,r){return null!=i&&this.seek(i,r),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-ji:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-ji,this},t.isActive=function(){var o,i=this.parent||this._dp,r=this._start;return!(i&&!(this._ts&&this._initted&&i.isActive()&&(o=i.rawTime(!0))>=r&&o<this.endTime(!0)-ji))},t.eventCallback=function(i,r,o){var s=this.vars;return arguments.length>1?(r?(s[i]=r,o&&(s[i+"Params"]=o),"onUpdate"===i&&(this._onUpdate=r)):delete s[i],this):s[i]},t.then=function(i){var r=this;return new Promise(function(o){var s=ko(i)?i:uj,a=function(){var c=r.then;r.then=null,ko(s)&&(s=s(r))&&(s.then||s===r)&&(r.then=c),o(s),r.then=c};r._initted&&1===r.totalProgress()&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},t.kill=function(){m0(this)},n}();ll(y0.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ji,_prom:0,_ps:!1,_rts:1});var sa=function(n){function t(i,r){var o;return void 0===i&&(i={}),(o=n.call(this,i)||this).labels={},o.smoothChildTiming=!!i.smoothChildTiming,o.autoRemoveChildren=!!i.autoRemoveChildren,o._sort=ia(i.sortChildren),yr&&Uc(i.parent||yr,Du(o),r),i.reversed&&o.reverse(),i.paused&&o.paused(!0),i.scrollTrigger&&gj(Du(o),i.scrollTrigger),o}q6(t,n);var e=t.prototype;return e.to=function(r,o,s){return p0(0,arguments,this),this},e.from=function(r,o,s){return p0(1,arguments,this),this},e.fromTo=function(r,o,s,a){return p0(2,arguments,this),this},e.set=function(r,o,s){return o.duration=0,o.parent=this,f0(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new Fo(r,o,cl(this,s),1),this},e.call=function(r,o,s){return Uc(this,Fo.delayedCall(0,r,o),s)},e.staggerTo=function(r,o,s,a,l,c,u){return s.duration=o,s.stagger=s.stagger||a,s.onComplete=c,s.onCompleteParams=u,s.parent=this,new Fo(r,s,cl(this,l)),this},e.staggerFrom=function(r,o,s,a,l,c,u){return s.runBackwards=1,f0(s).immediateRender=ia(s.immediateRender),this.staggerTo(r,o,s,a,l,c,u)},e.staggerFromTo=function(r,o,s,a,l,c,u,y){return a.startAt=s,f0(a).immediateRender=ia(a.immediateRender),this.staggerTo(r,o,a,l,c,u,y)},e.render=function(r,o,s){var O,P,I,D,B,Y,q,ie,se,re,ne,Ee,a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=r<=0?0:gs(r),y=this._zTime<0!=r<0&&(this._initted||!c);if(this!==yr&&u>l&&r>=0&&(u=l),u!==this._tTime||s||y){if(a!==this._time&&c&&(u+=this._time-a,r+=this._time-a),O=u,se=this._start,Y=!(ie=this._ts),y&&(c||(a=this._zTime),(r||!o)&&(this._zTime=r)),this._repeat){if(ne=this._yoyo,B=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*B+r,o,s);if(O=gs(u%B),u===l?(D=this._repeat,O=c):((D=~~(u/B))&&D===u/B&&(O=c,D--),O>c&&(O=c)),re=g_(this._tTime,B),!a&&this._tTime&&re!==D&&(re=D),ne&&1&D&&(O=c-O,Ee=1),D!==re&&!this._lock){var Ne=ne&&1&re,Se=Ne===(ne&&1&D);if(D<re&&(Ne=!Ne),a=Ne?0:c,this._lock=1,this.render(a||(Ee?0:gs(D*B)),o,!c)._lock=0,this._tTime=u,!o&&this.parent&&hl(this,"onRepeat"),this.vars.repeatRefresh&&!Ee&&(this.invalidate()._lock=1),a&&a!==this._time||Y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,Se&&(this._lock=2,this.render(a=Ne?c:-1e-4,!0),this.vars.repeatRefresh&&!Ee&&this.invalidate()),this._lock=0,!this._ts&&!Y)return this;Rj(this,Ee)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(q=function(t,e,i){var r;if(i>e)for(r=t._first;r&&r._start<=i;){if("isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=i;){if("isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,gs(a),gs(O)),q&&(u-=O-(O=q._start))),this._tTime=u,this._time=O,this._act=!ie,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&O&&!o&&(hl(this,"onStart"),this._tTime!==u))return this;if(O>=a&&r>=0)for(P=this._first;P;){if(I=P._next,(P._act||O>=P._start)&&P._ts&&q!==P){if(P.parent!==this)return this.render(r,o,s);if(P.render(P._ts>0?(O-P._start)*P._ts:(P._dirty?P.totalDuration():P._tDur)+(O-P._start)*P._ts,o,s),O!==this._time||!this._ts&&!Y){q=0,I&&(u+=this._zTime=-ji);break}}P=I}else{P=this._last;for(var De=r<0?r:O;P;){if(I=P._prev,(P._act||De<=P._end)&&P._ts&&q!==P){if(P.parent!==this)return this.render(r,o,s);if(P.render(P._ts>0?(De-P._start)*P._ts:(P._dirty?P.totalDuration():P._tDur)+(De-P._start)*P._ts,o,s),O!==this._time||!this._ts&&!Y){q=0,I&&(u+=this._zTime=De?-ji:ji);break}}P=I}}if(q&&!o&&(this.pause(),q.render(O>=a?0:-ji)._zTime=O>=a?1:-1,this._ts))return this._start=se,tS(this),this.render(r,o,s);this._onUpdate&&!o&&hl(this,"onUpdate",!0),(u===l&&l>=this.totalDuration()||!u&&a)&&(se===this._start||Math.abs(ie)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&Fu(this,1),!o&&(!(r<0)||a)&&(u||a||!l)&&(hl(this,u===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(r,o){var s=this;if(Nu(o)||(o=cl(this,o,r)),!(r instanceof y0)){if(ps(r))return r.forEach(function(a){return s.add(a,o)}),this;if(No(r))return this.addLabel(r,o);if(!ko(r))return this;r=Fo.delayedCall(0,r)}return this!==r?Uc(this,r,o):this},e.getChildren=function(r,o,s,a){void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===s&&(s=!0),void 0===a&&(a=-al);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Fo?o&&l.push(c):(s&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,o,s)))),c=c._next;return l},e.getById=function(r){for(var o=this.getChildren(1,1,1),s=o.length;s--;)if(o[s].vars.id===r)return o[s]},e.remove=function(r){return No(r)?this.removeLabel(r):ko(r)?this.killTweensOf(r):(ZE(this,r),r===this._recent&&(this._recent=this._last),Mf(this))},e.totalTime=function(r,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=gs(dl.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,o),this._forcing=0,this):this._tTime},e.addLabel=function(r,o){return this.labels[r]=cl(this,o),this},e.removeLabel=function(r){return delete this.labels[r],this},e.addPause=function(r,o,s){var a=Fo.delayedCall(0,o||d0,s);return a.data="isPause",this._hasPause=1,Uc(this,a,cl(this,r))},e.removePause=function(r){var o=this._first;for(r=cl(this,r);o;)o._start===r&&"isPause"===o.data&&Fu(o),o=o._next},e.killTweensOf=function(r,o,s){for(var a=this.getTweensOf(r,s),l=a.length;l--;)Bh!==a[l]&&a[l].kill(r,o);return this},e.getTweensOf=function(r,o){for(var u,s=[],a=ul(r),l=this._first,c=Nu(o);l;)l instanceof Fo?Uve(l._targets,a)&&(c?(!Bh||l._initted&&l._ts)&&l.globalTime(0)<=o&&l.globalTime(l.totalDuration())>o:!o||l.isActive())&&s.push(l):(u=l.getTweensOf(a,o)).length&&s.push.apply(s,u),l=l._next;return s},e.tweenTo=function(r,o){o=o||{};var P,s=this,a=cl(s,r),c=o.startAt,u=o.onStart,y=o.onStartParams,O=o.immediateRender,I=Fo.to(s,ll({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:o.duration||Math.abs((a-(c&&"time"in c?c.time:s._time))/s.timeScale())||ji,onStart:function(){if(s.pause(),!P){var B=o.duration||Math.abs((a-(c&&"time"in c?c.time:s._time))/s.timeScale());I._dur!==B&&__(I,B,0,1).render(I._time,!0,!0),P=1}u&&u.apply(I,y||[])}},o));return O?I.render(0):I},e.tweenFromTo=function(r,o,s){return this.tweenTo(o,ll({startAt:{time:cl(this,r)}},s))},e.recent=function(){return this._recent},e.nextLabel=function(r){return void 0===r&&(r=this._time),Mj(this,cl(this,r))},e.previousLabel=function(r){return void 0===r&&(r=this._time),Mj(this,cl(this,r),1)},e.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+ji)},e.shiftChildren=function(r,o,s){void 0===s&&(s=0);for(var c,a=this._first,l=this.labels;a;)a._start>=s&&(a._start+=r,a._end+=r),a=a._next;if(o)for(c in l)l[c]>=s&&(l[c]+=r);return Mf(this)},e.invalidate=function(){var r=this._first;for(this._lock=0;r;)r.invalidate(),r=r._next;return n.prototype.invalidate.call(this)},e.clear=function(r){void 0===r&&(r=!0);for(var s,o=this._first;o;)s=o._next,this.remove(o),o=s;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Mf(this)},e.totalDuration=function(r){var c,u,y,o=0,s=this,a=s._last,l=al;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-r:r));if(s._dirty){for(y=s.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),(u=a._start)>l&&s._sort&&a._ts&&!s._lock?(s._lock=1,Uc(s,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(o-=u,(!y&&!s._dp||y&&y.smoothChildTiming)&&(s._start+=u/s._ts,s._time-=u,s._tTime-=u),s.shiftChildren(-u,!1,-1/0),l=0),a._end>o&&a._ts&&(o=a._end),a=c;__(s,s===yr&&s._time>o?s._time:o,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(r){if(yr._ts&&(lj(yr,eS(r,yr)),oj=dl.frame),dl.frame>=sj){sj+=Ra.autoSleep||120;var o=yr._first;if((!o||!o._ts)&&Ra.autoSleep&&dl._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||dl.sleep()}}},t}(y0);ll(sa.prototype,{_lock:0,_hasPause:0,_forcing:0});var Bh,h0e=function(t,e,i,r,o,s,a){var y,O,P,I,D,B,Y,q,l=new aa(this._pt,t,e,0,1,Uj,null,o),c=0,u=0;for(l.b=i,l.e=r,i+="",(Y=~(r+="").indexOf("random("))&&(r=_0(r)),s&&(s(q=[i,r],t,e),i=q[0],r=q[1]),O=i.match(YA)||[];y=YA.exec(r);)I=y[0],D=r.substring(c,y.index),P?P=(P+1)%5:"rgba("===D.substr(-5)&&(P=1),I!==O[u++]&&(B=parseFloat(O[u-1])||0,l._pt={_next:l._pt,p:D||1===u?D:",",s:B,c:"="===I.charAt(1)?parseFloat(I.substr(2))*("-"===I.charAt(0)?-1:1):parseFloat(I)-B,m:P&&P<4?Math.round:0},c=YA.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(ej.test(r)||Y)&&(l.e=0),this._pt=l,l},sR=function(t,e,i,r,o,s,a,l,c){ko(r)&&(r=r(o||0,t,s));var P,u=t[e],y="get"!==i?i:ko(u)?c?t[e.indexOf("set")||!ko(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():u,O=ko(u)?c?_0e:Bj:aR;if(No(r)&&(~r.indexOf("random(")&&(r=_0(r)),"="===r.charAt(1)&&((P=parseFloat(y)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(oa(y)||0))||0===P)&&(r=P)),y!==r)return isNaN(y*r)||""===r?(!u&&!(e in t)&&XA(e,r),h0e.call(this,t,e,y,r,O,l||Ra.stringFilter,c)):(P=new aa(this._pt,t,e,+y||0,r-(y||0),"boolean"==typeof u?v0e:Lj,0,O),c&&(P.fp=c),a&&P.modifier(a,this,t),this._pt=P)},Nj=function(t,e,i,r,o,s){var a,l,c,u;if(Da[t]&&!1!==(a=new Da[t]).init(o,a.rawVars?e[t]:function(t,e,i,r,o){if(ko(t)&&(t=b0(t,o,e,i,r)),!ku(t)||t.style&&t.nodeType||ps(t)||Q6(t))return No(t)?b0(t,o,e,i,r):t;var a,s={};for(a in t)s[a]=b0(t[a],o,e,i,r);return s}(e[t],r,o,s,i),i,r,s)&&(i._pt=l=new aa(i._pt,o,t,0,1,a.render,a,0,a.priority),i!==m_))for(c=i._ptLookup[i._targets.indexOf(o)],u=a._props.length;u--;)c[a._props[u]]=l;return a},f0e=function n(t,e){var ne,Ee,Ne,Se,De,Xe,$e,Qe,Mt,Ye,Ae,Ke,mt,i=t.vars,r=i.ease,o=i.startAt,s=i.immediateRender,a=i.lazy,l=i.onUpdate,c=i.onUpdateParams,u=i.callbackScope,y=i.runBackwards,O=i.yoyoEase,P=i.keyframes,I=i.autoRevert,D=t._dur,B=t._startAt,Y=t._targets,q=t.parent,ie=q&&"nested"===q.data?q.parent._targets:Y,se="auto"===t._overwrite&&!jA,re=t.timeline;if(re&&(!P||!r)&&(r="none"),t._ease=Of(r,d_.ease),t._yEase=O?Aj(Of(!0===O?r:O,d_.ease)):0,O&&t._yoyo&&!t._repeat&&(O=t._yEase,t._yEase=t._ease,t._ease=O),t._from=!re&&!!i.runBackwards,!re||P&&!i.stagger){if(Ke=(Qe=Y[0]?Tf(Y[0]).harness:0)&&i[Qe.prop],ne=QE(i,qA),B&&Fu(B.render(-1,!0)),o)if(Fu(t._startAt=Fo.set(Y,ll({data:"isStart",overwrite:!1,parent:q,immediateRender:!0,lazy:ia(a),startAt:null,delay:0,onUpdate:l,onUpdateParams:c,callbackScope:u,stagger:0},o))),e<0&&!s&&!I&&t._startAt.render(-1,!0),s){if(e>0&&!I&&(t._startAt=0),D&&e<=0)return void(e&&(t._zTime=e))}else!1===I&&(t._startAt=0);else if(y&&D)if(B)!I&&(t._startAt=0);else if(e&&(s=!1),Ne=ll({overwrite:!1,data:"isFromStart",lazy:s&&ia(a),immediateRender:s,stagger:0,parent:q},ne),Ke&&(Ne[Qe.prop]=Ke),Fu(t._startAt=Fo.set(Y,Ne)),e<0&&t._startAt.render(-1,!0),t._zTime=e,s){if(!e)return}else n(t._startAt,ji);for(t._pt=0,a=D&&ia(a)||a&&!D,Ee=0;Ee<Y.length;Ee++){if($e=(De=Y[Ee])._gsap||ZA(Y)[Ee]._gsap,t._ptLookup[Ee]=Ye={},KA[$e.id]&&Nh.length&&JE(),Ae=ie===Y?Ee:ie.indexOf(De),Qe&&!1!==(Mt=new Qe).init(De,Ke||ne,t,Ae,ie)&&(t._pt=Se=new aa(t._pt,De,Mt.name,0,1,Mt.render,Mt,0,Mt.priority),Mt._props.forEach(function(At){Ye[At]=Se}),Mt.priority&&(Xe=1)),!Qe||Ke)for(Ne in ne)Da[Ne]&&(Mt=Nj(Ne,ne,t,Ae,De,ie))?Mt.priority&&(Xe=1):Ye[Ne]=Se=sR.call(t,De,Ne,"get",ne[Ne],Ae,ie,0,i.stringFilter);t._op&&t._op[Ee]&&t.kill(De,t._op[Ee]),se&&t._pt&&(Bh=t,yr.killTweensOf(De,Ye,t.globalTime(e)),mt=!t.parent,Bh=0),t._pt&&a&&(KA[$e.id]=1)}Xe&&Gj(t),t._onInit&&t._onInit(t)}t._onUpdate=l,t._initted=(!t._op||t._pt)&&!mt,P&&e<=0&&re.render(al,!0,!0)},g0e=function(t,e,i,r){var s,a,o=e.ease||r||"power1.inOut";if(ps(e))a=i[t]||(i[t]=[]),e.forEach(function(l,c){return a.push({t:c/(e.length-1)*100,v:l,e:o})});else for(s in e)a=i[s]||(i[s]=[]),"ease"===s||a.push({t:parseFloat(t),v:e[s],e:o})},b0=function(t,e,i,r,o){return ko(t)?t.call(e,i,r,o):No(t)&&~t.indexOf("random(")?_0(t):t},kj=QA+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Fj={};ra(kj+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return Fj[n]=1});var Fo=function(n){function t(i,r,o,s){var a;"number"==typeof r&&(o.duration=r,r=o,o=null);var se,re,ne,Ee,Ne,Se,De,Xe,l=(a=n.call(this,s?r:f0(r))||this).vars,c=l.duration,u=l.delay,y=l.immediateRender,O=l.stagger,P=l.overwrite,I=l.keyframes,D=l.defaults,B=l.scrollTrigger,Y=l.yoyoEase,q=r.parent||yr,ie=(ps(i)||Q6(i)?Nu(i[0]):"length"in r)?[i]:ul(i);if(a._targets=ie.length?ZA(ie):qE("GSAP target "+i+" not found. https://greensock.com",!Ra.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=P,I||O||$E(c)||$E(u)){if(r=a.vars,(se=a.timeline=new sa({data:"nested",defaults:D||{}})).kill(),se.parent=se._dp=Du(a),se._start=0,O||$E(c)||$E(u)){if(Ee=ie.length,De=O&&bj(O),ku(O))for(Ne in O)~kj.indexOf(Ne)&&(Xe||(Xe={}),Xe[Ne]=O[Ne]);for(re=0;re<Ee;re++)(ne=QE(r,Fj)).stagger=0,Y&&(ne.yoyoEase=Y),Xe&&p_(ne,Xe),Se=ie[re],ne.duration=+b0(c,Du(a),re,Se,ie),ne.delay=(+b0(u,Du(a),re,Se,ie)||0)-a._delay,!O&&1===Ee&&ne.delay&&(a._delay=u=ne.delay,a._start+=u,ne.delay=0),se.to(Se,ne,De?De(re,Se,ie):0),se._ease=li.none;se.duration()?c=u=0:a.timeline=0}else if(I){f0(ll(se.vars.defaults,{ease:"none"})),se._ease=Of(I.ease||r.ease||"none");var Qe,Mt,Ye,$e=0;if(ps(I))I.forEach(function(Ae){return se.to(ie,Ae,">")});else{for(Ne in ne={},I)"ease"===Ne||"easeEach"===Ne||g0e(Ne,I[Ne],ne,I.easeEach);for(Ne in ne)for(Qe=ne[Ne].sort(function(Ae,Ke){return Ae.t-Ke.t}),$e=0,re=0;re<Qe.length;re++)(Ye={ease:(Mt=Qe[re]).e,duration:(Mt.t-(re?Qe[re-1].t:0))/100*c})[Ne]=Mt.v,se.to(ie,Ye,$e),$e+=Ye.duration;se.duration()<c&&se.to({},{duration:c-se.duration()})}}c||a.duration(c=se.duration())}else a.timeline=0;return!0===P&&!jA&&(Bh=Du(a),yr.killTweensOf(ie),Bh=0),Uc(q,Du(a),o),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(y||!c&&!I&&a._start===gs(q._time)&&ia(y)&&Wve(Du(a))&&"nested"!==q.data)&&(a._tTime=-ji,a.render(Math.max(0,-u))),B&&gj(Du(a),B),a}q6(t,n);var e=t.prototype;return e.render=function(r,o,s){var y,O,P,I,D,B,Y,q,ie,a=this._time,l=this._tDur,c=this._dur,u=r>l-ji&&r>=0?l:r<ji?0:r;if(c){if(u!==this._tTime||!r||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=r<0){if(y=u,q=this.timeline,this._repeat){if(I=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*I+r,o,s);if(y=gs(u%I),u===l?(P=this._repeat,y=c):((P=~~(u/I))&&P===u/I&&(y=c,P--),y>c&&(y=c)),(B=this._yoyo&&1&P)&&(ie=this._yEase,y=c-y),D=g_(this._tTime,I),y===a&&!s&&this._initted)return this;P!==D&&(q&&this._yEase&&Rj(q,B),this.vars.repeatRefresh&&!B&&!this._lock&&(this._lock=s=1,this.render(gs(I*P),!0).invalidate()._lock=0))}if(!this._initted){if(_j(this,r<0?r:y,s,o))return this._tTime=0,this;if(c!==this._dur)return this.render(r,o,s)}if(this._tTime=u,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=Y=(ie||this._ease)(y/c),this._from&&(this.ratio=Y=1-Y),y&&!a&&!o&&(hl(this,"onStart"),this._tTime!==u))return this;for(O=this._pt;O;)O.r(Y,O.d),O=O._next;q&&q.render(r<0?r:!y&&B?-ji:q._dur*q._ease(y/this._dur),o,s)||this._startAt&&(this._zTime=r),this._onUpdate&&!o&&(r<0&&this._startAt&&this._startAt.render(r,!0,s),hl(this,"onUpdate")),this._repeat&&P!==D&&this.vars.onRepeat&&!o&&this.parent&&hl(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(r<0&&this._startAt&&!this._onUpdate&&this._startAt.render(r,!0,!0),(r||!c)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&Fu(this,1),!o&&(!(r<0)||a)&&(u||a)&&(hl(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,i,r){var c,u,y,o=t.ratio,s=e<0||!e&&(!t._start&&Yve(t)&&(t._initted||!eR(t))||(t._ts<0||t._dp._ts<0)&&!eR(t))?0:1,a=t._rDelay,l=0;if(a&&t._repeat&&(l=g0(0,t._tDur,e),u=g_(l,a),t._yoyo&&1&u&&(s=1-s),u!==g_(t._tTime,a)&&(o=1-s,t.vars.repeatRefresh&&t._initted&&t.invalidate())),s!==o||r||t._zTime===ji||!e&&t._zTime){if(!t._initted&&_j(t,e,r,i))return;for(y=t._zTime,t._zTime=e||(i?ji:0),i||(i=e&&!y),t.ratio=s,t._from&&(s=1-s),t._time=0,t._tTime=l,c=t._pt;c;)c.r(s,c.d),c=c._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!i&&hl(t,"onUpdate"),l&&t._repeat&&!i&&t.parent&&hl(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===s&&(s&&Fu(t,1),i||(hl(t,s?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,r,o,s);return this},e.targets=function(){return this._targets},e.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),n.prototype.invalidate.call(this)},e.kill=function(r,o){if(void 0===o&&(o="all"),!(r||o&&"all"!==o))return this._lazy=this._pt=0,this.parent?m0(this):this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(r,o,Bh&&!0!==Bh.vars.overwrite)._first||m0(this),this.parent&&s!==this.timeline.totalDuration()&&__(this,this._dur*this.timeline._tDur/s,0,1),this}var y,O,P,I,D,B,Y,a=this._targets,l=r?ul(r):a,c=this._ptLookup,u=this._pt;if((!o||"all"===o)&&function(t,e){for(var i=t.length,r=i===e.length;r&&i--&&t[i]===e[i];);return i<0}(a,l))return"all"===o&&(this._pt=0),m0(this);for(y=this._op=this._op||[],"all"!==o&&(No(o)&&(D={},ra(o,function(q){return D[q]=1}),o=D),o=function(t,e){var o,s,a,l,i=t[0]?Tf(t[0]).harness:0,r=i&&i.aliases;if(!r)return e;for(s in o=p_({},e),r)if(s in o)for(a=(l=r[s].split(",")).length;a--;)o[l[a]]=o[s];return o}(a,o)),Y=a.length;Y--;)if(~l.indexOf(a[Y]))for(D in O=c[Y],"all"===o?(y[Y]=o,I=O,P={}):(P=y[Y]=y[Y]||{},I=o),I)(B=O&&O[D])&&((!("kill"in B.d)||!0===B.d.kill(D))&&ZE(this,B,"_pt"),delete O[D]),"all"!==P&&(P[D]=1);return this._initted&&!this._pt&&u&&m0(this),this},t.to=function(r,o){return new t(r,o,arguments[2])},t.from=function(r,o){return p0(1,arguments)},t.delayedCall=function(r,o,s,a){return new t(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:o,onReverseComplete:o,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:a})},t.fromTo=function(r,o,s){return p0(2,arguments)},t.set=function(r,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new t(r,o)},t.killTweensOf=function(r,o,s){return yr.killTweensOf(r,o,s)},t}(y0);ll(Fo.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ra("staggerTo,staggerFrom,staggerFromTo",function(n){Fo[n]=function(){var t=new sa,e=tR.call(arguments,0);return e.splice("staggerFromTo"===n?5:4,0,0),t[n].apply(t,e)}});var aR=function(t,e,i){return t[e]=i},Bj=function(t,e,i){return t[e](i)},_0e=function(t,e,i,r){return t[e](r.fp,i)},m0e=function(t,e,i){return t.setAttribute(e,i)},lR=function(t,e){return ko(t[e])?Bj:VA(t[e])&&t.setAttribute?m0e:aR},Lj=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},v0e=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},Uj=function(t,e){var i=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+r,i=i._next;r+=e.c}e.set(e.t,e.p,r,e)},cR=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},y0e=function(t,e,i,r){for(var s,o=this._pt;o;)s=o._next,o.p===r&&o.modifier(t,e,i),o=s},b0e=function(t){for(var i,r,e=this._pt;e;)r=e._next,e.p===t&&!e.op||e.op===t?ZE(this,e,"_pt"):e.dep||(i=1),e=r;return!i},E0e=function(t,e,i,r){r.mSet(t,e,r.m.call(r.tween,i,r.mt),r)},Gj=function(t){for(var i,r,o,s,e=t._pt;e;){for(i=e._next,r=o;r&&r.pr>e.pr;)r=r._next;(e._prev=r?r._prev:s)?e._prev._next=e:o=e,(e._next=r)?r._prev=e:s=e,e=i}t._pt=o},aa=function(){function n(e,i,r,o,s,a,l,c,u){this.t=i,this.s=o,this.c=s,this.p=r,this.r=a||Lj,this.d=l||this,this.set=c||aR,this.pr=u||0,this._next=e,e&&(e._prev=this)}return n.prototype.modifier=function(i,r,o){this.mSet=this.mSet||this.set,this.set=E0e,this.m=i,this.mt=o,this.tween=r},n}();ra(QA+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return qA[n]=1}),Ia.TweenMax=Ia.TweenLite=Fo,Ia.TimelineLite=Ia.TimelineMax=sa,yr=new sa({sortChildren:!1,defaults:d_,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Ra.stringFilter=xj;var iS={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(r){return r0e(r)})},timeline:function(t){return new sa(t)},getTweensOf:function(t,e){return yr.getTweensOf(t,e)},getProperty:function(t,e,i,r){No(t)&&(t=ul(t)[0]);var o=Tf(t||{}).get,s=i?uj:cj;return"native"===i&&(i=""),t&&(e?s((Da[e]&&Da[e].get||o)(t,e,i,r)):function(a,l,c){return s((Da[a]&&Da[a].get||o)(t,a,l,c))})},quickSetter:function(t,e,i){if((t=ul(t)).length>1){var r=t.map(function(u){return Gc.quickSetter(u,e,i)}),o=r.length;return function(u){for(var y=o;y--;)r[y](u)}}var s=Da[e],a=Tf(t=t[0]||{}),l=a.harness&&(a.harness.aliases||{})[e]||e,c=s?function(u){var y=new s;m_._pt=0,y.init(t,i?u+i:u,m_,0,[t]),y.render(1,y),m_._pt&&cR(1,m_)}:a.set(t,l);return s?c:function(u){return c(t,l,i?u+i:u,a,1)}},isTweening:function(t){return yr.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Of(t.ease,d_.ease)),hj(d_,t||{})},config:function(t){return hj(Ra,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,o=t.defaults,s=t.extendTimeline;(t.plugins||"").split(",").forEach(function(a){return a&&!Da[a]&&!Ia[a]&&qE(e+" effect requires "+a+" plugin.")}),JA[e]=function(a,l,c){return i(ul(a),ll(l||{},o),c)},s&&(sa.prototype[e]=function(a,l,c){return this.add(JA[e](a,ku(l)?l:(c=l)&&{},this),c)})},registerEase:function(t,e){li[t]=Of(e)},parseEase:function(t,e){return arguments.length?Of(t,e):li},getById:function(t){return yr.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var r,o,i=new sa(t);for(i.smoothChildTiming=ia(t.smoothChildTiming),yr.remove(i),i._dp=0,i._time=i._tTime=yr._time,r=yr._first;r;)o=r._next,(e||!(!r._dur&&r instanceof Fo&&r.vars.onComplete===r._targets[0]))&&Uc(i,r,r._start-r._delay),r=o;return Uc(yr,i,0),i},utils:{wrap:function n(t,e,i){var r=e-t;return ps(t)?Cj(t,n(0,t.length),e):kh(i,function(o){return(r+(o-t)%r)%r+t})},wrapYoyo:function n(t,e,i){var r=e-t,o=2*r;return ps(t)?Cj(t,n(0,t.length-1),e):kh(i,function(s){return t+((s=(o+(s-t)%o)%o||0)>r?o-s:s)})},distribute:bj,random:Sj,snap:Ej,normalize:function(t,e,i){return Tj(t,e,0,1,i)},getUnit:oa,clamp:function(t,e,i){return kh(i,function(r){return g0(t,e,r)})},splitColor:Oj,toArray:ul,selector:function(t){return t=ul(t)[0]||qE("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return ul(e,i.querySelectorAll?i:i===t?qE("Invalid scope")||$A.createElement("div"):t)}},mapRange:Tj,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(r){return e.reduce(function(o,s){return s(o)},r)}},unitize:function(t,e){return function(i){return t(parseFloat(i))+(e||oa(i))}},interpolate:function n(t,e,i,r){var o=isNaN(t+e)?0:function(P){return(1-P)*t+P*e};if(!o){var l,c,u,y,O,s=No(t),a={};if(!0===i&&(r=1)&&(i=null),s)t={p:t},e={p:e};else if(ps(t)&&!ps(e)){for(u=[],O=(y=t.length)-2,c=1;c<y;c++)u.push(n(t[c-1],t[c]));y--,o=function(I){I*=y;var D=Math.min(O,~~I);return u[D](I-D)},i=e}else r||(t=p_(ps(t)?[]:{},t));if(!u){for(l in e)sR.call(a,t,l,"get",e[l]);o=function(I){return cR(I,a)||(s?t.p:t)}}}return kh(i,o)},shuffle:yj},install:ij,effects:JA,ticker:dl,updateRoot:sa.updateRoot,plugins:Da,globalTimeline:yr,core:{PropTween:aa,globals:rj,Tween:Fo,Timeline:sa,Animation:y0,getCache:Tf,_removeLinkedListItem:ZE,suppressOverwrites:function(t){return jA=t}}};ra("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return iS[n]=Fo[n]}),dl.add(sa.updateRoot),m_=iS.to({},{duration:0});var S0e=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},uR=function(t,e){return{name:t,rawVars:1,init:function(r,o,s){s._onInit=function(a){var l,c;if(No(o)&&(l={},ra(o,function(u){return l[u]=1}),o=l),e){for(c in l={},o)l[c]=e(o[c]);o=l}!function(t,e){var r,o,s,i=t._targets;for(r in e)for(o=i.length;o--;)(s=t._ptLookup[o][r])&&(s=s.d)&&(s._pt&&(s=S0e(s,r)),s&&s.modifier&&s.modifier(e[r],t,i[o],r))}(a,o)}}}},Gc=iS.registerPlugin({name:"attr",init:function(t,e,i,r,o){var s,a;for(s in e)(a=this.add(t,"setAttribute",(t.getAttribute(s)||0)+"",e[s],r,o,0,0,s))&&(a.op=s),this._props.push(s)}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i])}},uR("roundProps",nR),uR("modifiers"),uR("snap",Ej))||iS;Fo.version=sa.version=Gc.version="3.9.1",nj=1,J6()&&v_();var jj,Lh,y_,hR,Pf,Hj,Xj,Uh={},xf=180/Math.PI,b_=Math.PI/180,E_=Math.atan2,Vj=1e8,Wj=/([A-Z])/g,O0e=/(?:left|right|width|margin|padding|x)/i,w0e=/[\s,\(]\S/,Gh={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Yj=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},P0e=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},x0e=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},A0e=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},zj=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},$j=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},R0e=function(t,e,i){return t.style[e]=i},I0e=function(t,e,i){return t.style.setProperty(e,i)},D0e=function(t,e,i){return t._gsap[e]=i},N0e=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},k0e=function(t,e,i,r,o){var s=t._gsap;s.scaleX=s.scaleY=i,s.renderTransform(o,s)},F0e=function(t,e,i,r,o){var s=t._gsap;s[e]=i,s.renderTransform(o,s)},$o="transform",jh=$o+"Origin",dR=function(t,e){var i=Lh.createElementNS?Lh.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Lh.createElement(t);return i.style?i:Lh.createElement(t)},Bu=function n(t,e,i){var r=getComputedStyle(t);return r[e]||r.getPropertyValue(e.replace(Wj,"-$1").toLowerCase())||r.getPropertyValue(e)||!i&&n(t,S_(e)||e,1)||""},qj="O,Moz,ms,Ms,Webkit".split(","),S_=function(t,e,i){var o=(e||Pf).style,s=5;if(t in o&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);s--&&!(qj[s]+t in o););return s<0?null:(3===s?"ms":s>=0?qj[s]:"")+t},fR=function(){"undefined"!=typeof window&&window.document&&(jj=window,y_=(Lh=jj.document).documentElement,Pf=dR("div")||{style:{}},dR("div"),$o=S_($o),jh=$o+"Origin",Pf.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Xj=!!S_("perspective"),hR=1)},pR=function n(t){var s,e=dR("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(y_.appendChild(e),e.appendChild(this),this.style.display="block",t)try{s=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch(a){}else this._gsapBBox&&(s=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),y_.removeChild(e),this.style.cssText=o,s},Kj=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},Jj=function(t){var e;try{e=t.getBBox()}catch(i){e=pR.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===pR||(e=pR.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+Kj(t,["x","cx","x1"])||0,y:+Kj(t,["y","cy","y1"])||0,width:0,height:0}},Qj=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Jj(t))},E0=function(t,e){if(e){var i=t.style;e in Uh&&e!==jh&&(e=$o),i.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),i.removeProperty(e.replace(Wj,"-$1").toLowerCase())):i.removeAttribute(e)}},Hh=function(t,e,i,r,o,s){var a=new aa(t._pt,e,i,0,1,s?$j:zj);return t._pt=a,a.b=r,a.e=o,t._props.push(i),a},Zj={deg:1,rad:1,turn:1},Vh=function n(t,e,i,r){var I,D,B,Y,o=parseFloat(i)||0,s=(i+"").trim().substr((o+"").length)||"px",a=Pf.style,l=O0e.test(e),c="svg"===t.tagName.toLowerCase(),u=(c?"client":"offset")+(l?"Width":"Height"),y=100,O="px"===r,P="%"===r;return r===s||!o||Zj[r]||Zj[s]?o:("px"!==s&&!O&&(o=n(t,e,i,"px")),Y=t.getCTM&&Qj(t),!P&&"%"!==s||!Uh[e]&&!~e.indexOf("adius")?(a[l?"width":"height"]=y+(O?s:r),D=~e.indexOf("adius")||"em"===r&&t.appendChild&&!c?t:t.parentNode,Y&&(D=(t.ownerSVGElement||{}).parentNode),(!D||D===Lh||!D.appendChild)&&(D=Lh.body),(B=D._gsap)&&P&&B.width&&l&&B.time===dl.time?ao(o/B.width*y):((P||"%"===s)&&(a.position=Bu(t,"position")),D===t&&(a.position="static"),D.appendChild(Pf),I=Pf[u],D.removeChild(Pf),a.position="absolute",l&&P&&((B=Tf(D)).time=dl.time,B.width=D[u]),ao(O?I*o/y:I&&o?y/I*o:0))):(I=Y?t.getBBox()[l?"width":"height"]:t[u],ao(P?o/I*y:o/100*I)))},Af=function(t,e,i,r){var o;return hR||fR(),e in Gh&&"transform"!==e&&~(e=Gh[e]).indexOf(",")&&(e=e.split(",")[0]),Uh[e]&&"transform"!==e?(o=C0(t,r),o="transformOrigin"!==e?o[e]:o.svg?o.origin:oS(Bu(t,jh))+" "+o.zOrigin+"px"):(!(o=t.style[e])||"auto"===o||r||~(o+"").indexOf("calc("))&&(o=rS[e]&&rS[e](t,e,i)||Bu(t,e)||aj(t,e)||("opacity"===e?1:0)),i&&!~(o+"").trim().indexOf(" ")?Vh(t,e,o,i)+i:o},B0e=function(t,e,i,r){if(!i||"none"===i){var o=S_(e,t,1),s=o&&Bu(t,o,1);s&&s!==i?(e=o,i=s):"borderColor"===e&&(i=Bu(t,"borderTopColor"))}var u,y,O,P,I,D,B,Y,q,ie,se,re,a=new aa(this._pt,t.style,e,0,1,Uj),l=0,c=0;if(a.b=i,a.e=r,i+="","auto"==(r+="")&&(t.style[e]=r,r=Bu(t,e)||r,t.style[e]=i),xj(u=[i,r]),r=u[1],O=(i=u[0]).match(f_)||[],(r.match(f_)||[]).length){for(;y=f_.exec(r);)B=y[0],q=r.substring(l,y.index),I?I=(I+1)%5:("rgba("===q.substr(-5)||"hsla("===q.substr(-5))&&(I=1),B!==(D=O[c++]||"")&&(P=parseFloat(D)||0,se=D.substr((P+"").length),(re="="===B.charAt(1)?+(B.charAt(0)+"1"):0)&&(B=B.substr(2)),Y=parseFloat(B),ie=B.substr((Y+"").length),l=f_.lastIndex-ie.length,ie||(ie=ie||Ra.units[e]||se,l===r.length&&(r+=ie,a.e+=ie)),se!==ie&&(P=Vh(t,e,D,ie)||0),a._pt={_next:a._pt,p:q||1===c?q:",",s:P,c:re?re*Y:Y-P,m:I&&I<4||"zIndex"===e?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r="display"===e&&"none"===r?$j:zj;return ej.test(r)&&(a.e=0),this._pt=a,a},e7={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},L0e=function(t){var e=t.split(" "),i=e[0],r=e[1]||"50%";return("top"===i||"bottom"===i||"left"===r||"right"===r)&&(t=i,i=r,r=t),e[0]=e7[i]||i,e[1]=e7[r]||r,e.join(" ")},U0e=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var a,l,c,i=e.t,o=e.u,s=i._gsap;if("all"===o||!0===o)i.style.cssText="",l=1;else for(c=(o=o.split(",")).length;--c>-1;)Uh[a=o[c]]&&(l=1,a="transformOrigin"===a?jh:$o),E0(i,a);l&&(E0(i,$o),s&&(s.svg&&i.removeAttribute("transform"),C0(i,1),s.uncache=1))}},rS={clearProps:function(t,e,i,r,o){if("isFromStart"!==o.data){var s=t._pt=new aa(t._pt,e,i,0,0,U0e);return s.u=r,s.pr=-10,s.tween=o,t._props.push(i),1}}},S0=[1,0,0,1,0,0],t7={},n7=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},i7=function(t){var e=Bu(t,$o);return n7(e)?S0:e.substr(7).match(Z6).map(ao)},gR=function(t,e){var s,a,l,c,i=t._gsap||Tf(t),r=t.style,o=i7(t);return i.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(o=[(l=t.transform.baseVal.consolidate().matrix).a,l.b,l.c,l.d,l.e,l.f]).join(",")?S0:o:(o===S0&&!t.offsetParent&&t!==y_&&!i.svg&&(l=r.display,r.display="block",(!(s=t.parentNode)||!t.offsetParent)&&(c=1,a=t.nextSibling,y_.appendChild(t)),o=i7(t),l?r.display=l:E0(t,"display"),c&&(a?s.insertBefore(t,a):s?s.appendChild(t):y_.removeChild(t))),e&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},_R=function(t,e,i,r,o,s){var ne,Ee,Se,a=t._gsap,l=o||gR(t,!0),c=a.xOrigin||0,u=a.yOrigin||0,y=a.xOffset||0,O=a.yOffset||0,P=l[0],I=l[1],D=l[2],B=l[3],Y=l[4],q=l[5],ie=e.split(" "),se=parseFloat(ie[0])||0,re=parseFloat(ie[1])||0;i?l!==S0&&(Ee=P*B-I*D)&&(Se=se*(-I/Ee)+re*(P/Ee)-(P*q-I*Y)/Ee,se=se*(B/Ee)+re*(-D/Ee)+(D*q-B*Y)/Ee,re=Se):(se=(ne=Jj(t)).x+(~ie[0].indexOf("%")?se/100*ne.width:se),re=ne.y+(~(ie[1]||ie[0]).indexOf("%")?re/100*ne.height:re)),r||!1!==r&&a.smooth?(a.xOffset=y+((Y=se-c)*P+(q=re-u)*D)-Y,a.yOffset=O+(Y*I+q*B)-q):a.xOffset=a.yOffset=0,a.xOrigin=se,a.yOrigin=re,a.smooth=!!r,a.origin=e,a.originIsAbsolute=!!i,t.style[jh]="0px 0px",s&&(Hh(s,a,"xOrigin",c,se),Hh(s,a,"yOrigin",u,re),Hh(s,a,"xOffset",y,a.xOffset),Hh(s,a,"yOffset",O,a.yOffset)),t.setAttribute("data-svg-origin",se+" "+re)},C0=function(t,e){var i=t._gsap||new Dj(t);if("x"in i&&!e&&!i.uncache)return i;var c,u,y,O,P,I,D,B,Y,q,ie,se,re,ne,Ee,Ne,Se,De,Xe,$e,Qe,Mt,Ye,Ae,Ke,mt,At,fe,Ct,kt,Ut,Rt,r=t.style,o=i.scaleX<0,s="px",a="deg",l=Bu(t,jh)||"0";return c=u=y=I=D=B=Y=q=ie=0,O=P=1,i.svg=!(!t.getCTM||!Qj(t)),ne=gR(t,i.svg),i.svg&&(Ae=(!i.uncache||"0px 0px"===l)&&!e&&t.getAttribute("data-svg-origin"),_R(t,Ae||l,!!Ae||i.originIsAbsolute,!1!==i.smooth,ne)),se=i.xOrigin||0,re=i.yOrigin||0,ne!==S0&&(De=ne[0],Xe=ne[1],$e=ne[2],Qe=ne[3],c=Mt=ne[4],u=Ye=ne[5],6===ne.length?(O=Math.sqrt(De*De+Xe*Xe),P=Math.sqrt(Qe*Qe+$e*$e),I=De||Xe?E_(Xe,De)*xf:0,(Y=$e||Qe?E_($e,Qe)*xf+I:0)&&(P*=Math.abs(Math.cos(Y*b_))),i.svg&&(c-=se-(se*De+re*$e),u-=re-(se*Xe+re*Qe))):(kt=ne[7],At=ne[8],fe=ne[9],Ut=ne[11],c=ne[12],u=ne[13],y=ne[14],D=(Ee=E_(Rt=ne[6],Ct=ne[10]))*xf,Ee&&(Ae=Mt*(Ne=Math.cos(-Ee))+At*(Se=Math.sin(-Ee)),Ke=Ye*Ne+fe*Se,mt=Rt*Ne+Ct*Se,At=Mt*-Se+At*Ne,fe=Ye*-Se+fe*Ne,Ct=Rt*-Se+Ct*Ne,Ut=kt*-Se+Ut*Ne,Mt=Ae,Ye=Ke,Rt=mt),B=(Ee=E_(-$e,Ct))*xf,Ee&&(Ne=Math.cos(-Ee),Ut=Qe*(Se=Math.sin(-Ee))+Ut*Ne,De=Ae=De*Ne-At*Se,Xe=Ke=Xe*Ne-fe*Se,$e=mt=$e*Ne-Ct*Se),I=(Ee=E_(Xe,De))*xf,Ee&&(Ae=De*(Ne=Math.cos(Ee))+Xe*(Se=Math.sin(Ee)),Ke=Mt*Ne+Ye*Se,Xe=Xe*Ne-De*Se,Ye=Ye*Ne-Mt*Se,De=Ae,Mt=Ke),D&&Math.abs(D)+Math.abs(I)>359.9&&(D=I=0,B=180-B),O=ao(Math.sqrt(De*De+Xe*Xe+$e*$e)),P=ao(Math.sqrt(Ye*Ye+Rt*Rt)),Ee=E_(Mt,Ye),Y=Math.abs(Ee)>2e-4?Ee*xf:0,ie=Ut?1/(Ut<0?-Ut:Ut):0),i.svg&&(Ae=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!n7(Bu(t,$o)),Ae&&t.setAttribute("transform",Ae))),Math.abs(Y)>90&&Math.abs(Y)<270&&(o?(O*=-1,Y+=I<=0?180:-180,I+=I<=0?180:-180):(P*=-1,Y+=Y<=0?180:-180)),i.x=c-((i.xPercent=c&&(i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-c)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+s,i.y=u-((i.yPercent=u&&(i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-u)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+s,i.z=y+s,i.scaleX=ao(O),i.scaleY=ao(P),i.rotation=ao(I)+a,i.rotationX=ao(D)+a,i.rotationY=ao(B)+a,i.skewX=Y+a,i.skewY=q+a,i.transformPerspective=ie+s,(i.zOrigin=parseFloat(l.split(" ")[2])||0)&&(r[jh]=oS(l)),i.xOffset=i.yOffset=0,i.force3D=Ra.force3D,i.renderTransform=i.svg?j0e:Xj?r7:G0e,i.uncache=0,i},oS=function(t){return(t=t.split(" "))[0]+" "+t[1]},mR=function(t,e,i){var r=oa(e);return ao(parseFloat(e)+parseFloat(Vh(t,"x",i+"px",r)))+r},G0e=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,r7(t,e)},Rf="0deg",T0="0px",If=") ",r7=function(t,e){var i=e||this,r=i.xPercent,o=i.yPercent,s=i.x,a=i.y,l=i.z,c=i.rotation,u=i.rotationY,y=i.rotationX,O=i.skewX,P=i.skewY,I=i.scaleX,D=i.scaleY,B=i.transformPerspective,Y=i.force3D,q=i.target,ie=i.zOrigin,se="",re="auto"===Y&&t&&1!==t||!0===Y;if(ie&&(y!==Rf||u!==Rf)){var Se,ne=parseFloat(u)*b_,Ee=Math.sin(ne),Ne=Math.cos(ne);ne=parseFloat(y)*b_,Se=Math.cos(ne),s=mR(q,s,Ee*Se*-ie),a=mR(q,a,-Math.sin(ne)*-ie),l=mR(q,l,Ne*Se*-ie+ie)}B!==T0&&(se+="perspective("+B+If),(r||o)&&(se+="translate("+r+"%, "+o+"%) "),(re||s!==T0||a!==T0||l!==T0)&&(se+=l!==T0||re?"translate3d("+s+", "+a+", "+l+") ":"translate("+s+", "+a+If),c!==Rf&&(se+="rotate("+c+If),u!==Rf&&(se+="rotateY("+u+If),y!==Rf&&(se+="rotateX("+y+If),(O!==Rf||P!==Rf)&&(se+="skew("+O+", "+P+If),(1!==I||1!==D)&&(se+="scale("+I+", "+D+If),q.style[$o]=se||"translate(0, 0)"},j0e=function(t,e){var re,ne,Ee,Ne,Se,i=e||this,r=i.xPercent,o=i.yPercent,s=i.x,a=i.y,l=i.rotation,c=i.skewX,u=i.skewY,y=i.scaleX,O=i.scaleY,P=i.target,I=i.xOrigin,D=i.yOrigin,B=i.xOffset,Y=i.yOffset,q=i.forceCSS,ie=parseFloat(s),se=parseFloat(a);l=parseFloat(l),c=parseFloat(c),(u=parseFloat(u))&&(c+=u=parseFloat(u),l+=u),l||c?(l*=b_,c*=b_,re=Math.cos(l)*y,ne=Math.sin(l)*y,Ee=Math.sin(l-c)*-O,Ne=Math.cos(l-c)*O,c&&(u*=b_,Se=Math.tan(c-u),Ee*=Se=Math.sqrt(1+Se*Se),Ne*=Se,u&&(Se=Math.tan(u),re*=Se=Math.sqrt(1+Se*Se),ne*=Se)),re=ao(re),ne=ao(ne),Ee=ao(Ee),Ne=ao(Ne)):(re=y,Ne=O,ne=Ee=0),(ie&&!~(s+"").indexOf("px")||se&&!~(a+"").indexOf("px"))&&(ie=Vh(P,"x",s,"px"),se=Vh(P,"y",a,"px")),(I||D||B||Y)&&(ie=ao(ie+I-(I*re+D*Ee)+B),se=ao(se+D-(I*ne+D*Ne)+Y)),(r||o)&&(Se=P.getBBox(),ie=ao(ie+r/100*Se.width),se=ao(se+o/100*Se.height)),P.setAttribute("transform",Se="matrix("+re+","+ne+","+Ee+","+Ne+","+ie+","+se+")"),q&&(P.style[$o]=Se)},H0e=function(t,e,i,r,o,s){var O,P,a=360,l=No(o),c=parseFloat(o)*(l&&~o.indexOf("rad")?xf:1),u=s?c*s:c-r,y=r+u+"deg";return l&&("short"===(O=o.split("_")[1])&&(u%=a)!=u%180&&(u+=u<0?a:-a),"cw"===O&&u<0?u=(u+a*Vj)%a-~~(u/a)*a:"ccw"===O&&u>0&&(u=(u-a*Vj)%a-~~(u/a)*a)),t._pt=P=new aa(t._pt,e,i,r,u,P0e),P.e=y,P.u="deg",t._props.push(i),P},o7=function(t,e){for(var i in e)t[i]=e[i];return t},V0e=function(t,e,i){var a,l,c,u,y,O,I,r=o7({},i._gsap),s=i.style;for(l in r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),s[$o]=e,a=C0(i,1),E0(i,$o),i.setAttribute("transform",c)):(c=getComputedStyle(i)[$o],s[$o]=e,a=C0(i,1),s[$o]=c),Uh)(c=r[l])!==(u=a[l])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(l)<0&&(y=oa(c)!==(I=oa(u))?Vh(i,l,c,I):parseFloat(c),O=parseFloat(u),t._pt=new aa(t._pt,a,l,y,O-y,Yj),t._pt.u=I||0,t._props.push(l));o7(a,r)};ra("padding,margin,Width,Radius",function(n,t){var e="Top",i="Right",r="Bottom",o="Left",s=(t<3?[e,i,r,o]:[e+o,e+i,r+i,r+o]).map(function(a){return t<2?n+a:"border"+a+n});rS[t>1?"border"+n:n]=function(a,l,c,u,y){var O,P;if(arguments.length<4)return O=s.map(function(I){return Af(a,I,c)}),5===(P=O.join(" ")).split(O[0]).length?O[0]:P;O=(u+"").split(" "),P={},s.forEach(function(I,D){return P[I]=O[D]=O[D]||O[(D-1)/2|0]}),a.init(l,P,y)}});var s7={name:"css",register:fR,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,r,o){var c,u,y,O,P,I,D,B,Y,q,ie,se,re,ne,Ee,s=this._props,a=t.style,l=i.vars.startAt;for(D in hR||fR(),e)if("autoRound"!==D&&(u=e[D],!Da[D]||!Nj(D,e,i,r,t,o)))if(I=rS[D],"function"==(P=typeof u)&&(P=typeof(u=u.call(i,r,t,o))),"string"===P&&~u.indexOf("random(")&&(u=_0(u)),I)I(this,t,D,u,i)&&(Ee=1);else if("--"===D.substr(0,2))c=(getComputedStyle(t).getPropertyValue(D)+"").trim(),u+="",Fh.lastIndex=0,Fh.test(c)||(B=oa(c),Y=oa(u)),Y?B!==Y&&(c=Vh(t,D,c,Y)+Y):B&&(u+=B),this.add(a,"setProperty",c,u,r,o,0,0,D),s.push(D);else if("undefined"!==P){if(l&&D in l?(c="function"==typeof l[D]?l[D].call(i,r,t,o):l[D],No(c)&&~c.indexOf("random(")&&(c=_0(c)),oa(c+"")||(c+=Ra.units[D]||oa(Af(t,D))||""),"="===(c+"").charAt(1)&&(c=Af(t,D))):c=Af(t,D),O=parseFloat(c),(q="string"===P&&"="===u.charAt(1)?+(u.charAt(0)+"1"):0)&&(u=u.substr(2)),y=parseFloat(u),D in Gh&&("autoAlpha"===D&&(1===O&&"hidden"===Af(t,"visibility")&&y&&(O=0),Hh(this,a,"visibility",O?"inherit":"hidden",y?"inherit":"hidden",!y)),"scale"!==D&&"transform"!==D&&~(D=Gh[D]).indexOf(",")&&(D=D.split(",")[0])),ie=D in Uh)if(se||((re=t._gsap).renderTransform&&!e.parseTransform||C0(t,e.parseTransform),ne=!1!==e.smoothOrigin&&re.smooth,(se=this._pt=new aa(this._pt,a,$o,0,1,re.renderTransform,re,0,-1)).dep=1),"scale"===D)this._pt=new aa(this._pt,re,"scaleY",re.scaleY,(q?q*y:y-re.scaleY)||0),s.push("scaleY",D),D+="X";else{if("transformOrigin"===D){u=L0e(u),re.svg?_R(t,u,0,ne,0,this):((Y=parseFloat(u.split(" ")[2])||0)!==re.zOrigin&&Hh(this,re,"zOrigin",re.zOrigin,Y),Hh(this,a,D,oS(c),oS(u)));continue}if("svgOrigin"===D){_R(t,u,1,ne,0,this);continue}if(D in t7){H0e(this,re,D,O,u,q);continue}if("smoothOrigin"===D){Hh(this,re,"smooth",re.smooth,u);continue}if("force3D"===D){re[D]=u;continue}if("transform"===D){V0e(this,u,t);continue}}else D in a||(D=S_(D)||D);if(ie||(y||0===y)&&(O||0===O)&&!w0e.test(u)&&D in a)y||(y=0),(B=(c+"").substr((O+"").length))!==(Y=oa(u)||(D in Ra.units?Ra.units[D]:B))&&(O=Vh(t,D,c,Y)),this._pt=new aa(this._pt,ie?re:a,D,O,q?q*y:y-O,ie||"px"!==Y&&"zIndex"!==D||!1===e.autoRound?Yj:A0e),this._pt.u=Y||0,B!==Y&&"%"!==Y&&(this._pt.b=c,this._pt.r=x0e);else if(D in a)B0e.call(this,t,D,c,u);else{if(!(D in t)){XA(D,u);continue}this.add(t,D,c||t[D],u,r,o)}s.push(D)}Ee&&Gj(this)},get:Af,aliases:Gh,getSetter:function(t,e,i){var r=Gh[e];return r&&r.indexOf(",")<0&&(e=r),e in Uh&&e!==jh&&(t._gsap.x||Af(t,"x"))?i&&Hj===i?"scale"===e?N0e:D0e:(Hj=i||{})&&("scale"===e?k0e:F0e):t.style&&!VA(t.style[e])?R0e:~e.indexOf("-")?I0e:lR(t,e)},core:{_removeProperty:E0,_getMatrix:gR}};Gc.utils.checkPrefix=S_,function(n,t,e,i){var r=ra(n+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(o){Uh[o]=1});ra(t,function(o){Ra.units[o]="deg",t7[o]=1}),Gh[r[13]]=n+","+t,ra("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(o){var s=o.split(":");Gh[s[1]]=r[s[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),ra("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Ra.units[n]="px"}),Gc.registerPlugin(s7);var Rn,C_,dr,_s,Lu,Kr,a7,vR,M0,sS,aS,yR,Us,lS,bR,Gs,l7,c7,T_,u7,ER,h7,SR,R_,C7,IR,fl=Gc.registerPlugin(s7)||Gc,O0=1,Df=[],Nf=[],Wh=Date.now,CR=Wh(),tc=0,d7=1,cS=function(t){return t},jc=function(t){return M0(t)[0]||(nc(t)&&!1!==Rn.config().nullTargetWarn?console.warn("Element not found:",t):null)},f7=function(t){return Math.round(1e5*t)/1e5||0},p7=function(){return"undefined"!=typeof window},g7=function(){return Rn||p7()&&(Rn=window.gsap)&&Rn.registerPlugin&&Rn},M_=function(t){return!!~a7.indexOf(t)},kf=function(t,e){return~Df.indexOf(t)&&Df[Df.indexOf(t)+1][e]},uS=function(t,e){var i=e.s,r=e.sc,o=Nf.indexOf(t),s=r===Hs.sc?1:2;return!~o&&(o=Nf.push(t)-1),Nf[o+s]||(Nf[o+s]=kf(t,i)||(M_(t)?r:function(a){return arguments.length?t[i]=a:t[i]}))},_7=function(t){return kf(t,"getBoundingClientRect")||(M_(t)?function(){return PS.width=dr.innerWidth,PS.height=dr.innerHeight,PS}:function(){return Gu(t)})},hS=function(t,e){var i,r=e.d2,o=e.d,s=e.a;return(i="scroll"+r)&&(s=kf(t,i))?s()-_7(t)()[o]:M_(t)?(Kr[i]||Lu[i])-(dr["inner"+r]||Lu["client"+r]||Kr["client"+r]):t[i]-t["offset"+r]},TR=function(t,e){for(var i=0;i<T_.length;i+=3)(!e||~e.indexOf(T_[i+1]))&&t(T_[i],T_[i+1],T_[i+2])},nc=function(t){return"string"==typeof t},Hc=function(t){return"function"==typeof t},w0=function(t){return"number"==typeof t},MR=function(t){return"object"==typeof t},dS=function(t){return Hc(t)&&t()},m7=function(t,e){return function(){var i=dS(t),r=dS(e);return function(){dS(i),dS(r)}}},P0=function(t,e,i){return t&&t.progress(e?0:1)&&i&&t.pause()},OR=function(t,e){if(t.enabled){var i=e(t);i&&i.totalTime&&(t.callbackAnimation=i)}},O_=Math.abs,fS="scrollLeft",pS="scrollTop",wR="left",gS="right",_S="bottom",Yh="width",zh="height",w_="Right",P_="Left",x_="Top",A_="Bottom",lo="padding",pl="margin",Ff="Width",js="px",ic={s:fS,p:wR,p2:P_,os:gS,os2:w_,d:Yh,d2:Ff,a:"x",sc:function(t){return arguments.length?dr.scrollTo(t,Hs.sc()):dr.pageXOffset||_s[fS]||Lu[fS]||Kr[fS]||0}},Hs={s:pS,p:"top",p2:x_,os:_S,os2:A_,d:zh,d2:"Height",a:"y",op:ic,sc:function(t){return arguments.length?dr.scrollTo(ic.sc(),t):dr.pageYOffset||_s[pS]||Lu[pS]||Kr[pS]||0}},Uu=function(t){return dr.getComputedStyle(t)},v7=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},Gu=function(t,e){var i=e&&"matrix(1, 0, 0, 1, 0, 0)"!==Uu(t)[bR]&&Rn.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=t.getBoundingClientRect();return i&&i.progress(0).kill(),r},xR=function(t,e){var i=e.d2;return t["offset"+i]||t["client"+i]||0},y7=function(t){var o,e=[],i=t.labels,r=t.duration();for(o in i)e.push(i[o]/r);return e},AR=function(t){var e=Rn.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort(function(r,o){return r-o});return i?function(r,o,s){var a;if(void 0===s&&(s=.001),!o)return e(r);if(o>0){for(r-=s,a=0;a<i.length;a++)if(i[a]>=r)return i[a];return i[a-1]}for(a=i.length,r+=s;a--;)if(i[a]<=r)return i[a];return i[0]}:function(r,o,s){void 0===s&&(s=.001);var a=e(r);return!o||Math.abs(a-r)<s||a-r<0==o<0?a:e(o<0?r-t:r+t)}},b7=function(t,e,i,r){return i.split(",").forEach(function(o){return t(e,o,r)})},Vs=function(t,e,i){return t.addEventListener(e,i,{passive:!0})},x0=function(t,e,i){return t.removeEventListener(e,i)},E7={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},vS={toggleActions:"play",anticipatePin:0},yS={top:0,left:0,center:.5,bottom:1,right:1},bS=function(t,e){if(nc(t)){var i=t.indexOf("="),r=~i?+(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(r*=e/100),t=t.substr(0,i-1)),t=r+(t in yS?yS[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},ES=function(t,e,i,r,o,s,a,l){var c=o.startColor,u=o.endColor,y=o.fontSize,O=o.indent,P=o.fontWeight,I=_s.createElement("div"),D=M_(i)||"fixed"===kf(i,"pinType"),B=-1!==t.indexOf("scroller"),Y=D?Kr:i,q=-1!==t.indexOf("start"),ie=q?c:u,se="border-color:"+ie+";font-size:"+y+";color:"+ie+";font-weight:"+P+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return se+="position:"+((B||l)&&D?"fixed;":"absolute;"),(B||l||!D)&&(se+=(r===Hs?gS:_S)+":"+(s+parseFloat(O))+"px;"),a&&(se+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),I._isStart=q,I.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),I.style.cssText=se,I.innerText=e||0===e?t+"-"+e:t,Y.children[0]?Y.insertBefore(I,Y.children[0]):Y.appendChild(I),I._offset=I["offset"+r.op.d2],SS(I,0,r,q),I},SS=function(t,e,i,r){var o={display:"block"},s=i[r?"os2":"p2"],a=i[r?"p2":"os2"];t._isFlipped=r,o[i.a+"Percent"]=r?-100:0,o[i.a]=r?"1px":0,o["border"+s+Ff]=1,o["border"+a+Ff]=0,o[i.p]=e+"px",Rn.set(t,o)},Mi=[],RR={},S7=function(){return Wh()-tc>34&&DR()},CS=function(){DR(),tc||I_("scrollStart"),tc=Wh()},A0=function(){return!Us&&!h7&&!_s.fullscreenElement&&vR.restart(!0)},R0={},q0e=[],jr=[],T7=function(t){var o,e=Rn.ticker.frame,i=[],r=0;if(C7!==e||O0){for(TS();r<jr.length;r+=4)(o=dr.matchMedia(jr[r]).matches)!==jr[r+3]&&(jr[r+3]=o,o?i.push(r):TS(1,jr[r])||Hc(jr[r+2])&&jr[r+2]());for(O7(),r=0;r<i.length;r++)R_=jr[o=i[r]],jr[o+2]=jr[o+1](t);R_=0,C_&&D_(0,1),C7=e,I_("matchMedia")}},M7=function n(){return x0(Qi,"scrollEnd",n)||D_(!0)},I_=function(t){return R0[t]&&R0[t].map(function(e){return e()})||q0e},gl=[],O7=function(t){for(var e=0;e<gl.length;e+=5)(!t||gl[e+4]===t)&&(gl[e].style.cssText=gl[e+1],gl[e].getBBox&&gl[e].setAttribute("transform",gl[e+2]||""),gl[e+3].uncache=1)},TS=function(t,e){var i;for(Gs=0;Gs<Mi.length;Gs++)i=Mi[Gs],(!e||i.media===e)&&(t?i.kill(1):i.revert());e&&O7(e),e||I_("revert")},w7=function(){return Nf.forEach(function(t){return"function"==typeof t&&(t.rec=0)})},D_=function(t,e){if(!tc||t){IR=!0;var i=I_("refreshInit");u7&&Qi.sort(),e||TS(),Mi.forEach(function(r){return r.refresh()}),Mi.forEach(function(r){return"max"===r.vars.end&&r.setPositions(r.start,hS(r.scroller,r._dir))}),i.forEach(function(r){return r&&r.render&&r.render(-1)}),w7(),vR.pause(),IR=!1,I_("refresh")}else Vs(Qi,"scrollEnd",M7)},P7=0,MS=1,DR=function(){if(!IR){var t=Mi.length,e=Wh(),i=e-CR>=50,r=t&&Mi[0].scroll();if(MS=P7>r?-1:1,P7=r,i&&(tc&&!lS&&e-tc>200&&(tc=0,I_("scrollEnd")),aS=CR,CR=e),MS<0){for(Gs=t;Gs-- >0;)Mi[Gs]&&Mi[Gs].update(0,i);MS=1}else for(Gs=0;Gs<t;Gs++)Mi[Gs]&&Mi[Gs].update(0,i)}},NR=[wR,"top",_S,gS,pl+A_,pl+w_,pl+x_,pl+P_,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],OS=NR.concat([Yh,zh,"boxSizing","max"+Ff,"maxHeight","position",pl,lo,lo+x_,lo+w_,lo+A_,lo+P_]),kR=function(t,e,i,r){if(t.parentNode!==e){for(var l,o=NR.length,s=e.style,a=t.style;o--;)s[l=NR[o]]=i[l];s.position="absolute"===i.position?"absolute":"relative","inline"===i.display&&(s.display="inline-block"),a[_S]=a[gS]=s.flexBasis="auto",s.overflow="visible",s.boxSizing="border-box",s[Yh]=xR(t,ic)+js,s[zh]=xR(t,Hs)+js,s[lo]=a[pl]=a.top=a[wR]="0",I0(r),a[Yh]=a.maxWidth=i[Yh],a[zh]=a.maxHeight=i[zh],a[lo]=i[lo],t.parentNode.insertBefore(e,t),e.appendChild(t)}},J0e=/([A-Z])/g,I0=function(t){if(t){var o,s,e=t.t.style,i=t.length,r=0;for((t.t._gsap||Rn.core.getCache(t.t)).uncache=1;r<i;r+=2)o=t[r],(s=t[r+1])?e[o]=s:e[o]&&e.removeProperty(o.replace(J0e,"-$1").toLowerCase())}},wS=function(t){for(var e=OS.length,i=t.style,r=[],o=0;o<e;o++)r.push(OS[o],i[OS[o]]);return r.t=t,r},PS={left:0,top:0},x7=function(t,e,i,r,o,s,a,l,c,u,y,O,P){Hc(t)&&(t=t(l)),nc(t)&&"max"===t.substr(0,3)&&(t=O+("="===t.charAt(4)?bS("0"+t.substr(3),i):0));var D,B,Y,I=P?P.time():0;if(P&&P.seek(0),w0(t))a&&SS(a,i,r,!0);else{Hc(e)&&(e=e(l));var ie,se,re,ne,q=t.split(" ");Y=jc(e)||Kr,(!(ie=Gu(Y)||{})||!ie.left&&!ie.top)&&"none"===Uu(Y).display&&(ne=Y.style.display,Y.style.display="block",ie=Gu(Y),ne?Y.style.display=ne:Y.style.removeProperty("display")),se=bS(q[0],ie[r.d]),re=bS(q[1]||"0",i),t=ie[r.p]-c[r.p]-u+se+o-re,a&&SS(a,re,r,i-re<20||a._isStart&&re>20),i-=i-re}if(s){var Ee=t+i,Ne=s._isStart;D="scroll"+r.d2,SS(s,Ee,r,Ne&&Ee>20||!Ne&&(y?Math.max(Kr[D],Lu[D]):s.parentNode[D])<=Ee+1),y&&(c=Gu(a),y&&(s.style[r.op.p]=c[r.op.p]-r.op.m-s._offset+js))}return P&&Y&&(D=Gu(Y),P.seek(O),B=Gu(Y),P._caScrollDist=D[r.p]-B[r.p],t=t/P._caScrollDist*O),P&&P.seek(I),P?t:Math.round(t)},Z0e=/(?:webkit|moz|length|cssText|inset)/i,A7=function(t,e,i,r){if(t.parentNode!==e){var s,a,o=t.style;if(e===Kr){for(s in t._stOrig=o.cssText,a=Uu(t))!+s&&!Z0e.test(s)&&a[s]&&"string"==typeof o[s]&&"0"!==s&&(o[s]=a[s]);o.top=i,o.left=r}else o.cssText=t._stOrig;Rn.core.getCache(t).uncache=1,e.appendChild(t)}},R7=function(t,e){var o,s,i=uS(t,e),r="_scroll"+e.p2,a=function l(c,u,y,O,P){var I=l.tween,D=u.onComplete,B={};return I&&I.kill(),o=Math.round(y),u[r]=c,u.modifiers=B,B[r]=function(Y){return(Y=f7(i()))!==o&&Y!==s&&Math.abs(Y-o)>2&&Math.abs(Y-s)>2?(I.kill(),l.tween=0):Y=y+O*I.ratio+P*I.ratio*I.ratio,s=o,o=f7(Y)},u.onComplete=function(){l.tween=0,D&&D.call(I)},I=l.tween=Rn.to(t,u)};return t[r]=i,Vs(t,"wheel",function(){return a.tween&&a.tween.kill()&&(a.tween=0)}),a};ic.op=Hs;var Qi=function(){function n(e,i){C_||n.register(Rn)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(e,i)}return n.prototype.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(1),d7){var mn,Kt,Kn,gn,an,Ft,vn,Xt,or,Fn,xn,ms,Tr,Yu,yp,J_,Ys,Q_,WI,YI,cy,nd,h9,uy,d9,zI,$I,AC,XI,zs,RC,id,Z_,hy,dy,qI,KI,s=(i=v7(nc(i)||w0(i)||i.nodeType?{trigger:i}:i,vS)).onUpdate,a=i.toggleClass,l=i.id,c=i.onToggle,u=i.onRefresh,y=i.scrub,O=i.trigger,P=i.pin,I=i.pinSpacing,D=i.invalidateOnRefresh,B=i.anticipatePin,Y=i.onScrubComplete,q=i.onSnapComplete,ie=i.once,se=i.snap,re=i.pinReparent,ne=i.pinSpacer,Ee=i.containerAnimation,Ne=i.fastScrollEnd,Se=i.preventOverlaps,De=i.horizontal||i.containerAnimation&&!1!==i.horizontal?ic:Hs,Xe=!y&&0!==y,$e=jc(i.scroller||dr),Qe=Rn.core.getCache($e),Mt=M_($e),Ye="fixed"===("pinType"in i?i.pinType:kf($e,"pinType")||Mt&&"fixed"),Ae=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],Ke=Xe&&i.toggleActions.split(" "),mt="markers"in i?i.markers:vS.markers,At=Mt?0:parseFloat(Uu($e)["border"+De.p2+Ff])||0,fe=this,Ct=i.onRefreshInit&&function(){return i.onRefreshInit(fe)},kt=function(t,e,i){var r=i.d,o=i.d2,s=i.a;return(s=kf(t,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(e?dr["inner"+o]:t["client"+o])||0}}($e,Mt,De),Ut=(t=$e,!Mt||~Df.indexOf(t)?_7(t):function(){return PS}),Rt=0,sn=uS($e,De);if(fe.media=R_,fe._dir=De,B*=45,fe.scroller=$e,fe.scroll=Ee?Ee.time.bind(Ee):sn,gn=sn(),fe.vars=i,r=r||i.animation,"refreshPriority"in i&&(u7=1),Qe.tweenScroll=Qe.tweenScroll||{top:R7($e,Hs),left:R7($e,ic)},fe.tweenTo=mn=Qe.tweenScroll[De.p],r&&(r.vars.lazy=!1,r._initted||!1!==r.vars.immediateRender&&!1!==i.immediateRender&&r.render(0,!0,!0),fe.animation=r.pause(),r.scrollTrigger=fe,(RC=w0(y)&&y)&&(zs=Rn.to(r,{ease:"power3",duration:RC,onComplete:function(){return Y&&Y(fe)}})),AC=0,l||(l=r.vars.id)),Mi.push(fe),se&&((!MR(se)||se.push)&&(se={snapTo:se}),"scrollBehavior"in Kr.style&&Rn.set(Mt?[Kr,Lu]:$e,{scrollBehavior:"auto"}),Kn=Hc(se.snapTo)?se.snapTo:"labels"===se.snapTo?function(t){return function(e){return Rn.utils.snap(y7(t),e)}}(r):"labelsDirectional"===se.snapTo?function(t){return function(e,i){return AR(y7(t))(e,i.direction)}}(r):!1!==se.directional?function(ii,Oi){return AR(se.snapTo)(ii,Oi.direction)}:Rn.utils.snap(se.snapTo),id=MR(id=se.duration||{min:.1,max:2})?sS(id.min,id.max):sS(id,id),Z_=Rn.delayedCall(se.delay||RC/2||.1,function(){if(Math.abs(fe.getVelocity())<10&&!lS&&Rt!==sn()){var ii=r&&!Xe?r.totalProgress():fe.progress,Oi=(ii-XI)/(Wh()-aS)*1e3||0,Ri=Rn.utils.clamp(-fe.progress,1-fe.progress,O_(Oi/2)*Oi/.185),Bi=fe.progress+(!1===se.inertia?0:Ri),Tl=sS(0,1,Kn(Bi,fe)),jn=sn(),Jr=Math.round(Ft+Tl*Tr),zu=se.onStart,Or=se.onInterrupt,ua=se.onComplete,sc=mn.tween;if(jn<=vn&&jn>=Ft&&Jr!==jn){if(sc&&!sc._initted&&sc.data<=O_(Jr-jn))return;!1===se.inertia&&(Ri=Tl-fe.progress),mn(Jr,{duration:id(O_(.185*Math.max(O_(Bi-ii),O_(Tl-ii))/Oi/.05||0)),ease:se.ease||"power3",data:O_(Jr-jn),onInterrupt:function(){return Z_.restart(!0)&&Or&&Or(fe)},onComplete:function(){fe.update(),Rt=sn(),AC=XI=r&&!Xe?r.totalProgress():fe.progress,q&&q(fe),ua&&ua(fe)}},jn,Ri*Tr,Jr-jn-Ri*Tr),zu&&zu(fe,mn.tween)}}else fe.isActive&&Z_.restart(!0)}).pause()),l&&(RR[l]=fe),O=fe.trigger=jc(O||P),P=!0===P?O:jc(P),nc(a)&&(a={targets:O,className:a}),P&&(!1===I||I===pl||(I=!(!I&&"flex"===Uu(P.parentNode).display)&&lo),fe.pin=P,!1!==i.force3D&&Rn.set(P,{force3D:!0}),(Kt=Rn.core.getCache(P)).spacer?Yu=Kt.pinState:(ne&&((ne=jc(ne))&&!ne.nodeType&&(ne=ne.current||ne.nativeElement),Kt.spacerIsNative=!!ne,ne&&(Kt.spacerState=wS(ne))),Kt.spacer=Ys=ne||_s.createElement("div"),Ys.classList.add("pin-spacer"),l&&Ys.classList.add("pin-spacer-"+l),Kt.pinState=Yu=wS(P)),fe.spacer=Ys=Kt.spacer,$I=Uu(P),h9=$I[I+De.os2],WI=Rn.getProperty(P),YI=Rn.quickSetter(P,De.a,js),kR(P,Ys,$I),J_=wS(P)),mt&&(ms=MR(mt)?v7(mt,E7):E7,Fn=ES("scroller-start",l,$e,De,ms,0),xn=ES("scroller-end",l,$e,De,ms,0,Fn),Xt=ES("start",l,$e,De,ms,Q_=Fn["offset"+De.op.d2],0,Ee),or=ES("end",l,$e,De,ms,Q_,0,Ee),Ee&&(KI=Rn.quickSetter([Xt,or],De.a,js)),!Ye&&!(Df.length&&!0===kf($e,"fixedMarkers"))&&(function(t){var e=Uu(t).position;t.style.position="absolute"===e||"fixed"===e?e:"relative"}(Mt?Kr:$e),Rn.set([Fn,xn],{force3D:!0}),d9=Rn.quickSetter(Fn,De.a,js),zI=Rn.quickSetter(xn,De.a,js))),Ee){var f9=Ee.vars.onUpdate,DAe=Ee.vars.onUpdateParams;Ee.eventCallback("onUpdate",function(){fe.update(0,0,1),f9&&f9.apply(DAe||[])})}fe.previous=function(){return Mi[Mi.indexOf(fe)-1]},fe.next=function(){return Mi[Mi.indexOf(fe)+1]},fe.revert=function(ii){var Oi=!1!==ii||!fe.enabled,Ri=Us;Oi!==fe.isReverted&&(Oi&&(fe.scroll.rec||(fe.scroll.rec=sn()),dy=Math.max(sn(),fe.scroll.rec||0),hy=fe.progress,qI=r&&r.progress()),Xt&&[Xt,or,Fn,xn].forEach(function(Bi){return Bi.style.display=Oi?"none":"block"}),Oi&&(Us=1),fe.update(Oi),Us=Ri,P&&(Oi?function(t,e,i){I0(i);var r=t._gsap;if(r.spacerIsNative)I0(r.spacerState);else if(t.parentNode===e){var o=e.parentNode;o&&(o.insertBefore(t,e),o.removeChild(e))}}(P,Ys,Yu):(!re||!fe.isActive)&&kR(P,Ys,Uu(P),uy)),fe.isReverted=Oi)},fe.refresh=function(ii,Oi){if(!Us&&fe.enabled||Oi){if(P&&ii&&tc)return void Vs(n,"scrollEnd",M7);Us=1,zs&&zs.pause(),D&&r&&r.time(-.01,!0).invalidate(),fe.isReverted||fe.revert();for(var Oo,qo,em,bp,wo,Lo,$u,JI,p9,fy,Ri=kt(),Bi=Ut(),Tl=Ee?Ee.duration():hS($e,De),jn=0,Jr=0,Mr=i.end,zu=i.endTrigger||O,Or=i.start||(0!==i.start&&O?P?"0 0":"0 100%":0),ua=i.pinnedContainer&&jc(i.pinnedContainer),sc=O&&Math.max(0,Mi.indexOf(fe))||0,Mo=sc;Mo--;)(Lo=Mi[Mo]).end||Lo.refresh(0,1)||(Us=1),($u=Lo.pin)&&($u===O||$u===P)&&!Lo.isReverted&&(fy||(fy=[]),fy.unshift(Lo),Lo.revert());for(Hc(Or)&&(Or=Or(fe)),Ft=x7(Or,O,Ri,De,sn(),Xt,Fn,fe,Bi,At,Ye,Tl,Ee)||(P?-.001:0),Hc(Mr)&&(Mr=Mr(fe)),nc(Mr)&&!Mr.indexOf("+=")&&(~Mr.indexOf(" ")?Mr=(nc(Or)?Or.split(" ")[0]:"")+Mr:(jn=bS(Mr.substr(2),Ri),Mr=nc(Or)?Or:Ft+jn,zu=O)),vn=Math.max(Ft,x7(Mr||(zu?"100% 0":Tl),zu,Ri,De,sn()+jn,or,xn,fe,Bi,At,Ye,Tl,Ee))||-.001,Tr=vn-Ft||(Ft-=.01)&&.001,jn=0,Mo=sc;Mo--;)($u=(Lo=Mi[Mo]).pin)&&Lo.start-Lo._pinPush<Ft&&!Ee&&(Oo=Lo.end-Lo.start,($u===O||$u===ua)&&!w0(Or)&&(jn+=Oo*(1-Lo.progress)),$u===P&&(Jr+=Oo));if(Ft+=jn,vn+=jn,fe._pinPush=Jr,Xt&&jn&&((Oo={})[De.a]="+="+jn,ua&&(Oo[De.p]="-="+sn()),Rn.set([Xt,or],Oo)),P)Oo=Uu(P),bp=De===Hs,em=sn(),cy=parseFloat(WI(De.a))+Jr,!Tl&&vn>1&&((Mt?Kr:$e).style["overflow-"+De.a]="scroll"),kR(P,Ys,Oo),J_=wS(P),qo=Gu(P,!0),JI=Ye&&uS($e,bp?ic:Hs)(),I&&((uy=[I+De.os2,Tr+Jr+js]).t=Ys,(Mo=I===lo?xR(P,De)+Tr+Jr:0)&&uy.push(De.d,Mo+js),I0(uy),Ye&&sn(dy)),Ye&&((wo={top:qo.top+(bp?em-Ft:JI)+js,left:qo.left+(bp?JI:em-Ft)+js,boxSizing:"border-box",position:"fixed"})[Yh]=wo.maxWidth=Math.ceil(qo.width)+js,wo[zh]=wo.maxHeight=Math.ceil(qo.height)+js,wo[pl]=wo[pl+x_]=wo[pl+w_]=wo[pl+A_]=wo[pl+P_]="0",wo[lo]=Oo[lo],wo[lo+x_]=Oo[lo+x_],wo[lo+w_]=Oo[lo+w_],wo[lo+A_]=Oo[lo+A_],wo[lo+P_]=Oo[lo+P_],yp=function(t,e,i){for(var a,r=[],o=t.length,s=i?8:0;s<o;s+=2)r.push(a=t[s],a in e?e[a]:t[s+1]);return r.t=t.t,r}(Yu,wo,re)),r?(p9=r._initted,ER(1),r.render(r.duration(),!0,!0),nd=WI(De.a)-cy+Tr+Jr,Tr!==nd&&yp.splice(yp.length-2,2),r.render(0,!0,!0),p9||r.invalidate(),ER(0)):nd=Tr;else if(O&&sn()&&!Ee)for(qo=O.parentNode;qo&&qo!==Kr;)qo._pinOffset&&(Ft-=qo._pinOffset,vn-=qo._pinOffset),qo=qo.parentNode;fy&&fy.forEach(function(NAe){return NAe.revert(!1)}),fe.start=Ft,fe.end=vn,gn=an=sn(),Ee||(gn<dy&&sn(dy),fe.scroll.rec=0),fe.revert(!1),Us=0,r&&Xe&&r._initted&&r.progress()!==qI&&r.progress(qI,!0).render(r.time(),!0,!0),(hy!==fe.progress||Ee)&&(r&&!Xe&&r.totalProgress(hy,!0),fe.progress=hy,fe.update(0,0,1)),P&&I&&(Ys._pinOffset=Math.round(fe.progress*nd)),u&&u(fe)}},fe.getVelocity=function(){return(sn()-an)/(Wh()-aS)*1e3||0},fe.endAnimation=function(){P0(fe.callbackAnimation),r&&(zs?zs.progress(1):r.paused()?Xe||P0(r,fe.direction<0,1):P0(r,r.reversed()))},fe.labelToScroll=function(ii){return r&&r.labels&&(Ft||fe.refresh()||Ft)+r.labels[ii]/r.duration()*Tr||0},fe.getTrailing=function(ii){var Oi=Mi.indexOf(fe),Ri=fe.direction>0?Mi.slice(0,Oi).reverse():Mi.slice(Oi+1);return nc(ii)?Ri.filter(function(Bi){return Bi.vars.preventOverlaps===ii}):Ri},fe.update=function(ii,Oi,Ri){if(!Ee||Ri||ii){var Mr,Or,ua,sc,Mo,Oo,qo,Bi=fe.scroll(),Tl=ii?0:(Bi-Ft)/Tr,jn=Tl<0?0:Tl>1?1:Tl||0,Jr=fe.progress;if(Oi&&(an=gn,gn=Ee?sn():Bi,se&&(XI=AC,AC=r&&!Xe?r.totalProgress():jn)),B&&!jn&&P&&!Us&&!O0&&tc&&Ft<Bi+(Bi-an)/(Wh()-aS)*B&&(jn=1e-4),jn!==Jr&&fe.enabled){if(sc=(Mo=(Mr=fe.isActive=!!jn&&jn<1)!=(!!Jr&&Jr<1))||!!jn!=!!Jr,fe.direction=jn>Jr?1:-1,fe.progress=jn,sc&&!Us&&(Or=jn&&!Jr?0:1===jn?1:1===Jr?2:3,Xe&&(ua=!Mo&&"none"!==Ke[Or+1]&&Ke[Or+1]||Ke[Or],qo=r&&("complete"===ua||"reset"===ua||ua in r))),Se&&Mo&&(qo||y||!r)&&(Hc(Se)?Se(fe):fe.getTrailing(Se).forEach(function(Lo){return Lo.endAnimation()})),Xe||(!zs||Us||O0?r&&r.totalProgress(jn,!!Us):(zs.vars.totalProgress=jn,zs.invalidate().restart())),P)if(ii&&I&&(Ys.style[I+De.os2]=h9),Ye){if(sc){if(Oo=!ii&&jn>Jr&&vn+1>Bi&&Bi+1>=hS($e,De),re)if(ii||!Mr&&!Oo)A7(P,Ys);else{var em=Gu(P,!0),bp=Bi-Ft;A7(P,Kr,em.top+(De===Hs?bp:0)+js,em.left+(De===Hs?0:bp)+js)}I0(Mr||Oo?yp:J_),nd!==Tr&&jn<1&&Mr||YI(cy+(1!==jn||Oo?0:nd))}}else YI(cy+nd*jn);se&&!mn.tween&&!Us&&!O0&&Z_.restart(!0),a&&(Mo||ie&&jn&&(jn<1||!SR))&&M0(a.targets).forEach(function(Lo){return Lo.classList[Mr||ie?"add":"remove"](a.className)}),s&&!Xe&&!ii&&s(fe),sc&&!Us?(Xe&&(qo&&("complete"===ua?r.pause().totalProgress(1):"reset"===ua?r.restart(!0).pause():"restart"===ua?r.restart(!0):r[ua]()),s&&s(fe)),(Mo||!SR)&&(c&&Mo&&OR(fe,c),Ae[Or]&&OR(fe,Ae[Or]),ie&&(1===jn?fe.kill(!1,1):Ae[Or]=0),Mo||Ae[Or=1===jn?1:3]&&OR(fe,Ae[Or])),Ne&&!Mr&&Math.abs(fe.getVelocity())>(w0(Ne)?Ne:2500)&&(P0(fe.callbackAnimation),zs?zs.progress(1):P0(r,!jn,1))):Xe&&s&&!Us&&s(fe)}if(zI){var wo=Ee?Bi/Ee.duration()*(Ee._caScrollDist||0):Bi;d9(wo+(Fn._isFlipped?1:0)),zI(wo)}KI&&KI(-Bi/Ee.duration()*(Ee._caScrollDist||0))}},fe.enable=function(ii,Oi){fe.enabled||(fe.enabled=!0,Vs($e,"resize",A0),Vs($e,"scroll",CS),Ct&&Vs(n,"refreshInit",Ct),!1!==ii&&(fe.progress=hy=0,gn=an=Rt=sn()),!1!==Oi&&fe.refresh())},fe.getTween=function(ii){return ii&&mn?mn.tween:zs},fe.setPositions=function(ii,Oi){P&&(cy+=ii-Ft,nd+=Oi-ii-Tr),fe.start=Ft=ii,fe.end=vn=Oi,Tr=Oi-ii,fe.update()},fe.disable=function(ii,Oi){if(fe.enabled&&(!1!==ii&&fe.revert(),fe.enabled=fe.isActive=!1,Oi||zs&&zs.pause(),dy=0,Kt&&(Kt.uncache=1),Ct&&x0(n,"refreshInit",Ct),Z_&&(Z_.pause(),mn.tween&&mn.tween.kill()&&(mn.tween=0)),!Mt)){for(var Ri=Mi.length;Ri--;)if(Mi[Ri].scroller===$e&&Mi[Ri]!==fe)return;x0($e,"resize",A0),x0($e,"scroll",CS)}},fe.kill=function(ii,Oi){fe.disable(ii,Oi),zs&&zs.kill(),l&&delete RR[l];var Ri=Mi.indexOf(fe);Ri>=0&&Mi.splice(Ri,1),Ri===Gs&&MS>0&&Gs--,Ri=0,Mi.forEach(function(Bi){return Bi.scroller===fe.scroller&&(Ri=1)}),Ri||(fe.scroll.rec=0),r&&(r.scrollTrigger=null,ii&&r.render(-1),Oi||r.kill()),Xt&&[Xt,or,Fn,xn].forEach(function(Bi){return Bi.parentNode&&Bi.parentNode.removeChild(Bi)}),P&&(Kt&&(Kt.uncache=1),Ri=0,Mi.forEach(function(Bi){return Bi.pin===P&&Ri++}),Ri||(Kt.spacer=0))},fe.enable(!1,!1),r&&r.add&&!Tr?Rn.delayedCall(.01,function(){return Ft||vn||fe.refresh()})&&(Tr=.01)&&(Ft=vn=0):fe.refresh()}else this.update=this.refresh=this.kill=cS;var t},n.register=function(i){if(!C_&&(Rn=i||g7(),p7()&&window.document&&(dr=window,_s=document,Lu=_s.documentElement,Kr=_s.body),Rn&&(M0=Rn.utils.toArray,sS=Rn.utils.clamp,ER=Rn.core.suppressOverwrites||cS,Rn.core.globals("ScrollTrigger",n),Kr))){Vs(dr,"wheel",CS),a7=[dr,_s,Lu,Kr],Vs(_s,"scroll",CS);var s,r=Kr.style,o=r.borderTopStyle;r.borderTopStyle="solid",s=Gu(Kr),Hs.m=Math.round(s.top+Hs.sc())||0,ic.m=Math.round(s.left+ic.sc())||0,o?r.borderTopStyle=o:r.removeProperty("border-top-style"),yR=setInterval(S7,200),Rn.delayedCall(.5,function(){return O0=0}),Vs(_s,"touchcancel",cS),Vs(Kr,"touchstart",cS),b7(Vs,_s,"pointerdown,touchstart,mousedown",function(){return lS=1}),b7(Vs,_s,"pointerup,touchend,mouseup",function(){return lS=0}),bR=Rn.utils.checkPrefix("transform"),OS.push(bR),C_=Wh(),vR=Rn.delayedCall(.2,D_).pause(),T_=[_s,"visibilitychange",function(){var a=dr.innerWidth,l=dr.innerHeight;_s.hidden?(l7=a,c7=l):(l7!==a||c7!==l)&&A0()},_s,"DOMContentLoaded",D_,dr,"load",function(){return tc||D_()},dr,"resize",A0],TR(Vs)}return C_},n.defaults=function(i){if(i)for(var r in i)vS[r]=i[r];return vS},n.kill=function(){d7=0,Mi.slice(0).forEach(function(i){return i.kill(1)})},n.config=function(i){"limitCallbacks"in i&&(SR=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(yR)||(yR=r)&&setInterval(S7,r),"autoRefreshEvents"in i&&(TR(x0)||TR(Vs,i.autoRefreshEvents||"none"),h7=-1===(i.autoRefreshEvents+"").indexOf("resize"))},n.scrollerProxy=function(i,r){var o=jc(i),s=Nf.indexOf(o),a=M_(o);~s&&Nf.splice(s,a?6:2),r&&(a?Df.unshift(dr,r,Kr,r,Lu,r):Df.unshift(o,r))},n.matchMedia=function(i){var r,o,s,a,l;for(o in i)s=jr.indexOf(o),a=i[o],R_=o,"all"===o?a():(r=dr.matchMedia(o))&&(r.matches&&(l=a()),~s?(jr[s+1]=m7(jr[s+1],a),jr[s+2]=m7(jr[s+2],l)):(s=jr.length,jr.push(o,a,l),r.addListener?r.addListener(T7):r.addEventListener("change",T7)),jr[s+3]=r.matches),R_=0;return jr},n.clearMatchMedia=function(i){i||(jr.length=0),(i=jr.indexOf(i))>=0&&jr.splice(i,4)},n.isInViewport=function(i,r,o){var s=(nc(i)?jc(i):i).getBoundingClientRect(),a=s[o?Yh:zh]*r||0;return o?s.right-a>0&&s.left+a<dr.innerWidth:s.bottom-a>0&&s.top+a<dr.innerHeight},n.positionInViewport=function(i,r,o){nc(i)&&(i=jc(i));var s=i.getBoundingClientRect(),a=s[o?Yh:zh],l=null==r?a/2:r in yS?yS[r]*a:~r.indexOf("%")?parseFloat(r)*a/100:parseFloat(r)||0;return o?(s.left+l)/dr.innerWidth:(s.top+l)/dr.innerHeight},n}();Qi.version="3.9.1",Qi.saveStyles=function(n){return n?M0(n).forEach(function(t){if(t&&t.style){var e=gl.indexOf(t);e>=0&&gl.splice(e,5),gl.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),Rn.core.getCache(t),R_)}}):gl},Qi.revert=function(n,t){return TS(!n,t)},Qi.create=function(n,t){return new Qi(n,t)},Qi.refresh=function(n){return n?A0():(C_||Qi.register())&&D_(!0)},Qi.update=DR,Qi.clearScrollMemory=w7,Qi.maxScroll=function(n,t){return hS(n,t?ic:Hs)},Qi.getScrollFunc=function(n,t){return uS(jc(n),t?ic:Hs)},Qi.getById=function(n){return RR[n]},Qi.getAll=function(){return Mi.slice(0)},Qi.isScrolling=function(){return!!tc},Qi.snapDirectional=AR,Qi.addEventListener=function(n,t){var e=R0[n]||(R0[n]=[]);~e.indexOf(t)||e.push(t)},Qi.removeEventListener=function(n,t){var e=R0[n],i=e&&e.indexOf(t);i>=0&&e.splice(i,1)},Qi.batch=function(n,t){var a,e=[],i={},r=t.interval||.016,o=t.batchMax||1e9,s=function(c,u){var y=[],O=[],P=Rn.delayedCall(r,function(){u(y,O),y=[],O=[]}).pause();return function(I){y.length||P.restart(!0),y.push(I.trigger),O.push(I),o<=y.length&&P.progress(1)}};for(a in t)i[a]="on"===a.substr(0,2)&&Hc(t[a])&&"onRefreshInit"!==a?s(0,t[a]):t[a];return Hc(o)&&(o=o(),Vs(Qi,"refresh",function(){return o=t.batchMax()})),M0(n).forEach(function(l){var c={};for(a in i)c[a]=i[a];c.trigger=l,e.push(Qi.create(c))}),e},Qi.sort=function(n){return Mi.sort(n||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},g7()&&Rn.registerPlugin(Qi);var rc=(()=>(function(n){n.TaskCompleted="Task completed:",n.ChallengeCompleted="Challenge completed. Take your prize!",n.PrizePaid="Prize has been paid. Congratulations!",n.PrizesEnded="Challenge ended: all prizes have been won",n.ChallengePaused="Challenge has been paused",n.ChallengeResumed="Challenge has been resumed",n.PlayerKicked="You have been removed from the Challenge by the Administrator",n.ChallengeWasCanceled="Challenge was canceled"}(rc||(rc={})),rc))();let D0=(()=>{class n{constructor(e){this.mission=e,this.minIntegerDigits=1}transform(e,i){if("number"!=typeof e&&"string"!=typeof e)return"";const r=null!=i?i:this.mission.config.currencyPrecision;return Rb(new qr(e).toDecimalPlaces(this.mission.config.currencyPrecision,qr.ROUND_DOWN).toNumber(),"en-US",`${this.minIntegerDigits}.${r}-${r}`)}}return n.\u0275fac=function(e){return new(e||n)(X(ol,16))},n.\u0275pipe=Vr({name:"currencyPrecision",type:n,pure:!0}),n})(),N0=(()=>{class n{constructor(e,i,r){this.translate=e,this.bsMessage=i,this.currencyPrecisionPipe=r}getTranslation(e,i={}){const r=`game.engagement-tool.toast-message.${e}`;return this.translate.parser.getValue(this.translate.translations[this.translate.currentLang],r)?this.translate.instant(r,i):e}getTranslationTask(e){var i,r,o,s,a;const l=`game.engagement-tool.tasks.${e.taskName}`,c=this.translate.instant(l,{x:e.params.x,rounds:null===(i=e.params)||void 0===i?void 0:i.rounds,amount:this.currencyPrecisionPipe.transform(null===(r=e.params)||void 0===r?void 0:r.amount),minBet:this.currencyPrecisionPipe.transform(null===(o=e.params)||void 0===o?void 0:o.minBet),times:null===(s=e.params)||void 0===s?void 0:s.times,currency:null===(a=e.params)||void 0===a?void 0:a.currency});return this.translate.parser.getValue(this.translate.translations[this.translate.currentLang],l)?c:e.taskName}show(e,i,r={},o){const s=o?this.getTranslation(e,r)+" "+this.getTranslationTask(o):this.getTranslation(e,r);this.bsMessage.add({value:s,context:i})}}return n.\u0275fac=function(e){return new(e||n)(Fe(Sh),Fe(Aa),Fe(D0))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),k0=(()=>{class n{constructor(e,i,r){this.stomp=e,this.notification=i,this.mission=r,this.update=new Xn({mission:{status:na.Announced},player:{status:Ls.None}}),this.update$=this.update.asObservable(),this.stomp.response(zo.Init).subscribe(o=>{this.update.next(Object.assign(Object.assign({},this.update.getValue()),{mission:{status:o.status.mission.status,finishDate:o.status.mission.finishDate||o.config.endDate},player:{status:o.status.player.status}}))}),this.stomp.response(zo.PlayerStatus).subscribe(o=>{this.update.next(Object.assign(Object.assign({},this.update.getValue()),{player:{status:o.status}})),o.status===Ls.Won&&this.notification.show(rc.ChallengeCompleted,Xi.success,{challenge:this.mission.update.type}),o.status===Ls.Rewarded&&this.notification.show(rc.PrizePaid,Xi.success,{challenge:this.mission.update.type}),o.status===Ls.Kicked&&(this.notification.show(rc.PlayerKicked,Xi.danger,{challenge:this.mission.update.type}),this.stomp.request(Iu.Init,null)),o.status===Ls.OwningOperatorKicked&&(this.notification.show(rc.ChallengeWasCanceled,Xi.danger,{challenge:this.mission.update.type}),this.stomp.request(Iu.Init,null))}),this.stomp.response(zo.MissionStatus).subscribe(o=>{o.status===na.Paused&&this.notification.show(rc.ChallengePaused,Xi.danger,{challenge:this.mission.update.type}),this.update.getValue().mission.status===na.Paused&&o.status===na.Active&&this.notification.show(rc.ChallengeResumed,Xi.success,{challenge:this.mission.update.type}),this.update.next(Object.assign(Object.assign({},this.update.getValue()),{mission:{status:o.status,finishDate:o.finishDate||this.update.getValue().mission.finishDate}}))})}}return n.\u0275fac=function(e){return new(e||n)(Fe(Bc),Fe(N0),Fe(ol))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),F0=(()=>{class n{constructor(e,i,r){this.stomp=e,this.notification=i,this.mission=r,this.tasks=new Map,this.updateSubject=new Xn(null),this.update$=this.updateSubject.asObservable(),this.stomp.response(zo.Init).subscribe(o=>{this.tasks.clear(),o.progress.tasks.forEach(s=>{this.tasks.set(s.name,Object.assign(Object.assign({},s),{nameParams:Object.assign(Object.assign({},s.nameParams),{currency:this.mission.config.currency})}))}),this.updateSubject.next({tasks:Array.from(this.tasks.values()),totalProgress:o.progress.total})}),this.stomp.response(zo.Progress).subscribe(o=>{o.tasks.forEach(s=>{this.tasks.set(s.taskName,Object.assign(Object.assign({},this.tasks.get(s.taskName)),{progress:s.progress})),this.updateSubject.next({tasks:Array.from(this.tasks.values()),totalProgress:o.total}),this.tasks.get(s.taskName).progress===this.tasks.get(s.taskName).goal&&this.notification.show(rc.TaskCompleted,Xi.success,{},{taskName:s.taskName,params:this.tasks.get(s.taskName).nameParams})})})}}return n.\u0275fac=function(e){return new(e||n)(Fe(Bc),Fe(N0),Fe(ol))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),xS=(()=>{class n{constructor(e,i,r){this.stomp=e,this.notification=i,this.mission=r,this.updateSubject=new Xn(null),this.update$=this.updateSubject.asObservable(),this.items=[],this.total=0,this.potentialPrizeAmount=0,this.stomp.response(zo.Init).subscribe(o=>{this.total=o.prize.total,this.items=[...o.prize.items],this.potentialPrizeAmount=this.items.reduce((s,a)=>a.type===Cf.FreeBet?s.plus(new qr(a.cost).times(a.quantity)):s,new qr(0)).toNumber(),this.updateSubject.next({left:o.prize.left})}),this.stomp.response(zo.Prize).subscribe(o=>{this.updateSubject.next({left:o.left}),0===o.left&&this.notification.show(rc.PrizesEnded,Xi.danger,{challenge:this.mission.update.type})})}}return n.\u0275fac=function(e){return new(e||n)(Fe(Bc),Fe(N0),Fe(ol))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),AS=(()=>{class n{constructor(e,i){this.mission=e,this.status=i,this.stakes=new Map([]),this.missionStatus=na.Announced,this.playerStatus=Ls.None,this.updateSubject=new Xn(!1),this.update$=this.updateSubject.asObservable().pipe(ef()),this.status.update$.subscribe(r=>{this.missionStatus=r.mission.status,this.playerStatus=r.player.status,this.update()})}updateStake(e,i=1){this.stakes.set(i,e),this.update()}update(){const e=Array.from(this.stakes.values()).every(i=>i<this.mission.config.minBet)&&this.missionStatus===na.Active&&this.playerStatus===Ls.Joined;this.updateSubject.next(e)}}return n.\u0275fac=function(e){return new(e||n)(Fe(ol),Fe(k0))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();var N_=(()=>(function(n){n.Upcoming="Upcoming",n.Waiting="Waiting",n.Live="Live",n.Paused="Paused",n.Finished="Finished",n.Done="Done",n.MinBet="Min. bet"}(N_||(N_={})),N_))();let I7=(()=>{class n{constructor(){this.MissionStatusUI=N_}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-challenge-status-badge"]],inputs:{status:"status"},decls:2,vars:4,template:function(e,i){1&e&&(x(0,"div"),H(1),R()),2&e&&(EM("badge ",i.status===i.MissionStatusUI.MinBet?"error":i.status,""),A(1),me(" ",i.status,"\n"))},styles:['.badge[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:32px;padding:4px 12px 4px 32px;gap:10px;border-radius:64px;background:rgba(255,255,255,.05);color:#e0e0e0;font-size:12px;font-weight:500;line-height:normal;text-transform:uppercase}.badge[_ngcontent-%COMP%]:before{display:block;position:absolute;top:4px;left:4px;width:24px;height:24px;content:""}.badge.Upcoming[_ngcontent-%COMP%]:before{background:url(icon-calendar.12bccc41819bd1c4.svg) no-repeat center center/contain}.badge.Waiting[_ngcontent-%COMP%]:before{background:url(icon-clock.86b9aad31b70a448.svg) no-repeat center center/contain}.badge.Live[_ngcontent-%COMP%]:before{background:url(icon-live.60cac7b3ac8d21c2.svg) no-repeat center center/contain}.badge.Paused[_ngcontent-%COMP%]:before{background:url(icon-pause.12f2008275ca41b7.svg) no-repeat center center/contain}.badge.Done[_ngcontent-%COMP%]:before{background:url(icon-check.d5a3b64009441dd8.svg) no-repeat center center/contain}.badge.Finished[_ngcontent-%COMP%]:before{background:url(icon-finish.0ee21c90fcf67e59.svg) no-repeat center center/contain}.badge.error[_ngcontent-%COMP%]:before{background:url(icon-error.6f5e522566577a2b.svg) no-repeat center center/contain}'],changeDetection:0}),n})();function eye(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&V("status",ee(2).MissionStatusUI.Upcoming)}function tye(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&V("status",ee(2).MissionStatusUI.Live)}function nye(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&V("status",ee(2).MissionStatusUI.Live)}function iye(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&V("status",ee(2).MissionStatusUI.Waiting)}function rye(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&V("status",ee(2).MissionStatusUI.Paused)}function oye(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&V("status",ee(2).MissionStatusUI.Paused)}function sye(n,t){if(1&n&&ve(0,"app-challenge-status-badge",4),2&n){const e=ee(2);V("status",e.missionStatus===e.MissionStatus.Paused?e.MissionStatusUI.Paused:e.MissionStatusUI.Done)}}function aye(n,t){if(1&n&&ve(0,"app-challenge-status-badge",4),2&n){const e=ee(2);V("status",e.missionStatus===e.MissionStatus.Paused?e.MissionStatusUI.Paused:e.MissionStatusUI.Finished)}}function lye(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&V("status",ee(2).MissionStatusUI.Finished)}function cye(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&V("status",ee(2).MissionStatusUI.Finished)}function uye(n,t){if(1&n&&(ft(0),Z(1,eye,1,1,"app-challenge-status-badge",2),Z(2,tye,1,1,"app-challenge-status-badge",2),Z(3,nye,1,1,"app-challenge-status-badge",2),Z(4,iye,1,1,"app-challenge-status-badge",2),Z(5,rye,1,1,"app-challenge-status-badge",2),Z(6,oye,1,1,"app-challenge-status-badge",2),Z(7,sye,1,1,"app-challenge-status-badge",2),Z(8,aye,1,1,"app-challenge-status-badge",2),Z(9,lye,1,1,"app-challenge-status-badge",2),Z(10,cye,1,1,"app-challenge-status-badge",2),pt()),2&n){const e=ee();A(1),V("ngIf",e.missionStatus===e.MissionStatus.Announced&&e.playerStatus===e.PlayerStatus.None),A(1),V("ngIf",e.missionStatus===e.MissionStatus.Active&&e.playerStatus===e.PlayerStatus.None),A(1),V("ngIf",e.missionStatus===e.MissionStatus.Active&&e.playerStatus===e.PlayerStatus.Joined),A(1),V("ngIf",e.missionStatus===e.MissionStatus.Announced&&e.playerStatus===e.PlayerStatus.Joined),A(1),V("ngIf",e.missionStatus===e.MissionStatus.Paused&&e.playerStatus===e.PlayerStatus.None),A(1),V("ngIf",e.missionStatus===e.MissionStatus.Paused&&e.playerStatus===e.PlayerStatus.Joined),A(1),V("ngIf",e.playerStatus===e.PlayerStatus.Won),A(1),V("ngIf",e.playerStatus===e.PlayerStatus.Rewarded),A(1),V("ngIf",e.missionStatus===e.MissionStatus.Finished&&e.playerStatus===e.PlayerStatus.Joined),A(1),V("ngIf",e.missionStatus===e.MissionStatus.Finished&&e.playerStatus===e.PlayerStatus.None)}}function hye(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&V("status",ee().MissionStatusUI.MinBet)}let dye=(()=>{class n{constructor(){this.MissionStatusUI=N_,this.MissionStatus=na,this.PlayerStatus=Ls}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-challenge-header-main"]],inputs:{missionStatus:"missionStatus",playerStatus:"playerStatus",userCount:"userCount",isMinBetError:"isMinBetError"},decls:6,vars:6,consts:[[1,"challenge-header-main"],[4,"ngIf"],[3,"status",4,"ngIf"],[1,"user-count-badge"],[3,"status"]],template:function(e,i){1&e&&(x(0,"div",0),Z(1,uye,11,10,"ng-container",1),Z(2,hye,1,1,"app-challenge-status-badge",2),x(3,"div",3),H(4),ce(5,"number"),R()()),2&e&&(A(1),V("ngIf",!i.isMinBetError),A(1),V("ngIf",i.isMinBetError),A(2),yt(tn(5,3,i.userCount,"1.0-0")))},directives:[Ht,I7],pipes:[gg],styles:['[_nghost-%COMP%]{width:100%;height:100%}.challenge-header-main[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:8px;padding:8px}.challenge-header-main[_ngcontent-%COMP%]   .user-count-badge[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:32px;max-width:112px;padding:4px 12px 4px 4px;background-color:#ffffff0d;border-radius:64px;color:#e0e0e0;font-size:12px;font-weight:500;line-height:normal;letter-spacing:-.3px;text-transform:uppercase}.challenge-header-main[_ngcontent-%COMP%]   .user-count-badge[_ngcontent-%COMP%]:before{content:"";margin-right:4px;width:24px;height:24px;background:url(icon-user.7d3b6b7f86969fbd.svg) no-repeat center center/contain}'],changeDetection:0}),n})(),fye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-challenge-header-scrolled"]],inputs:{title:"title"},decls:2,vars:1,template:function(e,i){1&e&&(x(0,"span"),H(1),R()),2&e&&(A(1),yt(i.title))},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background-color:#1a1a1a;padding:8px 0}"],changeDetection:0}),n})();function FR(n=0,t=iv){return n<0&&(n=0),hh(n,n,t)}function pye(n,t){if(1&n&&(x(0,"div",1)(1,"span",2),H(2),ce(3,"number"),R(),H(4,":"),x(5,"span",2),H(6),ce(7,"number"),R(),H(8,":"),x(9,"span",2),H(10),ce(11,"number"),R()()),2&n){const e=t.ngIf;A(2),yt(tn(3,3,e.hours,"2.0")),A(4),yt(tn(7,6,e.minutes,"2.0")),A(4),yt(tn(11,9,e.seconds,"2.0"))}}let Bf=class{constructor(){this.milSecInSec=1e3,this.hInDay=24,this.minInH=60,this.secInMin=60}ngOnInit(){this.timeLeft$=FR(1e3).pipe(gt(this),Th(0),ye(()=>this.calcDateDiff()))}calcDateDiff(){const t=new qr(this.targetDate-Date.now());return t.toNumber()<=0?{seconds:0,minutes:0,hours:0}:{hours:t.div(this.milSecInSec).div(this.minInH).div(this.secInMin).mod(this.hInDay).floor().toNumber(),minutes:t.div(this.milSecInSec).div(this.minInH).mod(this.secInMin).floor().toNumber(),seconds:t.div(this.milSecInSec).mod(this.secInMin).floor().toNumber()}}};function gye(n,t){if(1&n&&(x(0,"span",12),H(1),ce(2,"translate"),ce(3,"date"),ce(4,"date"),R()),2&n){const e=ee();A(1),sg(" ",pe(2,3,"game.engagement-tool.Start:")," ",tn(3,5,e.startDate,"d MMM y")," \u2022 ",tn(4,8,e.startDate,"HH:mm")," ")}}function _ye(n,t){if(1&n&&(x(0,"span",12),H(1),ce(2,"translate"),ce(3,"date"),ce(4,"date"),R()),2&n){const e=ee();A(1),sg(" ",pe(2,3,"game.engagement-tool.End:")," ",tn(3,5,e.endDate,"d MMM y")," \u2022 ",tn(4,8,e.endDate,"HH:mm")," ")}}function mye(n,t){1&n&&ve(0,"app-challenge-countdown",13),2&n&&V("targetDate",ee().targetDate)}Bf.\u0275fac=function(t){return new(t||Bf)},Bf.\u0275cmp=et({type:Bf,selectors:[["app-challenge-countdown"]],inputs:{targetDate:"targetDate"},decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"value-part"]],template:function(t,e){1&t&&(Z(0,pye,12,12,"div",0),ce(1,"async")),2&t&&V("ngIf",pe(1,1,e.timeLeft$))},directives:[Ht],pipes:[Ps,gg],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#7a7a7acc;font-size:24px;font-weight:600;line-height:28px;letter-spacing:-.6px}.container[_ngcontent-%COMP%]   .value-part[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:48px;width:48px;color:#e0e0e0cc;padding:4px;border-radius:8px;background-color:#1f1f1f;margin:0 4px;font-feature-settings:tabular-nums lining-nums;font-variant-numeric:tabular-nums lining-nums}"],changeDetection:0}),Bf=We([oi()],Bf);let vye=(()=>{class n{constructor(){this.progressCircleDimension=80,this.progressCircleRadius=36}get bgImageNames(){return{[To.X_RACE]:["xrace-details-bg.png","xrace-details-bg@2x.png","xrace-details-bg@3x.png"],[To.X_MISSION]:["xmission-details-bg.png","xmission-details-bg@2x.png","xmission-details-bg@3x.png"]}[this.type]}get typeImageNames(){return{[To.X_RACE]:["xrace-icon.png","xrace-icon@2x.png","xrace-icon@3x.png"],[To.X_MISSION]:["xmission-icon.png","xmission-icon@2x.png","xmission-icon@3x.png"]}[this.type]}get targetDate(){return this.isMissionStarted?this.endDate:this.startDate}get shouldDisplayCountdown(){const e=Date.now();return!this.isMissionPaused&&e<this.targetDate&&this.targetDate-e<864e5}getFullImgPathBg(e){return"assets/images/engagement-tools/"+e}getSrcSetBg(e,i,r){return`${this.getFullImgPathBg(e)}, ${this.getFullImgPathBg(i)} 2x, ${this.getFullImgPathBg(r)} 3x`}getFullImgPathType(e){return"assets/challenges/images/"+e}getSrcSetType(e,i,r){return`${this.getFullImgPathType(e)}, ${this.getFullImgPathType(i)} 2x, ${this.getFullImgPathType(r)} 3x`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-challenge-info-main"]],inputs:{name:"name",type:"type",startDate:"startDate",endDate:"endDate",progress:"progress",isProgressEnabled:"isProgressEnabled",isError:"isError",isMissionStarted:"isMissionStarted",isMissionPaused:"isMissionPaused"},decls:15,vars:28,consts:[[1,"challenge-info-main"],["alt","mission-details-bg",1,"bg-image",3,"srcset","src"],[1,"content"],[1,"challenge-progress"],[1,"progress-circle"],["fill","transparent","stroke","var(--progress-bar-bg)","stroke-width","var(--progress-stroke-width)"],["fill","transparent","stroke","var(--progress-color)","stroke-linecap","round","stroke-width","var(--progress-stroke-width)"],["alt","challenge-type",3,"srcset","src"],[1,"type"],[1,"name"],["class","schedule",4,"ngIf"],[3,"targetDate",4,"ngIf"],[1,"schedule"],[3,"targetDate"]],template:function(e,i){1&e&&(x(0,"div",0),ve(1,"img",1),x(2,"div",2)(3,"div",3),function MD(){En.lFrame.currentNamespace="svg"}(),x(4,"svg",4),ve(5,"circle",5)(6,"circle",6),R(),function OD(){!function hW(){En.lFrame.currentNamespace=null}()}(),ve(7,"img",7),R(),x(8,"span",8),H(9),R(),x(10,"span",9),H(11),R(),Z(12,gye,5,11,"span",10),Z(13,_ye,5,11,"span",10),Z(14,mye,1,1,"app-challenge-countdown",11),R()()),2&e&&(Nl("--progress",i.progress),A(1),V("srcset",i.getSrcSetBg(i.bgImageNames[0],i.bgImageNames[1],i.bgImageNames[2]),fn)("src",i.getFullImgPathBg(i.bgImageNames[0]),fn),A(2),vt("live",i.isProgressEnabled)("success",i.isProgressEnabled&&100===i.progress)("error",i.isError),A(1),Zn("width",i.progressCircleDimension)("height",i.progressCircleDimension)("viewBox","0 0 "+i.progressCircleDimension+" "+i.progressCircleDimension),A(1),Zn("r",i.progressCircleRadius)("cx",i.progressCircleDimension/2)("cy",i.progressCircleDimension/2),A(1),Zn("r",i.progressCircleRadius)("cx",i.progressCircleDimension/2)("cy",i.progressCircleDimension/2)("stroke-dasharray",6.28*i.progressCircleRadius+"px")("stroke-dashoffset",6.28*i.progressCircleRadius*(100-i.progress)/100+"px"),A(1),V("srcset",i.getSrcSetType(i.typeImageNames[0],i.typeImageNames[1],i.typeImageNames[2]),fn)("src",i.getFullImgPathType(i.typeImageNames[0]),fn),A(2),yt(i.type),A(2),yt(i.name),A(1),V("ngIf",!i.isMissionStarted),A(1),V("ngIf",i.isMissionStarted),A(1),V("ngIf",i.shouldDisplayCountdown))},directives:[Ht,Bf],pipes:[dn,vc],styles:[".challenge-info-main[_ngcontent-%COMP%]{position:relative}.challenge-info-main[_ngcontent-%COMP%]   .bg-image[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;transform:translate(-50%);width:344px;height:auto;z-index:0}@media (min-width: 768px){.challenge-info-main[_ngcontent-%COMP%]   .bg-image[_ngcontent-%COMP%]{width:424px;top:-24px}}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:64px 32px 16px;z-index:1}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]{--progress-stroke-width: 4px;--progress-bar-bg: rgba(255, 255, 255, .05);--progress-color: rgba(255, 255, 255, .1);position:relative;display:flex;justify-content:center;align-items:center;width:72px;height:72px;border-radius:50%;margin-bottom:12px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{transform-origin:center;transform:rotate(-90deg)}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress.live[_ngcontent-%COMP%]{--progress-color: #ffde5c}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress.success[_ngcontent-%COMP%]{--progress-color: #79e279}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress.error[_ngcontent-%COMP%]{--progress-color: #f35656}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:64px;padding:8px;background-color:#ffffff1a;border-radius:50%}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:500;line-height:24px;margin-bottom:8px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#e0e0e0;text-align:center;font-size:12px;font-weight:400;line-height:16px;margin-bottom:8px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .schedule[_ngcontent-%COMP%]{color:#a3a3a3;font-size:12px;font-style:normal;font-weight:400;line-height:16px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   app-challenge-countdown[_ngcontent-%COMP%]{margin-top:16px}"],changeDetection:0}),n})(),yye=(()=>{class n{constructor(){this.isError=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-challenge-message"]],inputs:{message:"message",isError:"isError"},decls:2,vars:3,consts:[[1,"challenge-message"]],template:function(e,i){1&e&&(x(0,"div",0),H(1),R()),2&e&&(vt("error",i.isError),A(1),me(" ",i.message,"\n"))},styles:["[_nghost-%COMP%]{z-index:1}.challenge-message[_ngcontent-%COMP%]{width:250px;color:#a3a3a3;background-color:#1f1f1f;padding:8px 16px;border-radius:2px 12px 12px;font-size:12px;font-weight:400;line-height:16px;text-align:center}.challenge-message.error[_ngcontent-%COMP%]{color:#f35656;text-align:left}"],changeDetection:0}),n})();function bye(n,t){if(1&n&&(x(0,"div",4),ve(1,"img",5),H(2," TOP "),R()),2&n){const e=ee();A(1),V("srcset",e.getSrcSet("medal-gold.png","medal-gold@2x.png","medal-gold@3x.png"),fn)("src",e.getFullImgPath("medal-gold.png"),fn)}}function Eye(n,t){if(1&n&&(x(0,"div",4),ve(1,"img",5),H(2," TOP "),R()),2&n){const e=ee();A(1),V("srcset",e.getSrcSet("medal-silver.png","medal-silver@2x.png","medal-silver@3x.png"),fn)("src",e.getFullImgPath("join.png"),fn)}}function Sye(n,t){if(1&n&&(x(0,"div",4),ve(1,"img",5),H(2," TOP "),R()),2&n){const e=ee();A(1),V("srcset",e.getSrcSet("medal-bronze.png","medal-bronze@2x.png","medal-bronze@3x.png"),fn)("src",e.getFullImgPath("medal-bronze.png"),fn)}}function Cye(n,t){if(1&n&&(x(0,"div",4),H(1),R()),2&n){const e=ee();A(1),me(" ",e.placeNumber," ")}}let Tye=(()=>{class n{get placeNumber(){return this.leaderIndex+1}getSrcSet(e,i,r){return`${this.getFullImgPath(e)}, ${this.getFullImgPath(i)} 2x, ${this.getFullImgPath(r)} 3x`}getFullImgPath(e){return"assets/challenges/images/"+e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-leaderboard-player-place"]],inputs:{leaderIndex:"leaderIndex"},decls:6,vars:4,consts:[[1,"leaderboard-place-container"],[3,"ngSwitch"],["class","place-number",4,"ngSwitchCase"],["class","place-number",4,"ngSwitchDefault"],[1,"place-number"],["alt","",3,"srcset","src"]],template:function(e,i){1&e&&(x(0,"div",0),ft(1,1),Z(2,bye,3,2,"div",2),Z(3,Eye,3,2,"div",2),Z(4,Sye,3,2,"div",2),Z(5,Cye,2,1,"div",3),pt(),R()),2&e&&(A(1),V("ngSwitch",i.placeNumber),A(1),V("ngSwitchCase",1),A(1),V("ngSwitchCase",2),A(1),V("ngSwitchCase",3))},directives:[Go,ws,au],styles:[".leaderboard-place-container[_ngcontent-%COMP%]{display:flex;min-width:52px;height:24px;padding:4px;justify-content:center;align-items:center;border-radius:32px;background:#242424}.leaderboard-place-container[_ngcontent-%COMP%]   .place-number[_ngcontent-%COMP%]{width:100%;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:10px;font-weight:500;letter-spacing:-.25px}.leaderboard-place-container[_ngcontent-%COMP%]   .place-number[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px;-o-object-fit:cover;object-fit:cover;margin-right:4px}"],changeDetection:0}),n})();function Mye(n,t){if(1&n&&ve(0,"img",3),2&n){const e=ee();V("src",e.getAvatar(e.avatar),fn)}}function Oye(n,t){1&n&&ve(0,"img",4)}let wye=(()=>{class n{getAvatar(e){return Pi_avatarPath+e+`?v=${Pi_version}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-leaderboard-player-avatar"]],inputs:{avatar:"avatar"},decls:3,vars:2,consts:[[1,"avatar-container"],["class","d-inline-block","alt","",3,"src",4,"ngIf"],["class","d-inline-block","src","assets/images/engagement-tools/avatar.png","srcset","\n      assets/images/engagement-tools/avatar.png,\n      assets/images/engagement-tools/avatar@2x.png 2x,\n      assets/images/engagement-tools/avatar@3x.png 3x\n    ","alt","",4,"ngIf"],["alt","",1,"d-inline-block",3,"src"],["src","assets/images/engagement-tools/avatar.png","srcset","\n      assets/images/engagement-tools/avatar.png,\n      assets/images/engagement-tools/avatar@2x.png 2x,\n      assets/images/engagement-tools/avatar@3x.png 3x\n    ","alt","",1,"d-inline-block"]],template:function(e,i){1&e&&(x(0,"div",0),Z(1,Mye,1,1,"img",1),Z(2,Oye,1,0,"img",2),R()),2&e&&(A(1),V("ngIf",i.avatar),A(1),V("ngIf",!i.avatar))},directives:[Ht],styles:[".avatar-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:24px;width:24px}.avatar-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px;-o-object-fit:cover;object-fit:cover}"],changeDetection:0}),n})(),xye=(()=>{class n{constructor(e){this.missionService=e}transform(e){return this.missionService.config.isUseMaskedUsername?e&&function Pye(n){return"string"==typeof n||n instanceof String}(e)?`${e.charAt(0)}***${e.charAt(e.length-1)}`.toLowerCase():"*****":e}}return n.\u0275fac=function(e){return new(e||n)(X(ol,16))},n.\u0275pipe=Vr({name:"maskedUsername",type:n,pure:!0}),n})();function Aye(n,t){1&n&&ve(0,"app-leaderboard-player-place",5),2&n&&V("leaderIndex",ee().leaderBoardIndex)}const Rye=function(n){return{activeUser:n}},Iye=function(n){return{complete:n}};let Dye=(()=>{class n{constructor(){this.isCurrentUserItem=!1}get isChallengeActive(){return this.challengeStatus!==na.Announced}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-leaderboard-item"]],inputs:{leaderBoardIndex:"leaderBoardIndex",leaderBoardItem:"leaderBoardItem",isCurrentUserItem:"isCurrentUserItem",challengeStatus:"challengeStatus"},decls:8,vars:12,consts:[[1,"leaderboard-item",3,"ngClass"],[3,"leaderIndex",4,"ngIf"],[1,"leaderboard-avatar",3,"avatar"],[1,"leaderboard-name"],[1,"leaderboard-percentage",3,"ngClass"],[3,"leaderIndex"]],template:function(e,i){1&e&&(x(0,"div",0),Z(1,Aye,1,1,"app-leaderboard-player-place",1),ve(2,"app-leaderboard-player-avatar",2),x(3,"div",3),H(4),ce(5,"maskedUsername"),R(),x(6,"div",4),H(7),R()()),2&e&&(V("ngClass",Fr(8,Rye,i.isCurrentUserItem)),A(1),V("ngIf",i.isChallengeActive),A(1),V("avatar",i.leaderBoardItem.avatar),A(2),me(" ",pe(5,6,i.leaderBoardItem.name)," "),A(2),V("ngClass",Fr(10,Iye,100===i.leaderBoardItem.progress)),A(1),me(" ",i.leaderBoardItem.progress.toFixed(2),"% "))},directives:[Ul,Ht,Tye,wye],pipes:[xye],styles:[".leaderboard-item[_ngcontent-%COMP%]{display:flex;width:100%;height:40px;padding:8px;border-bottom:1px solid #242424;background:#1f1f1f;border-radius:inherit;color:#a3a3a3}.leaderboard-item.activeUser[_ngcontent-%COMP%]{color:#ffde5c;margin:8px 0;border-radius:8px}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-avatar[_ngcontent-%COMP%]{margin:0 8px}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-name[_ngcontent-%COMP%]{width:100%;font-size:14px;font-weight:400;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;word-break:break-all}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-percentage[_ngcontent-%COMP%]{width:64px;text-align:right;margin-left:16px;font-size:14px;font-weight:500}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-percentage.complete[_ngcontent-%COMP%]{color:#79e279}"],changeDetection:0}),n})();const Nye=["leaderboardContainer"];function kye(n,t){if(1&n&&(x(0,"span",6),H(1),R()),2&n){const e=ee();A(1),me("(Top-",e.topValue,")")}}function Fye(n,t){1&n&&(x(0,"div",11),ve(1,"app-loader"),R())}function Bye(n,t){1&n&&(x(0,"div",12)(1,"div",13),H(2),ce(3,"translate"),x(4,"p"),H(5),ce(6,"translate"),R()()()),2&n&&(A(2),me(" ",pe(3,2,"game.engagement-tool.No players yet :(")," "),A(3),me(" ",pe(6,4,"game.engagement-tool.You can be one of the first!")," "))}const Lye=function(n,t,e,i){return{singleListItem:n,afterActiveUser:t,beforeActiveUser:e,outsideList:i}};function Uye(n,t){if(1&n&&ve(0,"app-leaderboard-item",23),2&n){const e=t.$implicit,i=t.index,r=ee(2).ngIf,o=ee();V("isCurrentUserItem",o.myIndex===i)("challengeStatus",r.mission.status)("leaderBoardIndex",i)("leaderBoardItem",e)("ngClass",wF(5,Lye,1===o.leaders.length,i-1===o.myIndex,o.myIndex>0&&i+1===o.myIndex,i>=o.maxListLength))}}function Gye(n,t){if(1&n&&(x(0,"div",24),ve(1,"app-leaderboard-item",25),R()),2&n){const e=ee(2).ngIf,i=ee();A(1),V("leaderBoardItem",i.myIndex<=i.maxListLength?i.leaders[i.myIndex]:i.leaders[i.maxListLength])("leaderBoardIndex",i.myIndex)("challengeStatus",e.mission.status)("isCurrentUserItem",!0)}}const jye=function(n){return{visible:n}};function Hye(n,t){if(1&n){const e=dt();ft(0),x(1,"div",14,15),Z(3,Uye,1,10,"app-leaderboard-item",16),R(),x(4,"div",17),ve(5,"div",18),x(6,"div",19)(7,"button",20),Ce("click",function(){return it(e),ee(2).scrollToTop()}),H(8),ce(9,"translate"),R()(),Z(10,Gye,2,4,"div",21),x(11,"div",22),H(12),ce(13,"translate"),ce(14,"async"),R()(),pt()}if(2&n){const e=ee().ngIf,i=ee();A(3),V("ngForOf",i.leaders),A(3),V("ngClass",Fr(12,jye,i.isScrollToTopVisible)),A(2),me(" ",pe(9,6,"game.engagement-tool.Back to top")," "),A(2),V("ngIf",e.player.status!==i.playerStatus.None),A(2),pi(" ",pe(13,8,"game.engagement-tool.Total Players")," - ",pe(14,10,i.mission.update$).joinCount," ")}}function Vye(n,t){if(1&n&&(x(0,"div",7),Z(1,Fye,2,0,"div",8),Z(2,Bye,7,6,"div",9),Z(3,Hye,15,14,"ng-container",10),R()),2&n){const e=ee();A(1),V("ngIf",!e.loaded),A(1),V("ngIf",e.loaded&&!e.leaders.length),A(1),V("ngIf",e.loaded&&!!e.leaders.length)}}let Lf=class{constructor(t,e,i,r,o,s,a){this.activeModal=t,this.stomp=e,this.cd=i,this.mission=r,this.prize=o,this.task=s,this.status=a,this.maxListLength=this.mission.config.leaderBoardSize,this.topValue=100,this.loaded=!1,this.leaders=[],this.myIndex=null,this.isScrollToTopVisible=!1,this.playerStatus=Ls,this.LEADERBOARD_ITEM_HEIGHT=40}ngOnInit(){this.stomp.request(Iu.Leaderboard,null),this.stomp.response(zo.Leaderboard).pipe(gt(this),Lt(t=>200===t.code)).subscribe(t=>{this.loaded=!0,this.myIndex=t.myIndex,this.leaders=t.leaders,this.cd.detectChanges(),this.onLeaderboardLoaded()}),this.stomp.state$.pipe(gt(this),Lt(t=>t.state===fs.Disconnected)).subscribe(()=>this.close())}close(){this.activeModal.close()}scrollToTop(){this.leaderboardContainer&&this.leaderboardContainer.nativeElement.scrollTo({top:0,behavior:"smooth"})}onLeaderboardLoaded(){!this.leaders.length||Ti(this.leaderboardContainer.nativeElement,"scroll").pipe(gt(this),Js(200),Lt(t=>this.isScrollToTopVisible!==t.target.scrollTop>this.LEADERBOARD_ITEM_HEIGHT)).subscribe(()=>{this.isScrollToTopVisible=!this.isScrollToTopVisible,this.cd.detectChanges()})}};Lf.\u0275fac=function(t){return new(t||Lf)(X(So),X(Bc),X(Tn),X(ol),X(xS),X(F0),X(k0))},Lf.\u0275cmp=et({type:Lf,selectors:[["app-leaderboard"]],viewQuery:function(t,e){if(1&t&&mo(Nye,5),2&t){let i;Hn(i=Vn())&&(e.leaderboardContainer=i.first)}},decls:10,vars:7,consts:[[1,"modal-content"],[1,"modal-header"],["class","top-description",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],["class","modal-body",4,"ngIf"],[1,"top-description"],[1,"modal-body"],["class","loader",4,"ngIf"],["class","no-players",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"no-players"],[1,"no-players-text"],[1,"leaderboard-container"],["leaderboardContainer",""],["class","leaderboard-list",3,"isCurrentUserItem","challengeStatus","leaderBoardIndex","leaderBoardItem","ngClass",4,"ngFor","ngForOf"],[1,"after-list-container"],[1,"blur-block"],[1,"scroll-to-top",3,"ngClass"],[1,"btn",3,"click"],["class","active-user-container",4,"ngIf"],[1,"total-prizes","modal-footer"],[1,"leaderboard-list",3,"isCurrentUserItem","challengeStatus","leaderBoardIndex","leaderBoardItem","ngClass"],[1,"active-user-container"],[1,"active-user-item",3,"leaderBoardItem","leaderBoardIndex","challengeStatus","isCurrentUserItem"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"div",1)(2,"span"),H(3),ce(4,"translate"),R(),Z(5,kye,2,1,"span",2),x(6,"button",3),Ce("click",function(){return e.close()}),ve(7,"span",4),R()(),Z(8,Vye,4,3,"div",5),ce(9,"async"),R()),2&t&&(A(3),yt(pe(4,3,"game.engagement-tool.Leaderboard")),A(2),V("ngIf",e.mission.update.joinCount>e.topValue),A(3),V("ngIf",pe(9,5,e.status.update$)))},directives:[Ht,Ou,vi,Dye,Ul],pipes:[dn,Ps],styles:[".modal-content[_ngcontent-%COMP%]{position:relative;height:100vh;max-height:800px;min-width:344px;width:100%}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-content[_ngcontent-%COMP%]   .top-description[_ngcontent-%COMP%]{margin-left:4px}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin:auto 0}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .no-players[_ngcontent-%COMP%]{width:100%;margin:auto 0}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]{font-size:20px;font-weight:500;line-height:24px;text-align:center}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a3a3a3;font-size:14px;font-weight:400}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]{position:relative;width:100%;max-height:764px;overflow-y:auto;flex-grow:1}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.outsideList[_ngcontent-%COMP%]{display:none}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:first-child, .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.afterActiveUser[_ngcontent-%COMP%]{border-radius:8px 8px 0 0}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:last-child, .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.beforeActiveUser[_ngcontent-%COMP%]{border-radius:0 0 8px 8px}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.singleListItem[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:first-child.beforeActiveUser, .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:last-child.afterActiveUser{border-radius:8px}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]{position:relative}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .scroll-to-top[_ngcontent-%COMP%]{position:absolute;top:-46px;left:0;display:flex;justify-content:center;width:100%;z-index:100;opacity:0;transition:opacity .3s}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .scroll-to-top.visible[_ngcontent-%COMP%]{opacity:1}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .scroll-to-top[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;min-width:112px;padding:12px 24px;border-radius:32px;background:#2e2e2e;color:#e0e0e0;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;font-weight:600}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .blur-block[_ngcontent-%COMP%]{position:absolute;display:flex;top:-72px;left:0;width:100%;height:72px;background:linear-gradient(180deg,rgba(26,26,26,0) 0%,rgba(26,26,26,.6) 100%)}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .active-user-container[_ngcontent-%COMP%]   .active-user-item[_ngcontent-%COMP%]{padding-top:16px;border-radius:8px}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .total-prizes[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:40px;background:inherit;color:#7a7a7a;text-align:center;font-size:12px;font-weight:500}"],changeDetection:0}),Lf=We([oi()],Lf);let k_=(()=>{class n{constructor(e){this.ngbModal=e,this.defaultOptions={windowClass:"modal-challenge"}}open(e,i){this.ngbModal.open(e,Object.assign(Object.assign({},this.defaultOptions),null!=i?i:{}))}}return n.\u0275fac=function(e){return new(e||n)(Fe(RE))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();var br=(()=>(function(n){n.CatchMultiplier="CATCH_MULTIPLIER",n.CatchMultiplierTimes="CATCH_MULTIPLIER_TIMES",n.WinMoneyInTotal="WIN_MONEY_IN_TOTAL",n.WinRounds="WIN_ROUNDS",n.WinRoundsCustomMinBet="WIN_ROUNDS_CUSTOM_MIN_BET",n.BetInTotal="BET_IN_TOTAL",n.BetInRoundMaxReachedMultiplier="BET_IN_ROUND_MAX_REACHED_MULTIPLIER",n.PlayRounds="PLAY_ROUNDS",n.PlayRoundsMaxReachedMultiplier="PLAY_ROUNDS_MAX_REACHED_MULTIPLIER",n.CollectCashOutsMultiplierSum="COLLECT_CASH_OUTS_MULTIPLIER_SUM"}(br||(br={})),br))(),Na=(()=>(function(n){n.WinRounds="win-rounds",n.WinMoney="win-money",n.PlayRounds="play-rounds",n.CollectCashouts="collect-cashouts",n.CatchX="catch-x",n.MakeBets="make-bets"}(Na||(Na={})),Na))();const Wye={[br.PlayRounds]:Na.PlayRounds,[br.CatchMultiplier]:Na.CatchX,[br.CatchMultiplierTimes]:Na.CatchX,[br.WinRounds]:Na.WinRounds,[br.WinRoundsCustomMinBet]:Na.WinRounds,[br.BetInRoundMaxReachedMultiplier]:Na.MakeBets,[br.PlayRoundsMaxReachedMultiplier]:Na.PlayRounds,[br.WinMoneyInTotal]:Na.WinMoney,[br.BetInTotal]:Na.MakeBets,[br.CollectCashOutsMultiplierSum]:Na.CollectCashouts};var la=(()=>(function(n){n.OnlyNumbers="onlyNumbers",n.Currency="currency",n.Multiplier="multiplier"}(la||(la={})),la))();const Yye={[br.PlayRounds]:la.OnlyNumbers,[br.CatchMultiplier]:la.OnlyNumbers,[br.CatchMultiplierTimes]:la.OnlyNumbers,[br.WinRounds]:la.OnlyNumbers,[br.WinRoundsCustomMinBet]:la.OnlyNumbers,[br.BetInRoundMaxReachedMultiplier]:la.OnlyNumbers,[br.PlayRoundsMaxReachedMultiplier]:la.OnlyNumbers,[br.WinMoneyInTotal]:la.Currency,[br.BetInTotal]:la.Currency,[br.CollectCashOutsMultiplierSum]:la.Multiplier};function zye(n,t){if(1&n&&(ft(0),x(1,"span",7),H(2),R(),H(3),pt()),2&n){const e=ee();A(2),yt(e.task.progress),A(1),me(" of ",e.task.goal," ")}}function $ye(n,t){if(1&n&&(ft(0),x(1,"span",7),H(2),ce(3,"currencyPrecision"),R(),H(4),ce(5,"currencyPrecision"),pt()),2&n){const e=ee();A(2),yt(pe(3,3,e.task.progress)),A(2),pi(" of ",pe(5,5,e.task.goal)," ",e.currency," ")}}function Xye(n,t){if(1&n&&(ft(0),x(1,"span",7),H(2),R(),H(3),pt()),2&n){const e=ee();A(2),yt(e.task.progress),A(1),me("x of ",e.task.goal,"x ")}}let qye=(()=>{class n{constructor(){this.group=la}get currentGroupName(){return Yye[this.task.name]}get currentProgress(){return this.task.progress/this.task.goal}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-task-progress"]],inputs:{task:"task",currency:"currency",isEnabled:"isEnabled",isError:"isError"},decls:11,vars:15,consts:[[1,"progress-box","w-100"],[1,"progress-bg","w-100"],[1,"progress-bar"],[1,"progress-footer"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"progress-percent"],[1,"progress-value"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1),ve(2,"div",2),R(),x(3,"div",3)(4,"div",4),Z(5,zye,4,2,"ng-container",5),Z(6,$ye,6,7,"ng-container",5),Z(7,Xye,4,2,"ng-container",5),R(),x(8,"span",6),H(9),ce(10,"percent"),R()()()),2&e&&(vt("live",i.isEnabled)("success",i.isEnabled&&1===i.currentProgress)("error",i.isError),A(2),Nl("width",100*i.currentProgress+"%"),A(2),V("ngSwitch",i.currentGroupName),A(1),V("ngSwitchCase",i.group.OnlyNumbers),A(1),V("ngSwitchCase",i.group.Currency),A(1),V("ngSwitchCase",i.group.Multiplier),A(2),yt(pe(10,13,i.currentProgress)))},directives:[Go,ws],pipes:[Gr,X3],styles:[".progress-box[_ngcontent-%COMP%]{position:relative}.progress-box[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]{height:4px;width:100%;background-color:#ffffff0d;border-radius:2px;overflow:hidden;margin-bottom:4px}.progress-box[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#ffffff1a}.progress-box[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:#7a7a7a;font-size:10px;font-weight:500;line-height:normal;letter-spacing:-.25px}.progress-box[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#525252}.progress-box.live[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,222,92,.6) 0%,#ffde5c 100%)}.progress-box.live[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#ffde5c}.progress-box.success[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(121,226,121,.6) 0%,#79e279 100%)}.progress-box.success[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#79e279}.progress-box.error[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(242,84,84,.6) 0%,#f35656 100%)}.progress-box.error[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#f35656}"],changeDetection:0}),n})(),Kye=(()=>{class n{constructor(e){this.currencyPrecisionPipe=e}get groupName(){return Wye[this.task.name]}get nameParams(){return Object.assign(Object.assign({},this.task.nameParams),{minBet:this.currencyPrecisionPipe.transform(this.task.nameParams.minBet),amount:this.currencyPrecisionPipe.transform(this.task.nameParams.amount)})}}return n.\u0275fac=function(e){return new(e||n)(X(Gr))},n.\u0275cmp=et({type:n,selectors:[["app-task"]],inputs:{task:"task",currency:"currency",isProgressEnabled:"isProgressEnabled",isError:"isError"},decls:7,vars:9,consts:[[1,"task-holder"],[1,"task-icon","flex-shrink-0",3,"ngClass"],[1,"task-info"],[1,"task-name"],[3,"task","currency","isEnabled","isError"]],template:function(e,i){1&e&&(x(0,"div",0),ve(1,"div",1),x(2,"div",2)(3,"div",3),H(4),ce(5,"translate"),R(),ve(6,"app-task-progress",4),R()()),2&e&&(A(1),V("ngClass",i.groupName),A(3),me(" ",tn(5,6,"game.engagement-tool.tasks."+i.task.name,i.nameParams)," "),A(2),V("task",i.task)("currency",i.currency)("isEnabled",i.isProgressEnabled)("isError",i.isError))},directives:[Ul,qye],pipes:[dn],styles:[".task-holder[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px}.task-holder[_ngcontent-%COMP%]   .task-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-right:8px;background-size:32px;background-position:center;background-repeat:no-repeat}.task-holder[_ngcontent-%COMP%]   .win-rounds[_ngcontent-%COMP%]{background-image:url(win-rounds.fb255786ec80bbac.svg)}.task-holder[_ngcontent-%COMP%]   .win-money[_ngcontent-%COMP%]{background-image:url(win-money.8a6c5b205fcc8ceb.svg)}.task-holder[_ngcontent-%COMP%]   .play-rounds[_ngcontent-%COMP%]{background-image:url(play-rounds.274cb5d798e59525.svg)}.task-holder[_ngcontent-%COMP%]   .collect-cashouts[_ngcontent-%COMP%]{background-image:url(collect-cashouts.bcac814996ac471a.svg)}.task-holder[_ngcontent-%COMP%]   .catch-x[_ngcontent-%COMP%]{background-image:url(catch-x.e3e95d64dbab4213.svg)}.task-holder[_ngcontent-%COMP%]   .make-bets[_ngcontent-%COMP%]{background-image:url(make-bets.9b323891b41c3a17.svg)}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{width:100%;line-height:16px}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{margin-bottom:8px}"],changeDetection:0}),n})();function Jye(n,t){if(1&n){const e=dt();x(0,"button",7),Ce("click",function(){return it(e),ee().showLeaderboard()}),x(1,"span",8),H(2),ce(3,"translate"),R()()}2&n&&(A(2),yt(pe(3,1,"game.engagement-tool.Leaderboard")))}function Qye(n,t){if(1&n&&(x(0,"li",9),ve(1,"app-task",10),R()),2&n){const e=t.$implicit,i=t.index,r=ee();A(1),EM("task-item-",i,""),V("task",e)("currency",r.currency)("isProgressEnabled",r.missionStatus===r.MissionStatus.Active||r.missionStatus===r.MissionStatus.Finished&&e.progress/e.goal==1)("isError",r.isError)}}let Zye=(()=>{class n{constructor(e){this.modalService=e,this.tasks=[],this.PlayerStatus=Ls,this.MissionStatus=na,this.ChallengeTypeUI=To}showLeaderboard(){this.modalService.open(Lf)}}return n.\u0275fac=function(e){return new(e||n)(X(k_))},n.\u0275cmp=et({type:n,selectors:[["app-challenge-tasks"]],inputs:{tasks:"tasks",currency:"currency",playerStatus:"playerStatus",missionStatus:"missionStatus",isError:"isError",challengeType:"challengeType"},decls:9,vars:5,consts:[[1,"challenge-tasks"],[1,"tasks-header"],[1,"title"],["type","button","class","btn-link link-how-it-works d-flex align-items-center",3,"click",4,"ngIf"],[1,"tasks-body"],[1,"tasks"],["class","task",4,"ngFor","ngForOf"],["type","button",1,"btn-link","link-how-it-works","d-flex","align-items-center",3,"click"],[1,"button-text"],[1,"task"],[3,"task","currency","isProgressEnabled","isError"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1)(2,"span",2),H(3),ce(4,"translate"),R(),Z(5,Jye,4,3,"button",3),R(),x(6,"div",4)(7,"ul",5),Z(8,Qye,2,7,"li",6),R()()()),2&e&&(A(3),yt(pe(4,3,"game.engagement-tool.Tasks")),A(2),V("ngIf",i.challengeType===i.ChallengeTypeUI.X_RACE),A(3),V("ngForOf",i.tasks))},directives:[Ht,vi,Kye],pipes:[dn],styles:["[_nghost-%COMP%]{width:100%}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]{background-color:#1f1f1f;border-radius:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]{padding:0;margin:0}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]{list-style-type:none;border-bottom:1px solid #242424}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:last-child{border-bottom:none}"],changeDetection:0}),n})();function ebe(n,t){if(1&n&&(ft(0),x(1,"div",14),H(2),ce(3,"translate"),R(),x(4,"div",15),H(5),ce(6,"translate"),R(),pt()),2&n){const e=t.$implicit,i=ee(2);A(2),me(" ",tn(3,2,"game.engagement-tool.tasks."+e.name,i.nameParams(e))," "),A(3),me(" ",tn(6,5,"game.engagement-tool.mission_rules.xRace.tasks."+e.name,i.nameParams(e))," ")}}function tbe(n,t){if(1&n){const e=dt();ft(0),x(1,"div",2)(2,"span"),H(3),ce(4,"translate"),R(),x(5,"button",3),Ce("click",function(){return it(e),ee().close()}),ve(6,"span",4),R()(),x(7,"div",5)(8,"div",6),H(9),ce(10,"translate"),R(),x(11,"section",7)(12,"div",8),H(13),ce(14,"translate"),R(),x(15,"ul",9)(16,"li"),H(17),ce(18,"translate"),R(),x(19,"li"),H(20),ce(21,"translate"),R(),x(22,"li"),H(23),ce(24,"translate"),R(),x(25,"li"),H(26),ce(27,"translate"),R(),x(28,"li"),H(29),ce(30,"translate"),R(),x(31,"li"),H(32),ce(33,"translate"),R(),x(34,"li"),H(35),ce(36,"translate"),R()()(),x(37,"section",10)(38,"div",8),H(39),ce(40,"translate"),R(),x(41,"div"),H(42),ce(43,"translate"),R(),Z(44,ebe,7,8,"ng-container",11),ce(45,"async"),x(46,"div",12),H(47),ce(48,"translate"),R()(),x(49,"section",13)(50,"div",8),H(51),ce(52,"translate"),R(),x(53,"ul",9)(54,"li"),H(55),ce(56,"translate"),R(),x(57,"li"),H(58),ce(59,"translate"),R(),x(60,"li"),H(61),ce(62,"translate"),R(),x(63,"li"),H(64),ce(65,"translate"),R(),x(66,"li"),H(67),ce(68,"translate"),R(),x(69,"li"),H(70),ce(71,"translate"),R()()()(),pt()}if(2&n){const e=ee();A(3),yt(pe(4,21,"game.engagement-tool.mission_rules.xRace.title")),A(6),me(" ",pe(10,23,"game.engagement-tool.mission_rules.xRace.Step_into")," "),A(4),me(" ",pe(14,25,"game.engagement-tool.mission_rules.xRace.rules.title")," "),A(4),me(" ",pe(18,27,"game.engagement-tool.mission_rules.xRace.rules.point1")," "),A(3),me(" ",pe(21,29,"game.engagement-tool.mission_rules.xRace.rules.point2")," "),A(3),me(" ",pe(24,31,"game.engagement-tool.mission_rules.xRace.rules.point3")," "),A(3),me(" ",pe(27,33,"game.engagement-tool.mission_rules.xRace.rules.point4")," "),A(3),me(" ",pe(30,35,"game.engagement-tool.mission_rules.xRace.rules.point5")," "),A(3),me(" ",pe(33,37,"game.engagement-tool.mission_rules.xRace.rules.point6")," "),A(3),me(" ",pe(36,39,"game.engagement-tool.mission_rules.xRace.rules.point7")," "),A(4),me(" ",pe(40,41,"game.engagement-tool.mission_rules.xRace.tasks.title")," "),A(3),me(" ",pe(43,43,"game.engagement-tool.mission_rules.xRace.tasks.Before_you_begin")," "),A(2),V("ngForOf",pe(45,45,e.task.update$).tasks),A(3),me(" ",pe(48,47,"game.engagement-tool.mission_rules.xRace.Please_note")," "),A(4),me(" ",pe(52,49,"game.engagement-tool.mission_rules.xRace.prizes.title")," "),A(4),me(" ",pe(56,51,"game.engagement-tool.mission_rules.xRace.prizes.point1")," "),A(3),me(" ",pe(59,53,"game.engagement-tool.mission_rules.xRace.prizes.point2")," "),A(3),me(" ",pe(62,55,"game.engagement-tool.mission_rules.xRace.prizes.point3")," "),A(3),me(" ",pe(65,57,"game.engagement-tool.mission_rules.xRace.prizes.point4")," "),A(3),me(" ",pe(68,59,"game.engagement-tool.mission_rules.xRace.prizes.point5")," "),A(3),me(" ",pe(71,61,"game.engagement-tool.mission_rules.xRace.prizes.point6")," ")}}function nbe(n,t){if(1&n&&(ft(0),x(1,"div",14),H(2),ce(3,"translate"),R(),x(4,"div",15),H(5),ce(6,"translate"),R(),pt()),2&n){const e=t.$implicit,i=ee(2);A(2),me(" ",tn(3,2,"game.engagement-tool.tasks."+e.name,i.nameParams(e))," "),A(3),me(" ",tn(6,5,"game.engagement-tool.mission_rules.xMission.tasks."+e.name,i.nameParams(e))," ")}}function ibe(n,t){if(1&n){const e=dt();ft(0),x(1,"div",2)(2,"span"),H(3),ce(4,"translate"),R(),x(5,"button",3),Ce("click",function(){return it(e),ee().close()}),ve(6,"span",4),R()(),x(7,"div",5)(8,"div",6),H(9),ce(10,"translate"),R(),x(11,"section",7)(12,"div",8),H(13),ce(14,"translate"),R(),x(15,"ul",9)(16,"li"),H(17),ce(18,"translate"),R(),x(19,"li"),H(20),ce(21,"translate"),R(),x(22,"li"),H(23),ce(24,"translate"),R(),x(25,"li"),H(26),ce(27,"translate"),R(),x(28,"li"),H(29),ce(30,"translate"),R(),x(31,"li"),H(32),ce(33,"translate"),R(),x(34,"li"),H(35),ce(36,"translate"),R()()(),x(37,"section",10)(38,"div",8),H(39),ce(40,"translate"),R(),x(41,"div"),H(42),ce(43,"translate"),R(),Z(44,nbe,7,8,"ng-container",11),ce(45,"async"),x(46,"div",12),H(47),ce(48,"translate"),R()(),x(49,"section",13)(50,"div",8),H(51),ce(52,"translate"),R(),x(53,"ul",9)(54,"li"),H(55),ce(56,"translate"),R(),x(57,"li"),H(58),ce(59,"translate"),R(),x(60,"li"),H(61),ce(62,"translate"),R(),x(63,"li"),H(64),ce(65,"translate"),R()()()(),pt()}if(2&n){const e=ee();A(3),yt(pe(4,19,"game.engagement-tool.mission_rules.xMission.title")),A(6),me(" ",pe(10,21,"game.engagement-tool.mission_rules.xMission.Step_into")," "),A(4),me(" ",pe(14,23,"game.engagement-tool.mission_rules.xMission.rules.title")," "),A(4),me(" ",pe(18,25,"game.engagement-tool.mission_rules.xMission.rules.point1")," "),A(3),me(" ",pe(21,27,"game.engagement-tool.mission_rules.xMission.rules.point2")," "),A(3),me(" ",pe(24,29,"game.engagement-tool.mission_rules.xMission.rules.point3")," "),A(3),me(" ",pe(27,31,"game.engagement-tool.mission_rules.xMission.rules.point4")," "),A(3),me(" ",pe(30,33,"game.engagement-tool.mission_rules.xMission.rules.point5")," "),A(3),me(" ",pe(33,35,"game.engagement-tool.mission_rules.xMission.rules.point6")," "),A(3),me(" ",pe(36,37,"game.engagement-tool.mission_rules.xMission.rules.point7")," "),A(4),me(" ",pe(40,39,"game.engagement-tool.mission_rules.xMission.tasks.title")," "),A(3),me(" ",pe(43,41,"game.engagement-tool.mission_rules.xMission.tasks.Before_you_begin")," "),A(2),V("ngForOf",pe(45,43,e.task.update$).tasks),A(3),me(" ",pe(48,45,"game.engagement-tool.mission_rules.xMission.Please_note")," "),A(4),me(" ",pe(52,47,"game.engagement-tool.mission_rules.xMission.prizes.title")," "),A(4),me(" ",pe(56,49,"game.engagement-tool.mission_rules.xMission.prizes.point1")," "),A(3),me(" ",pe(59,51,"game.engagement-tool.mission_rules.xMission.prizes.point2")," "),A(3),me(" ",pe(62,53,"game.engagement-tool.mission_rules.xMission.prizes.point3")," "),A(3),me(" ",pe(65,55,"game.engagement-tool.mission_rules.xMission.prizes.point4")," ")}}let $h=class{constructor(t,e,i,r,o){this.activeModal=t,this.stomp=e,this.task=i,this.currencyPrecisionPipe=r,this.mission=o,this.ChallengeTypeUI=To,this.challengeType$=this.mission.update$.pipe(ye(({type:s})=>s))}ngOnInit(){this.stomp.state$.pipe(gt(this),Lt(t=>t.state===fs.Disconnected)).subscribe(()=>{this.close()})}nameParams(t){return Object.assign(Object.assign({},t.nameParams),{minBet:this.currencyPrecisionPipe.transform(t.nameParams.minBet),amount:this.currencyPrecisionPipe.transform(t.nameParams.amount)})}close(){this.activeModal.close()}};function rbe(n,t){if(1&n){const e=dt();ft(0),x(1,"div",2)(2,"span"),H(3),ce(4,"translate"),R(),x(5,"button",3),Ce("click",function(){return it(e),ee().close()}),ve(6,"span",4),R()(),x(7,"div",5)(8,"div",6),H(9),ce(10,"translate"),R(),x(11,"div",7),H(12),ce(13,"translate"),R(),x(14,"ol",8),ve(15,"img",9),x(16,"li"),H(17),ce(18,"translate"),R(),x(19,"div",10),H(20),ce(21,"translate"),R(),ve(22,"img",11),x(23,"li"),H(24),ce(25,"translate"),R(),x(26,"div",10),H(27),ce(28,"translate"),R(),ve(29,"img",12),x(30,"li"),H(31),ce(32,"translate"),R(),x(33,"div",10),H(34),ce(35,"translate"),R(),ve(36,"img",13),x(37,"li"),H(38),ce(39,"translate"),R(),x(40,"div",10),H(41),ce(42,"translate"),R()(),x(43,"div",14),H(44),ce(45,"translate"),R(),x(46,"div",15),Ce("click",function(){return it(e),ee().showMissionRules()}),H(47),ce(48,"translate"),R()(),pt()}if(2&n){const e=ee();A(3),yt(pe(4,21,"game.engagement-tool.how_to_play.xRace.title")),A(6),me(" ",pe(10,23,"game.engagement-tool.how_to_play.xRace.Welcome")," "),A(3),me(" ",pe(13,25,"game.engagement-tool.how_to_play.xRace.Here\u2019s_how_it_works")," "),A(3),V("srcset",e.getSrcSet("join.png","join@2x.png","join@3x.png"),fn)("src",e.getFullImgPath("join.png"),fn),A(2),me(" ",pe(18,27,"game.engagement-tool.how_to_play.xRace.join_the_mission.title")," "),A(3),me(" ",pe(21,29,"game.engagement-tool.how_to_play.xRace.join_the_mission.text")," "),A(2),V("srcset",e.getSrcSet("progress.png","progress@2x.png","progress@3x.png"),fn)("src",e.getFullImgPath("progress.png"),fn),A(2),me(" ",pe(25,31,"game.engagement-tool.how_to_play.xRace.task_progress.title")," "),A(3),me(" ",pe(28,33,"game.engagement-tool.how_to_play.xRace.task_progress.text")," "),A(2),V("srcset",e.getSrcSet("big-prize.png","big-prize@2x.png","big-prize@3x.png"),fn)("src",e.getFullImgPath("big-prize.png"),fn),A(2),me(" ",pe(32,35,"game.engagement-tool.how_to_play.xRace.fight_for_your_prize.title")," "),A(3),me(" ",pe(35,37,"game.engagement-tool.how_to_play.xRace.fight_for_your_prize.text")," "),A(2),V("srcset",e.getSrcSet("mission-completion.png","mission-completion@2x.png","mission-completion@3x.png"),fn)("src",e.getFullImgPath("mission-completion.png"),fn),A(2),me(" ",pe(39,39,"game.engagement-tool.how_to_play.xRace.mission_completion.title")," "),A(3),me(" ",pe(42,41,"game.engagement-tool.how_to_play.xRace.mission_completion.text")," "),A(3),me(" ",pe(45,43,"game.engagement-tool.how_to_play.xRace.Join_the_mission")," "),A(3),me(" ",pe(48,45,"game.engagement-tool.how_to_play.xRace.Detailed_Mission_rules")," ")}}function obe(n,t){if(1&n){const e=dt();ft(0),x(1,"div",2)(2,"span"),H(3),ce(4,"translate"),R(),x(5,"button",3),Ce("click",function(){return it(e),ee().close()}),ve(6,"span",4),R()(),x(7,"div",5)(8,"div",6),H(9),ce(10,"translate"),R(),x(11,"div",7),H(12),ce(13,"translate"),R(),x(14,"ol",8),ve(15,"img",9),x(16,"li"),H(17),ce(18,"translate"),R(),x(19,"div",10),H(20),ce(21,"translate"),R(),ve(22,"img",11),x(23,"li"),H(24),ce(25,"translate"),R(),x(26,"div",10),H(27),ce(28,"translate"),R(),ve(29,"img",12),x(30,"li"),H(31),ce(32,"translate"),R(),x(33,"div",10),H(34),ce(35,"translate"),R(),ve(36,"img",13),x(37,"li"),H(38),ce(39,"translate"),R(),x(40,"div",10),H(41),ce(42,"translate"),R()(),x(43,"div",14),H(44),ce(45,"translate"),R(),x(46,"div",15),Ce("click",function(){return it(e),ee().showMissionRules()}),H(47),ce(48,"translate"),R()(),pt()}if(2&n){const e=ee();A(3),yt(pe(4,21,"game.engagement-tool.how_to_play.xMission.title")),A(6),me(" ",pe(10,23,"game.engagement-tool.how_to_play.xMission.Welcome")," "),A(3),me(" ",pe(13,25,"game.engagement-tool.how_to_play.xMission.Here\u2019s_how_it_works")," "),A(3),V("srcset",e.getSrcSet("join.png","join@2x.png","join@3x.png"),fn)("src",e.getFullImgPath("join.png"),fn),A(2),me(" ",pe(18,27,"game.engagement-tool.how_to_play.xMission.join_the_mission.title")," "),A(3),me(" ",pe(21,29,"game.engagement-tool.how_to_play.xMission.join_the_mission.text")," "),A(2),V("srcset",e.getSrcSet("progress.png","progress@2x.png","progress@3x.png"),fn)("src",e.getFullImgPath("progress.png"),fn),A(2),me(" ",pe(25,31,"game.engagement-tool.how_to_play.xMission.task_progress.title")," "),A(3),me(" ",pe(28,33,"game.engagement-tool.how_to_play.xMission.task_progress.text")," "),A(2),V("srcset",e.getSrcSet("big-prize.png","big-prize@2x.png","big-prize@3x.png"),fn)("src",e.getFullImgPath("big-prize.png"),fn),A(2),me(" ",pe(32,35,"game.engagement-tool.how_to_play.xMission.fight_for_your_prize.title")," "),A(3),me(" ",pe(35,37,"game.engagement-tool.how_to_play.xMission.fight_for_your_prize.text")," "),A(2),V("srcset",e.getSrcSet("mission-completion.png","mission-completion@2x.png","mission-completion@3x.png"),fn)("src",e.getFullImgPath("mission-completion.png"),fn),A(2),me(" ",pe(39,39,"game.engagement-tool.how_to_play.xMission.mission_completion.title")," "),A(3),me(" ",pe(42,41,"game.engagement-tool.how_to_play.xMission.mission_completion.text")," "),A(3),me(" ",pe(45,43,"game.engagement-tool.how_to_play.xMission.Join_the_mission")," "),A(3),me(" ",pe(48,45,"game.engagement-tool.how_to_play.xMission.Detailed_Mission_rules")," ")}}$h.\u0275fac=function(t){return new(t||$h)(X(So),X(Bc),X(F0),X(D0),X(ol))},$h.\u0275cmp=et({type:$h,selectors:[["app-mission-rules"]],decls:4,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[1,"intro"],[1,"rules"],[1,"title"],[1,"p-0","m-0","pl-3"],[1,"tasks"],[4,"ngFor","ngForOf"],[1,"task-note"],[1,"prizes"],[1,"task-name"],[1,"task-description"]],template:function(t,e){1&t&&(ft(0,0),ce(1,"async"),Z(2,tbe,72,63,"ng-container",1),Z(3,ibe,66,57,"ng-container",1),pt()),2&t&&(V("ngSwitch",pe(1,3,e.challengeType$)),A(2),V("ngSwitchCase",e.ChallengeTypeUI.X_RACE),A(1),V("ngSwitchCase",e.ChallengeTypeUI.X_MISSION))},directives:[Go,ws,vi],pipes:[Ps,dn],styles:[".modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 8px 8px 24px 8px;color:#a3a3a3;font-size:14px;font-weight:600;line-height:20px}.modal-body[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{padding:0 8px}.modal-body[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:24px 8px 0}.modal-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#e0e0e0;padding-bottom:16px;font-size:20px;font-weight:500;line-height:24px}.modal-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;padding-bottom:0}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{color:#ffde5c;font-weight:600;padding-top:16px;padding-bottom:8px}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{font-weight:400}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-note[_ngcontent-%COMP%]{font-weight:400;padding-top:16px}"],changeDetection:0}),$h=We([oi()],$h);let Uf=class{constructor(t,e,i,r){this.activeModal=t,this.stomp=e,this.modal=i,this.mission=r,this.ChallengeTypeUI=To,this.challengeType$=this.mission.update$.pipe(ye(({type:o})=>o))}ngOnInit(){this.stomp.state$.pipe(gt(this),Lt(t=>t.state===fs.Disconnected)).subscribe(()=>{this.close()})}getFullImgPath(t){return"assets/images/engagement-tools/"+t}getSrcSet(t,e,i){return`${this.getFullImgPath(t)}, ${this.getFullImgPath(e)} 2x, ${this.getFullImgPath(i)} 3x`}showMissionRules(){this.modal.open($h)}close(){this.activeModal.close()}};Uf.\u0275fac=function(t){return new(t||Uf)(X(So),X(Bc),X(k_),X(ol))},Uf.\u0275cmp=et({type:Uf,selectors:[["app-how-it-works"]],decls:4,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[1,"intro"],[1,"title"],[1,"d-flex","flex-column","justify-content-center","align-items-start"],["alt","join",1,"img","img-join",3,"srcset","src"],[1,"step-description"],["alt","progress",1,"img","img-progress",3,"srcset","src"],["alt","big-prize",1,"img","img-prize",3,"srcset","src"],["alt","mission-completion",1,"img","img-mission-completion",3,"srcset","src"],[1,"outro"],[1,"btn-link","text-center",3,"click"]],template:function(t,e){1&t&&(ft(0,0),ce(1,"async"),Z(2,rbe,49,47,"ng-container",1),Z(3,obe,49,47,"ng-container",1),pt()),2&t&&(V("ngSwitch",pe(1,3,e.challengeType$)),A(2),V("ngSwitchCase",e.ChallengeTypeUI.X_RACE),A(1),V("ngSwitchCase",e.ChallengeTypeUI.X_MISSION))},directives:[Go,ws],pipes:[Ps,dn],styles:[".modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 8px 8px 24px 8px;color:#a3a3a3;font-size:14px;font-style:normal;font-weight:600;line-height:20px}.modal-body[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{padding:0 8px}.modal-body[_ngcontent-%COMP%]   .outro[_ngcontent-%COMP%]{padding:8px 8px 24px}.modal-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:500;line-height:24px;padding:24px 8px 16px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:0;padding:0}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .step-description[_ngcontent-%COMP%]{font-weight:400;padding:0 8px;margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;border-radius:10px;margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:28px;margin-bottom:8px;color:#ffde5c;font-weight:600;line-height:20px}.modal-body[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{font-size:12px;font-weight:600;line-height:normal;color:#ffde5c;cursor:pointer}"]}),Uf=We([oi()],Uf);let sbe=(()=>{class n{constructor(e){this.modalService=e}openHowToPlayModal(){this.modalService.open(Uf)}}return n.\u0275fac=function(e){return new(e||n)(X(k_))},n.\u0275cmp=et({type:n,selectors:[["app-challenge-get-more-info"]],decls:8,vars:6,consts:[[1,"challenge-get-more-info"],["type","button",1,"btn-link","d-flex","align-items-center",3,"click"],[1,"button-text"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div"),H(2),ce(3,"translate"),R(),x(4,"button",1),Ce("click",function(){return i.openHowToPlayModal()}),x(5,"span",2),H(6),ce(7,"translate"),R()()()),2&e&&(A(2),me(" ",pe(3,2,"game.engagement-tool.Get more information on participating:")," "),A(4),yt(pe(7,4,"game.engagement-tool.How_to_play")))},pipes:[dn],styles:["[_nghost-%COMP%]{width:100%}.challenge-get-more-info[_ngcontent-%COMP%]{color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;text-align:center}.challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:4px auto 0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}"],changeDetection:0}),n})();function abe(n,t){1&n&&ve(0,"img",13)}function lbe(n,t){1&n&&ve(0,"img",14)}function cbe(n,t){if(1&n&&(x(0,"span",15)(1,"span",16),H(2),ce(3,"number"),R(),H(4),ce(5,"translate"),R()),2&n){const e=ee(2);A(2),me("",tn(3,2,e.left,"1.0-1")," "),A(2),yt(pe(5,5,"game.engagement-tool.Left"))}}function ube(n,t){if(1&n&&(ft(0),H(1),pt()),2&n){const e=ee().$implicit;A(1),me(" ",e.name," ")}}function hbe(n,t){1&n&&(ft(0),H(1),ce(2,"translate"),pt()),2&n&&(A(1),me(" ",pe(2,1,"game.engagement-tool.Freebet")," "))}function dbe(n,t){if(1&n&&(ft(0),H(1),pt()),2&n){const e=ee().$implicit;A(1),me(" ",e.description," ")}}function fbe(n,t){if(1&n&&(ft(0),H(1),ce(2,"currencyPrecision"),pt()),2&n){const e=ee().$implicit,i=ee();A(1),pi(" ",pe(2,2,e.cost*e.quantity)," ",i.currency," ")}}function pbe(n,t){if(1&n&&(x(0,"div",5),Z(1,abe,1,0,"img",6),Z(2,lbe,1,0,"img",7),x(3,"div",8),Z(4,cbe,6,7,"span",9),x(5,"span",10),Z(6,ube,2,1,"ng-container",11),Z(7,hbe,3,3,"ng-container",11),R(),x(8,"span",12),Z(9,dbe,2,1,"ng-container",11),Z(10,fbe,3,4,"ng-container",11),R()()()),2&n){const e=t.$implicit,i=ee();A(1),V("ngIf",e.type===i.PrizeType.FreeBet),A(1),V("ngIf",e.type===i.PrizeType.Special),A(2),V("ngIf",i.challengeType===i.ChallengeTypeUI.X_RACE),A(2),V("ngIf",e.type===i.PrizeType.Special),A(1),V("ngIf",e.type===i.PrizeType.FreeBet),A(2),V("ngIf",e.type===i.PrizeType.Special),A(1),V("ngIf",e.type===i.PrizeType.FreeBet)}}let gbe=(()=>{class n{constructor(){this.PrizeType=Cf,this.ChallengeTypeUI=To,this.items=[],this.challengeType=To.X_RACE,this.isNetworkChallenge=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-challenge-prizes"]],inputs:{items:"items",left:"left",currency:"currency",challengeType:"challengeType",isNetworkChallenge:"isNetworkChallenge"},decls:7,vars:4,consts:[[1,"challenge-prizes"],[1,"prizes-header"],[1,"title"],[1,"prizes-body"],["class","prize-card",4,"ngFor","ngForOf"],[1,"prize-card"],["class","card-bg-image","srcSet","\n          assets/images/engagement-tools/prize-bg-freebet.png,\n          assets/images/engagement-tools/prize-bg-freebet@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-freebet@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-freebet.png","alt","prize-bg",4,"ngIf"],["class","card-bg-image","srcSet","\n          assets/images/engagement-tools/prize-bg-special.png,\n          assets/images/engagement-tools/prize-bg-special@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-special@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-special.png","alt","prize-bg",4,"ngIf"],[1,"card-content"],["class","badge-left",4,"ngIf"],[1,"card-title"],[4,"ngIf"],[1,"card-description"],["srcSet","\n          assets/images/engagement-tools/prize-bg-freebet.png,\n          assets/images/engagement-tools/prize-bg-freebet@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-freebet@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-freebet.png","alt","prize-bg",1,"card-bg-image"],["srcSet","\n          assets/images/engagement-tools/prize-bg-special.png,\n          assets/images/engagement-tools/prize-bg-special@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-special@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-special.png","alt","prize-bg",1,"card-bg-image"],[1,"badge-left"],[1,"amount"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1)(2,"span",2),H(3),ce(4,"translate"),R()(),x(5,"div",3),Z(6,pbe,11,7,"div",4),R()()),2&e&&(A(3),yt(pe(4,2,"game.engagement-tool.Prizes")),A(3),V("ngForOf",i.items))},directives:[vi,Ht],pipes:[dn,gg,D0],styles:["[_nghost-%COMP%]{width:100%}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{position:relative;width:100%;max-width:328px;height:160px;border-radius:8px;overflow:hidden}@media (min-width: 768px){.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{max-width:408px;height:160px}}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-bg-image[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translateY(-50%);height:100%;z-index:0;border-radius:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;height:100%;z-index:1;padding:12px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:4px;height:32px;padding:4px 12px;border-radius:64px;background-color:#ffffff0d;color:#fff;font-size:12px;font-weight:500;line-height:normal;margin-bottom:auto}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-left[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#ffde5c}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:800;line-height:normal;text-transform:uppercase;padding:0 4px;margin-top:auto;margin-bottom:4px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:normal;padding:0 4px}"],changeDetection:0}),n})();const D7=function(n){return{challenge:n}};let _be=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-challenge-info-other"]],inputs:{type:"type",startDate:"startDate",endDate:"endDate",minBet:"minBet",currency:"currency",currencyPrecision:"currencyPrecision"},decls:29,vars:38,consts:[[1,"challenge-info-other"],[1,"info-header"],[1,"title"],[1,"info-body"],[1,"info-row","row-start"],[1,"info-row-title"],[1,"info-row-value"],[1,"info-row","row-end"],[1,"info-row","row-min-bet"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1)(2,"span",2),H(3),ce(4,"translate"),R()(),x(5,"div",3)(6,"div",4)(7,"span",5),H(8),ce(9,"translate"),R(),x(10,"span",6),H(11),ce(12,"date"),ce(13,"date"),R()(),x(14,"div",7)(15,"span",5),H(16),ce(17,"translate"),R(),x(18,"span",6),H(19),ce(20,"date"),ce(21,"date"),R()(),x(22,"div",8)(23,"span",5),H(24),ce(25,"translate"),R(),x(26,"span",6),H(27),ce(28,"currencyPrecision"),R()()()()),2&e&&(A(3),yt(pe(4,10,"game.engagement-tool.Other_Information")),A(5),yt(tn(9,12,"game.engagement-tool.challenge starts:",Fr(34,D7,i.type))),A(3),pi("",tn(12,15,i.startDate,"HH:mm"),", ",tn(13,18,i.startDate,"dd.MM.yy"),""),A(5),yt(tn(17,21,"game.engagement-tool.challenge ends:",Fr(36,D7,i.type))),A(3),pi("",tn(20,24,i.endDate,"HH:mm"),", ",tn(21,27,i.endDate,"dd.MM.yy"),""),A(5),yt(pe(25,30,"game.engagement-tool.Min. Bet:")),A(3),pi("",pe(28,32,i.minBet)," ",i.currency,""))},pipes:[dn,vc,D0],styles:['[_nghost-%COMP%]{width:100%}.challenge-info-other[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]{padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]{background-color:#1f1f1f;border-radius:8px}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;height:40px;padding:8px;border-bottom:1px solid #242424}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]{color:#a3a3a3;font-size:14px;font-weight:400;line-height:normal;padding-left:32px;padding-right:10px}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{display:block;position:absolute;top:8px;left:8px;width:24px;height:24px;content:""}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-row-value[_ngcontent-%COMP%]{color:#e0e0e0;font-size:14px;font-weight:500;line-height:normal}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row.row-start[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{background:url(icon-calendar-yellow.aba2e3a6f6852598.svg) no-repeat center center/contain}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row.row-end[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{background:url(icon-finish-yellow.e8c521cdf65060e4.svg) no-repeat center center/contain}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row.row-min-bet[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{background:url(icon-coin-yellow.7fb5e989ad54a883.svg) no-repeat center center/contain}'],changeDetection:0}),n})(),mbe=(()=>{class n{constructor(e){this.modalService=e}openRulesModal(){this.modalService.open($h)}}return n.\u0275fac=function(e){return new(e||n)(X(k_))},n.\u0275cmp=et({type:n,selectors:[["app-challenge-disclaimer"]],decls:8,vars:6,consts:[[1,"challenge-disclaimer"],["type","button",1,"btn-link","d-flex","align-items-center",3,"click"],[1,"button-text"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div"),H(2),ce(3,"translate"),R(),x(4,"button",1),Ce("click",function(){return i.openRulesModal()}),x(5,"span",2),H(6),ce(7,"translate"),R()()()),2&e&&(A(2),yt(pe(3,2,"game.engagement-tool.mission_policy")),A(4),yt(pe(7,4,"game.engagement-tool.Detailed_rules")))},pipes:[dn],styles:["[_nghost-%COMP%]{width:100%}.challenge-disclaimer[_ngcontent-%COMP%]{color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;text-align:center}.challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:4px auto 0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}"],changeDetection:0}),n})();function vbe(n,t){if(1&n&&(ve(0,"app-challenge-message",16),ce(1,"translate")),2&n){const e=ee().ngIf;V("message",pe(1,1,ee().challengeMessages[e.missionUpdate.type].waitForStart))}}function ybe(n,t){if(1&n&&(ve(0,"app-challenge-message",16),ce(1,"translate")),2&n){const e=ee().ngIf;V("message",pe(1,1,ee().challengeMessages[e.missionUpdate.type].missionPaused))}}function bbe(n,t){if(1&n&&(ve(0,"app-challenge-message",16),ce(1,"translate")),2&n){const e=ee().ngIf;V("message",pe(1,1,ee().challengeMessages[e.missionUpdate.type].prizeClaimed))}}function Ebe(n,t){if(1&n&&(ve(0,"app-challenge-message",16),ce(1,"translate")),2&n){const e=ee().ngIf;V("message",pe(1,1,ee().challengeMessages[e.missionUpdate.type].missionOverSuccess))}}function Sbe(n,t){if(1&n&&(ve(0,"app-challenge-message",16),ce(1,"translate")),2&n){const e=ee().ngIf;V("message",pe(1,1,ee().challengeMessages[e.missionUpdate.type].missionOverFail))}}function Cbe(n,t){if(1&n&&(ve(0,"app-challenge-message",17),ce(1,"translate")),2&n){const e=ee().ngIf;V("message",pe(1,2,ee().challengeMessages[e.missionUpdate.type].minBetError))("isError",!0)}}const Tbe=function(n){return{challenge:n}};function Mbe(n,t){if(1&n){const e=dt();x(0,"button",18),Ce("click",function(){return it(e),ee(2).joinToMission()}),H(1),ce(2,"translate"),R()}if(2&n){const e=ee().ngIf;V("disabled",ee().waitingForResponse.join),A(1),me(" ",tn(2,2,"game.engagement-tool.Join_challenge",Fr(5,Tbe,e.missionUpdate.type))," ")}}function Obe(n,t){if(1&n){const e=dt();x(0,"button",19),Ce("click",function(){return it(e),ee(2).takePrize()}),ve(1,"span",20),H(2),ce(3,"translate"),R()}2&n&&(V("disabled",ee(2).waitingForResponse.takePrize),A(2),me(" ",pe(3,2,"game.engagement-tool.Take_my_Prize")," "))}function wbe(n,t){if(1&n){const e=dt();ft(0),x(1,"div",1),ve(2,"app-challenge-header-main",2)(3,"app-challenge-header-scrolled",3),x(4,"button",4),Ce("click",function(){return it(e),ee().close()}),ve(5,"span",5),R()(),x(6,"div",6),ve(7,"app-challenge-info-main",7),Z(8,vbe,2,3,"app-challenge-message",8),Z(9,ybe,2,3,"app-challenge-message",8),Z(10,bbe,2,3,"app-challenge-message",8),Z(11,Ebe,2,3,"app-challenge-message",8),Z(12,Sbe,2,3,"app-challenge-message",8),Z(13,Cbe,2,4,"app-challenge-message",9),x(14,"div",10),Z(15,Mbe,3,7,"button",11),Z(16,Obe,4,4,"button",12),R(),ve(17,"app-challenge-tasks",13)(18,"app-challenge-get-more-info")(19,"app-challenge-prizes",14)(20,"app-challenge-info-other",15)(21,"app-challenge-disclaimer"),R(),pt()}if(2&n){const e=t.ngIf,i=ee();A(2),V("missionStatus",e.statusUpdate.mission.status)("playerStatus",e.statusUpdate.player.status)("userCount",e.missionUpdate.joinCount)("isMinBetError",e.hasMinBetError),A(1),V("title",i.missionConfig.name),A(4),V("type",e.missionUpdate.type)("name",i.missionConfig.name)("startDate",i.missionConfig.startDate)("endDate",i.missionConfig.endDate)("progress",e.taskUpdate.totalProgress)("isMissionStarted",e.statusUpdate.mission.status===i.missionStatus.Active||e.statusUpdate.mission.status===i.missionStatus.Paused||e.statusUpdate.mission.status===i.missionStatus.Finished)("isMissionPaused",e.statusUpdate.mission.status===i.missionStatus.Paused)("isProgressEnabled",e.statusUpdate.mission.status===i.missionStatus.Active||e.statusUpdate.mission.status===i.missionStatus.Finished&&(e.statusUpdate.player.status===i.playerStatus.Won||e.statusUpdate.player.status===i.playerStatus.Rewarded))("isError",e.hasMinBetError),A(1),V("ngIf",e.statusUpdate.player.status===i.playerStatus.Joined&&e.statusUpdate.mission.status===i.missionStatus.Announced),A(1),V("ngIf",e.statusUpdate.mission.status===i.missionStatus.Paused&&e.statusUpdate.player.status!==i.playerStatus.Rewarded&&e.statusUpdate.player.status!==i.playerStatus.Won),A(1),V("ngIf",e.statusUpdate.player.status===i.playerStatus.Rewarded&&e.statusUpdate.mission.status!==i.missionStatus.Finished),A(1),V("ngIf",e.statusUpdate.player.status===i.playerStatus.Rewarded&&e.statusUpdate.mission.status===i.missionStatus.Finished),A(1),V("ngIf",e.statusUpdate.player.status===i.playerStatus.Joined&&e.statusUpdate.mission.status===i.missionStatus.Finished),A(1),V("ngIf",e.hasMinBetError),A(2),V("ngIf",e.statusUpdate.player.status===i.playerStatus.None&&(e.statusUpdate.mission.status===i.missionStatus.Announced||e.statusUpdate.mission.status===i.missionStatus.Active)),A(1),V("ngIf",e.statusUpdate.player.status===i.playerStatus.Won),A(1),V("challengeType",e.missionUpdate.type)("tasks",e.taskUpdate.tasks)("currency",i.missionConfig.currency)("playerStatus",e.statusUpdate.player.status)("missionStatus",e.statusUpdate.mission.status)("isError",e.hasMinBetError),A(2),V("items",i.prizeItems)("left",e.prizeUpdate.left)("currency",i.missionConfig.currency)("challengeType",e.missionUpdate.type)("isNetworkChallenge",i.missionConfig.isNetworkChallenge),A(1),V("type",e.missionUpdate.type)("startDate",i.missionConfig.startDate)("endDate",i.missionConfig.endDate)("minBet",i.missionConfig.minBet)("currency",i.missionConfig.currency)("currencyPrecision",i.missionConfig.currencyPrecision)}}let Gf=class{constructor(t,e,i,r,o,s,a,l,c){this.app=t,this.stomp=e,this.activeModal=i,this.cd=r,this.status=o,this.task=s,this.prize=a,this.mission=l,this.minBetError=c,this.data$=Wv({statusUpdate:this.status.update$,missionUpdate:this.mission.update$,taskUpdate:this.task.update$,prizeUpdate:this.prize.update$,hasMinBetError:this.minBetError.update$}),this.challengeMessages=Dve,this.missionStatus=na,this.playerStatus=Ls,this.PrizeType=Cf,this.waitingForResponse={takePrize:!1,join:!1}}get hasFreeBetPrize(){return this.prize.items.some(t=>t.type===Cf.FreeBet)}get missionConfig(){return this.mission.config}get prizeItems(){return this.prize.items}ngOnInit(){this.stomp.state$.pipe(gt(this),Lt(t=>t.state===fs.Disconnected)).subscribe(()=>{this.close()}),this.stomp.response(zo.TakePrize).pipe(Lt(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.takePrize=!1,this.cd.detectChanges()}),this.stomp.response(zo.Join).pipe(Lt(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.join=!1,this.cd.detectChanges()})}ngAfterViewInit(){this.bindScrollAnimation()}bindScrollAnimation(){fl.registerPlugin(Qi),fl.fromTo("#header-main",{opacity:1},{opacity:0,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top top",end:"top -75px",scrub:!0}}),fl.fromTo("#header-scrolled",{opacity:0},{opacity:1,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top -75px",end:"top -150px",scrub:!0}})}close(){this.activeModal.close()}joinToMission(){this.waitingForResponse.join=!0,this.stomp.request(Iu.Join,null)}takePrize(){this.waitingForResponse.takePrize=!0,this.stomp.request(Iu.TakePrize,null)}};Gf.\u0275fac=function(t){return new(t||Gf)(X(en),X(Bc),X(So),X(Tn),X(k0),X(F0),X(xS),X(ol),X(AS))},Gf.\u0275cmp=et({type:Gf,selectors:[["app-mission-details"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"modal-header"],["id","header-main",3,"missionStatus","playerStatus","userCount","isMinBetError"],["id","header-scrolled",3,"title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[3,"type","name","startDate","endDate","progress","isMissionStarted","isMissionPaused","isProgressEnabled","isError"],[3,"message",4,"ngIf"],[3,"message","isError",4,"ngIf"],[1,"action-button-container"],["type","button","class","btn btn-join",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-get-prize",3,"disabled","click",4,"ngIf"],[3,"challengeType","tasks","currency","playerStatus","missionStatus","isError"],[3,"items","left","currency","challengeType","isNetworkChallenge"],[3,"type","startDate","endDate","minBet","currency","currencyPrecision"],[3,"message"],[3,"message","isError"],["type","button",1,"btn","btn-join",3,"disabled","click"],["type","button",1,"btn","btn-get-prize",3,"disabled","click"],[1,"prize-icon"]],template:function(t,e){1&t&&(Z(0,wbe,22,39,"ng-container",0),ce(1,"async")),2&t&&V("ngIf",pe(1,1,e.data$))},directives:[Ht,dye,fye,vye,yye,Zye,sbe,gbe,_be,mbe],pipes:[Ps,dn],styles:["[_nghost-%COMP%]{position:relative}.modal-header[_ngcontent-%COMP%]{--modal-header-position: absolute;--modal-challenge-header-padding: 0;top:0;left:0;width:100%;z-index:2}.modal-header[_ngcontent-%COMP%]   app-challenge-header-main[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   app-challenge-header-scrolled[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{--modal-challenge-button-close-bg-color: rgba(255, 255, 255, .05)}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 0 8px 24px;display:flex;flex-direction:column;justify-content:flex-start;align-items:center}.modal-body[_ngcontent-%COMP%]   app-challenge-message[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#1f1f1f;font-size:16px;font-weight:600;line-height:normal;padding:8px 24px;width:160px;height:48px;border-radius:64px;margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;pointer-events:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus-visible{box-shadow:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffe270 0%,#ffda47 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #ffda4766}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]{background:linear-gradient(180deg,#8ae58a 0%,#68de68 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #68de6866}.modal-body[_ngcontent-%COMP%]   app-challenge-tasks[_ngcontent-%COMP%]{margin-bottom:8px;z-index:1}.modal-body[_ngcontent-%COMP%]   app-challenge-get-more-info[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-prizes[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-info-other[_ngcontent-%COMP%]{margin-bottom:24px}"],changeDetection:0}),Gf=We([oi()],Gf);let Pbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-progress-bar"]],inputs:{isError:"isError",isLive:"isLive",isSuccess:"isSuccess",currentProgress:"currentProgress"},decls:2,vars:8,consts:[[1,"bar-holder"],[1,"bar-fill"]],template:function(e,i){1&e&&(x(0,"div",0),ve(1,"div",1),R()),2&e&&(A(1),Nl("width",i.currentProgress+"%"),vt("error",i.isError)("success",i.isSuccess)("live",i.isLive&&!i.isSuccess))},styles:["[_nghost-%COMP%]{width:100%}.bar-holder[_ngcontent-%COMP%]{background-color:#ffffff0d;border-radius:10px;height:8px;overflow:hidden}.bar-holder[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:8px;background:rgba(255,255,255,.1);transition:width linear .6s}.bar-holder[_ngcontent-%COMP%]   .bar-fill.success[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(121,226,121,.6) 0%,#79e279 100%)}.bar-holder[_ngcontent-%COMP%]   .bar-fill.live[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,222,92,.6) 0%,#ffde5c 100%)}.bar-holder[_ngcontent-%COMP%]   .bar-fill.error[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(242,84,84,.6) 0%,#f35656 100%)}"],changeDetection:0}),n})(),xbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-progress-counter"]],inputs:{currentProgress:"currentProgress"},decls:3,vars:1,consts:[[1,"progress-count","d-flex","align-items-center"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"span"),H(2),R()()),2&e&&(A(2),me("",i.currentProgress,"%"))},styles:["[_nghost-%COMP%]   .progress-count[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:normal;letter-spacing:-.35px;color:#e0e0e0;opacity:.8}"],changeDetection:0}),n})(),Abe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-progress-indicator"]],inputs:{isError:"isError",isLive:"isLive",isSuccess:"isSuccess",currentProgress:"currentProgress"},decls:3,vars:5,consts:[[1,"progress-indicator","d-flex","align-items-center","justify-content-between"],[3,"currentProgress","isSuccess","isError","isLive"],[3,"currentProgress"]],template:function(e,i){1&e&&(x(0,"div",0),ve(1,"app-progress-bar",1)(2,"app-progress-counter",2),R()),2&e&&(A(1),V("currentProgress",i.currentProgress)("isSuccess",i.isSuccess)("isError",i.isError)("isLive",i.isLive),A(1),V("currentProgress",i.currentProgress))},directives:[Pbe,xbe],styles:["[_nghost-%COMP%]{flex-grow:1}.progress-indicator[_ngcontent-%COMP%]{padding:7px 21px 7px 16px;gap:13px;position:relative}"],changeDetection:0}),n})();function Rbe(n,t){if(1&n&&(ft(0),x(1,"span",2),H(2),ce(3,"number"),ce(4,"number"),ce(5,"number"),R(),pt()),2&n){const e=t.ngIf;A(2),sg(" ",tn(3,3,e.hours,"2.0"),":",tn(4,6,e.minutes,"2.0"),":",tn(5,9,e.seconds,"2.0")," ")}}let jf=class{constructor(){this.milSecInSec=1e3,this.hInDay=24,this.minInH=60,this.secInMin=60}ngOnInit(){this.timeLeft$=FR(1e3).pipe(gt(this),Th(0),ye(()=>this.calcDateDiff()))}calcDateDiff(){const t=this.startDate-Date.now();return t<=0?{seconds:0,minutes:0,hours:0}:{hours:Math.floor(t/(this.milSecInSec*this.minInH*this.secInMin)%this.hInDay),minutes:Math.floor(t/(this.milSecInSec*this.minInH)%this.secInMin),seconds:Math.floor(t/this.milSecInSec)%this.secInMin}}};function Ibe(n,t){1&n&&rh(0)}function Dbe(n,t){if(1&n&&(ft(0),ve(1,"app-challenge-status-badge",5),Z(2,Ibe,1,0,"ng-container",6),pt()),2&n){ee(2);const e=go(5),i=ee();A(1),V("status",i.MissionStatusUI.Upcoming),A(1),V("ngTemplateOutlet",e)}}function Nbe(n,t){1&n&&rh(0)}function kbe(n,t){if(1&n&&(ft(0),ve(1,"app-challenge-status-badge",5),Z(2,Nbe,1,0,"ng-container",6),pt()),2&n){ee(2);const e=go(5),i=ee();A(1),V("status",i.MissionStatusUI.Live),A(1),V("ngTemplateOutlet",e)}}function Fbe(n,t){if(1&n&&(ft(0),ve(1,"app-challenge-status-badge",5)(2,"app-progress-indicator",7),pt()),2&n){const e=ee(2).ngIf,i=ee();A(1),V("status",i.MissionStatusUI.Live),A(1),V("currentProgress",e.taskUpdate.totalProgress)("isSuccess",!1)("isError",!1)("isLive",!0)}}function Bbe(n,t){if(1&n&&(ft(0),ve(1,"app-challenge-status-badge",5)(2,"app-upcoming-timer",8),pt()),2&n){const e=ee(3);A(1),V("status",e.MissionStatusUI.Waiting),A(1),V("startDate",e.mission.config.startDate)}}function Lbe(n,t){1&n&&rh(0)}function Ube(n,t){if(1&n&&(ft(0),ve(1,"app-challenge-status-badge",5),Z(2,Lbe,1,0,"ng-container",6),pt()),2&n){ee(2);const e=go(5),i=ee();A(1),V("status",i.MissionStatusUI.Paused),A(1),V("ngTemplateOutlet",e)}}function Gbe(n,t){if(1&n&&(ft(0),ve(1,"app-challenge-status-badge",5)(2,"app-progress-indicator",7),pt()),2&n){const e=ee(2).ngIf,i=ee();A(1),V("status",i.MissionStatusUI.Paused),A(1),V("currentProgress",e.taskUpdate.totalProgress)("isSuccess",!1)("isError",!1)("isLive",!1)}}function jbe(n,t){if(1&n&&(ft(0),ve(1,"app-challenge-status-badge",5)(2,"app-progress-indicator",7),pt()),2&n){const e=ee(2).ngIf,i=ee();A(1),V("status",e.statusUpdate.mission.status===i.missionStatus.Paused?i.MissionStatusUI.Paused:i.MissionStatusUI.Done),A(1),V("currentProgress",e.taskUpdate.totalProgress)("isSuccess",e.statusUpdate.mission.status!==i.missionStatus.Paused)("isError",!1)("isLive",!1)}}function Hbe(n,t){if(1&n&&(ft(0),ve(1,"app-challenge-status-badge",5)(2,"app-progress-indicator",7),pt()),2&n){const e=ee(2).ngIf,i=ee();A(1),V("status",e.statusUpdate.mission.status===i.missionStatus.Paused?i.MissionStatusUI.Paused:i.MissionStatusUI.Finished),A(1),V("currentProgress",e.taskUpdate.totalProgress)("isSuccess",e.statusUpdate.mission.status!==i.missionStatus.Paused)("isError",!1)("isLive",!1)}}function Vbe(n,t){if(1&n&&(ft(0),ve(1,"app-challenge-status-badge",5)(2,"app-progress-indicator",7),pt()),2&n){const e=ee(2).ngIf,i=ee();A(1),V("status",i.MissionStatusUI.Finished),A(1),V("currentProgress",e.taskUpdate.totalProgress)("isSuccess",!1)("isError",!1)("isLive",!1)}}function Wbe(n,t){1&n&&rh(0)}function Ybe(n,t){if(1&n&&(ft(0),ve(1,"app-challenge-status-badge",5),Z(2,Wbe,1,0,"ng-container",6),pt()),2&n){ee(2);const e=go(5),i=ee();A(1),V("status",i.MissionStatusUI.Finished),A(1),V("ngTemplateOutlet",e)}}function zbe(n,t){if(1&n&&(ft(0),Z(1,Dbe,3,2,"ng-container",2),Z(2,kbe,3,2,"ng-container",2),Z(3,Fbe,3,5,"ng-container",2),Z(4,Bbe,3,2,"ng-container",2),Z(5,Ube,3,2,"ng-container",2),Z(6,Gbe,3,5,"ng-container",2),Z(7,jbe,3,5,"ng-container",2),Z(8,Hbe,3,5,"ng-container",2),Z(9,Vbe,3,5,"ng-container",2),Z(10,Ybe,3,2,"ng-container",2),pt()),2&n){const e=ee().ngIf,i=ee();A(1),V("ngIf",e.statusUpdate.mission.status===i.missionStatus.Announced&&e.statusUpdate.player.status===i.playerStatus.None),A(1),V("ngIf",e.statusUpdate.mission.status===i.missionStatus.Active&&e.statusUpdate.player.status===i.playerStatus.None),A(1),V("ngIf",e.statusUpdate.mission.status===i.missionStatus.Active&&e.statusUpdate.player.status===i.playerStatus.Joined),A(1),V("ngIf",e.statusUpdate.mission.status===i.missionStatus.Announced&&e.statusUpdate.player.status===i.playerStatus.Joined),A(1),V("ngIf",e.statusUpdate.mission.status===i.missionStatus.Paused&&e.statusUpdate.player.status===i.playerStatus.None),A(1),V("ngIf",e.statusUpdate.mission.status===i.missionStatus.Paused&&e.statusUpdate.player.status===i.playerStatus.Joined),A(1),V("ngIf",e.statusUpdate.player.status===i.playerStatus.Won),A(1),V("ngIf",e.statusUpdate.player.status===i.playerStatus.Rewarded),A(1),V("ngIf",e.statusUpdate.mission.status===i.missionStatus.Finished&&e.statusUpdate.player.status===i.playerStatus.Joined),A(1),V("ngIf",e.statusUpdate.mission.status===i.missionStatus.Finished&&e.statusUpdate.player.status===i.playerStatus.None)}}function $be(n,t){if(1&n&&(ft(0),ve(1,"app-challenge-status-badge",5)(2,"app-progress-indicator",7),pt()),2&n){const e=ee().ngIf,i=ee();A(1),V("status",i.MissionStatusUI.MinBet),A(1),V("currentProgress",e.taskUpdate.totalProgress)("isSuccess",!1)("isError",!0)("isLive",!1)}}function Xbe(n,t){if(1&n&&(x(0,"div",9)(1,"span",10),H(2),ce(3,"async"),R(),x(4,"span",11),H(5),R()()),2&n){const e=ee(2);A(2),me("",pe(3,2,e.challengeType$),":"),A(3),yt(e.mission.config.name)}}function qbe(n,t){if(1&n&&(x(0,"div",1),Z(1,zbe,11,10,"ng-container",2),Z(2,$be,3,5,"ng-container",2),ve(3,"div",3),Z(4,Xbe,6,4,"ng-template",null,4,Ea),R()),2&n){const e=t.ngIf;A(1),V("ngIf",!e.hasMinBetError),A(1),V("ngIf",e.hasMinBetError)}}jf.\u0275fac=function(t){return new(t||jf)},jf.\u0275cmp=et({type:jf,selectors:[["app-upcoming-timer"]],inputs:{startDate:"startDate"},decls:3,vars:3,consts:[[1,"timer-container"],[4,"ngIf"],[1,"timer-value"]],template:function(t,e){1&t&&(x(0,"div",0),Z(1,Rbe,6,12,"ng-container",1),ce(2,"async"),R()),2&t&&(A(1),V("ngIf",pe(2,1,e.timeLeft$)))},directives:[Ht],pipes:[Ps,gg],styles:[".timer-container[_ngcontent-%COMP%]{display:flex;align-items:center}.timer-container[_ngcontent-%COMP%]   .timer-value[_ngcontent-%COMP%]{opacity:.8;text-align:center;font-size:14px;font-weight:500;font-feature-settings:tabular-nums lining-nums;font-variant-numeric:tabular-nums lining-nums}"],changeDetection:0}),jf=We([oi()],jf);let Kbe=(()=>{class n{constructor(e,i,r,o,s){this.prize=e,this.task=i,this.minBetError=r,this.status=o,this.mission=s,this.missionStatus=na,this.playerStatus=Ls,this.MissionStatusUI=N_,this.challengeType$=this.mission.update$.pipe(ye(({type:a})=>a)),this.data$=Wv([this.task.update$,this.minBetError.update$,this.status.update$]).pipe(ye(([a,l,c])=>({taskUpdate:a,hasMinBetError:l,statusUpdate:c})))}}return n.\u0275fac=function(e){return new(e||n)(X(xS),X(F0),X(AS),X(k0),X(ol))},n.\u0275cmp=et({type:n,selectors:[["app-mission-progress"]],decls:2,vars:3,consts:[["class","progress-container d-flex align-items-center justify-content-between",4,"ngIf"],[1,"progress-container","d-flex","align-items-center","justify-content-between"],[4,"ngIf"],[1,"mission-arrow"],["missionName",""],[3,"status"],[4,"ngTemplateOutlet"],[3,"currentProgress","isSuccess","isError","isLive"],[3,"startDate"],[1,"mission"],[1,"type"],[1,"name"]],template:function(e,i){1&e&&(Z(0,qbe,6,2,"div",0),ce(1,"async")),2&e&&V("ngIf",pe(1,1,i.data$))},directives:[Ht,I7,Sd,Abe,jf],pipes:[Ps],styles:['[_nghost-%COMP%]{display:block}.progress-container[_ngcontent-%COMP%]{background:linear-gradient(91deg,#2e2437 0%,#272728 57%,#2d4330 100%);border-radius:64px;padding:4px;position:relative;font-size:12px;font-weight:500}.progress-container[_ngcontent-%COMP%]:hover{cursor:pointer}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;opacity:.8}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{padding-left:8px;margin-right:4px;color:#fff;font-weight:600;letter-spacing:-.35px}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{padding-right:8px;color:#a3a3a3;font-weight:500;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;text-overflow:ellipsis;word-break:break-all}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]{position:relative;background-color:#ffffff0d;width:32px;height:32px;border-radius:50%}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;background:url(icon-arrow-right.55c8a0ca8ad8e8ba.svg) no-repeat center center/contain}'],changeDetection:0}),n})(),Jbe=(()=>{class n{constructor(e,i){this.window=e,this.modalService=i}ngOnInit(){this.window.manualEmitResizeEvent()}showMissionDetails(){this.modalService.open(Gf)}}return n.\u0275fac=function(e){return new(e||n)(X(Vv),X(k_))},n.\u0275cmp=et({type:n,selectors:[["app-mission"]],decls:3,vars:0,consts:[[1,"d-flex","align-items-center"],[1,"missions-container"],[3,"click"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1)(2,"app-mission-progress",2),Ce("click",function(){return i.showMissionDetails()}),R()()())},directives:[Kbe],styles:["[_nghost-%COMP%]{display:block}.missions-container[_ngcontent-%COMP%]{flex-grow:1;max-width:100%}"],changeDetection:0}),n})();function Qbe(n,t){1&n&&ve(0,"app-mission")}let Hf=class{constructor(t,e,i,r){this.app=t,this.stomp=e,this.urlParams=i,this.cd=r,this.connectorState=fs,this.inited=!1}ngOnInit(){this.stomp.response(zo.Init).pipe(gt(this)).subscribe(()=>{this.inited=!0,this.cd.detectChanges()});const t={currency:this.urlParams.currency,userId:this.urlParams.user,token:this.urlParams.token,operator:this.urlParams.operator,sessionToken:this.app.sessionToken,deviceType:this.app.deviceInfo.deviceType,gameIdentifier:this.gameIdentifier};this.urlParams.jurisdiction&&(t.jurisdiction=this.urlParams.jurisdiction),this.stomp.init(this.engagementTools.host+"/public/et-stomp",t,Object.values(zo))}};Hf.\u0275fac=function(t){return new(t||Hf)(X(en),X(Bc),X(Rc),X(Tn))},Hf.\u0275cmp=et({type:Hf,selectors:[["app-engagement-tool"]],inputs:{engagementTools:"engagementTools",gameIdentifier:"gameIdentifier"},decls:2,vars:3,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(Z(0,Qbe,1,0,"app-mission",0),ce(1,"async")),2&t&&V("ngIf",pe(1,1,e.stomp.state$).state!==e.connectorState.Disconnected&&e.inited)},directives:[Ht,Jbe],pipes:[Ps],encapsulation:2,changeDetection:0}),Hf=We([oi()],Hf);class BR{}const ju="*";function LR(n,t){return{type:7,name:n,definitions:t,options:{}}}function F_(n,t=null){return{type:4,styles:t,timings:n}}function N7(n,t=null){return{type:2,steps:n,options:t}}function oc(n){return{type:6,styles:n,offset:null}}function t1e(n,t,e){return{type:0,name:n,styles:t,options:e}}function B0(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function k7(n){Promise.resolve(null).then(n)}class L0{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){k7(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class F7{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?k7(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function r1e(n,t){if(1&n){const e=dt();x(0,"div",5)(1,"div",6)(2,"app-bubble-multiplier",7),Ce("click",function(){const o=it(e).$implicit;return ee().mainService.checkFairness(o.roundId)}),R()()()}if(2&n){const e=t.$implicit;A(2),V("multiplier",e.maxMultiplier)}}let o1e=(()=>{class n{constructor(e){this.mainService=e}}return n.\u0275fac=function(e){return new(e||n)(X(Ui))},n.\u0275cmp=et({type:n,selectors:[["app-stats-dropdown"]],inputs:{history:"history"},decls:7,vars:4,consts:[[1,"wrapper"],[1,"header"],[1,"text","text-uppercase"],[1,"payouts-block"],["class","payouts",4,"ngFor","ngForOf"],[1,"payouts"],[1,"payout"],["ngbDropdownItem","",1,"bubble-multiplier",3,"multiplier","click"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),H(3),ce(4,"translate"),R()(),x(5,"div",3),Z(6,r1e,3,1,"div",4),R()()),2&e&&(A(3),me(" ",pe(4,2,"shared.round_history")," "),A(3),V("ngForOf",i.history))},directives:[vi,kc,PE],pipes:[dn],styles:[".wrapper[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 2px 20px #00000080;background-color:#1f2128;margin:0 5px;width:100%}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:32px;display:flex;justify-content:flex-start;align-items:center;font-size:14px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]{background-color:#262830;display:flex;flex-wrap:wrap;padding:5px;border-radius:0 0 16px 16px;font-size:12px}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{margin:3px;cursor:pointer}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]   .bubble-multiplier[_ngcontent-%COMP%]{padding:0;color:inherit;background-color:inherit}"],changeDetection:0}),n})();const s1e=["payoutsBlock"];function a1e(n,t){if(1&n){const e=dt();ft(0),x(1,"app-bubble-multiplier",12),Ce("click",function(){const o=it(e).$implicit;return ee().mainService.checkFairness(o.roundId)}),R(),pt()}if(2&n){const e=t.$implicit;A(1),V("multiplier",e.maxMultiplier)}}let Vf=class{constructor(t,e,i,r,o){this.statsService=t,this.mainService=e,this.connector=i,this.builder=r,this.cd=o}ngOnInit(){this.history=this.statsService.history,arr=this.statsService.history.map(e=>e.maxMultiplier),this.connector.response(pn.RoundChartInfo,200).pipe(gt(this)).subscribe(t=>{this.history=[t,...this.history.slice(0,59)],draw2(t.maxMultiplier),this.animate()})}animate(){var t,e;null===(t=this.playerPayout)||void 0===t||t.destroy(),null===(e=this.playerContainer)||void 0===e||e.destroy(),this.cd.detectChanges();const i=this.payoutsBlock.nativeElement.firstElementChild.clientWidth,r=this.builder.build([oc({transform:"scale(2)"}),F_("1s ease-in-out",oc({transform:"scale(1)"}))]),o=this.builder.build([oc({transform:`translateX(-${i}px)`}),F_("1s ease-in-out",oc({transform:"translate(0)"}))]);this.playerPayout=r.create(this.payoutsBlock.nativeElement.firstElementChild),this.playerContainer=o.create(this.payoutsBlock.nativeElement),this.playerPayout.play(),this.playerContainer.play()}ngOnDestroy(){var t,e;null===(t=this.playerPayout)||void 0===t||t.destroy(),null===(e=this.playerContainer)||void 0===e||e.destroy()}};function l1e(n,t){if(1&n&&(x(0,"div",15)(1,"div",16),H(2," shared.ui-components.free-bet.Free bets available: "),R(),x(3,"div",8)(4,"div",17),H(5),R(),x(6,"div",18)(7,"div"),H(8," ("),x(9,"span"),H(10),ce(11,"currencyPrecision"),R(),x(12,"span",19),H(13),R(),H(14,") "),R()()()()),2&n){const e=ee(2);A(5),me(" ",e.freeBets.activeFreeBet.freeBetsLeft," "),A(5),yt(pe(11,3,e.freeBets.activeFreeBet.freeBetsBetAmount)),A(3),yt(e.app.config.currency)}}function c1e(n,t){if(1&n){const e=dt();x(0,"div",20)(1,"div",21),H(2," shared.ui-components.free-bet.All free bets spent! "),R(),x(3,"div",22),Ce("click",function(){return it(e),ee(2).onFinishFreeBets()}()),H(4),ce(5,"translate"),R()()}if(2&n){const e=ee(2);A(3),vt("disabled",e.uiDisabled),A(1),me(" ",pe(5,3,"shared.claim")," ")}}function u1e(n,t){if(1&n&&(ft(0),x(1,"span",16),H(2," shared.ui-components.free-bet.Minimum cashout multiplier: "),R(),x(3,"span",23),H(4),R(),pt()),2&n){const e=ee(2);A(4),me(" ",e.freeBets.activeFreeBet.freeBetsMinCashOut.toFixed(e.app.config.multiplierPrecision)," X ")}}function h1e(n,t){if(1&n){const e=dt();x(0,"div",1)(1,"div",2),Z(2,l1e,15,5,"div",3),Z(3,c1e,6,5,"div",4),x(4,"div",5)(5,"div",6)(6,"span",7),H(7,"shared.win"),R(),x(8,"span"),H(9),R()(),x(10,"div",8)(11,"span"),H(12),ce(13,"currencyPrecision"),R()()()(),x(14,"div",9)(15,"div",10)(16,"div",11),Z(17,u1e,5,1,"ng-container",12),R(),x(18,"div",13),Ce("click",function(){return it(e),ee().onManagementClick()}),ce(19,"async"),x(20,"span",7),H(21,"shared.ui-components.free-bet.Manage"),R(),ve(22,"div",14),R()()()()}if(2&n){const e=ee();A(2),V("ngIf",!e.isSpent),A(1),V("ngIf",e.isSpent),A(6),me(" ",e.app.config.currency,""),A(3),me(" ",pe(13,7,e.freeBets.activeFreeBet.freeBetsWinSum)," "),A(5),V("ngIf",e.isShowMinCashOut),A(1),vt("disabled",pe(19,9,e.betControl.betSetted$)||e.uiDisabled)}}Vf.\u0275fac=function(t){return new(t||Vf)(X(p8),X(Ui),X(ki),X(BR),X(Tn))},Vf.\u0275cmp=et({type:Vf,selectors:[["app-stats-widget"]],viewQuery:function(t,e){if(1&t&&mo(s1e,7),2&t){let i;Hn(i=Vn())&&(e.payoutsBlock=i.first)}},decls:12,vars:2,consts:[["ngbDropdown","","placement","bottom-right",1,"stats"],[1,"payouts-wrapper"],[1,"payouts-block"],["payoutsBlock",""],[4,"ngFor","ngForOf"],[1,"shadow"],[1,"button-block"],["ngbDropdownToggle","",1,"button"],[1,"trigger"],[1,"history-icon"],[1,"dd-icon"],["ngbDropdownMenu","",3,"history"],[1,"payout",3,"multiplier","click"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"div",1)(2,"div",2,3),Z(4,a1e,2,1,"ng-container",4),R()(),ve(5,"div",5),x(6,"div",6)(7,"div",7)(8,"div",8),ve(9,"div",9)(10,"div",10),R()()(),ve(11,"app-stats-dropdown",11),R()),2&t&&(A(4),V("ngForOf",e.history),A(7),V("history",e.history))},directives:[cf,vi,kc,OA,o1e,xE],styles:["[_nghost-%COMP%]{width:100%;height:inherit}.stats[_ngcontent-%COMP%]{height:22px;width:100%;display:flex;align-items:center;position:relative;padding:0 5px;font-size:12px}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;width:100%;overflow:hidden}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]{display:flex}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block.hide[_ngcontent-%COMP%]{display:none}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{display:flex;margin-right:4px;margin-left:1px;position:relative;z-index:1;cursor:pointer;opacity:.5}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(1){opacity:1;z-index:2}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(2){opacity:.9}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(3){opacity:.85}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(4){opacity:.8}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(5){opacity:.75}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(6){opacity:.7}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(7){opacity:.65}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(8){opacity:.6}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(9){opacity:.55}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(10){opacity:.5}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:hover{opacity:1}.stats[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{position:absolute;right:56px;width:13px;height:22px;background-image:linear-gradient(to left,#0d0d0d,rgba(0,0,0,0));z-index:3}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]{height:100%;width:52px}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-left:6px;position:relative;z-index:9;display:flex;align-items:center;justify-content:center;width:46px;height:22px;border-radius:13px;border:solid 1px #414148;background:#252528;cursor:pointer}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-h.0950ae774061ee87.svg) no-repeat center center/contain}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{background:url(dd-h.45c1ff176d95fe5d.svg) no-repeat center center/contain}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{width:14px;height:13px;background:url(history.a8377d083674a681.svg) no-repeat center center/contain;margin-right:5px}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{width:10px;height:10px;transition:transform .5s;background:url(dd.4cbd6ffb2c52a810.svg) no-repeat center center/contain}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{z-index:1001}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-h.0950ae774061ee87.svg) no-repeat center center/contain}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{background:url(dd-h.45c1ff176d95fe5d.svg) no-repeat center center/contain;transform:rotate(180deg)}.dropdown-menu.show[_ngcontent-%COMP%]{background-color:transparent;background-color:initial;color:inherit;border:unset;margin:-26px 0 0;padding:0}"],changeDetection:0}),Vf=We([oi()],Vf);let Wf=class{constructor(t,e,i,r,o,s){this.app=t,this.mainService=e,this.freeBets=i,this.betControl=r,this.connector=o,this.cd=s,this.uiDisabled=!1,this.connector.response(pn.FreeBetFinish).pipe(gt(this),Lt(a=>200!==a.code)).subscribe(()=>{this.uiDisabled=!1,this.cd.markForCheck()}),this.freeBets.onActivate$.pipe(gt(this)).subscribe(()=>{this.uiDisabled=!1,this.cd.markForCheck()}),this.freeBets.onUpdate$.pipe(gt(this)).subscribe(()=>{this.cd.markForCheck()})}get isSpent(){return 0===this.freeBets.activeFreeBet.freeBetsLeft}onManagementClick(){!1===this.betControl.isBetSetted&&this.freeBets.onManage()}onFinishFreeBets(){this.uiDisabled=!0,this.freeBets.onClaim()}get isShowMinCashOut(){return this.freeBets.activeFreeBet.freeBetsMinCashOut>1.01}};Wf.\u0275fac=function(t){return new(t||Wf)(X(en),X(Ui),X(Ic),X(Dc),X(ki),X(Tn))},Wf.\u0275cmp=et({type:Wf,selectors:[["app-free-bet"]],decls:1,vars:1,consts:[["class","free-bet-wrapper",4,"ngIf"],[1,"free-bet-wrapper"],[1,"free-bet"],["class","bets",4,"ngIf"],["class","bets bets-spent",4,"ngIf"],[1,"win"],[1,"label"],["translate",""],[1,"value"],[1,"min-cashout"],[1,"content"],[1,"info"],[4,"ngIf"],[1,"manage",3,"click"],[1,"manage-i"],[1,"bets"],["translate","",1,"label"],[1,"amount"],[1,"bet"],[1,"currency"],[1,"bets","bets-spent"],["translate","",1,"label","font-weight-bold"],[1,"btn","btn-success","btn-continue","text-uppercase",3,"click"],[1,"value","font-weight-bold"]],template:function(t,e){1&t&&Z(0,h1e,23,11,"div",0),2&t&&V("ngIf",e.freeBets.activeFreeBet)},directives:[Ht,Gn],pipes:[Gr,dn,Ps],styles:[".free-bet-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:10;top:-20px;left:0;width:200px;opacity:0.7;}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]{z-index:1;position:relative;display:flex;align-items:center;justify-content:space-between;background-image:linear-gradient(80deg,#e50539,#ff0600);height:62px;width:100%;border-radius:26px;padding:0 5px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]{font-weight:700;display:flex;width:calc(100% - 140px);justify-content:space-between}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{min-width:70px;max-width:150px;font-size:14px;line-height:14px;text-align:center;display:flex;align-items:center;word-break:break-word}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px;line-height:24px;display:flex;justify-content:center;align-items:center;margin:0 5px 0 10px;flex-direction:column}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{font-size:12px;line-height:12px;display:flex;align-items:center;white-space:nowrap}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:10px;margin-left:4px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:unset;margin-bottom:3px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px;line-height:15px;cursor:pointer;border-radius:10px;min-width:120px;height:20px;text-shadow:0 1px 2px rgba(0,0,0,.5);border:0;box-shadow:0 10px 15px -10px #28a909,inset 0 1px 1px #ffffff80;display:flex;flex-direction:column;justify-content:center;align-items:center}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn-continue[_ngcontent-%COMP%]{color:#fff}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(.disabled):active{transform:translateY(2px)}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%]{pointer-events:none}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{font-weight:700;height:26px;border-radius:22.5px;display:flex;align-items:center;overflow:hidden;width:140px;justify-content:center;background-size:cover;background:url(free-bet-win-bg.9cfee43f29b6ac94.svg) no-repeat;flex-direction:column}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px;line-height:13px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{min-width:60px;display:flex;justify-content:center;align-items:center;height:16px;font-size:16px;line-height:16px;font-weight:700}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]{position:absolute;bottom:0;transform:translateY(40%);width:100%;display:flex;justify-content:center;align-items:flex-end;background-color:#3e4149;height:76px;border-radius:16px;left:0;padding-bottom:6px;font-size:14px;line-height:14px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:20px;width:100%;display:flex;align-items:center;padding:2px 6px 0 12px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{height:20px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#d2d2d2;font-size:13px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.5}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700;text-shadow:none;margin-left:3px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage[_ngcontent-%COMP%]{margin-left:auto;width:auto;color:#d2d2d2;font-size:13px;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;pointer-events:none}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage[_ngcontent-%COMP%]   .manage-i[_ngcontent-%COMP%]{margin-left:5px;width:20px;height:20px;border-radius:50%;background:#1d1fd5 url(manage.b676beda1782e280.svg) no-repeat center center}@media (min-width: 576px){.free-bet-wrapper[_ngcontent-%COMP%]{top:0}}"],changeDetection:0}),Wf=We([oi()],Wf);var Xh,B7,RS,_l,U0,L7,GR,NS,G0,U7=function(){return"undefined"!=typeof window},G7=function(){return Xh||U7()&&(Xh=window.gsap)&&Xh.registerPlugin&&Xh},j7=function(t){return"function"==typeof t},p1e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],ml=.212671,vl=.71516,yl=.072169,IS=function(t,e){var s,a,i=[],r=0;for(s=0;s<4;s++){for(a=0;a<5;a++)i[r+a]=t[r]*e[a]+t[r+1]*e[a+5]+t[r+2]*e[a+10]+t[r+3]*e[a+15]+(4===a?t[r+4]:0);r+=5}return i},H7=function(t,e){var i=1-e,r=i*ml,o=i*vl,s=i*yl;return IS([r+e,o,s,0,0,r,o+e,s,0,0,r,o,s+e,0,0,0,0,0,1,0],t)},V7=function(t,e,i){var r=RS(e),o=r[0]/255,s=r[1]/255,a=r[2]/255,l=1-i;return IS([l+i*o*ml,i*o*vl,i*o*yl,0,0,i*s*ml,l+i*s*vl,i*s*yl,0,0,i*a*ml,i*a*vl,l+i*a*yl,0,0,0,0,0,1,0],t)},W7=function(t,e){e*=Math.PI/180;var i=Math.cos(e),r=Math.sin(e);return IS([ml+i*(1-ml)+r*-ml,vl+i*-vl+r*-vl,yl+i*-yl+r*(1-yl),0,0,ml+i*-ml+.143*r,vl+i*(1-vl)+.14*r,yl+i*-yl+-.283*r,0,0,ml+i*-ml+r*-(1-ml),vl+i*-vl+r*vl,yl+i*(1-yl)+r*yl,0,0,0,0,0,1,0,0,0,0,0,1],t)},Y7=function(t,e){return IS([e,0,0,0,.5*(1-e),0,e,0,0,.5*(1-e),0,0,e,0,.5*(1-e),0,0,0,1,0],t)},z7=function(t,e){var s,i=_l.filters[e],r=t.filters||[],o=r.length;for(i||function(t){console.warn(t)}(e+" not found. PixiPlugin.registerPIXI(PIXI)");--o>-1;)if(r[o]instanceof i)return r[o];return s=new i,"BlurFilter"===e&&(s.blur=0),r.push(s),t.filters=r,s},Bo=function(t,e,i,r){e.add(i,t,i[t],r[t]),e._props.push(t)},$7=function(t,e){var i=new _l.filters.ColorMatrixFilter;return i.matrix=e,i.brightness(t,!0),i.matrix},ka={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},_1e=function(t,e,i){var a,l,c,r=z7(t,"ColorMatrixFilter"),o=t._gsColorMatrixFilter=t._gsColorMatrixFilter||function(t){var i,e={};for(i in t)e[i]=t[i];return e}(ka),s=e.combineCMF&&!("colorMatrixFilter"in e&&!e.colorMatrixFilter);for((c=r.matrix,e.resolution&&(r.resolution=e.resolution),e.matrix&&e.matrix.length===c.length?(l=e.matrix,1!==o.contrast&&Bo("contrast",i,o,ka),o.hue&&Bo("hue",i,o,ka),1!==o.brightness&&Bo("brightness",i,o,ka),o.colorizeAmount&&(Bo("colorize",i,o,ka),Bo("colorizeAmount",i,o,ka)),1!==o.saturation&&Bo("saturation",i,o,ka)):(l=p1e.slice(),null!=e.contrast?(l=Y7(l,+e.contrast),Bo("contrast",i,o,e)):1!==o.contrast&&(s?l=Y7(l,o.contrast):Bo("contrast",i,o,ka)),null!=e.hue?(l=W7(l,+e.hue),Bo("hue",i,o,e)):o.hue&&(s?l=W7(l,o.hue):Bo("hue",i,o,ka)),null!=e.brightness?(l=$7(+e.brightness,l),Bo("brightness",i,o,e)):1!==o.brightness&&(s?l=$7(o.brightness,l):Bo("brightness",i,o,ka)),null!=e.colorize?(e.colorizeAmount="colorizeAmount"in e?+e.colorizeAmount:1,l=V7(l,e.colorize,e.colorizeAmount),Bo("colorize",i,o,e),Bo("colorizeAmount",i,o,e)):o.colorizeAmount&&(s?l=V7(l,o.colorize,o.colorizeAmount):(Bo("colorize",i,o,ka),Bo("colorizeAmount",i,o,ka))),null!=e.saturation?(l=H7(l,+e.saturation),Bo("saturation",i,o,e)):1!==o.saturation&&(s?l=H7(l,o.saturation):Bo("saturation",i,o,ka))),a=l.length);--a>-1;)l[a]!==c[a]&&i.add(c,a,c[a],l[a],"colorMatrixFilter");i._props.push("colorMatrixFilter")},m1e=function(t,e){var o=e.color;(0,e.set)(e.t,e.p,o[0]<<16|o[1]<<8|o[2])},v1e=function(t,e){var i=e.g;i&&(i.dirty++,i.clearDirty++)},y1e=function(t,e){e.t.visible=!!e.t.alpha},X7=function(t,e,i,r){var o=t[e],s=RS(j7(o)?t[e.indexOf("set")||!j7(t["get"+e.substr(3)])?e:"get"+e.substr(3)]():o),a=RS(i);r._pt=new U0(r._pt,t,e,0,0,m1e,{t,p:e,color:s,set:L7(t,e)}),r.add(s,0,s[0],a[0]),r.add(s,1,s[1],a[1]),r.add(s,2,s[2],a[2])},b1e={tint:1,lineColor:1,fillColor:1},q7="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),jR={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},E1e={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},DS=Math.PI/180,K7=function(t){return"string"==typeof t},S1e=function(t){return K7(t)&&"="===t.charAt(1)?t.substr(0,2)+parseFloat(t.substr(2))*DS:t*DS},C1e=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e5*(e.s+e.c*t))/1e5,e)},T1e=function(t,e,i,r,o,s){var P,I,a=360*(s?DS:1),l=K7(o),c=l&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0,u=parseFloat(c?o.substr(2):o)*(s?DS:1),y=c?u*c:u-r,O=r+y;return l&&("short"===(P=o.split("_")[1])&&(y%=a)!=y%(a/2)&&(y+=y<0?a:-a),"cw"===P&&y<0?y=(y+1e10*a)%a-~~(y/a)*a:"ccw"===P&&y>0&&(y=(y-1e10*a)%a-~~(y/a)*a)),t._pt=I=new U0(t._pt,e,i,r,y,C1e),I.e=O,I},J7=function(){U7()&&(B7=window,Xh=G7(),GR=(_l=_l||B7.PIXI)&&_l.VERSION&&"4"===_l.VERSION.charAt(0),RS=function(e){return Xh.utils.splitColor("0x"===(e+"").substr(0,2)?"#"+e.substr(2):e)})};for(NS=0;NS<q7.length;NS++)jR[(G0=q7[NS])+"X"]=G0,jR[G0+"Y"]=G0;var HR={version:"3.9.1",name:"pixi",register:function(t,e,i){Xh=t,U0=i,L7=e.getSetter,J7()},registerPIXI:function(t){_l=t},init:function(t,e,i,r,o){if(_l||J7(),!(_l&&t instanceof _l.DisplayObject))return console.warn(t,"is not a DisplayObject or PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var s,a,l,c,u,y,O,P,I;for(y in e){if(l=e[y],s=jR[y])a=~y.charAt(y.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(t[s],a,t[s][a],"skew"===s?S1e(l):l);else if("scale"===y||"anchor"===y||"pivot"===y||"tileScale"===y)this.add(t[y],"x",t[y].x,l),this.add(t[y],"y",t[y].y,l);else if("rotation"===y||"angle"===y)T1e(this,t,y,t[y],l,"rotation"===y);else if(E1e[y])c||(_1e(t,e.colorMatrixFilter||e,this),c=!0);else if("blur"===y||"blurX"===y||"blurY"===y||"blurPadding"===y){if(u=z7(t,"BlurFilter"),this.add(u,y,u[y],l),0!==e.blurPadding)for(O=e.blurPadding||2*Math.max(u[y],l),P=t.filters.length;--P>-1;)t.filters[P].padding=Math.max(t.filters[P].padding,O)}else if(b1e[y])if(("lineColor"===y||"fillColor"===y)&&t instanceof _l.Graphics)for(I=(t.geometry||t).graphicsData,this._pt=new U0(this._pt,t,y,0,0,v1e,{g:t.geometry||t}),P=I.length;--P>-1;)X7(GR?I[P]:I[P][y.substr(0,4)+"Style"],GR?y:"color",l,this);else X7(t,y,l,this);else"autoAlpha"===y?(this._pt=new U0(this._pt,t,"visible",0,0,y1e),this.add(t,"alpha",t.alpha,l),this._props.push("alpha","visible")):"resolution"!==y&&this.add(t,y,"get",l);this._props.push(y)}}};G7()&&Xh.registerPlugin(HR);var Vc=(()=>(function(n){n.None="none",n.Power1_easeOut="Power1.easeOut",n.Power1_easeInOut="Power1.easeInOut"}(Vc||(Vc={})),Vc))();let Er=(()=>{class n{static init(){fl.registerPlugin(HR),HR.registerPIXI(C)}static isTweening(e){return fl.isTweening(e)}static killTweensOf(e){fl.killTweensOf(e)}}return n.gsap=fl,n})();class kS{constructor(t,e,i=60){this.zone=t,this.resolution=devicePixelRatio||1,this.__render=()=>{this.app.ticker.update()},this.app?this.restoreApp(e,i):this.createApp(e,i)}restoreApp(t,e){this.app.resizeTo=t,this.app.renderer.resolution=this.resolution,this.app.stage=new cr,this.zone.runOutsideAngular(()=>{Er.gsap.ticker.fps(e),Er.gsap.ticker.add(this.__render)})}createApp(t,e){Er.init(),kL();const i={antialias:!0,autoDensity:!0,resolution:this.resolution},r=zt.WHITE.baseTexture.resource.source.getContext("2d");null==r||r.fillRect(0,0,1,1),this.zone.runOutsideAngular(()=>{kS._app=new yv(Object.assign(Object.assign({},i),{resizeTo:t})),this.app.ticker.stop(),Er.gsap.ticker.fps(e),Er.gsap.ticker.add(this.__render)})}get app(){return kS._app}get stage(){return this.app.stage}get view(){return this.app.view}get appWidth(){return this.app.view.width/this.resolution}get appHeight(){return this.app.view.height/this.resolution}destroy(){Er.gsap.ticker.remove(this.__render),this.app.resizeTo=null,this.stage.destroy({children:!0})}}class M1e extends cr{constructor(){super(),this.isAnimation=!0,this.circle=new Rs(zt.from("bg")),this.circle.anchor.set(.5),this.addChild(this.circle),this.tween=fl.to(this.circle,{duration:36,angle:360,repeat:-1,ease:Vc.None}),this.tween.pause()}resize(){this.y=Mn.appHeight,this.x=0,this.circle.width=this.circle.height=this.getSizeOfOriginCenteredCircle()}getSizeOfOriginCenteredCircle(){return 2*this.getDiameterOfCircumcircleOfRectangle(Mn.appWidth,Mn.appHeight)}getDiameterOfCircumcircleOfRectangle(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}onRunningState(t=!0){if(t){if(!this.isAnimation)return;this.tween.resume()}else this.tween.pause()}onEndingState(){this.onRunningState(!1)}setAnimation(t,e){this.isAnimation=t,this.onRunningState(t&&e)}destroy(){Er.killTweensOf(this.circle),super.destroy()}}class O1e extends cr{constructor(t){super(),this.axes=t,this.curve=new Ma,this.gradient=new Ma,this.CURVE_WIDTH=4,this.CURVE_COLOR=As("#f00b3e"),this.GRADIENT_COLOR=As("#d0021b"),this.MOUNT_TIME=8,this.GLIDE_TIME=4,this.CONTROL_POINT_X_PERCENT=.5,this.MOUNT_POINT_OFFSET_PLANE_SCALE={x:1.5,y:1},this.GLIDE_POINT_OFFSET_PLANE_SCALE={x:1,y:3},this.startPoint={x:0,y:0},this.controlPoint={x:0,y:0},this.endPoint={x:0,y:0},this.mountPoint={x:0,y:0},this.glidePoint={x:0,y:0},this.draw=()=>{this.plane.x=this.endPoint.x,this.plane.y=this.endPoint.y,this.controlPoint.x=this.CONTROL_POINT_X_PERCENT*this.endPoint.x,this.curve.clear().lineStyle(this.CURVE_WIDTH,this.CURVE_COLOR).moveTo(this.startPoint.x,this.startPoint.y).quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPoint.x,this.endPoint.y),this.gradient.clear().beginFill(this.GRADIENT_COLOR).moveTo(this.startPoint.x,this.startPoint.y).quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPoint.x,this.endPoint.y).lineTo(this.endPoint.x,this.startPoint.y).lineTo(this.startPoint.x,this.startPoint.y)},this.timeLineMount=Er.gsap.timeline({onUpdate:this.draw}),this.timeLineMain=Er.gsap.timeline();const e=[];for(let i=0;i<4;i++)e.push(zt.from(`plane-${i}`));this.plane=new V5(e),this.plane.animationSpeed=.125,this.plane.play(),this.plane.anchor.x=.14,this.plane.anchor.y=.9,this.plane.visible=!1,this.calculatePlaneScale(),this.resize(),this.gradient.alpha=.5,this.addChild(this.gradient,this.curve,this.plane)}onRunningState(t){this.playTimeLine(t)}onBettingState(){this.reset(),this.calculatePlaneScale(),this.plane.visible=!0}onEndingState(){Er.killTweensOf(this.plane),this.clearShape();const t={duration:.5,x:Mn.appWidth+this.plane.getLocalBounds().width,y:this.plane.y-200,ease:Vc.None};fl.to(this.plane,t).then(()=>{this.plane.visible=!1})}calculatePlaneScale(){let t=Mn.appWidth/900;t<1?t=Math.max(.65,t):t>1&&(t=Math.min(1,t)),this.plane.width=this.plane.getLocalBounds().width*t,this.plane.height=this.plane.getLocalBounds().height*t}playTimeLine(t){const e=t?t/1e3:this.timeLineMain.time();this.reset(),this.plane.visible=!0,this.timeLineMount.clear().to(this.endPoint,{x:this.mountPoint.x,ease:Vc.Power1_easeOut,duration:this.MOUNT_TIME},0).to(this.endPoint,{y:this.mountPoint.y,ease:Vc.Power1_easeInOut,duration:this.MOUNT_TIME},0).eventCallback("onComplete",()=>this.axes.play()),this.timeLineMain.clear().add(this.timeLineMount).to(this.endPoint,{x:this.glidePoint.x,y:this.glidePoint.y,ease:Vc.Power1_easeInOut,repeat:-1,yoyo:!0,duration:this.GLIDE_TIME,onUpdate:this.draw}).time(e)}resize(){this.calculatePlaneScale(),this.startPoint.x=this.axes.AXIS_OFFSET,this.startPoint.y=Mn.appHeight-this.axes.AXIS_OFFSET,this.plane.x=this.startPoint.x,this.plane.y=this.startPoint.y,this.endPoint.x=this.startPoint.x,this.endPoint.y=this.startPoint.y,this.controlPoint.y=this.startPoint.y,this.mountPoint.x=Math.max(Mn.appWidth-this.MOUNT_POINT_OFFSET_PLANE_SCALE.x*this.plane.width,this.startPoint.x),this.mountPoint.y=Math.min(this.MOUNT_POINT_OFFSET_PLANE_SCALE.y*this.plane.height,this.startPoint.y),this.glidePoint.x=Math.max(Mn.appWidth-this.GLIDE_POINT_OFFSET_PLANE_SCALE.x*this.plane.width,this.startPoint.x),this.glidePoint.y=Math.min(this.GLIDE_POINT_OFFSET_PLANE_SCALE.y*this.plane.height,this.startPoint.y),this.timeLineMain.isActive()?this.playTimeLine():this.clearShape()}clearShape(){this.curve.clear(),this.gradient.clear(),this.timeLineMain.clear(),this.endPoint.x=this.startPoint.x,this.endPoint.y=this.startPoint.y}reset(){this.plane.x=this.startPoint.x,this.plane.y=this.startPoint.y,this.plane.visible=!1,Er.killTweensOf(this.plane),this.clearShape()}destroy(){this.reset(),super.destroy()}}const Q7=(n="#FF0000",t=3,e=1)=>{const i=new Ma;return i.beginFill(As(n),e),i.drawCircle(0,0,t),i.endFill(),i};function Z7(n,t){const i=Object.assign(Object.assign({},{fontFamily:"Inter",fontSize:12,fill:16777215,align:"center"}),t);return new Mv(n,i)}class w1e extends cr{constructor(){super(),this.AXIS_OFFSET=30,this.AXIS_WIDTH=1,this.AXIS_COLOR=As("#423033"),this.xAxis=new Ma,this.yAxis=new Ma,this.pointsX=[],this.pointsY=[],this.onTick=()=>{this.animatedPoints()},this.addChild(this.xAxis,this.yAxis),this.createPoints(),this.resize(),this.hide()}createPoints(){for(let t=0;t<10;t++){const e=Q7("#ffffff",2);this.addChild(e),this.pointsX.push(e);const i=Q7("#1197d6",2);this.addChild(i),this.pointsY.push(i)}}resize(){this.drawAxises(),this.xAxis.x=this.AXIS_OFFSET,this.xAxis.y=Mn.appHeight-this.AXIS_OFFSET,this.yAxis.x=this.AXIS_OFFSET,this.resizePoints()}drawAxises(){this.xAxis.clear().lineStyle(this.AXIS_WIDTH,this.AXIS_COLOR).moveTo(Mn.appWidth-this.AXIS_OFFSET,0).lineTo(0,0),this.yAxis.clear().lineStyle(this.AXIS_WIDTH,this.AXIS_COLOR).moveTo(0,Mn.appHeight-this.AXIS_OFFSET).lineTo(0,0)}resizePoints(){this.pointsX.forEach((t,e)=>{t.x=(Mn.appWidth-this.AXIS_OFFSET)/9*e+this.AXIS_OFFSET,t.y=Mn.appHeight-this.AXIS_OFFSET/2}),this.pointsY.forEach((t,e)=>{t.x=this.AXIS_OFFSET/2,t.y=(Mn.appHeight-this.AXIS_OFFSET)/10*e})}play(){this.onRunningState(),Er.gsap.ticker.add(this.onTick)}onRunningState(){this.visible=!0}onEndingState(){this.hide(),Er.gsap.ticker.remove(this.onTick)}hide(){this.visible=!1}animatedPoints(){this.pointsX.forEach(e=>{e.x-=.3*Er.gsap.ticker.deltaRatio(),e.x<this.AXIS_OFFSET&&(e.x=(Mn.appWidth-this.AXIS_OFFSET)/9*(this.pointsX.length-1)+this.AXIS_OFFSET)}),this.pointsY.forEach(e=>{e.y+=.3*Er.gsap.ticker.deltaRatio(),e.y>Mn.appHeight-this.AXIS_OFFSET&&(e.y=0)})}destroy(){Er.gsap.ticker.remove(this.onTick),super.destroy()}}class P1e extends cr{constructor(t){super(),this.translate=t,this.PROP_SIZE={[lr.sm]:15,[lr.md]:90,[lr.lg]:120},this.TEXT_WAITING_MARGIN_TOP=1,this.TEXT_WAITING_SIZE={[lr.sm]:20,[lr.md]:26,[lr.lg]:36},this.timeoutRef=0,this.TIMER_MARGIN_TOP=1,this.TIMER_HEIGHT={[lr.sm]:4,[lr.md]:6,[lr.lg]:8},this.TIMER_WIDTH={[lr.sm]:60,[lr.md]:150,[lr.lg]:200},this.TIMER_RADIUS=4,this.TIMER_COLOR=As("#550055"),this.TIMER_BAR_COLOR=As("#ee00ee"),this.visible=!1,this.prop=new Rs(zt.from("prop")),this.prop.anchor.set(.5),this.propTween=fl.to(this.prop,{duration:1.4,angle:360,repeat:-1,ease:Vc.None}),this.propTween.pause(),this.textWaiting=Z7(this.translate.instant("shared.WAITING_FOR_NEXT_ROUND"),{fontSize:this.TEXT_WAITING_SIZE[Mn.breakpoint],fontFamily:gh.Base,padding:2}),this.textWaiting.roundPixels=!0,this.timer=new Ma,this.timer.beginFill(this.TIMER_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH[Mn.breakpoint],this.TIMER_HEIGHT[Mn.breakpoint],this.TIMER_RADIUS).endFill(),this.addChild(this.timer),this.timerBar=new Ma,this.timerBar.beginFill(this.TIMER_BAR_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH[Mn.breakpoint],this.TIMER_HEIGHT[Mn.breakpoint],this.TIMER_RADIUS).endFill(),this.addChild(this.timerBar),this.timerBarMask=this.timer.clone(),this.addChild(this.timerBarMask),this.timerBar.mask=this.timerBarMask,this.timerBarTween=fl.to(this.timerBar,{duration:0,x:()=>`-=${this.TIMER_WIDTH[Mn.breakpoint]}`,ease:Vc.None}),this.resize()}onBettingState(t,e){return clearTimeout(this.timeoutRef),this.visible=!0,this.propTween.resume(),this.timerBarTween.pause((e-t)/1e3).duration(e/1e3).play(),new Promise(i=>{this.timeoutRef=window.setTimeout(()=>{this.onRunningState(),i()},t)})}onRunningState(){clearTimeout(this.timeoutRef),this.visible=!1,this.propTween.pause(),this.timerBarTween.pause(0)}resize(){this.prop.width=this.prop.height=this.PROP_SIZE[Mn.breakpoint],this.timer.width=this.timerBar.width=this.timerBarMask.width=this.TIMER_WIDTH[Mn.breakpoint],this.timer.height=this.timerBar.height=this.timerBarMask.height=this.TIMER_HEIGHT[Mn.breakpoint],this.textWaiting.style.fontSize=this.TEXT_WAITING_SIZE[Mn.breakpoint],this.prop.x=Mn.appWidth/2,this.prop.y=1,this.textWaiting.x=4,this.textWaiting.y=4;const e=20;this.timer.x=this.timerBar.x=this.timerBarMask.x=Mn.appWidth/2-this.timer.width/2,this.timer.y=this.timerBar.y=this.timerBarMask.y=e,this.timerBarTween.invalidate(),this.timerBarTween.isActive()&&this.timerBarTween.pause().play()}destroy(){clearTimeout(this.timeoutRef),this.propTween.kill(),this.timerBarTween.kill(),super.destroy()}}var Hu=(()=>(function(n){n.General="general",n.Multiplier="multiplier"}(Hu||(Hu={})),Hu))();class x1e extends cr{constructor(t){super(),this.translate=t,this.COEFFICIENT_DEFAULT_COLOR=As("#aabb99"),this.COEFFICIENT_END_COLOR=As("#77bbbb"),this.COEFFICIENT_SIZE={[lr.sm]:20,[lr.md]:78,[lr.lg]:100},this.FLEW_AWAY_SIZE={[lr.sm]:10,[lr.md]:26,[lr.lg]:36},this.coefficient=new xv("1.00x",{fontName:Hu.Multiplier,fontSize:this.COEFFICIENT_SIZE[Mn.breakpoint]}),this.coefficient.roundPixels=!0,this.addChild(this.coefficient),this.flewAway=Z7(this.translate.instant("canvas.flew_away"),{fontSize:this.FLEW_AWAY_SIZE[Mn.breakpoint],fontFamily:gh.Base,padding:2}),this.flewAway.visible=!1,this.flewAway.roundPixels=!0,this.addChild(this.flewAway),this.visible=!1,this.resize()}onRunningState(t){this.coefficient.tint=this.COEFFICIENT_DEFAULT_COLOR,this.flewAway.visible=!1,this.visible=!0,this.updateMultiplier(t)}onBettingState(){this.flewAway.visible=!1,this.visible=!1}onEndingState(){this.flewAway.visible=!0,this.coefficient.tint=this.COEFFICIENT_END_COLOR}updateMultiplier(t){const e=Rb(t,"en_US","1.2-2");this.coefficient.text=e+"x..",this.coefficient.x=Mn.appWidth/2-this.coefficient.width/2}resize(){this.coefficient.fontSize=this.COEFFICIENT_SIZE[Mn.breakpoint],this.coefficient.x=Mn.appWidth/2-this.coefficient.width/2,this.coefficient.y=Mn.appHeight/2-this.coefficient.height/2,this.flewAway.style.fontSize=this.FLEW_AWAY_SIZE[Mn.breakpoint],this.flewAway.x=Mn.appWidth/2-this.flewAway.width/2,this.flewAway.y=this.coefficient.y-this.flewAway.height}destroy(t){super.destroy(t)}}class qh extends cr{constructor(){super(),this.interval=100,this.icon=new Rs(zt.from("icon-login-timer")),this.icon.width=12,this.icon.height=14,this.addChild(this.icon),this.time=new xv("00:00:00",{fontName:Hu.General,tint:As("#929294")}),this.time.x=15,this.time.y=-1,this.addChild(this.time),this.timerRunner(),this.intervalRef=window.setInterval(()=>this.timerRunner(),this.interval)}timerRunner(){const t=Math.floor(Date.now());qh.startTime||(qh.startTime=t,qh.previousTimeStamp=t,this.time.text=this.msToTime(0)),t-qh.previousTimeStamp>=1e3&&(this.time.text=this.msToTime(t-qh.startTime),qh.previousTimeStamp=t)}msToTime(t){const e=Math.floor(t/1e3%60),i=Math.floor(t/6e4%60),r=Math.floor(t/36e5);return(r<10?`0${r}:`:`${r}:`)+(i<10?`0${i}:`:`${i}:`)+(e<10?`0${e}`:`${e}`)}destroy(){super.destroy(),clearInterval(this.intervalRef)}}class A1e extends cr{constructor(){super(),this.interval=1e3,this.icon=new Rs(zt.from("icon-clock")),this.icon.width=this.icon.height=14,this.addChild(this.icon),this.time=new xv(this.getTime(new Date),{fontName:Hu.General,tint:As("#929294")}),this.time.x=17,this.time.y=-1,this.addChild(this.time),FR(this.interval).pipe(gt(this,"destroy")).subscribe(()=>this.time.text=this.getTime(new Date))}getTime(t){const e=t.getHours(),i=t.getMinutes();return`${e<10?`0${e}`:`${e}`}:${i<10?`0${i}`:`${i}`}`}destroy(){super.destroy()}}class R1e extends cr{constructor(t){super(),this.multiplier=t,this.blur=new Rs(zt.from("multiplier-bg-blur")),this.blur.tint=this.multiplier.levelColor.getHex(Ch.Low),Er.gsap.to(this.blur,{alpha:0}),this.addChild(this.blur)}onBettingState(){Er.gsap.to(this.blur,{alpha:0})}onRunningState(t){this.blur.tint=this.multiplier.levelColor.getHex(t),Er.gsap.to(this.blur,{alpha:1,duration:1})}onMultiplierChange(t){this.isTweenNeeded(t)&&Er.gsap.to(this.blur,.5,{pixi:{tint:this.multiplier.levelColor.getHex(t)}})}isTweenNeeded(t){return!Er.isTweening(this.blur)&&this.isColorChangeNeeded(t)}isColorChangeNeeded(t){return this.blur.tint!==this.multiplier.levelColor.getHex(t)}onEndingState(){Er.gsap.to(this.blur,{alpha:0,duration:1})}resize(){this.scale.x=Mn.appWidth/this.blur.getLocalBounds().width,this.scale.y=Mn.appHeight/this.blur.getLocalBounds().height}destroy(t){super.destroy(t),Er.killTweensOf(this.blur)}}class I1e extends cr{constructor(t,e){super(),this.netSessionService=t,this.app=e,this.icon=new Rs(zt.from("icon-up-down")),this.icon.width=13,this.icon.height=14,this.addChild(this.icon),this.amount=new xv("",{fontName:Hu.General,tint:As("#929294")}),this.amount.x=this.icon.width+3,this.amount.y=-1,this.addChild(this.amount),this.netSessionService.changed.pipe(gt(this,"destroy")).subscribe(i=>this.onChangeNet(i))}onChangeNet(t){this.amount.text=`${this.getSign(t)}${t.toFixed(this.app.config.betPrecision)} ${this.app.config.currency}`}getSign(t){return t>0?"+":""}destroy(){super.destroy()}}class D1e extends kS{constructor(t,e,i,r,o,s){super(e,t),this.el=t,this.zone=e,this.appService=i,this.multiplierService=r,this.translateService=o,this.netSessionService=s,Mn.updateSize(this.appWidth,this.appHeight),this.setupBitmapFonts(),this.background=new M1e,this.background.y=Mn.appHeight,this.background.x=0,this.background.resize(),this.stage.addChild(this.background),this.multiplierBackground=new R1e(this.multiplierService),this.stage.addChild(this.multiplierBackground),this.axisesAndGraphLayer=new cr,this.axisesAndGraphLayer.visible=!1,this.stage.addChild(this.axisesAndGraphLayer),this.axes=new w1e,this.axisesAndGraphLayer.addChild(this.axes),this.graph=new O1e(this.axes),this.axisesAndGraphLayer.addChild(this.graph),this.betTimer=new P1e(this.translateService),this.stage.addChild(this.betTimer),this.multiplier=new x1e(this.translateService),this.stage.addChild(this.multiplier),this.appService.config.isLoginTimer&&(this.loginTimer=new qh,this.stage.addChild(this.loginTimer)),this.appService.config.isClockVisible&&(this.clock=new A1e,this.stage.addChild(this.clock)),this.appService.config.isNetSessionEnabled&&(this.netSession=new I1e(this.netSessionService,this.appService),this.stage.addChild(this.netSession))}setupBitmapFonts(){_u.from(Hu.General,{fontSize:12,fontWeight:"400",fill:16777215,fontFamily:gh.Base},{chars:[["0","9"],["A","Z"]," +-.:"],resolution:this.resolution});try{this.setupMultiplierFont(100)}catch(t){this.setupMultiplierFont(90)}}setupMultiplierFont(t){_u.from(Hu.Multiplier,{fontSize:t,fontWeight:"700",fill:16777215,fontFamily:gh.Base},{chars:"0123456789,.x",resolution:this.resolution})}onBettingState(t,e){return this.multiplierBackground.onBettingState(),this.multiplier.onBettingState(),this.graph.onBettingState(),this.betTimer.onBettingState(t,e)}onRunningState(t){this.multiplierBackground.onRunningState(t),this.multiplier.onRunningState(t),this.betTimer.onRunningState(),this.axes.onRunningState(),this.graph.onRunningState(t),this.background.onRunningState()}onEndingState(){this.multiplierBackground.onEndingState(),this.multiplier.onEndingState(),this.graph.onEndingState(),this.axes.onEndingState(),this.background.onEndingState()}updateMultiplier(t){this.multiplierBackground.onMultiplierChange(t),this.multiplier.updateMultiplier(t)}toggleAnimation(t,e){this.axisesAndGraphLayer.visible=t,this.background.setAnimation(t,e)}resize(){this.app.resize(),Mn.updateSize(this.appWidth,this.appHeight),this.background.resize(),this.multiplierBackground.resize(),this.multiplier.resize(),this.betTimer.resize(),this.axes.resize(),this.graph.resize(),this.loginTimer&&(this.loginTimer.y=6,this.loginTimer.x=this.axes.AXIS_OFFSET+5),this.netSession&&(this.netSession.x=(Mn.appWidth+this.axes.AXIS_OFFSET)/2-this.netSession.width/2,this.netSession.y=6),this.clock&&(this.clock.y=6,this.clock.x=Mn.appWidth-this.clock.width-10)}destroy(){super.destroy()}}var j0=(()=>(function(n){n.onLockBets="onLockBets",n.onAddChatMsg="onAddChatMsg"}(j0||(j0={})),j0))();let eH=(()=>{class n{constructor(e){this.app=e,this.amount=0,this.changedSubject=new Xn(this.amount),this.changed=this.changedSubject.asObservable()}plus(e){this.amount=Number((this.amount+e).toFixed(this.app.config.betPrecision)),this.changedSubject.next(this.amount)}minus(e){this.amount=Number((this.amount-e).toFixed(this.app.config.betPrecision)),this.changedSubject.next(this.amount)}}return n.\u0275fac=function(e){return new(e||n)(Fe(en))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const N1e=["stageCanvas"];function k1e(n,t){1&n&&(x(0,"div",5),H(1,"FUN MODE"),R())}let Yf=class{constructor(t,e,i,r,o,s,a,l,c){this.zone=t,this.app=e,this.user=i,this.mainService=r,this.multiplier=o,this.translate=s,this.netSessionService=a,this.renderer=l,this.window=c}ngOnInit(){this.canvas=new D1e(this.stageCanvasRef.nativeElement,this.zone,this.app,this.multiplier,this.translate,this.netSessionService),this.renderer.appendChild(this.stageCanvasRef.nativeElement,this.canvas.view),this.window.onResize$.pipe(gt(this),Js(50)).subscribe(()=>this.canvas.resize()),this.canvas.resize(),this.mainService.getState().pipe(gt(this)).subscribe(()=>this.onChangeState()),this.user.settings.animation$.pipe(gt(this)).subscribe(t=>this.canvas.toggleAnimation(t,this.mainService.isRunningState)),this.multiplier.data$.pipe(gt(this)).subscribe(t=>{this.canvas.updateMultiplier(t.currentMultiplier)})}onChangeState(){this.zone.runOutsideAngular(()=>{this.mainService.isBettingState?this.canvas.onBettingState(this.mainService.timeLeft,this.app.config.fullBetTime).then(()=>{this.mainService.emitEvent(j0.onLockBets,!0)}):this.mainService.isRunningState?this.canvas.onRunningState(this.multiplier.startingValue):this.mainService.isEndingState&&this.canvas.onEndingState()})}ngOnDestroy(){this.canvas.destroy()}};Yf.\u0275fac=function(t){return new(t||Yf)(X(Wn),X(en),X(il),X(Ui),X(uE),X(Sh),X(eH),X(Ms),X(Vv))},Yf.\u0275cmp=et({type:Yf,selectors:[["app-play-board"]],viewQuery:function(t,e){if(1&t&&mo(N1e,7),2&t){let i;Hn(i=Vn())&&(e.stageCanvasRef=i.first)}},decls:5,vars:1,consts:[[1,"play-board-wrapper"],[1,"stage-canvas"],["stageCanvas",""],[1,"dom-container"],["class","fun-mode",4,"ngIf"],[1,"fun-mode"]],template:function(t,e){1&t&&(x(0,"div",0),ve(1,"div",1,2),x(3,"div",3),Z(4,k1e,2,0,"div",4),R()()),2&t&&(A(4),V("ngIf",e.app.isFunMode))},directives:[Ht],styles:[".play-board-wrapper[_ngcontent-%COMP%]{width:100%;border:1px solid #aa99aa;height:100%;position:absolute;z-index:0}.play-board-wrapper[_ngcontent-%COMP%]   .stage-canvas[_ngcontent-%COMP%]{position:absolute;width:80px;height:50px;border:1px solid #aa99aa;right:10px;top:2px;overflow:hidden}.play-board-wrapper[_ngcontent-%COMP%]   .dom-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.play-board-wrapper[_ngcontent-%COMP%]   .dom-container[_ngcontent-%COMP%]   .fun-mode[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(229,148,7,.8);text-align:center;font-size:14px;font-weight:700;width:100%;border-radius:20px 20px 0 0;border:1px solid #e59407}"],changeDetection:0}),Yf=We([oi()],Yf);var zf=(()=>(function(n){n.bet="bet",n.auto="auto"}(zf||(zf={})),zf))();const F1e=["inputfield"],B1e=function(n){return{minus:!0,"ui-state-disabled":n}};function L1e(n,t){if(1&n){const e=dt();x(0,"button",7),Ce("mousedown",function(){return it(e),ee().startSpinTimer(-1)})("mouseleave",function(){return it(e),ee().clearSpinTimer()})("mouseup",function(){return it(e),ee().clearSpinTimer()}),R()}if(2&n){const e=ee();V("ngClass",Fr(3,B1e,e.disabled))("disabled",e.disabled),Zn("readonly",e.readonly)}}function U1e(n,t){1&n&&(x(0,"span",8),H(1,"\xd7"),R())}const G1e=function(n){return{plus:!0,"ui-state-disabled":n}};function j1e(n,t){if(1&n){const e=dt();x(0,"button",7),Ce("mousedown",function(){return it(e),ee().startSpinTimer(1)})("mouseleave",function(){return it(e),ee().clearSpinTimer()})("mouseup",function(){return it(e),ee().clearSpinTimer()}),R()}if(2&n){const e=ee();V("ngClass",Fr(3,G1e,e.disabled))("disabled",e.disabled),Zn("readonly",e.readonly)}}const H1e=function(n){return{"full-width":n}};let FS=(()=>{class n{constructor(e){this.app=e,this.step=1,this.type="text",this.enableButtons=!0,this.showX=!1,this.size="big",this.decimalSeparator=".",this.thousandSeparator=",",this.valueAsString="",this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.precision=this.formatPrecision>=0?this.formatPrecision:this.step.toString().split(/[,]|[.]/)[1].length}repeat(e,i){let r=e||500;this.clearTimer(),this.timer$=hh(r).subscribe(()=>this.repeat(40,i)),this.spin(i)}spin(e){var i,r;let s=this.value||0;this.value=new qr(s+this.step*e).clamp(null!==(i=this.min)&&void 0!==i?i:0,null!==(r=this.max)&&void 0!==r?r:this.app.config.maxUserWin).toDecimalPlaces(this.precision).toNumber(),void 0!==this.maxlength&&this.value.toString().length>this.maxlength&&(this.value=s),this.setFormattedValuesFrom(this.value),this.onModelChange(this.value)}startSpinTimer(e){this.disabled||this.repeat(null,e)}clearSpinTimer(){this.disabled||this.clearTimer()}onInputKeydown(e){38==e.which?(this.spin(1),e.preventDefault()):40==e.which&&(this.spin(-1),e.preventDefault())}onInput(e){const i=e,r=i.target,o=r.selectionEnd;let s=r.value;if("insertText"===i.inputType){if(("."===i.data||","===i.data)&&(this.valueAsString.includes(".")||","===s[o-2]||","===s[o]))return r.value=this.valueAsString,void r.setSelectionRange(o-1,o-1);if(!/[\d\.]/.test(i.data)){if(","!==i.data)return r.value=this.valueAsString,void r.setSelectionRange(o-1,o-1);s=s.split("").map((l,c)=>c===o-1?".":l).join("")}}else s=this.getValidStringInput(s);r.value=s,r.setSelectionRange(o,o),this.valueAsString=s,this.onModelChange(this.value)}getValidStringInput(e){return e=this.removeNonDecimalNumericCharacters(e),e=this.replaceMultipleDotsInARowWithOne(e),e=this.replaceMultipleCommasInARowWithOne(e),e=this.removeExtraDots(e),this.replaceSingleCommaWithDot(e)}removeNonDecimalNumericCharacters(e){const i=/[\d\.,]/;return e.split("").filter(r=>i.test(r)).join("")}replaceMultipleDotsInARowWithOne(e){return e.replace(/\.{2,}/g,".")}replaceMultipleCommasInARowWithOne(e){return e.replace(/,{2,}/g,",")}removeExtraDots(e){const i=e.split(".");return i.length>1&&(i[0]+="."),i.join("")}replaceCommasWithDot(e){return e.replace(/,/g,".")}replaceSingleCommaWithDot(e){const i=(e.match(/,/g)||[]).length,r=(e.match(/[.]/g)||[]).length;return 1===i&&0===r?this.replaceCommasWithDot(e):e}onInputBlur(){this.onModelTouched(),this.setFormattedValuesFrom(this.valueAsString),this.onModelChange(this.value)}parseNumericValue(e){if(!(e=e.split(this.thousandSeparator).join("").trim()))return null;let i=this.precision?parseFloat(e.replace(",",".")):parseInt(e);return isNaN(i)?null:i}setFormattedValuesFrom(e){var i,r,o,s;if(null==e)return;let a=e;"string"==typeof e&&(a=null!==(r=null!==(i=this.parseNumericValue(e))&&void 0!==i?i:this.min)&&void 0!==r?r:0),this.value=new qr(a).clamp(null!==(o=this.min)&&void 0!==o?o:0,null!==(s=this.max)&&void 0!==s?s:this.app.config.maxUserWin).toDP(this.precision).toNumber();let l=new qr(this.value).toFixed(this.precision).replace(".",this.decimalSeparator);const c=l.split(this.decimalSeparator);c[0]=c[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandSeparator),l=c.join(this.decimalSeparator),this.valueAsString=l,this.inputfieldViewChild.nativeElement.value=this.valueAsString}clearTimer(){this.timer$&&this.timer$.unsubscribe()}writeValue(e){this.value=e,this.setFormattedValuesFrom(this.value),this.onModelChange(this.value)}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(X(en))},n.\u0275cmp=et({type:n,selectors:[["app-spinner"]],viewQuery:function(e,i){if(1&e&&mo(F1e,7),2&e){let r;Hn(r=Vn())&&(i.inputfieldViewChild=r.first)}},inputs:{step:"step",min:"min",max:"max",maxlength:"maxlength",inputSize:"inputSize",placeholder:"placeholder",inputId:"inputId",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",type:"type",required:"required",name:"name",enableButtons:"enableButtons",showX:"showX",formatPrecision:"formatPrecision",size:"size"},features:[ei([{provide:Ds,useExisting:In(()=>n),multi:!0}])],decls:9,vars:17,consts:[[1,"spinner",3,"ngClass"],[1,"buttons"],["type","button",3,"ngClass","disabled","mousedown","mouseleave","mouseup",4,"ngIf"],[1,"input",3,"ngClass"],["inputmode","decimal",1,"font-weight-bold",3,"value","disabled","input","keydown","blur"],["inputfield",""],["class","text text-x",4,"ngIf"],["type","button",3,"ngClass","disabled","mousedown","mouseleave","mouseup"],[1,"text","text-x"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1),Z(2,L1e,1,5,"button",2),R(),x(3,"div",3)(4,"input",4,5),Ce("input",function(o){return i.onInput(o)})("keydown",function(o){return i.onInputKeydown(o)})("blur",function(){return i.onInputBlur()}),R()(),Z(6,U1e,2,0,"span",6),x(7,"div",1),Z(8,j1e,1,5,"button",2),R()()),2&e&&(V("ngClass",i.size),A(2),V("ngIf",i.enableButtons),A(1),V("ngClass",Fr(15,H1e,!i.enableButtons)),A(1),V("value",i.valueAsString)("disabled",i.disabled),Zn("type",i.type)("id",i.inputId)("size",i.inputSize)("maxlength",i.maxlength)("tabindex",i.tabindex)("placeholder",i.placeholder)("readonly",i.readonly)("required",i.required),A(2),V("ngIf",i.showX),A(2),V("ngIf",i.enableButtons))},directives:[Ul,Ht],styles:[".spinner[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;align-items:center;transition:opacity .1s;border-radius:22px;background-color:#000000b3;font-weight:700;font-size:inherit;line-height:1;padding-left:10px;padding-right:10px}.spinner.small[_ngcontent-%COMP%]{padding-right:5px}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:flex;align-items:center;width:calc(100% - 35px);height:100%}.spinner[_ngcontent-%COMP%]   .input.full-width[_ngcontent-%COMP%]{width:calc(100% - 10px)}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0;background:transparent;color:#fff;letter-spacing:-.1em;text-align:inherit;padding:0}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{opacity:.5}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.spinner[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:9px;line-height:1;color:#fff;opacity:.5;padding-top:5px}.spinner[_ngcontent-%COMP%]   .text.text-x[_ngcontent-%COMP%]{padding:0;font-size:16px}.spinner[_ngcontent-%COMP%]   .text.currency[_ngcontent-%COMP%]{margin-right:4px;padding:0}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;padding:0;background:#ffffff;border:none;width:18px;height:18px;cursor:pointer;min-width:18px;min-height:18px;color:#000000b3;text-align:center;line-height:16px;font-weight:700}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{background-color:transparent;background-image:url(plus-in-circle.3440127f08f179fd.svg)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]:not(.ui-state-disabled):active{transform:translateY(1px)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{background-color:transparent;background-image:url(minus-in-circle.de5c67298d5ab197.svg)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]:not(.ui-state-disabled):active{transform:translateY(1px)}.spinner[_ngcontent-%COMP%]   .ui-state-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default!important}"]}),n})();function V1e(n,t){if(1&n){const e=dt();x(0,"div",21),H(1),x(2,"button",22),Ce("click",function(){return it(e),ee().errorMessage=null}),x(3,"span"),H(4,"\xd7"),R()()()}if(2&n){const e=ee();A(1),me(" shared.ui-components.toastr.toastr-message.",e.errorMessage," ")}}function W1e(n,t){if(1&n){const e=dt();ft(0),x(1,"button",23),Ce("click",function(){const o=it(e).$implicit;return ee().activeBetsAmount=o}),H(2),R(),pt()}if(2&n){const e=t.$implicit,i=ee();A(1),vt("active",i.activeBetsAmount===e),A(1),me(" ",e," ")}}let Y1e=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.app=i,this.cd=r,this.decreaseStopPoint={active:!1,value:0},this.increaseStopPoint={active:!1,value:0},this.exceedStopPoint={active:!1,value:0},this.activeBetsAmount=0,this.errorMessage=null}closeModal(e=!1){this.showErrorMessage(null);let i=null;if(e){if(this.cd.detectChanges(),!this.activeBetsAmount)return void this.showErrorMessage("Please, set number of rounds");if(this.checkIncorrectStopPoint())return void this.showErrorMessage("Can't set 0.00 as stop point");if(this.app.config.autoBetOptions.decreaseOrExceedStopPointReq&&!this.decreaseStopPoint.value&&!this.exceedStopPoint.value)return void this.showErrorMessage("Please, specify decrease or exceed stop point");i={decreaseBalanceStopPoint:this.decreaseStopPoint.value,increaseBalanceStopPoint:this.increaseStopPoint.value,autoBetsAmount:this.activeBetsAmount,exceedStopPoint:this.exceedStopPoint.value}}this.activeModal.close(i)}checkIncorrectStopPoint(){return this.decreaseStopPoint.active&&!this.decreaseStopPoint.value||this.increaseStopPoint.active&&!this.increaseStopPoint.value||this.exceedStopPoint.active&&!this.exceedStopPoint.value}showErrorMessage(e){this.errorMessage=e}reset(){this.activeBetsAmount=null,this.decreaseStopPoint={active:!1,value:0},this.increaseStopPoint={active:!1,value:0},this.exceedStopPoint={active:!1,value:0},this.showErrorMessage(null)}}return n.\u0275fac=function(e){return new(e||n)(X(So),X(en),X(Tn))},n.\u0275cmp=et({type:n,selectors:[["app-auto-play"]],decls:42,vars:44,consts:[[1,"modal-header"],["translate",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","alert alert-danger","translate","",4,"ngIf"],[1,"content-wrapper"],[1,"content"],[1,"content-part","content-part-1"],[1,"rounds-wrap","mt-2"],[4,"ngFor","ngForOf"],[1,"content-part"],[3,"ngModel","ngModelChange","toggle"],["translate","",1,"title","text-left","pl-1","mr-auto"],[1,"spinner","ml-auto",3,"disabled","ngModel","step","min","enableButtons","formatPrecision","ngModelChange"],[1,"ml-1"],["translate","",1,"title","text-left","pl-1","mr-auto","text-break"],[1,"modal-footer"],[1,"btns-wrapper"],["translate","",1,"btn","btn-sm","btn-warning","reset-btn",3,"click"],["translate","",1,"btn","btn-lg","btn-success","start-btn",3,"click"],["translate","",1,"alert","alert-danger"],["type","button",1,"close",3,"click"],[1,"btn","btn-secondary","btn-sm","rounds-amount",3,"click"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"span",1),H(2,"game.bet-controls.auto-play.Auto play options"),R(),x(3,"button",2),Ce("click",function(){return i.closeModal()}),x(4,"span",3),H(5,"\xd7"),R()()(),x(6,"div",4),Z(7,V1e,5,1,"div",5),x(8,"div",6)(9,"div",7)(10,"div",8)(11,"span",1),H(12,"game.bet-controls.auto-play.Number of Rounds:"),R(),x(13,"div",9),Z(14,W1e,3,3,"ng-container",10),R()(),x(15,"div",11)(16,"app-ui-switcher",12),Ce("ngModelChange",function(o){return i.decreaseStopPoint.active=o})("toggle",function(){return i.decreaseStopPoint.value=0}),R(),x(17,"span",13),H(18," game.bet-controls.auto-play.Stop if cash decreases by "),R(),x(19,"app-spinner",14),Ce("ngModelChange",function(o){return i.decreaseStopPoint.value=o}),R(),x(20,"span",15),H(21),R()(),x(22,"div",11)(23,"app-ui-switcher",12),Ce("ngModelChange",function(o){return i.increaseStopPoint.active=o})("toggle",function(){return i.increaseStopPoint.value=0}),R(),x(24,"span",13),H(25," game.bet-controls.auto-play.Stop if cash increases by "),R(),x(26,"app-spinner",14),Ce("ngModelChange",function(o){return i.increaseStopPoint.value=o}),R(),x(27,"span",15),H(28),R()(),x(29,"div",11)(30,"app-ui-switcher",12),Ce("ngModelChange",function(o){return i.exceedStopPoint.active=o})("toggle",function(){return i.exceedStopPoint.value=0}),R(),x(31,"span",16),H(32," game.bet-controls.auto-play.Stop if single win exceeds "),R(),x(33,"app-spinner",14),Ce("ngModelChange",function(o){return i.exceedStopPoint.value=o}),R(),x(34,"span",15),H(35),R()()()()(),x(36,"div",17)(37,"div",18)(38,"button",19),Ce("click",function(){return i.reset()}),H(39," game.bet-controls.auto-play.Reset "),R(),x(40,"button",20),Ce("click",function(){return i.closeModal(!0)}),H(41," game.bet-controls.auto-play.Start "),R()()()),2&e&&(A(7),V("ngIf",i.errorMessage),A(7),V("ngForOf",i.app.config.autoBetOptions.numberOfRounds),A(2),V("ngModel",i.decreaseStopPoint.active),A(1),vt("disabled",!i.decreaseStopPoint.active),A(2),vt("long-precision",i.app.isLongPrecision),V("disabled",!i.decreaseStopPoint.active)("ngModel",i.decreaseStopPoint.value)("step",i.app.config.betInputStep)("min",0)("enableButtons",!0)("formatPrecision",i.app.config.betPrecision),A(1),vt("disabled",!i.decreaseStopPoint.active),A(1),me(" ",i.app.config.currency," "),A(2),V("ngModel",i.increaseStopPoint.active),A(1),vt("disabled",!i.increaseStopPoint.active),A(2),vt("long-precision",i.app.isLongPrecision),V("disabled",!i.increaseStopPoint.active)("ngModel",i.increaseStopPoint.value)("step",i.app.config.betInputStep)("min",0)("enableButtons",!0)("formatPrecision",i.app.config.betPrecision),A(1),vt("disabled",!i.increaseStopPoint.active),A(1),me(" ",i.app.config.currency," "),A(2),V("ngModel",i.exceedStopPoint.active),A(1),vt("disabled",!i.exceedStopPoint.active),A(2),vt("long-precision",i.app.isLongPrecision),V("disabled",!i.exceedStopPoint.active)("ngModel",i.exceedStopPoint.value)("step",i.app.config.betInputStep)("min",0)("enableButtons",!0)("formatPrecision",i.app.config.betPrecision),A(1),vt("disabled",!i.exceedStopPoint.active),A(1),me(" ",i.app.config.currency," "))},directives:[Gn,Ht,vi,o0,ks,cs,FS],styles:[".modal-body[_ngcontent-%COMP%]{padding:10px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]{background-color:#2c2d30;border-radius:10px;padding:15px 10px;display:flex;font-size:14px;line-height:14px;margin-bottom:5px;justify-content:space-between;align-items:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;padding-bottom:12px;text-align:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]{width:100%;max-width:290px;display:flex;justify-content:space-evenly}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount[_ngcontent-%COMP%]{width:58px;margin-left:3px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount[_ngcontent-%COMP%]:first-child{margin-left:0}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount.active[_ngcontent-%COMP%]{border:solid 1px #60ae05;box-shadow:none}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:unset}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:34px;font-size:18px;min-width:130px;width:130px;text-align:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .spinner.long-precision[_ngcontent-%COMP%]{font-size:12px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#d2d2d2;text-align:center;padding:0 3px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:.4}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]{min-width:80px;height:22px;padding:0;margin-right:7.5px}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{width:160px;height:30px;padding:0;margin-left:7.5px}"]}),n})();const z1e=["winAmount"],$1e=["autoBetSwitcher"];function X1e(n,t){if(1&n){const e=dt();x(0,"div",21),Ce("click",function(){return it(e),ee().secHandBtn.emit()}),R()}}function q1e(n,t){if(1&n){const e=dt();x(0,"div",22),Ce("click",function(){return it(e),ee().secHandBtn.emit()}),R()}2&n&&vt("disabled",ee().isSecHandCloseBtnDisabled)}function K1e(n,t){if(1&n){const e=dt();ft(0),x(1,"app-navigation-switcher",23),Ce("ngModelChange",function(r){return it(e),ee().activeTab=r}),R(),pt()}if(2&n){const e=ee();A(1),V("disabled",!!e.autoBetOpt.autoBetsAmount||e.autoCashOutEnabled)("ngModel",e.activeTab)("translatePath","shared")("tabs",e.betControlNavigationList)}}function J1e(n,t){if(1&n){const e=dt();x(0,"button",24),Ce("click",function(){const o=it(e).$implicit;return ee().onSetBetOpt(o)}),x(1,"span"),H(2),ce(3,"currencyPrecision"),R()()}if(2&n){const e=t.$implicit,i=ee();vt("disabled",i.betSaved||i.freeBetAvailable)("long-precision",i.app.isLongPrecision),V("disabled",i.betSaved||i.freeBetAvailable),A(2),me(" ",pe(3,6,e)," ")}}function Q1e(n,t){if(1&n){const e=dt();ft(0),x(1,"button",25),Ce("click",function(){return it(e),ee().bet()}),x(2,"span",26)(3,"label",27),H(4),ce(5,"translate"),R(),x(6,"label",28)(7,"span"),H(8),ce(9,"currencyPrecision"),R(),x(10,"span",29),H(11),R()()()(),pt()}if(2&n){const e=ee();A(1),vt("disabled",e.waitingForResponse),V("disabled",e.waitingForResponse),A(3),me(" ",pe(5,6,"shared.bet")," "),A(4),yt(pe(9,8,e.betValue)),A(3),me(" ",e.app.config.currency,"")}}function Z1e(n,t){1&n&&(x(0,"div",32),H(1," shared.waiting_for_next_round "),R())}function eEe(n,t){if(1&n){const e=dt();ft(0),Z(1,Z1e,2,0,"div",30),x(2,"button",31),Ce("click",function(){return it(e),ee().cancel()}),x(3,"label",27),H(4),ce(5,"translate"),R()(),pt()}if(2&n){const e=ee();A(1),V("ngIf",e.isPreBet),A(1),vt("disabled",e.waitingForResponse)("height-70",e.isPreBet),V("disabled",e.waitingForResponse),A(2),me(" ",pe(5,7,"shared.cancel")," ")}}function tEe(n,t){if(1&n){const e=dt();ft(0),x(1,"button",33),Ce("click",function(){return it(e),ee().onCashOut()}),x(2,"span",26)(3,"label",34),H(4),ce(5,"translate"),R(),x(6,"label",28)(7,"span",null,35),H(9,"0"),R(),x(10,"span",29),H(11),R()()()(),pt()}if(2&n){const e=ee();A(1),vt("disabled",e.waitingForResponse||e.cashOutDisabled),V("disabled",e.waitingForResponse||e.cashOutDisabled),A(3),me(" ",pe(5,5,"shared.cash_out")," "),A(7),me(" ",e.app.config.currency,"")}}function nEe(n,t){if(1&n){const e=dt();ft(0),x(1,"label",16),H(2,"game.bet-controls.bet-control.auto bet"),R(),x(3,"app-ui-switcher",36,37),Ce("ngModelChange",function(r){return it(e),ee().endlessAutoBetEnabled=r})("toggle",function(){return it(e),ee().onAutoBetSwitch()}),R(),pt()}if(2&n){const e=ee();A(3),vt("disabled",e.waitingForResponse||e.freeBetAvailable),V("disabled",e.waitingForResponse||e.freeBetAvailable)("ngModel",e.endlessAutoBetEnabled)}}function iEe(n,t){if(1&n){const e=dt();x(0,"button",40),Ce("click",function(){return it(e),ee(2).onSetAutoPlayOptions(!0)}),H(1),ce(2,"translate"),R()}if(2&n){const e=ee(2);vt("disabled",e.waitingForResponse||e.freeBetAvailable),V("disabled",e.waitingForResponse||e.freeBetAvailable),A(1),me(" ",pe(2,4,"game.bet-controls.bet-control.Auto play")," ")}}function rEe(n,t){if(1&n&&(x(0,"span"),H(1),R()),2&n){const e=ee(3);A(1),me(" (",e.autoBetOpt.autoBetsAmount,") ")}}function oEe(n,t){if(1&n){const e=dt();x(0,"button",41),Ce("click",function(){return it(e),ee(2).onSetAutoPlayOptions(!1)}),H(1),ce(2,"translate"),Z(3,rEe,2,1,"span",3),R()}if(2&n){const e=ee(2);vt("disabled",e.waitingForResponse||e.freeBetAvailable),V("disabled",e.waitingForResponse||e.freeBetAvailable),A(1),me(" ",pe(2,5,"shared.stop")," "),A(2),V("ngIf",e.autoBetOpt.autoBetsAmount)}}function sEe(n,t){if(1&n&&(ft(0),Z(1,iEe,3,6,"button",38),Z(2,oEe,4,7,"button",39),pt()),2&n){const e=ee();A(1),V("ngIf",null===e.autoBetOpt.autoBetsAmount),A(1),V("ngIf",null!==e.autoBetOpt.autoBetsAmount)}}let $f=class{constructor(t,e,i,r,o,s,a,l,c,u,y,O,P,I,D,B,Y){this.mainService=t,this.app=e,this.connector=i,this.betService=r,this.sound=o,this.message=s,this.user=a,this.modal=l,this.freeBets=c,this.frontEndProxyService=u,this.ifc=y,this.cd=O,this.ngbModal=P,this.netSession=I,this.multiplier=D,this.minBetError=B,this.currencyPrecisionPipe=Y,this.secHandBtn=new Yt,this.activeTab=zf.bet,this.betControlNavigationList=Object.values(zf),this.betValue=0,this.autoCashOutValue=1.02,this.autoCashOutEnabled=!1,this.settedBetOpt=null,this.cashOutDisabled=!0,this.waitingForResponse=!1,this.isBetIncluded=!0,this.limits={},this._endlessAutoBetEnabled=!1,this.autoBetOpt={autoBetsAmount:null,increaseBalanceStopPoint:null,decreaseBalanceStopPoint:null,exceedStopPoint:null},this.isLockUI=!1}get endlessAutoBetEnabled(){return this._endlessAutoBetEnabled}set endlessAutoBetEnabled(t){this._endlessAutoBetEnabled=t,this.ifc.emitEvent(Ai.Autoplay,{id:this.betId,value:this.endlessAutoBetEnabled})}get maxMultiplier(){return this.app.config.maxUserMultiplier?this.app.config.maxUserMultiplier:this.app.config.autoCashOut.maxValue}ngOnInit(){this.mainService.getState(ir.Bet).pipe(gt(this)).subscribe(()=>this.setBetStateHandler()),this.mainService.getState(ir.End).pipe(gt(this)).subscribe(()=>this.setEndGameStateHandler()),this.mainService.getState(ir.Run).pipe(gt(this)).subscribe(()=>{this.cashOutDisabled=!0,this.cd.detectChanges()}),this.connector.response(pn.CashOut).pipe(gt(this)).subscribe(e=>this.cashOutResponse(e)),this.connector.response(pn.CancelBet).pipe(gt(this),Lt(e=>this.isMyAction(e))).subscribe(e=>this.cancelBetResponse(e)),this.connector.response(pn.Bet).pipe(gt(this),Lt(e=>this.isMyAction(e))).subscribe(e=>this.betResponse(e)),this.connector.response(pn.CancelFreeBet,200).pipe(gt(this)).subscribe(e=>this.onCancelFreeBet(e)),this.multiplier.data$.pipe(gt(this)).subscribe(e=>{this.setCurrentMultiplier(e.currentMultiplier)}),this.freeBets.onActivate$.pipe(gt(this)).subscribe(()=>this.updateValues()),this.frontEndProxyService.stopAutoBet$.pipe(gt(this)).subscribe(()=>{this.onSetAutoPlayOptions(!1),this.cd.detectChanges()}),this.ifc.command(Lr.StopAutoplay).pipe(gt(this)).subscribe(()=>{this.onSetAutoPlayOptions(!1),this.cd.detectChanges()}),this.updateValues();const t=this.betService.getBet(this.betId);t&&("isFreeBet"in t.data&&this.freeBets.activate(t.data.isFreeBet?t.data.freeBetId:null),this.betValue=t.data.bet,"isAutoCashOutEnabled"in t.data&&t.data.isAutoCashOutEnabled&&(this.autoCashOutEnabled=!0,this.autoCashOutValue=t.data.autoCashOut,this.activeTab=zf.auto),this.cd.detectChanges()),this.ifc.command(Lr.LockUI).pipe(gt(this),ur(e=>this.isLockUI=e.value),Lt(e=>e.value)).subscribe(()=>this.onLockUI()),this.betService.cancelBets$.pipe(gt(this)).subscribe(()=>this.onCancelBets())}onCancelFreeBet(t){if(!this.betService.getBet(this.betId))return;const e=this.betService.getBet(this.betId).data;let i=null;"freeBetsId"in e&&(i=e.freeBetsId),"freeBetId"in e&&(i=e.freeBetId),i&&t.freeBets.includes(i)&&(this.betService.removeBet(this.betId),this.ifc.emitEvent(Ai.CancelBetComplete,{id:this.betId,code:t.code}),this.cd.detectChanges())}onLockUI(){this.app.onLockUIActions===Ag.CancelBet&&this.displayCancelBtn&&!1===this.isPreBet&&this.cancel()}onCancelBets(){this.displayCancelBtn&&(this.cancel(),this.cd.detectChanges())}updateValues(){const t=this.freeBets.activeFreeBet;if(t)this.limits.minBet=t.freeBetsBetAmount,this.limits.maxBet=t.freeBetsBetAmount,this.betValue=t.freeBetsBetAmount,this.limits.minCashout=t.freeBetsMinCashOut,this.isBetIncluded=t.isBetIncluded,this.autoCashOutValue<this.limits.minCashout&&(this.autoCashOutValue=this.limits.minCashout);else{this.limits.minBet=this.app.config.minBet,this.limits.maxBet=this.app.config.maxBet;const e=this.app.config.defaultBetValue;this.betValue=e&&e>0?e:this.app.config.minBet,this.limits.minCashout=this.app.config.autoCashOut.minValue,this.autoCashOutValue=1.02,this.isBetIncluded=!0}this.cd.detectChanges()}setBetStateHandler(){const t=this.betService.getBet(this.betId);(null==t?void 0:t.preBet)&&"clientSeed"in t.data&&(this.sendBet(t.data),this.cd.detectChanges())}setEndGameStateHandler(){this.cashOutDisabled=!1,this.betService.getBet(this.betId)&&!1===this.betService.getBet(this.betId).preBet&&this.betService.removeBet(this.betId),(null!==this.autoBetOpt.autoBetsAmount||this.endlessAutoBetEnabled)&&void 0===this.betService.getBet(this.betId)&&this.autoBet(),this.cd.detectChanges()}setCurrentMultiplier(t){if(this.winAmountRef&&!1===this.waitingForResponse){let e=this.betValue*t;!1===this.isBetIncluded&&(e-=this.betValue),this.winAmountRef.nativeElement.textContent=this.currencyPrecisionPipe.transform(e)}this.cashOutDisabled&&t>=this.limits.minCashout&&(this.cashOutDisabled=!1,this.cd.detectChanges())}onCashOut(){this.sound.play(bu.Bet),this.waitingForResponse=!0,this.connector.request(Fi.CashOut,{betId:this.betId,currentTimestamp:Date.now()}),this.ifc.emitEvent(Ai.Cashout,{id:this.betId})}cashOutResponse(t){t.cashouts.forEach(e=>{this.user.id===e.player_id&&this.betId===e.betId&&(this.waitingForResponse=!1,200===t.code&&(this.betService.removeBet(this.betId),null!==this.autoBetOpt.decreaseBalanceStopPoint&&(this.autoBetOpt.decreaseBalanceStopPoint+=e.winAmount),null!==this.autoBetOpt.increaseBalanceStopPoint&&(this.autoBetOpt.increaseBalanceStopPoint-=e.winAmount),null!==this.autoBetOpt.exceedStopPoint&&e.winAmount>this.autoBetOpt.exceedStopPoint&&this.stopAutoGame(),(null!==this.autoBetOpt.autoBetsAmount||this.endlessAutoBetEnabled)&&this.autoBet(),this.message.add({template:Tg.win,params:{winAmount:e.winAmount,betAmount:e.betAmount,multiplier:t.multiplier,currency:this.app.config.currency,isMaxWinAutoCashOut:e.isMaxWinAutoCashOut}}),this.ifc.emitEvent(Ai.WinInfo,{id:e.betId,amount:e.winAmount}),this.betService.isWinCelebrated(e.winAmount,e.betAmount)&&this.sound.play(bu.Win),this.freeBets.activeFreeBet||this.netSession.plus(e.winAmount)),this.ifc.emitEvent(Ai.CashoutComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:e.additionalOperatorData}))}),this.cd.detectChanges()}onSetBetOpt(t){this.betSaved||this.freeBets.activeFreeBet||(this.settedBetOpt===t?this.betValue+=t:(this.settedBetOpt=t,this.betValue=t))}onAutoBetSwitch(){this.displayBetBtn&&this.endlessAutoBetEnabled?this.autoBet():this.displayCancelBtn&&!this.endlessAutoBetEnabled&&this.cancel()}autoBet(){this.isOutOffAutoBetLimits?this.stopAutoGame():this.bet()}bet(){this.sound.play(bu.Bet);const t={bet:this.betValue,clientSeed:this.user.clientSeed,betId:this.betId,freeBet:!1},e=this.freeBets.activeFreeBet;e&&(t.freeBet=!0,t.freeBetsId=e.freeBetsId),this.autoCashOutEnabled&&(t.autoCashOut=this.autoCashOutValue),this.isBalanceValid(t)?(this.betService.setBet({betId:this.betId,preBet:!0,data:t}),this.mainService.state===ir.Bet&&this.sendBet(t)):this.handleInvalidBalance()}isBalanceValid(t){var e;return!(this.app.config.isBalanceValidationEnabled&&!t.freeBet)||((null===(e=this.betService.getBets()[0])||void 0===e?void 0:e.preBet)?new qr(this.user.balance).minus(this.betService.getBets()[0].data.bet).toNumber():this.user.balance)>=t.bet}handleInvalidBalance(){null!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame(),this.endlessAutoBetEnabled&&this.autoBetSwitcher.onClick(),this.message.add({value:dh.NotEnoughBalance,context:Xi.danger})}sendBet(t){this.isLockUI&&this.app.onLockUIActions===Ag.CancelBet?this.betService.removeBet(this.betId):(this.waitingForResponse=!0,this.connector.request(Fi.Bet,t),this.ifc.emitEvent(Ai.MakeBet,{id:this.betId,amount:t.bet}))}betResponse(t){this.waitingForResponse=!1,t.code===wd.Success?(this.betService.setBet({betId:this.betId,preBet:!1,data:t}),this.autoBetOpt.autoBetsAmount&&this.autoBetOpt.autoBetsAmount--,null!==this.autoBetOpt.decreaseBalanceStopPoint&&(this.autoBetOpt.decreaseBalanceStopPoint-=t.bet),null!==this.autoBetOpt.increaseBalanceStopPoint&&(this.autoBetOpt.increaseBalanceStopPoint+=t.bet),this.freeBets.activeFreeBet||this.netSession.minus(t.bet)):(this.betService.removeBet(this.betId),this.endlessAutoBetEnabled&&(this.endlessAutoBetEnabled=!1),null!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame()),this.ifc.emitEvent(Ai.MakeBetComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}cancel(){!1===this.isPreBet?(this.waitingForResponse=!0,this.connector.request(Fi.CancelBet,{betId:this.betId}),this.ifc.emitEvent(Ai.CancelBet,{id:this.betId})):!0===this.isPreBet&&this.betService.removeBet(this.betId),this.endlessAutoBetEnabled&&(this.endlessAutoBetEnabled=!1),null!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame(),this.sound.play(bu.Bet)}cancelBetResponse(t){this.waitingForResponse=!1,200===t.code&&(this.freeBets.activeFreeBet||this.netSession.plus(this.betService.getBet(this.betId).data.bet),this.betService.removeBet(this.betId)),this.ifc.emitEvent(Ai.CancelBetComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}onBetValueChange(t){this.betValue=t,this.minBetError.updateStake(t,this.betId),this.ifc.emitUpdateStakeEvent(this.betId,t)}onSetAutoPlayOptions(t){t?this.ngbModal.open(Y1e).result.then(e=>{e?(this.autoBetOpt.autoBetsAmount=e.autoBetsAmount,this.autoBetOpt.decreaseBalanceStopPoint=e.decreaseBalanceStopPoint?e.decreaseBalanceStopPoint:null,this.autoBetOpt.increaseBalanceStopPoint=e.increaseBalanceStopPoint?e.increaseBalanceStopPoint:null,this.autoBetOpt.exceedStopPoint=e.exceedStopPoint?e.exceedStopPoint:null,this.ifc.emitEvent(Ai.Autoplay,{id:this.betId,value:!0}),this.displayBetBtn&&this.autoBet()):this.stopAutoGame(),this.cd.detectChanges()},()=>{}):this.displayCancelBtn?this.cancel():this.stopAutoGame()}stopAutoGame(){this.autoBetOpt.autoBetsAmount=null,this.autoBetOpt.decreaseBalanceStopPoint=null,this.autoBetOpt.increaseBalanceStopPoint=null,this.autoBetOpt.exceedStopPoint=null,this.endlessAutoBetEnabled=!1,this.ifc.emitEvent(Ai.Autoplay,{id:this.betId,value:!1})}isMyAction(t){return this.user.id===t.player_id&&this.betId===t.betId}get betSaved(){return!!this.betService.getBet(this.betId)}get isSecHandCloseBtnDisabled(){return this.betService.getBet(2)&&!1===this.betService.getBet(2).preBet}get isAutoShown(){return this.activeTab===zf.auto}get freeBetAvailable(){return void 0!==this.freeBets.activeFreeBet}get displayBetBtn(){return!this.displayCashOutBtn&&void 0===this.betService.getBet(this.betId)}get displayCancelBtn(){return!this.displayCashOutBtn&&void 0!==this.betService.getBet(this.betId)}get displayCashOutBtn(){return this.mainService.state===ir.Run&&this.betService.getBet(this.betId)&&!1===this.betService.getBet(this.betId).preBet}get isOutOffAutoBetLimits(){return 0===this.autoBetOpt.autoBetsAmount||null!==this.autoBetOpt.decreaseBalanceStopPoint&&this.autoBetOpt.decreaseBalanceStopPoint<=0||null!==this.autoBetOpt.increaseBalanceStopPoint&&this.autoBetOpt.increaseBalanceStopPoint<=0}get isPreBet(){return this.betService.getBet(this.betId)&&this.betService.getBet(this.betId).preBet}get betOptions(){return this.app.isLongPrecision?this.app.config.betOptions.slice(0,2):this.app.config.betOptions}ngOnDestroy(){this.betService.removeBet(this.betId),this.ifc.emitUpdateStakeEvent(this.betId,0),this.minBetError.updateStake(0,this.betId)}};$f.\u0275fac=function(t){return new(t||$f)(X(Ui),X(en),X(ki),X(Dc),X(Qg),X(Aa),X(il),X(Is),X(Ic),X(cE),X(Eu),X(Tn),X(RE),X(eH),X(uE),X(AS),X(Gr))},$f.\u0275cmp=et({type:$f,selectors:[["app-bet-control"]],viewQuery:function(t,e){if(1&t&&(mo(z1e,5),mo($1e,5,o0)),2&t){let i;Hn(i=Vn())&&(e.winAmountRef=i.first),Hn(i=Vn())&&(e.autoBetSwitcher=i.first)}},inputs:{betId:"betId",secondBet:"secondBet"},outputs:{secHandBtn:"secHandBtn"},features:[ei([Gr])],decls:27,vars:47,consts:[[1,"controls"],["class","sec-hand-btn add btn btn-success",3,"click",4,"ngIf"],["class","sec-hand-btn close",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[1,"first-row"],[1,"bet-block"],[1,"spinner",3,"disabled","ngModel","step","min","max","formatPrecision","ngModelChange"],[1,"bets-opt-list"],["class","btn btn-secondary btn-sm bet-opt",3,"disabled","long-precision","click",4,"ngFor","ngForOf"],[1,"buttons-block"],[1,"w-100","border-line"],[1,"second-row"],[1,"auto-bet-wrapper"],[1,"auto-bet"],[1,"cashout-block"],[1,"cash-out-switcher"],["translate",""],[3,"ngModel","disabled","ngModelChange"],[1,"cashout-spinner-wrapper"],[1,"cashout-spinner"],[3,"disabled","ngModel","enableButtons","min","max","formatPrecision","showX","size","ngModelChange"],[1,"sec-hand-btn","add","btn","btn-success",3,"click"],[1,"sec-hand-btn","close",3,"click"],[1,"navigation",3,"disabled","ngModel","translatePath","tabs","ngModelChange"],[1,"btn","btn-secondary","btn-sm","bet-opt",3,"disabled","click"],[1,"btn","btn-success","bet",3,"disabled","click"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"label","text-uppercase"],[1,"amount"],[1,"currency"],["class","btn-tooltip","translate","",4,"ngIf"],[1,"btn","btn-danger","bet",3,"disabled","click"],["translate","",1,"btn-tooltip"],[1,"btn","btn-warning","cashout",3,"disabled","click"],[1,"text-uppercase"],["winAmount",""],[3,"disabled","ngModel","ngModelChange","toggle"],["autoBetSwitcher",""],["class","btn btn-sm btn-primary auto-play-btn text-uppercase",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-danger auto-play-btn text-lowercase",3,"disabled","click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","auto-play-btn","text-uppercase",3,"disabled","click"],[1,"btn","btn-sm","btn-danger","auto-play-btn","text-lowercase",3,"disabled","click"]],template:function(t,e){1&t&&(x(0,"div",0),Z(1,X1e,1,0,"div",1),Z(2,q1e,1,2,"div",2),Z(3,K1e,2,4,"ng-container",3),x(4,"div",4)(5,"div",5)(6,"app-spinner",6),Ce("ngModelChange",function(r){return e.onBetValueChange(r)}),R(),x(7,"div",7),Z(8,J1e,4,8,"button",8),R()(),x(9,"div",9),Z(10,Q1e,12,10,"ng-container",3),Z(11,eEe,6,9,"ng-container",3),Z(12,tEe,12,7,"ng-container",3),R()(),ve(13,"div",10),x(14,"div",11)(15,"div",12)(16,"div",13),Z(17,nEe,5,4,"ng-container",3),Z(18,sEe,3,2,"ng-container",3),R()(),x(19,"div",14)(20,"div",15)(21,"label",16),H(22," game.bet-controls.bet-control.auto cashout "),R(),x(23,"app-ui-switcher",17),Ce("ngModelChange",function(r){return e.autoCashOutEnabled=r}),R()(),x(24,"div",18)(25,"div",19)(26,"app-spinner",20),Ce("ngModelChange",function(r){return e.autoCashOutValue=r}),R()()()()()()),2&t&&(vt("border-red",e.displayCancelBtn)("border-orange",e.displayCashOutBtn)("disabled",e.waitingForResponse),A(1),V("ngIf",!e.secondBet&&e.app.config.isMultipleBetsEnabled),A(1),V("ngIf",e.secondBet&&2===e.betId),A(1),V("ngIf",e.app.isAutoBetFeatureEnabled),A(1),vt("auto-game",e.isAutoShown)("auto-game-feature",e.app.isAutoBetFeatureEnabled),A(2),vt("long-precision",e.app.isLongPrecision)("disabled",e.betSaved||e.freeBetAvailable),V("disabled",e.betSaved||e.freeBetAvailable)("ngModel",e.betValue)("step",e.app.config.betInputStep)("min",e.limits.minBet)("max",e.limits.maxBet)("formatPrecision",e.app.config.betPrecision),A(2),V("ngForOf",e.betOptions),A(2),V("ngIf",e.displayBetBtn),A(1),V("ngIf",e.displayCancelBtn),A(1),V("ngIf",e.displayCashOutBtn),A(1),vt("d-none",!e.isAutoShown),A(1),vt("d-none",!e.isAutoShown),A(3),V("ngIf",!e.app.config.autoBetOptions),A(1),V("ngIf",e.app.config.autoBetOptions),A(3),vt("disabled",e.betSaved),A(2),V("ngModel",e.autoCashOutEnabled)("disabled",e.betSaved),A(2),vt("disabled",!e.autoCashOutEnabled),A(1),V("disabled",!e.autoCashOutEnabled||e.betSaved)("ngModel",e.autoCashOutValue)("enableButtons",!1)("min",e.limits.minCashout)("max",e.maxMultiplier)("formatPrecision",e.app.config.multiplierPrecision)("showX",!0)("size","small"))},directives:[Ht,BA,ks,cs,FS,vi,Gn,o0],pipes:[Gr,dn],styles:["[_nghost-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{display:flex;position:absolute;width:80%;flex-direction:column;justify-content:center;align-items:center;border-radius:10px;background-color:#1b1c3d;height:110px;top:150px;right:10px;border:solid 1px #4444a4}.controls.border-red[_ngcontent-%COMP%]{border:solid 1px #cb011a}.controls.border-orange[_ngcontent-%COMP%]{border:solid 1px #d07206}.controls.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;width:24px;height:24px;padding:0;cursor:pointer;border-radius:10px;border:none;background:#427f00 url(plus.165877be2653aaf8.svg) no-repeat center center}.controls[_ngcontent-%COMP%]   .sec-hand-btn.disabled[_ngcontent-%COMP%]{opacity:.2;pointer-events:none}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]:hover{background-color:#28a909}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.controls[_ngcontent-%COMP%]   .sec-hand-btn.close[_ngcontent-%COMP%]{background:#440011}.controls[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{height:24px;font-size:12px;background-color:#110044;margin-top:10px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{width:calc(100% - 20px);max-width:390px;display:flex;justify-content:center}.controls[_ngcontent-%COMP%]   .first-row.auto-game-feature[_ngcontent-%COMP%]{margin:0 auto auto}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;width:140px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:14px;font-size:10px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .spinner.long-precision[_ngcontent-%COMP%]{font-size:14px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;font-size:14px;color:#1ea0a3;width:100%}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]{font-size:14px;width:64px;height:18px;margin-top:4px;line-height:1;padding:0;background:#141566;border:none}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]:nth-child(2){margin-left:4px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]:nth-child(4){margin-left:4px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt.long-precision[_ngcontent-%COMP%]{margin-left:0;margin-right:0;width:132px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff80}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]{width:calc(100% - 145px);margin-left:5px;display:flex;justify-content:center;align-items:center;flex-direction:column}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   .btn-tooltip[_ngcontent-%COMP%]{font-size:14px;color:#ffffffb3;text-align:center}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50;border-radius:10px;border:solid 1px #aaffaa;color:#9988ffheight:30;font-size:10px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;line-height:1;cursor:pointer}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label.amount[_ngcontent-%COMP%]{font-size:14px;margin-top:2px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label.amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:10px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   .height-70[_ngcontent-%COMP%]{height:70%}.controls[_ngcontent-%COMP%]   .border-line[_ngcontent-%COMP%]{height:2px;background:#141516}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]{display:flex;width:100%;max-width:390px;justify-content:space-around;align-items:center;height:40px;color:#9ea0a3}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]{margin-left:5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]{font-size:12px;text-align:center;display:flex;align-items:center}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]   .auto-play-btn[_ngcontent-%COMP%]{height:22px;width:100px;padding:0;font-size:12px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 5px 0 0;display:block}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:0 5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cash-out-switcher[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;box-sizing:border-box}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cash-out-switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;margin:0 5px 0 0;text-align:center}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cashout-spinner-wrapper[_ngcontent-%COMP%]{height:50%;display:flex;justify-content:center;align-items:center;margin-left:5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cashout-spinner-wrapper[_ngcontent-%COMP%]   .cashout-spinner[_ngcontent-%COMP%]{height:30px;width:80px;display:flex;font-size:16px}@media (max-width: 991.98px){.controls[_ngcontent-%COMP%]   .first-row.auto-game[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}}"],changeDetection:0}),$f=We([oi()],$f);const aEe=["controls"];function lEe(n,t){if(1&n){const e=dt();x(0,"app-bet-control",4),Ce("secHandBtn",function(){return it(e),ee().setSecondBet()}),R()}if(2&n){const e=ee();vt("locked",e.lockBets),V("secondBet",e.user.settings.secondBet)("betId",2)}}let Xf=class{constructor(t,e,i,r,o,s,a){this.mainService=t,this.cd=e,this.user=i,this.betService=r,this.app=o,this.ifc=s,this.window=a,this.lockBets=!1,this.controlsWrap=!1}ngOnInit(){this.betService.getBet(2)&&(this.user.settings.secondBet=!0),this.mainService.timeLeft<=0&&this.onLockBets(!0),this.mainService.getState(ir.Run).pipe(gt(this)).subscribe(()=>{this.onLockBets(!1),this.ifc.emitEventStartRound(this.betService.getBets())}),this.mainService.event(j0.onLockBets).pipe(gt(this)).subscribe(t=>this.onLockBets(t.data))}ngAfterViewInit(){this.window.onResize$.pipe(gt(this)).subscribe(()=>{setTimeout(()=>this.checkBetControlsStyle())})}onLockBets(t){this.lockBets!==t&&(this.lockBets=t,this.cd.detectChanges())}setSecondBet(){this.user.settings.secondBet=!this.user.settings.secondBet,this.window.manualEmitResizeEvent()}checkBetControlsStyle(){const t=this.user.settings.secondBet&&this.app.config.isMultipleBetsEnabled;this.controlsWrap=!1,t&&(this.controlsWrap=this.controlsRef.nativeElement.offsetWidth<620),this.cd.detectChanges()}};Xf.\u0275fac=function(t){return new(t||Xf)(X(Ui),X(Tn),X(il),X(Dc),X(en),X(Eu),X(Vv))},Xf.\u0275cmp=et({type:Xf,selectors:[["app-bet-controls"]],viewQuery:function(t,e){if(1&t&&mo(aEe,7),2&t){let i;Hn(i=Vn())&&(e.controlsRef=i.first)}},decls:4,vars:9,consts:[[1,"controls"],["controls",""],[1,"bet-control",3,"betId","secondBet","secHandBtn"],["class","bet-control double-bet",3,"locked","secondBet","betId","secHandBtn",4,"ngIf"],[1,"bet-control","double-bet",3,"secondBet","betId","secHandBtn"]],template:function(t,e){1&t&&(x(0,"div",0,1)(2,"app-bet-control",2),Ce("secHandBtn",function(){return e.setSecondBet()}),R(),Z(3,lEe,1,4,"app-bet-control",3),R()),2&t&&(vt("controls-wrap",e.controlsWrap),A(2),vt("double-bet",e.user.settings.secondBet&&e.app.config.isMultipleBetsEnabled)("locked",e.lockBets),V("betId",1)("secondBet",e.user.settings.secondBet),A(1),V("ngIf",e.user.settings.secondBet&&e.app.config.isMultipleBetsEnabled))},directives:[$f,Ht],styles:["[_nghost-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.controls.controls-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.controls.controls-wrap[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]:first-child{margin-bottom:10px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:first-child{padding-right:5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:last-child{padding-left:5px}.controls[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]{width:100%;height:170px;max-width:750px;min-width:310px;border-radius:20px}.controls[_ngcontent-%COMP%]   .locked[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}@media (max-width: 991.98px){.controls.controls-wrap[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]:first-child{margin-bottom:5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:first-child{padding-right:2.5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:last-child{padding-left:2.5px}.controls[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]{height:auto;min-height:150px}}"],changeDetection:0}),Xf=We([oi()],Xf);let H0=(()=>{class n{constructor(e){this.zone=e,this._scrollNativeElement=null,this.newMessagesAddedSubject=new Xn(!1),this.newMessagesAdded$=this.newMessagesAddedSubject.asObservable()}set scrollNativeElement(e){this._scrollNativeElement=e,Ti(this._scrollNativeElement,"scroll").pipe(Js(500)).subscribe(()=>{this.newMessagesAddedSubject.getValue()&&this.newMessagesAddedSubject.next(!this.isScrollAtBottom)})}onScrollToBottom(){this.newMessagesAddedSubject.next(!1),this.scrollToBottom()}keepUpScroll(){this.isScrollAtBottom?(this.newMessagesAddedSubject.next(!1),this.scrollToBottom()):this.newMessagesAddedSubject.next(!0)}scrollToBottom(e=0){this._scrollNativeElement&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this._scrollNativeElement.scrollTop=this._scrollNativeElement.scrollHeight},e)})}get isScrollAtBottom(){var e;return(null===(e=this._scrollNativeElement)||void 0===e?void 0:e.scrollHeight)-this._scrollNativeElement.scrollTop===this._scrollNativeElement.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(Fe(Wn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),cEe=(()=>{class n{constructor(e,i){this.chatService=e,this.oldChat=i}}return n.\u0275fac=function(e){return new(e||n)(X(Ru),X(Qs))},n.\u0275cmp=et({type:n,selectors:[["app-chat-header"]],decls:10,vars:3,consts:[[1,"header"],[1,"online-wrapper","position-absolute","d-flex","align-items-center"],[1,"green-circle"],[1,"buttons"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1),ve(2,"div",2),x(3,"span"),H(4),ce(5,"async"),R()(),x(6,"div",3)(7,"button",4),Ce("click",function(){return i.oldChat.isOpen=!1}),x(8,"span",5),H(9,"\xd7"),R()()()()),2&e&&(A(4),yt(pe(5,1,i.chatService.onlinePlayers$)))},pipes:[Ps],styles:["[_nghost-%COMP%]{width:inherit}.header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:7px 13px;height:var(--headerHeight);position:relative;align-items:center}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);font-size:14px}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{width:6px;height:6px;background:#28a909;border-radius:50%;margin:0 3px}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]{background-image:url(close.f62b9233d6078bd1.svg)}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]:hover{background-image:url(close-h.1ea37fb099b65e33.svg)}.header[_ngcontent-%COMP%]   .btn-hide.collapsed[_ngcontent-%COMP%]{background-image:url(up.8535033e8a8651ee.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]{background-image:url(turn-off.0912216e64ccd16f.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]:hover{background-image:url(turn-off-h.d6117b6d962d0f22.svg)}"],changeDetection:0}),n})();var B_=(()=>(function(n){n.Moderator="MODERATOR",n.Bot="BOT",n.User="USER",n.Server="SERVER"}(B_||(B_={})),B_))(),qf=(()=>(function(n){n.Ban="BAN",n.BetInfo="BET_INFO",n.Rain="RAIN",n.Gif="GIF",n.Text="TEXT"}(qf||(qf={})),qf))();let L_=(()=>{class n{constructor(e){this.stomp=e,this.stomp.response(hs.Init).pipe().subscribe(i=>{this.setConfig(i.config)})}get config(){return this._config}setConfig(e){this._config=Object.freeze(e)}}return n.\u0275fac=function(e){return new(e||n)(Fe(Au))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),tH=(()=>{class n{constructor(e,i,r,o,s){this.oldChat=e,this.stomp=i,this.bsMessage=r,this.chatConfig=o,this.scrollService=s,this._messagesSubject=new Xn([]),this.messages$=this._messagesSubject.asObservable(),this.stomp.response(hs.Init).subscribe(a=>this.onInit(a)),this.stomp.response(hs.MessageSend).subscribe(a=>this.onMessageSend(a)),this.stomp.response(hs.MessageAdd).subscribe(a=>this.onMessageAdd(a)),this.stomp.response(hs.MessageDelete).subscribe(a=>this.onMessageDelete(a.deletedMessageIds))}get messages(){return this._messagesSubject.getValue()}onInit(e){this._messagesSubject.next(function w_e(n,t){return n.slice(Math.max(n.length-t,0))}(e.messages,this.chatConfig.config.maxMessages))}onMessageSend(e){e.errorMessage&&this.bsMessage.add({value:e.errorMessage,context:Xi.danger,lifeTime:3e3,closable:!1})}onMessageAdd(e){const i=e.message.some(r=>r.type===qf.Rain);this._messagesSubject.next([...this.messages,...e.message]),this._messagesSubject.next(this.messages.slice(-this.chatConfig.config.maxMessages)),this.scrollService.keepUpScroll(),!1===this.oldChat.isOpen&&i&&this.notifyAboutRain()}onMessageDelete(e){this._messagesSubject.next(this.messages.filter(i=>!e.includes(i.id)))}notifyAboutRain(){this.bsMessage.add({value:"rain-has-been-dropped",lifeTime:1e3,context:Xi.success,callback:()=>{setTimeout(()=>{this.oldChat.isOpen=!0},300)}})}}return n.\u0275fac=function(e){return new(e||n)(Fe(Qs),Fe(Au),Fe(Aa),Fe(L_),Fe(H0))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();var BS=(()=>(function(n){n.Reply="reply",n.Translate="translate"}(BS||(BS={})),BS))(),V0=(()=>(function(n){n.Header="header"}(V0||(V0={})),V0))();let W0=(()=>{class n{constructor(e){this.chatConfig=e}transform(e){return this.chatConfig.config.isUseMaskedUsername?e&&rL(e)?`${e.charAt(0)}***${e.charAt(e.length-1)}`.toLowerCase():"*****":e}}return n.\u0275fac=function(e){return new(e||n)(X(L_,16))},n.\u0275pipe=Vr({name:"maskedUsername",type:n,pure:!0}),n})();function uEe(n,t){if(1&n&&(x(0,"span",7),H(1),ce(2,"maskedUsername"),R()),2&n){const e=ee();A(1),me(" ",pe(2,1,e.banInfo.playerName)," ")}}function hEe(n,t){1&n&&(x(0,"span",5),H(1," game.chat-widget.chat-message.chat-message-ban.you "),R())}function dEe(n,t){1&n&&(x(0,"span",5),H(1," game.chat-widget.chat-message.chat-message-ban.has been "),R())}function fEe(n,t){1&n&&(x(0,"span",5),H(1," game.chat-widget.chat-message.chat-message-ban.have been "),R())}function pEe(n,t){1&n&&(x(0,"span",8),H(1," game.chat-widget.chat-message.chat-message-ban.banned-other "),R())}function gEe(n,t){1&n&&(x(0,"span",8),H(1," game.chat-widget.chat-message.chat-message-ban.banned-me "),R())}function _Ee(n,t){if(1&n&&(x(0,"span")(1,"span"),H(2),R(),x(3,"span",5),H(4,"game.chat-widget.chat-message.chat-message-ban.day"),R()()),2&n){const e=ee();A(2),yt(e.day)}}function mEe(n,t){if(1&n&&(x(0,"span")(1,"span"),H(2),R(),x(3,"span",5),H(4,"game.chat-widget.chat-message.chat-message-ban.hour"),R()()),2&n){const e=ee();A(2),yt(e.hour)}}function vEe(n,t){if(1&n&&(x(0,"span")(1,"span"),H(2),R(),x(3,"span",5),H(4,"game.chat-widget.chat-message.chat-message-ban.min"),R()()),2&n){const e=ee();A(2),yt(e.min)}}function yEe(n,t){if(1&n&&(x(0,"span")(1,"span"),H(2),R(),x(3,"span",5),H(4,"game.chat-widget.chat-message.chat-message-ban.sec"),R()()),2&n){const e=ee();A(2),yt(e.sec)}}function bEe(n,t){if(1&n&&(x(0,"span",5),H(1),R()),2&n){const e=ee();A(1),me(" game.chat-widget.chat-message.chat-message-ban.",e.banInfo.reason," ")}}function EEe(n,t){if(1&n&&(x(0,"span"),H(1),R()),2&n){const e=ee();A(1),yt(e.banInfo.reason)}}let SEe=(()=>{class n{constructor(){this.isShownDay=!1,this.isShownHour=!1,this.isShownMin=!1,this.isShownSec=!1,this.day=0,this.hour=0,this.min=0,this.sec=0,this.isReasonOther=!1}ngOnInit(){this.setBanTime(),this.setBanReasonShown()}setBanTime(){if(!this.banInfo)return;let e=0;this.banInfo.isMyResponse?(e=(this.banInfo.banEndDate-Date.now())/1e3,e=e<=0?1:e):e=this.banInfo.duration;const i=Math.floor(e/3600/24),r=Math.floor(e%86400/3600),o=Math.floor(e%3600/60),s=Math.floor(e%60);this.isShownDay=!!i,this.isShownHour=!!r,this.isShownMin=!!o,this.isShownSec=!!s,this.day=i,this.hour=r,this.min=o,this.sec=s}setBanReasonShown(){switch(this.banInfo.reason){case"strong language":case"spam":this.isReasonOther=!1;break;default:this.isReasonOther=!0}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-chat-message-ban"]],inputs:{banInfo:"banInfo"},decls:18,vars:12,consts:[[1,"message-ban"],[1,"text","canSelect"],["class","player-name",4,"ngIf"],["translate","",4,"ngIf"],["class","font-weight-bold","translate","",4,"ngIf"],["translate",""],[4,"ngIf"],[1,"player-name"],["translate","",1,"font-weight-bold"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1),Z(2,uEe,3,3,"span",2),Z(3,hEe,2,0,"span",3),Z(4,dEe,2,0,"span",3),Z(5,fEe,2,0,"span",3),Z(6,pEe,2,0,"span",4),Z(7,gEe,2,0,"span",4),x(8,"span",5),H(9," game.chat-widget.chat-message.chat-message-ban.from chat for "),R(),Z(10,_Ee,5,1,"span",6),Z(11,mEe,5,1,"span",6),Z(12,vEe,5,1,"span",6),Z(13,yEe,5,1,"span",6),x(14,"span",5),H(15,"game.chat-widget.chat-message.chat-message-ban.reason"),R(),Z(16,bEe,2,1,"span",3),Z(17,EEe,2,1,"span",6),R()()),2&e&&(A(2),V("ngIf",i.banInfo.playerName),A(1),V("ngIf",i.banInfo.isMyResponse),A(1),V("ngIf",i.banInfo.playerName),A(1),V("ngIf",i.banInfo.isMyResponse),A(1),V("ngIf",i.banInfo.playerName),A(1),V("ngIf",i.banInfo.isMyResponse),A(3),V("ngIf",i.isShownDay),A(1),V("ngIf",i.isShownHour),A(1),V("ngIf",i.isShownMin),A(1),V("ngIf",i.isShownSec),A(3),V("ngIf",!i.isReasonOther),A(1),V("ngIf",i.isReasonOther))},directives:[Ht,Gn],pipes:[W0],styles:[".message-ban[_ngcontent-%COMP%]{min-height:47px;width:100%;border-radius:6px;box-shadow:4px 4px 6px #0000004a;border:solid 1px #f3000c;display:flex;align-items:center;justify-content:center;font-size:13px}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{min-height:100%;width:100%;text-align:center;padding:7px 10px;line-height:1.2;word-break:break-word}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{color:#f3000c}"],changeDetection:0}),n})();const CEe=["(\\[b\\]@\\w+\\[\\/b\\])"],TEe=["(\\[b\\])","(\\[\\/b\\])"],OEe={"Good job! \u{1f62e}":!0,"Wow! \u{1f62e}":!0,"Awesome! \u{1f31f}":!0,"Cool! \u{1f60e}":!0,"That's huge! \u{1f6e9}":!0,"Congratulations \u{1f44f}":!0,"Best in this round with HUGE WIN! \u{1f44f}":!0," made a rain! \u{1f327}\u{1f60a}":!0,"Free bets for everyone! \u{1f60a}":!0};function nH(n){return new RegExp(n.join("|"),"g")}function wEe(n,t){1&n&&(x(0,"span",4),H(1," Mod "),R())}function PEe(n,t){1&n&&(x(0,"span",5),H(1," Bot "),R())}let xEe=(()=>{class n{constructor(e,i){this.chat=e,this.maskedUsernamePipe=i}tagUser(){this.chat.tagUser(this.username)}get isModeratorMessageType(){return this.senderType===B_.Moderator}get isBotMessageType(){return this.senderType===B_.Bot}get username(){return this.isBotMessageType||this.isModeratorMessageType?this.playerName:this.maskedUsernamePipe.transform(this.playerName)}}return n.\u0275fac=function(e){return new(e||n)(X(Ru),X(W0))},n.\u0275cmp=et({type:n,selectors:[["app-chat-message-name"]],inputs:{playerName:"playerName",senderType:"senderType"},features:[ei([W0])],decls:5,vars:3,consts:[[1,"name-wrapper"],[1,"name","canSelect",3,"click"],["class","font-weight-bold prefix prefix-mod",4,"ngIf"],["class","font-weight-bold prefix prefix-bot",4,"ngIf"],[1,"font-weight-bold","prefix","prefix-mod"],[1,"font-weight-bold","prefix","prefix-bot"]],template:function(e,i){1&e&&(x(0,"span",0)(1,"span",1),Ce("click",function(){return i.tagUser()}),H(2),R(),Z(3,wEe,2,0,"span",2),Z(4,PEe,2,0,"span",3),R()),2&e&&(A(2),yt(i.username),A(1),V("ngIf",i.isModeratorMessageType),A(1),V("ngIf",i.isBotMessageType))},directives:[Ht],styles:[".name-wrapper[_ngcontent-%COMP%]{margin-right:6px;align-items:center}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#ffffff80;cursor:pointer}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff}.name-wrapper[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{color:#013674;font-size:11px;margin-left:3px;padding:1px 3px;border-radius:4px}.name-wrapper[_ngcontent-%COMP%]   .prefix-mod[_ngcontent-%COMP%]{background-color:#27a708}.name-wrapper[_ngcontent-%COMP%]   .prefix-bot[_ngcontent-%COMP%]{background-color:#1279f1}"],changeDetection:0}),n})();function AEe(n,t){if(1&n&&(x(0,"span",7),H(1),R()),2&n){const e=ee().$implicit;vt("reply-me",e.isReplyForMe),A(1),me(" ",e.str," ")}}function REe(n,t){1&n&&ve(0,"span",8),2&n&&V("translate","game.chat-widget.chat-message."+ee().$implicit.str)}function IEe(n,t){if(1&n&&(x(0,"span"),H(1),R()),2&n){const e=ee().$implicit;A(1),yt(e.str)}}function DEe(n,t){if(1&n&&(ft(0)(1,3),Z(2,AEe,2,3,"span",4),Z(3,REe,1,1,"span",5),Z(4,IEe,2,1,"span",6),pt()()),2&n){const e=t.$implicit,i=ee();A(1),V("ngSwitch",e.type),A(1),V("ngSwitchCase",i.messageChunkTypes.Reply),A(1),V("ngSwitchCase",i.messageChunkTypes.Translate)}}let NEe=(()=>{class n{constructor(){this.messageChunkTypes=BS,this.messageSenderTypes=B_,this.messageChunks=[]}ngOnInit(){this.makeMessageChunks()}makeMessageChunks(){this.message&&this.message.split(nH(CEe)).forEach(i=>{if(""===i)return;const r=this.getChunkTypeMessage(i),o={str:this.getChunkMessage(i,r),type:r};this.messageChunks.push(o)})}getChunkMessage(e,i){return i===this.messageChunkTypes.Reply?e.replace(nH(TEe),""):e}getChunkTypeMessage(e){return function MEe(n){return/(\[b\]@\w+\[\/b\])/g.test(n)}(e)?this.messageChunkTypes.Reply:this.isShouldBeTranslated&&OEe.hasOwnProperty(e)?this.messageChunkTypes.Translate:""}get isShouldBeTranslated(){return this.senderType===this.messageSenderTypes.Bot||this.messageType===qf.Rain||this.messageType===qf.BetInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-chat-message-text"]],inputs:{message:"message",senderType:"senderType",playerName:"playerName",messageType:"messageType"},decls:3,vars:3,consts:[[1,"text","canSelect"],[3,"senderType","playerName"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","reply",3,"reply-me",4,"ngSwitchCase"],[3,"translate",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"reply"],[3,"translate"]],template:function(e,i){1&e&&(x(0,"span",0),ve(1,"app-chat-message-name",1),Z(2,DEe,5,3,"ng-container",2),R()),2&e&&(A(1),V("senderType",i.senderType)("playerName",i.playerName),A(1),V("ngForOf",i.messageChunks))},directives:[xEe,vi,Go,ws,Gn,au],styles:[".text[_ngcontent-%COMP%]{word-break:break-word;margin-top:3px;color:#b1b7bd}.text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}"],changeDetection:0}),n})();function kEe(n,t){if(1&n&&(x(0,"div",3),H(1),R()),2&n){const e=ee();A(1),me(" ",e.usersLikesNumber," ")}}let Kf=class{constructor(t,e){this.cd=t,this.stomp=e,this.loading=!1}ngOnInit(){this.stomp.response(hs.MessageLikeAdd).pipe(Lt(t=>this.messageId===t.messageId),gt(this),ur(t=>{this.loading=!1,this.usersLikesNumber=t.likesNumber})).subscribe(()=>this.cd.detectChanges()),this.stomp.response(hs.MessageLikeDelete).pipe(Lt(t=>this.messageId===t.messageId),gt(this),ur(t=>{this.loading=!1,this.usersLikesNumber=t.likesNumber})).subscribe(()=>this.cd.detectChanges())}onLike(){this.loading||(this.loading=!0,this.isMeLiked?(this.stomp.request(xu.MessageLikeDelete,{messageId:this.messageId}),this.usersLikesNumber-=1):(this.stomp.request(xu.MessageLikeAdd,{messageId:this.messageId}),this.usersLikesNumber+=1),this.isMeLiked=!this.isMeLiked,this.cd.detectChanges())}get hasLikes(){return!!this.usersLikesNumber}get isActiveMeLike(){return!!this.isMeLiked}};function FEe(n,t){if(1&n&&(ft(0),x(1,"div",3)(2,"div",4),ve(3,"img",5),R(),x(4,"div",6)(5,"div",7),ve(6,"app-chat-message-text",8),R()(),x(7,"div",9),ve(8,"app-chat-message-likes",10),R()(),pt()),2&n){const e=ee();A(3),V("src",e.getAvatar(e.message),fn)("alt",e.getAvatar(e.message)),A(3),V("messageType",e.message.type)("playerName",e.message.playerName)("senderType",e.message.senderType)("message",e.message.message),A(2),V("messageId",e.message.id)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}function BEe(n,t){if(1&n&&(ft(0),x(1,"div",3)(2,"div",4),ve(3,"img",5),R(),x(4,"div",11)(5,"div",7),ve(6,"app-chat-message-text",8),R()(),x(7,"div",9),ve(8,"app-chat-message-likes",10),R()(),pt()),2&n){const e=ee();A(3),V("src",e.getAvatar(e.message),fn)("alt",e.getAvatar(e.message)),A(3),V("messageType",e.message.type)("playerName",e.message.playerName)("senderType",e.message.senderType)("message",e.message.message),A(2),V("messageId",e.message.id)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}Kf.\u0275fac=function(t){return new(t||Kf)(X(Tn),X(Au))},Kf.\u0275cmp=et({type:Kf,selectors:[["app-chat-message-likes"]],inputs:{messageId:"messageId",isMeLiked:"isMeLiked",usersLikesNumber:"usersLikesNumber"},decls:3,vars:3,consts:[[1,"btn-block"],["class","font-weight-bold likes-number",4,"ngIf"],[1,"btn-like",3,"click"],[1,"font-weight-bold","likes-number"]],template:function(t,e){1&t&&(x(0,"div",0),Z(1,kEe,2,1,"div",1),x(2,"div",2),Ce("click",function(){return e.onLike()}),R()()),2&t&&(A(1),V("ngIf",e.hasLikes),A(1),vt("active",e.isActiveMeLike))},directives:[Ht],styles:[".btn-block[_ngcontent-%COMP%]{margin-top:4px;height:12px;display:flex;justify-content:center;color:#767b85}.btn-block[_ngcontent-%COMP%]   .likes-number[_ngcontent-%COMP%]{position:relative}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]{height:100%;width:12px;padding:0;margin:0 2px;cursor:pointer;background-image:var(--urlImgLike);background-repeat:no-repeat;background-position:center;background-size:contain;--urlImgLike: url(like.bce1e56708107e40.svg);--urlImgLikeH: url(like-h.c93fa2bd77581a8c.svg)}.btn-block[_ngcontent-%COMP%]   .btn-like.active[_ngcontent-%COMP%]{background-image:var(--urlImgLikeH)}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:active{transform:translateY(1px);background-image:var(--urlImgLikeH)}@media (pointer: fine) and (hover: hover){.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:hover{background-image:var(--urlImgLikeH)}}"],changeDetection:0}),Kf=We([oi()],Kf);let LEe=(()=>{class n{constructor(){this.messageRegularTypes=V0}getAvatar(e){return Pi_avatarPath+e.profileImage+`?v=${Pi_version}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-chat-message-regular"]],inputs:{message:"message",type:"type"},decls:3,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"message-wrapper"],[1,"avatar-block"],[1,"avatar",3,"src","alt"],[1,"msg-block","msg-block-type-header"],[1,"msg-data"],[3,"messageType","playerName","senderType","message"],[1,"likes-block"],[3,"messageId","isMeLiked","usersLikesNumber"],[1,"msg-block"]],template:function(e,i){1&e&&(ft(0,0),Z(1,FEe,9,9,"ng-container",1),Z(2,BEe,9,9,"ng-container",2),pt()),2&e&&(V("ngSwitch",i.type),A(1),V("ngSwitchCase",i.messageRegularTypes.Header))},directives:[Go,ws,NEe,Kf,au],styles:[".message-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;padding:0 10px 0 8px;align-items:flex-start;border-radius:8px;line-height:normal}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]{text-align:center}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{min-width:22px;min-height:22px;max-width:22px;max-height:22px;border-radius:50%}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]{border-radius:17px;display:flex;flex-direction:column;width:100%;padding:2px 10px 5px 4px}.message-wrapper[_ngcontent-%COMP%]   .msg-block.msg-block-typ-header[_ngcontent-%COMP%]{padding:2px 10px 5px 5px}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;align-items:center;justify-content:space-between}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-mobile-wrapper[_ngcontent-%COMP%]{display:inline-block;width:60px;position:absolute;top:-16px;margin-left:auto;margin-right:auto;left:0;right:0}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-wrapper[_ngcontent-%COMP%]{display:none}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-top:3px;word-break:break-word}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:24px}.message-wrapper[_ngcontent-%COMP%]   .likes-block[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;flex-basis:32px}"],changeDetection:0}),n})(),iH=(()=>{class n{constructor(e){this.configService=e}transform(e){return this.configService.config.isCurrencyNameHidden?"":e}}return n.\u0275fac=function(e){return new(e||n)(X(L_,16))},n.\u0275pipe=Vr({name:"hideCurrency",type:n,pure:!0}),n})(),UEe=(()=>{class n{constructor(e,i){this.app=e,this.main=i}}return n.\u0275fac=function(e){return new(e||n)(X(en),X(Ui))},n.\u0275cmp=et({type:n,selectors:[["app-chat-share-bet"]],inputs:{betInfo:"betInfo"},decls:35,vars:28,consts:[[1,"wrapper"],[1,"header"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"user","d-flex","justify-content-center","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"info-blocks"],[1,"info-block"],[1,"title-info-block"],["appColoredMultiplier","",1,"info-data","font-weight-bold"],[1,"info-data"],[1,"info-data",3,"isFreeBet","amount"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),Ce("click",function(){return i.main.checkFairness(i.betInfo.roundId)}),R()(),x(3,"div",3),ve(4,"img",4),x(5,"div"),H(6),ce(7,"maskedUsername"),R()(),x(8,"div",5)(9,"div",6)(10,"div",7),H(11),ce(12,"translate"),R(),x(13,"div",8),H(14),R()(),x(15,"div",6)(16,"div",7),H(17),ce(18,"translate"),ce(19,"hideCurrency"),R(),x(20,"div",9),H(21),R()()(),x(22,"div",5)(23,"div",6)(24,"div",7),H(25),ce(26,"translate"),R(),x(27,"div",9),H(28),R()(),x(29,"div",6)(30,"div",7),H(31),ce(32,"translate"),ce(33,"hideCurrency"),R(),ve(34,"app-bet-amount",10),R()()()),2&e&&(A(4),V("src",i.app.getAvatarUrl(i.betInfo.profileImage),fn)("alt",i.app.getAvatarUrl(i.betInfo.profileImage)),A(2),me(" ",pe(7,14,i.betInfo.playerName)," "),A(5),me("",pe(12,16,"shared.cashed_out"),":"),A(3),me(" ",i.betInfo.multiplier.toFixed(2),"x "),A(3),pi(" ",pe(18,18,"shared.win")," ",pe(19,20,i.betInfo.currency),": "),A(4),me(" ",i.betInfo.winAmount.toFixed(i.betInfo.currencyPrecision)," "),A(4),me("",pe(26,22,"shared.round"),":"),A(3),me("",i.betInfo.roundMaxMultiplier.toFixed(2),"x"),A(3),pi(" ",pe(32,24,"shared.bet")," ",pe(33,26,i.betInfo.currency),": "),A(3),V("isFreeBet",i.betInfo.isFreeBet)("amount",i.betInfo.bet))},directives:[AA,r0],pipes:[W0,dn,iH],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;font-size:11px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;position:relative}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:3px;font-size:13px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-wrapper[_ngcontent-%COMP%]{margin-left:5px;right:5px;top:5px;position:absolute}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#fff;padding:10px 0 20px}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]{display:flex;margin-bottom:11px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{width:50%;font-size:12px;flex-shrink:0;padding-left:12%}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .title-info-block[_ngcontent-%COMP%]{opacity:.3;display:flex;justify-content:flex-start;align-items:center;height:14px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .info-data[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;height:14px;margin-top:5px;color:#fff}"],changeDetection:0}),n})();var LS=(()=>(function(n){n.Claimed="CLAIMED",n.Free="FREE",n.Canceled="CANCELED"}(LS||(LS={})),LS))();function GEe(n,t){if(1&n&&(ft(0),x(1,"div",11),ve(2,"img",12),x(3,"div",13),H(4),ce(5,"maskedUsername"),R()(),pt()),2&n){const e=ee().$implicit,i=ee();A(2),V("src",i.app.getAvatarUrl(i.rainInfo.rainWinnerInfo[e].profileImage),fn)("alt",i.app.getAvatarUrl(i.rainInfo.rainWinnerInfo[e].profileImage)),A(1),vt("me",i.rainInfo.rainWinnerInfo[e].isMe),A(1),me(" ",pe(5,5,i.rainInfo.rainWinnerInfo[e].playerName)," ")}}function jEe(n,t){if(1&n){const e=dt();ft(0),x(1,"button",14),Ce("click",function(){it(e);const r=ee().$implicit,o=ee();return o.onClaimRain({rainWinnerId:o.rainInfo.rainWinnerInfo[r].rainWinnerId,rainId:o.rainInfo.rainId})}),H(2),ce(3,"translate"),R(),pt()}if(2&n){const e=ee(2);A(1),V("disabled",!e.rainInfo.isCanClaim||e.isClaimed),A(1),me(" ",pe(3,2,"shared.claim")," ")}}function HEe(n,t){1&n&&(ft(0),x(1,"button",15),H(2),ce(3,"translate"),R(),pt()),2&n&&(A(1),V("disabled",!0),A(1),me(" ",pe(3,2,"shared.claim")," "))}function VEe(n,t){if(1&n&&(x(0,"div",7)(1,"div",8)(2,"span"),H(3),ce(4,"hideCurrency"),R()(),ft(5,9),Z(6,GEe,6,7,"ng-container",10),Z(7,jEe,4,4,"ng-container",10),Z(8,HEe,4,4,"ng-container",10),pt(),R()),2&n){const e=t.$implicit,i=ee();A(3),pi(" ",i.rainInfo.rainAmountPerUser.toFixed(i.rainInfo.currencyPrecision)," ",pe(4,6,i.rainInfo.currency)," "),A(2),V("ngSwitch",i.rainInfo.rainWinnerInfo[e].rainNodeStatus),A(1),V("ngSwitchCase",i.rainNodeStatus.Claimed),A(1),V("ngSwitchCase",i.rainNodeStatus.Free),A(1),V("ngSwitchCase",i.rainNodeStatus.Canceled)}}let Jf=class{constructor(t,e,i,r,o){this.app=t,this.stomp=e,this.cd=i,this.freeBets=r,this.bsMessage=o,this.objectKeys=Object.keys,this.rainNodeStatus=LS}ngOnInit(){this.stomp.response(hs.RainClaim).pipe(Lt(t=>{var e;return t.rainId===this.rainInfo.rainId||(null===(e=t.errorMessageParams)||void 0===e?void 0:e.rainId)===this.rainInfo.rainId}),gt(this)).subscribe(t=>this.onRainClaimResponse(t))}onClaimRain(t){this.rainInfo.isCanClaim&&(this.rainInfo.isCanClaim=!1,this.stomp.request(xu.RainClaim,t))}onRainClaimResponse(t){var e;if(200!==t.code)return this.bsMessage.add({value:t.errorMessage,context:Xi.danger,lifeTime:3e3,errorMessageParams:null!==(e=t.errorMessageParams)&&void 0!==e?e:{}}),void this.cd.detectChanges();const i=this.rainInfo.rainWinnerInfo.findIndex(r=>r.rainWinnerId===t.rainWinnerId);this.rainInfo.rainWinnerInfo[i]=Object.assign(Object.assign({},this.rainInfo.rainWinnerInfo[t.rainWinnerId]),{playerName:t.playerName,profileImage:t.profileImage,isMe:t.isMe,rainNodeStatus:t.rainNodeStatus}),this.cd.detectChanges()}get isClaimed(){return this.rainInfo.rainWinnerInfo.some(t=>!0===t.isMe)}};function WEe(n,t){if(1&n&&(ft(0),x(1,"div",3),ve(2,"app-chat-message-ban",4),R(),pt()),2&n){const e=ee();A(2),V("banInfo",e.message.banInfo)}}Jf.\u0275fac=function(t){return new(t||Jf)(X(en),X(Au),X(Tn),X(Ic),X(Aa))},Jf.\u0275cmp=et({type:Jf,selectors:[["app-chat-rain"]],inputs:{rainInfo:"rainInfo"},decls:13,vars:11,consts:[[1,"rain-wrapper"],[1,"body"],[1,"claim-wrapper"],["class","claim-block",4,"ngFor","ngForOf"],[1,"footer"],[1,"footer-info"],[1,"amount"],[1,"claim-block"],[1,"amount","mr-2","px-2"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"user","d-flex","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"username"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled","click"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"div",1)(2,"div",2),Z(3,VEe,9,8,"div",3),R()(),x(4,"div",4)(5,"div",5)(6,"span"),H(7),ce(8,"translate"),ce(9,"translate"),R(),x(10,"span",6),H(11),ce(12,"hideCurrency"),R()()()()),2&t&&(A(3),V("ngForOf",e.objectKeys(e.rainInfo.rainWinnerInfo)),A(4),pi(" ",pe(8,5,"shared.rain")," \u{1f327} | ",pe(9,7,"shared.total")," "),A(4),pi(" ",e.rainInfo.rainFullAmount.toFixed(e.app.config.betPrecision)," ",pe(12,9,e.rainInfo.currency)," "))},directives:[vi,Go,ws],pipes:[iH,W0,dn],styles:[".rain-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0 15px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;margin:5px auto;color:#fff}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-right:9px;border-radius:11px;border:solid 1px #427f00;background-color:#123405;font-size:14px;padding-top:3px;padding-bottom:3px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username.me[_ngcontent-%COMP%]{color:#e30c32}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]{min-width:80px;height:22px;font-size:14px;padding:0 5px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]:disabled{cursor:auto;opacity:.2;pointer-events:none}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{max-height:34px;min-height:34px;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#9ea0a3}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#fff}"],changeDetection:0}),Jf=We([oi()],Jf);const YEe=function(n,t,e){return{low:n,medium:t,high:e}};function zEe(n,t){if(1&n&&(ft(0),x(1,"div",5)(2,"div",6),ve(3,"app-chat-message-regular",7),R(),ve(4,"app-chat-share-bet",8),R(),pt()),2&n){const e=ee();A(1),V("ngClass",Um(4,YEe,e.message.betInfo.multiplier<e.multiplierLevel.Medium,e.message.betInfo.multiplier>=e.multiplierLevel.Medium&&e.message.betInfo.multiplier<e.multiplierLevel.High,e.message.betInfo.multiplier>=e.multiplierLevel.High)),A(2),V("type",e.messageRegularTypes.Header)("message",e.message),A(1),V("betInfo",e.message.betInfo)}}function $Ee(n,t){if(1&n&&(ft(0),x(1,"div",9)(2,"div",6),ve(3,"app-chat-message-regular",7),R(),ve(4,"app-chat-rain",10),R(),pt()),2&n){const e=ee();A(3),V("type",e.messageRegularTypes.Header)("message",e.message),A(1),V("rainInfo",e.message.rainInfo)}}const XEe=function(n,t){return{width:n,height:t}};function qEe(n,t){if(1&n&&(ft(0),x(1,"div",11)(2,"div"),ve(3,"app-chat-message-regular",7),R(),x(4,"div",12)(5,"div",13),ve(6,"img",14),R()()(),pt()),2&n){const e=ee();A(3),V("type",e.messageRegularTypes.Header)("message",e.message),A(2),V("ngStyle",ba(4,XEe,e.gifWidth+"px",e.gifHeight+"px")),A(1),V("src",e.gifInfo.url,fn)}}function KEe(n,t){if(1&n&&(ft(0),x(1,"div",3),ve(2,"app-chat-message-regular",15),R(),pt()),2&n){const e=ee();A(2),V("message",e.message)}}let JEe=(()=>{class n{constructor(){this.gifMaxLength=180,this.messageType=qf,this.messageRegularTypes=V0,this.multiplierLevel=Ch}ngOnInit(){this.isGifShown&&(this.gifInfo=JSON.parse(this.message.gifInfo),this.getGifSizes())}getGifSizes(){const e=this.gifInfo.dims[0],i=this.gifInfo.dims[1],r=e>=i;this.gifWidth=r?this.gifMaxLength:e/(i/this.gifMaxLength),this.gifHeight=r?i/(e/this.gifMaxLength):this.gifMaxLength}get isGifShown(){return this.message.type===this.messageType.Gif&&!!this.message.gifInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-chat-message"]],inputs:{message:"message"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mb-2"],[3,"banInfo"],[1,"win-info-wrapper","mb-2",3,"ngClass"],[1,"msg-wrapper"],[3,"type","message"],[3,"betInfo"],[1,"rain-wrapper","mb-2"],[3,"rainInfo"],[1,"gif-wrapper","mb-2"],[1,"img-wrapper"],[1,"img-container",3,"ngStyle"],["alt","gif",1,"img",3,"src"],[3,"message"]],template:function(e,i){1&e&&(ft(0,0),Z(1,WEe,3,1,"ng-container",1),Z(2,zEe,5,8,"ng-container",1),Z(3,$Ee,5,3,"ng-container",1),Z(4,qEe,7,7,"ng-container",1),Z(5,KEe,3,1,"ng-container",2),pt()),2&e&&(V("ngSwitch",i.message.type),A(1),V("ngSwitchCase",i.messageType.Ban),A(1),V("ngSwitchCase",i.messageType.BetInfo),A(1),V("ngSwitchCase",i.messageType.Rain),A(1),V("ngSwitchCase",i.messageType.Gif))},directives:[Go,ws,SEe,Ul,LEe,UEe,Jf,Ed,au],styles:[".win-info-wrapper[_ngcontent-%COMP%]{border-radius:6px}.win-info-wrapper.low[_ngcontent-%COMP%]{background-color:#000e34}.win-info-wrapper.medium[_ngcontent-%COMP%]{background-color:#260034}.win-info-wrapper.high[_ngcontent-%COMP%]{background-color:#34002f}.win-info-wrapper[_ngcontent-%COMP%]   .msg-wrapper[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#055522}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{margin:4px 10px 0 30px}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%}.msg-wrapper[_ngcontent-%COMP%]{min-height:40px;padding-top:10px}"],changeDetection:0}),n})();const QEe=["container"];function ZEe(n,t){1&n&&ve(0,"app-chat-message",3),2&n&&V("message",t.$implicit)}let eSe=(()=>{class n{constructor(e,i){this.messageService=e,this.scrollService=i,this.trackByMessageId=(r,o)=>o.id}ngAfterViewInit(){this.scrollService.scrollNativeElement=this.containerRef.nativeElement,this.scrollService.scrollToBottom(300)}}return n.\u0275fac=function(e){return new(e||n)(X(tH),X(H0))},n.\u0275cmp=et({type:n,selectors:[["app-chat-messages-list"]],viewQuery:function(e,i){if(1&e&&mo(QEe,5),2&e){let r;Hn(r=Vn())&&(i.containerRef=r.first)}},decls:4,vars:4,consts:[[1,"messages-container","scroll-y"],["container",""],[3,"message",4,"ngFor","ngForOf","ngForTrackBy"],[3,"message"]],template:function(e,i){1&e&&(x(0,"div",0,1),Z(2,ZEe,1,1,"app-chat-message",2),ce(3,"async"),R()),2&e&&(A(2),V("ngForOf",pe(3,2,i.messageService.messages$))("ngForTrackBy",i.trackByMessageId))},directives:[vi,JEe],pipes:[Ps],styles:[".messages-container[_ngcontent-%COMP%]{height:calc(100% - 67px);width:100%;max-width:360px;margin:0;position:relative;padding-top:10px;z-index:100;font-size:13px;line-height:13px;overflow-x:hidden}"],changeDetection:0}),n})();var Kh=(()=>(function(n){n.Emoji="Emoji",n.Gif="Gif",n.Rain="Rain"}(Kh||(Kh={})),Kh))();const ca=JSON.parse('[{"no":1,"title":"face with tears of joy","category":"Favorites","pic":"\u{1f602}"},{"no":2,"title":"smiling face with heart-eyes","category":"Favorites","pic":"\u{1f60d}"},{"no":3,"title":"smiling face with smiling eyes","category":"Favorites","pic":"\u{1f60a}"},{"no":4,"title":"confused face","category":"Favorites","pic":"\u{1f615}"},{"no":5,"title":"OK hand","category":"Favorites","pic":"\u{1f44c}"},{"no":6,"title":"rocket","category":"Favorites","pic":"\u{1f680}"},{"no":7,"title":"trophy","category":"Favorites","pic":"\u{1f3c6}"},{"no":8,"title":"beer mug","category":"Favorites","pic":"\u{1f37a}"},{"no":9,"title":"red heart","category":"Favorites","pic":"\u2764\ufe0f"},{"no":10,"title":"grinning face with smiling eyes","category":"People","pic":"\u{1f604}"},{"no":11,"title":"grinning face with big eyes","category":"People","pic":"\u{1f603}"},{"no":12,"title":"grinning face","category":"People","pic":"\u{1f600}"},{"no":13,"title":"smiling face with smiling eyes","category":"People","pic":"\u{1f60a}"},{"no":14,"title":"winking face","category":"People","pic":"\u{1f609}"},{"no":15,"title":"smiling face with heart-eyes","category":"People","pic":"\u{1f60d}"},{"no":16,"title":"face blowing a kiss","category":"People","pic":"\u{1f618}"},{"no":17,"title":"kissing face with closed eyes","category":"People","pic":"\u{1f61a}"},{"no":18,"title":"kissing face","category":"People","pic":"\u{1f617}"},{"no":19,"title":"kissing face with smiling eyes","category":"People","pic":"\u{1f619}"},{"no":20,"title":"winking face with tongue","category":"People","pic":"\u{1f61c}"},{"no":21,"title":"squinting face with tongue","category":"People","pic":"\u{1f61d}"},{"no":22,"title":"face with tongue","category":"People","pic":"\u{1f61b}"},{"no":23,"title":"flushed face","category":"People","pic":"\u{1f633}"},{"no":24,"title":"beaming face with smiling eyes","category":"People","pic":"\u{1f601}"},{"no":25,"title":"pensive face","category":"People","pic":"\u{1f614}"},{"no":26,"title":"relieved face","category":"People","pic":"\u{1f60c}"},{"no":27,"title":"unamused face","category":"People","pic":"\u{1f612}"},{"no":28,"title":"disappointed face","category":"People","pic":"\u{1f61e}"},{"no":29,"title":"persevering face","category":"People","pic":"\u{1f623}"},{"no":30,"title":"crying face","category":"People","pic":"\u{1f622}"},{"no":31,"title":"face with tears of joy","category":"People","pic":"\u{1f602}"},{"no":32,"title":"loudly crying face","category":"People","pic":"\u{1f62d}"},{"no":33,"title":"sleepy face","category":"People","pic":"\u{1f62a}"},{"no":34,"title":"sad but relieved face","category":"People","pic":"\u{1f625}"},{"no":35,"title":"anxious face with sweat","category":"People","pic":"\u{1f630}"},{"no":36,"title":"grinning face with sweat","category":"People","pic":"\u{1f605}"},{"no":37,"title":"downcast face with sweat","category":"People","pic":"\u{1f613}"},{"no":38,"title":"weary face","category":"People","pic":"\u{1f629}"},{"no":39,"title":"tired face","category":"People","pic":"\u{1f62b}"},{"no":40,"title":"fearful face","category":"People","pic":"\u{1f628}"},{"no":41,"title":"face screaming in fear","category":"People","pic":"\u{1f631}"},{"no":42,"title":"angry face","category":"People","pic":"\u{1f620}"},{"no":43,"title":"pouting face","category":"People","pic":"\u{1f621}"},{"no":44,"title":"face with steam from nose","category":"People","pic":"\u{1f624}"},{"no":45,"title":"confounded face","category":"People","pic":"\u{1f616}"},{"no":46,"title":"grinning squinting face","category":"People","pic":"\u{1f606}"},{"no":47,"title":"face savoring food","category":"People","pic":"\u{1f60b}"},{"no":48,"title":"face with medical mask","category":"People","pic":"\u{1f637}"},{"no":49,"title":"smiling face with sunglasses","category":"People","pic":"\u{1f60e}"},{"no":50,"title":"sleeping face","category":"People","pic":"\u{1f634}"},{"no":51,"title":"dizzy face","category":"People","pic":"\u{1f635}"},{"no":52,"title":"astonished face","category":"People","pic":"\u{1f632}"},{"no":53,"title":"worried face","category":"People","pic":"\u{1f61f}"},{"no":54,"title":"frowning face with open mouth","category":"People","pic":"\u{1f626}"},{"no":55,"title":"anguished face","category":"People","pic":"\u{1f627}"},{"no":56,"title":"angry face with horns","category":"People","pic":"\u{1f47f}"},{"no":57,"title":"face with open mouth","category":"People","pic":"\u{1f62e}"},{"no":58,"title":"grimacing face","category":"People","pic":"\u{1f62c}"},{"no":59,"title":"neutral face","category":"People","pic":"\u{1f610}"},{"no":60,"title":"confused face","category":"People","pic":"\u{1f615}"},{"no":61,"title":"hushed face","category":"People","pic":"\u{1f62f}"},{"no":62,"title":"smirking face","category":"People","pic":"\u{1f60f}"},{"no":63,"title":"expressionless face","category":"People","pic":"\u{1f611}"},{"no":64,"title":"slightly frowning face","category":"People","pic":"\u{1f641}"},{"no":65,"title":"face with rolling eyes","category":"People","pic":"\u{1f644}"},{"no":66,"title":"thinking face","category":"People","pic":"\u{1f914}"},{"no":67,"title":"zipper-mouth face","category":"People","pic":"\u{1f910}"},{"no":68,"title":"face with thermometer","category":"People","pic":"\u{1f912}"},{"no":69,"title":"face with head-bandage","category":"People","pic":"\u{1f915}"},{"no":70,"title":"slightly smiling face","category":"People","pic":"\u{1f642}"},{"no":71,"title":"upside-down face","category":"People","pic":"\u{1f643}"},{"no":72,"title":"money-mouth face","category":"People","pic":"\u{1f911}"},{"no":73,"title":"hugging face","category":"People","pic":"\u{1f917}"},{"no":74,"title":"nerd face","category":"People","pic":"\u{1f913}"},{"no":75,"title":"princess","category":"People","pic":"\u{1f478}"},{"no":76,"title":"ogre","category":"People","pic":"\u{1f479}"},{"no":77,"title":"goblin","category":"People","pic":"\u{1f47a}"},{"no":78,"title":"see-no-evil monkey","category":"People","pic":"\u{1f648}"},{"no":79,"title":"hear-no-evil monkey","category":"People","pic":"\u{1f649}"},{"no":80,"title":"speak-no-evil monkey","category":"People","pic":"\u{1f64a}"},{"no":81,"title":"skull","category":"People","pic":"\u{1f480}"},{"no":82,"title":"alien","category":"People","pic":"\u{1f47d}"},{"no":83,"title":"pile of poo","category":"People","pic":"\u{1f4a9}"},{"no":84,"title":"fire","category":"People","pic":"\u{1f525}"},{"no":85,"title":"sparkles","category":"People","pic":"\u2728"},{"no":86,"title":"glowing star","category":"People","pic":"\u{1f31f}"},{"no":87,"title":"collision","category":"People","pic":"\u{1f4a5}"},{"no":88,"title":"sweat droplets","category":"People","pic":"\u{1f4a6}"},{"no":89,"title":"droplet","category":"People","pic":"\u{1f4a7}"},{"no":90,"title":"zzz","category":"People","pic":"\u{1f4a4}"},{"no":91,"title":"dashing away","category":"People","pic":"\u{1f4a8}"},{"no":92,"title":"ear","category":"People","pic":"\u{1f442}"},{"no":93,"title":"eyes","category":"People","pic":"\u{1f440}"},{"no":94,"title":"nose","category":"People","pic":"\u{1f443}"},{"no":95,"title":"tongue","category":"People","pic":"\u{1f445}"},{"no":96,"title":"mouth","category":"People","pic":"\u{1f444}"},{"no":97,"title":"thumbs up","category":"People","pic":"\u{1f44d}"},{"no":98,"title":"thumbs down","category":"People","pic":"\u{1f44e}"},{"no":99,"title":"OK hand","category":"People","pic":"\u{1f44c}"},{"no":100,"title":"oncoming fist","category":"People","pic":"\u{1f44a}"},{"no":101,"title":"raised fist","category":"People","pic":"\u270a"},{"no":102,"title":"waving hand","category":"People","pic":"\u{1f44b}"},{"no":103,"title":"raised hand","category":"People","pic":"\u270b"},{"no":104,"title":"open hands","category":"People","pic":"\u{1f450}"},{"no":105,"title":"backhand index pointing up","category":"People","pic":"\u{1f446}"},{"no":106,"title":"backhand index pointing down","category":"People","pic":"\u{1f447}"},{"no":107,"title":"backhand index pointing right","category":"People","pic":"\u{1f449}"},{"no":108,"title":"backhand index pointing left","category":"People","pic":"\u{1f448}"},{"no":109,"title":"sign of the horns","category":"People","pic":"\u{1f918}"},{"no":110,"title":"hand with fingers splayed","category":"People","pic":"\u{1f590}"},{"no":111,"title":"vulcan salute","category":"People","pic":"\u{1f596}"},{"no":112,"title":"middle finger","category":"People","pic":"\u{1f595}"},{"no":113,"title":"raising hands","category":"People","pic":"\u{1f64c}"},{"no":114,"title":"folded hands","category":"People","pic":"\u{1f64f}"},{"no":115,"title":"clapping hands","category":"People","pic":"\u{1f44f}"},{"no":116,"title":"flexed biceps","category":"People","pic":"\u{1f4aa}"},{"no":117,"title":"woman dancing","category":"People","pic":"\u{1f483}"},{"no":118,"title":"woman and man holding hands","category":"People","pic":"\u{1f46b}"},{"no":119,"title":"family","category":"People","pic":"\u{1f46a}"},{"no":120,"title":"kiss","category":"People","pic":"\u{1f48f}"},{"no":121,"title":"person gesturing OK","category":"People","pic":"\u{1f646}"},{"no":122,"title":"person gesturing NO","category":"People","pic":"\u{1f645}"},{"no":123,"title":"person tipping hand","category":"People","pic":"\u{1f481}"},{"no":124,"title":"person raising hand","category":"People","pic":"\u{1f64b}"},{"no":125,"title":"person getting massage","category":"People","pic":"\u{1f486}"},{"no":126,"title":"person getting haircut","category":"People","pic":"\u{1f487}"},{"no":127,"title":"nail polish","category":"People","pic":"\u{1f485}"},{"no":128,"title":"bride with veil","category":"People","pic":"\u{1f470}"},{"no":129,"title":"person pouting","category":"People","pic":"\u{1f64e}"},{"no":130,"title":"person frowning","category":"People","pic":"\u{1f64d}"},{"no":131,"title":"person bowing","category":"People","pic":"\u{1f647}"},{"no":132,"title":"top hat","category":"People","pic":"\u{1f3a9}"},{"no":133,"title":"crown","category":"People","pic":"\u{1f451}"},{"no":134,"title":"red heart","category":"People","pic":"\u2764\ufe0f"},{"no":135,"title":"yellow heart","category":"People","pic":"\u{1f49b}"},{"no":136,"title":"blue heart","category":"People","pic":"\u{1f499}"},{"no":137,"title":"purple heart","category":"People","pic":"\u{1f49c}"},{"no":138,"title":"green heart","category":"People","pic":"\u{1f49a}"},{"no":139,"title":"broken heart","category":"People","pic":"\u{1f494}"},{"no":140,"title":"growing heart","category":"People","pic":"\u{1f497}"},{"no":141,"title":"beating heart","category":"People","pic":"\u{1f493}"},{"no":142,"title":"two hearts","category":"People","pic":"\u{1f495}"},{"no":143,"title":"sparkling heart","category":"People","pic":"\u{1f496}"},{"no":144,"title":"revolving hearts","category":"People","pic":"\u{1f49e}"},{"no":145,"title":"heart with arrow","category":"People","pic":"\u{1f498}"},{"no":146,"title":"love letter","category":"People","pic":"\u{1f48c}"},{"no":147,"title":"kiss mark","category":"People","pic":"\u{1f48b}"},{"no":148,"title":"ring","category":"People","pic":"\u{1f48d}"},{"no":149,"title":"gem stone","category":"People","pic":"\u{1f48e}"},{"no":150,"title":"robot","category":"People","pic":"\u{1f916}"},{"no":151,"title":"dog face","category":"Nature","pic":"\u{1f436}"},{"no":152,"title":"wolf","category":"Nature","pic":"\u{1f43a}"},{"no":153,"title":"cat face","category":"Nature","pic":"\u{1f431}"},{"no":154,"title":"mouse face","category":"Nature","pic":"\u{1f42d}"},{"no":155,"title":"hamster","category":"Nature","pic":"\u{1f439}"},{"no":156,"title":"rabbit face","category":"Nature","pic":"\u{1f430}"},{"no":157,"title":"frog","category":"Nature","pic":"\u{1f438}"},{"no":158,"title":"tiger face","category":"Nature","pic":"\u{1f42f}"},{"no":159,"title":"koala","category":"Nature","pic":"\u{1f428}"},{"no":160,"title":"bear","category":"Nature","pic":"\u{1f43b}"},{"no":161,"title":"pig face","category":"Nature","pic":"\u{1f437}"},{"no":162,"title":"pig nose","category":"Nature","pic":"\u{1f43d}"},{"no":163,"title":"cow face","category":"Nature","pic":"\u{1f42e}"},{"no":164,"title":"boar","category":"Nature","pic":"\u{1f417}"},{"no":165,"title":"monkey face","category":"Nature","pic":"\u{1f435}"},{"no":166,"title":"monkey","category":"Nature","pic":"\u{1f412}"},{"no":167,"title":"horse face","category":"Nature","pic":"\u{1f434}"},{"no":168,"title":"ewe","category":"Nature","pic":"\u{1f411}"},{"no":169,"title":"elephant","category":"Nature","pic":"\u{1f418}"},{"no":170,"title":"panda","category":"Nature","pic":"\u{1f43c}"},{"no":171,"title":"penguin","category":"Nature","pic":"\u{1f427}"},{"no":172,"title":"bird","category":"Nature","pic":"\u{1f426}"},{"no":173,"title":"baby chick","category":"Nature","pic":"\u{1f424}"},{"no":174,"title":"front-facing baby chick","category":"Nature","pic":"\u{1f425}"},{"no":175,"title":"hatching chick","category":"Nature","pic":"\u{1f423}"},{"no":176,"title":"chicken","category":"Nature","pic":"\u{1f414}"},{"no":177,"title":"snake","category":"Nature","pic":"\u{1f40d}"},{"no":178,"title":"turtle","category":"Nature","pic":"\u{1f422}"},{"no":179,"title":"bug","category":"Nature","pic":"\u{1f41b}"},{"no":180,"title":"honeybee","category":"Nature","pic":"\u{1f41d}"},{"no":181,"title":"ant","category":"Nature","pic":"\u{1f41c}"},{"no":182,"title":"lady beetle","category":"Nature","pic":"\u{1f41e}"},{"no":183,"title":"snail","category":"Nature","pic":"\u{1f40c}"},{"no":184,"title":"lion","category":"Nature","pic":"\u{1f981}"},{"no":185,"title":"unicorn","category":"Nature","pic":"\u{1f984}"},{"no":186,"title":"spider","category":"Nature","pic":"\u{1f577}"},{"no":187,"title":"spider web","category":"Nature","pic":"\u{1f578}"},{"no":188,"title":"scorpion","category":"Nature","pic":"\u{1f982}"},{"no":189,"title":"crab","category":"Nature","pic":"\u{1f980}"},{"no":190,"title":"turkey","category":"Nature","pic":"\u{1f983}"},{"no":191,"title":"dove","category":"Nature","pic":"\u{1f54a}"},{"no":192,"title":"chipmunk","category":"Nature","pic":"\u{1f43f}"},{"no":193,"title":"octopus","category":"Nature","pic":"\u{1f419}"},{"no":194,"title":"spiral shell","category":"Nature","pic":"\u{1f41a}"},{"no":195,"title":"tropical fish","category":"Nature","pic":"\u{1f420}"},{"no":196,"title":"fish","category":"Nature","pic":"\u{1f41f}"},{"no":197,"title":"dolphin","category":"Nature","pic":"\u{1f42c}"},{"no":198,"title":"spouting whale","category":"Nature","pic":"\u{1f433}"},{"no":199,"title":"horse","category":"Nature","pic":"\u{1f40e}"},{"no":200,"title":"dragon face","category":"Nature","pic":"\u{1f432}"},{"no":201,"title":"blowfish","category":"Nature","pic":"\u{1f421}"},{"no":202,"title":"two-hump camel","category":"Nature","pic":"\u{1f42b}"},{"no":203,"title":"poodle","category":"Nature","pic":"\u{1f429}"},{"no":204,"title":"bouquet","category":"Nature","pic":"\u{1f490}"},{"no":205,"title":"rose","category":"Nature","pic":"\u{1f339}"},{"no":206,"title":"sunflower","category":"Nature","pic":"\u{1f33b}"},{"no":207,"title":"mushroom","category":"Nature","pic":"\u{1f344}"},{"no":208,"title":"cactus","category":"Nature","pic":"\u{1f335}"},{"no":209,"title":"new moon","category":"Nature","pic":"\u{1f311}"},{"no":210,"title":"first quarter moon","category":"Nature","pic":"\u{1f313}"},{"no":211,"title":"waxing gibbous moon","category":"Nature","pic":"\u{1f314}"},{"no":212,"title":"full moon","category":"Nature","pic":"\u{1f315}"},{"no":213,"title":"first quarter moon face","category":"Nature","pic":"\u{1f31b}"},{"no":214,"title":"crescent moon","category":"Nature","pic":"\u{1f319}"},{"no":215,"title":"globe showing Asia-Australia","category":"Nature","pic":"\u{1f30f}"},{"no":216,"title":"sun behind cloud","category":"Nature","pic":"\u26c5"},{"no":217,"title":"snowman without snow","category":"Nature","pic":"\u26c4"},{"no":218,"title":"water wave","category":"Nature","pic":"\u{1f30a}"},{"no":219,"title":"sun behind small cloud","category":"Nature","pic":"\u{1f324}"},{"no":220,"title":"sun behind large cloud","category":"Nature","pic":"\u{1f325}"},{"no":221,"title":"sun behind rain cloud","category":"Nature","pic":"\u{1f326}"},{"no":222,"title":"cloud with rain","category":"Nature","pic":"\u{1f327}"},{"no":223,"title":"cloud with lightning","category":"Nature","pic":"\u{1f329}"},{"no":224,"title":"cloud with snow","category":"Nature","pic":"\u{1f328}"},{"no":225,"title":"wind face","category":"Nature","pic":"\u{1f32c}"},{"no":226,"title":"tornado","category":"Nature","pic":"\u{1f32a}"},{"no":227,"title":"graduation cap","category":"Objects","pic":"\u{1f393}"},{"no":228,"title":"fireworks","category":"Objects","pic":"\u{1f386}"},{"no":229,"title":"sparkler","category":"Objects","pic":"\u{1f387}"},{"no":230,"title":"jack-o-lantern","category":"Objects","pic":"\u{1f383}"},{"no":231,"title":"ghost","category":"Objects","pic":"\u{1f47b}"},{"no":232,"title":"Santa Claus","category":"Objects","pic":"\u{1f385}"},{"no":233,"title":"Christmas tree","category":"Objects","pic":"\u{1f384}"},{"no":234,"title":"wrapped gift","category":"Objects","pic":"\u{1f381}"},{"no":235,"title":"party popper","category":"Objects","pic":"\u{1f389}"},{"no":236,"title":"confetti ball","category":"Objects","pic":"\u{1f38a}"},{"no":237,"title":"balloon","category":"Objects","pic":"\u{1f388}"},{"no":238,"title":"light bulb","category":"Objects","pic":"\u{1f4a1}"},{"no":239,"title":"toilet","category":"Objects","pic":"\u{1f6bd}"},{"no":240,"title":"wrench","category":"Objects","pic":"\u{1f527}"},{"no":241,"title":"nut and bolt","category":"Objects","pic":"\u{1f529}"},{"no":242,"title":"hammer","category":"Objects","pic":"\u{1f528}"},{"no":243,"title":"cigarette","category":"Objects","pic":"\u{1f6ac}"},{"no":244,"title":"bomb","category":"Objects","pic":"\u{1f4a3}"},{"no":245,"title":"pistol","category":"Objects","pic":"\u{1f52b}"},{"no":246,"title":"kitchen knife","category":"Objects","pic":"\u{1f52a}"},{"no":247,"title":"pill","category":"Objects","pic":"\u{1f48a}"},{"no":248,"title":"syringe","category":"Objects","pic":"\u{1f489}"},{"no":249,"title":"money bag","category":"Objects","pic":"\u{1f4b0}"},{"no":250,"title":"yen banknote","category":"Objects","pic":"\u{1f4b4}"},{"no":251,"title":"dollar banknote","category":"Objects","pic":"\u{1f4b5}"},{"no":252,"title":"credit card","category":"Objects","pic":"\u{1f4b3}"},{"no":253,"title":"money with wings","category":"Objects","pic":"\u{1f4b8}"},{"no":254,"title":"clapper board","category":"Objects","pic":"\u{1f3ac}"},{"no":255,"title":"microphone","category":"Objects","pic":"\u{1f3a4}"},{"no":256,"title":"alien monster","category":"Objects","pic":"\u{1f47e}"},{"no":257,"title":"video game","category":"Objects","pic":"\u{1f3ae}"},{"no":258,"title":"joker","category":"Objects","pic":"\u{1f0cf}"},{"no":259,"title":"mahjong red dragon","category":"Objects","pic":"\u{1f004}"},{"no":260,"title":"game die","category":"Objects","pic":"\u{1f3b2}"},{"no":261,"title":"direct hit","category":"Objects","pic":"\u{1f3af}"},{"no":262,"title":"pool 8 ball","category":"Objects","pic":"\u{1f3b1}"},{"no":263,"title":"chequered flag","category":"Objects","pic":"\u{1f3c1}"},{"no":264,"title":"trophy","category":"Objects","pic":"\u{1f3c6}"},{"no":265,"title":"beer mug","category":"Objects","pic":"\u{1f37a}"},{"no":266,"title":"cocktail glass","category":"Objects","pic":"\u{1f378}"},{"no":267,"title":"tropical drink","category":"Objects","pic":"\u{1f379}"},{"no":268,"title":"wine glass","category":"Objects","pic":"\u{1f377}"},{"no":269,"title":"fork and knife","category":"Objects","pic":"\u{1f374}"},{"no":270,"title":"pizza","category":"Objects","pic":"\u{1f355}"},{"no":271,"title":"hamburger","category":"Objects","pic":"\u{1f354}"},{"no":272,"title":"french fries","category":"Objects","pic":"\u{1f35f}"},{"no":273,"title":"poultry leg","category":"Objects","pic":"\u{1f357}"},{"no":274,"title":"spaghetti","category":"Objects","pic":"\u{1f35d}"},{"no":275,"title":"bento box","category":"Objects","pic":"\u{1f371}"},{"no":276,"title":"steaming bowl","category":"Objects","pic":"\u{1f35c}"},{"no":277,"title":"cooking","category":"Objects","pic":"\u{1f373}"},{"no":278,"title":"bread","category":"Objects","pic":"\u{1f35e}"},{"no":279,"title":"doughnut","category":"Objects","pic":"\u{1f369}"},{"no":280,"title":"soft ice cream","category":"Objects","pic":"\u{1f366}"},{"no":281,"title":"birthday cake","category":"Objects","pic":"\u{1f382}"},{"no":282,"title":"shortcake","category":"Objects","pic":"\u{1f370}"},{"no":283,"title":"cookie","category":"Objects","pic":"\u{1f36a}"},{"no":284,"title":"chocolate bar","category":"Objects","pic":"\u{1f36b}"},{"no":285,"title":"lollipop","category":"Objects","pic":"\u{1f36d}"},{"no":286,"title":"honey pot","category":"Objects","pic":"\u{1f36f}"},{"no":287,"title":"red apple","category":"Objects","pic":"\u{1f34e}"},{"no":288,"title":"cherries","category":"Objects","pic":"\u{1f352}"},{"no":289,"title":"strawberry","category":"Objects","pic":"\u{1f353}"},{"no":290,"title":"peach","category":"Objects","pic":"\u{1f351}"},{"no":291,"title":"banana","category":"Objects","pic":"\u{1f34c}"},{"no":292,"title":"pineapple","category":"Objects","pic":"\u{1f34d}"},{"no":293,"title":"eggplant","category":"Objects","pic":"\u{1f346}"},{"no":294,"title":"tomato","category":"Objects","pic":"\u{1f345}"},{"no":295,"title":"ear of corn","category":"Objects","pic":"\u{1f33d}"},{"no":296,"title":"hot pepper","category":"Objects","pic":"\u{1f336}"},{"no":297,"title":"cheese wedge","category":"Objects","pic":"\u{1f9c0}"},{"no":298,"title":"hot dog","category":"Objects","pic":"\u{1f32d}"},{"no":299,"title":"taco","category":"Objects","pic":"\u{1f32e}"},{"no":300,"title":"burrito","category":"Objects","pic":"\u{1f32f}"},{"no":301,"title":"popcorn","category":"Objects","pic":"\u{1f37f}"},{"no":302,"title":"bottle with popping cork","category":"Objects","pic":"\u{1f37e}"},{"no":303,"title":"fork and knife with plate","category":"Objects","pic":"\u{1f37d}"},{"no":304,"title":"ping pong","category":"Objects","pic":"\u{1f3d3}"},{"no":305,"title":"sports medal","category":"Objects","pic":"\u{1f3c5}"},{"no":306,"title":"military medal","category":"Objects","pic":"\u{1f396}"},{"no":307,"title":"joystick","category":"Objects","pic":"\u{1f579}"},{"no":308,"title":"hammer and wrench","category":"Objects","pic":"\u{1f6e0}"},{"no":309,"title":"dagger","category":"Objects","pic":"\u{1f5e1}"},{"no":310,"title":"speedboat","category":"Places","pic":"\u{1f6a4}"},{"no":311,"title":"rocket","category":"Places","pic":"\u{1f680}"},{"no":312,"title":"high-speed train","category":"Places","pic":"\u{1f684}"},{"no":313,"title":"bullet train","category":"Places","pic":"\u{1f685}"},{"no":314,"title":"railway car","category":"Places","pic":"\u{1f683}"},{"no":315,"title":"bus","category":"Places","pic":"\u{1f68c}"},{"no":316,"title":"automobile","category":"Places","pic":"\u{1f697}"},{"no":317,"title":"taxi","category":"Places","pic":"\u{1f695}"},{"no":318,"title":"delivery truck","category":"Places","pic":"\u{1f69a}"},{"no":319,"title":"police car light","category":"Places","pic":"\u{1f6a8}"},{"no":320,"title":"police car","category":"Places","pic":"\u{1f693}"},{"no":321,"title":"fire engine","category":"Places","pic":"\u{1f692}"},{"no":322,"title":"ambulance","category":"Places","pic":"\u{1f691}"},{"no":323,"title":"bicycle","category":"Places","pic":"\u{1f6b2}"},{"no":324,"title":"Japanese symbol for beginner","category":"Places","pic":"\u{1f530}"},{"no":325,"title":"fuel pump","category":"Places","pic":"\u26fd"},{"no":326,"title":"red paper lantern","category":"Places","pic":"\u{1f3ee}"},{"no":327,"title":"slot machine","category":"Places","pic":"\u{1f3b0}"},{"no":328,"title":"racing car","category":"Places","pic":"\u{1f3ce}"},{"no":329,"title":"motorcycle","category":"Places","pic":"\u{1f3cd}"},{"no":330,"title":"small airplane","category":"Places","pic":"\u{1f6e9}"},{"no":331,"title":"airplane departure","category":"Places","pic":"\u{1f6eb}"},{"no":332,"title":"airplane arrival","category":"Places","pic":"\u{1f6ec}"},{"no":333,"title":"satellite","category":"Places","pic":"\u{1f6f0}"},{"no":334,"title":"motor boat","category":"Places","pic":"\u{1f6e5}"},{"no":335,"title":"passenger ship","category":"Places","pic":"\u{1f6f3}"},{"no":336,"title":"SOS button","category":"Symbols","pic":"\u{1f198}"},{"no":337,"title":"no one under eighteen","category":"Symbols","pic":"\u{1f51e}"},{"no":338,"title":"no entry","category":"Symbols","pic":"\u26d4"},{"no":339,"title":"check mark button","category":"Symbols","pic":"\u2705"},{"no":340,"title":"VS button","category":"Symbols","pic":"\u{1f19a}"},{"no":341,"title":"chart increasing with yen","category":"Symbols","pic":"\u{1f4b9}"},{"no":342,"title":"heavy dollar sign","category":"Symbols","pic":"\u{1f4b2}"},{"no":343,"title":"currency exchange","category":"Symbols","pic":"\u{1f4b1}"},{"no":344,"title":"cross mark","category":"Symbols","pic":"\u274c"},{"no":345,"title":"exclamation mark","category":"Symbols","pic":"\u2757"},{"no":346,"title":"question mark","category":"Symbols","pic":"\u2753"},{"no":347,"title":"hollow red circle","category":"Symbols","pic":"\u2b55"},{"no":348,"title":"hundred points","category":"Symbols","pic":"\u{1f4af}"},{"no":349,"title":"white flag","category":"Symbols","pic":"\u{1f3f3}"},{"no":350,"title":"black flag","category":"Symbols","pic":"\u{1f3f4}"}]');var U_=(()=>(function(n){n.emoji="emoji",n.rain="rain",n.gif="gif"}(U_||(U_={})),U_))();const tSe=["*"];let VR=(()=>{class n{constructor(){this.chatInputTools=Kh,this.closeTool=new Yt}onCloseTool(){this.closeTool.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-chat-input-tool-wrapper"]],inputs:{title:"title"},outputs:{closeTool:"closeTool"},ngContentSelectors:tSe,decls:12,vars:5,consts:[[1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-0"]],template:function(e,i){1&e&&(Am(),x(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),H(5),ce(6,"translate"),R(),x(7,"button",5),Ce("click",function(){return i.onCloseTool()}),x(8,"span",6),H(9,"\xd7"),R()()(),x(10,"div",7),Rm(11),R()()()()),2&e&&(A(1),vt("rain",i.title===i.chatInputTools.Rain),A(4),me(" ",pe(6,3,"shared."+i.title)," "))},pipes:[dn],styles:[".modal[_ngcontent-%COMP%]{position:absolute;top:auto;display:block;margin-left:auto;margin-right:auto;left:0;right:0;height:auto;bottom:67px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{left:auto;margin:0 auto;height:320px;width:calc(100% - 20px);max-width:calc(100% - 20px)}.modal[_ngcontent-%COMP%]   .modal-dialog.rain[_ngcontent-%COMP%]{height:336px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{min-height:36px;max-height:36px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}"],changeDetection:0}),n})();function nSe(n,t){if(1&n){const e=dt();x(0,"span",10),Ce("click",function(){const o=it(e).$implicit;return ee(2).onClickEmoji(o.pic)}),H(1),R()}if(2&n){const e=t.$implicit;V("title",e.title),A(1),me(" ",e.pic," ")}}function iSe(n,t){if(1&n){const e=dt();x(0,"span",10),Ce("click",function(){const o=it(e).$implicit;return ee(2).onClickEmoji(o.pic)}),H(1),R()}if(2&n){const e=t.$implicit;V("title",e.title),A(1),me(" ",e.pic," ")}}function rSe(n,t){if(1&n){const e=dt();x(0,"span",10),Ce("click",function(){const o=it(e).$implicit;return ee(2).onClickEmoji(o.pic)}),H(1),R()}if(2&n){const e=t.$implicit;V("title",e.title),A(1),me(" ",e.pic," ")}}function oSe(n,t){if(1&n){const e=dt();x(0,"span",10),Ce("click",function(){const o=it(e).$implicit;return ee(2).onClickEmoji(o.pic)}),H(1),R()}if(2&n){const e=t.$implicit;V("title",e.title),A(1),me(" ",e.pic," ")}}function sSe(n,t){if(1&n){const e=dt();x(0,"span",10),Ce("click",function(){const o=it(e).$implicit;return ee(2).onClickEmoji(o.pic)}),H(1),R()}if(2&n){const e=t.$implicit;V("title",e.title),A(1),me(" ",e.pic," ")}}function aSe(n,t){if(1&n){const e=dt();x(0,"span",10),Ce("click",function(){const o=it(e).$implicit;return ee(2).onClickEmoji(o.pic)}),H(1),R()}if(2&n){const e=t.$implicit;V("title",e.title),A(1),me(" ",e.pic," ")}}function lSe(n,t){if(1&n&&(ft(0),x(1,"div",6),H(2," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.favorites "),R(),x(3,"div",7),Z(4,nSe,2,2,"span",8),R(),x(5,"div",9),H(6," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.people "),R(),x(7,"div",7),Z(8,iSe,2,2,"span",8),R(),x(9,"div",9),H(10," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.nature "),R(),x(11,"div",7),Z(12,rSe,2,2,"span",8),R(),x(13,"div",9),H(14," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.objects "),R(),x(15,"div",7),Z(16,oSe,2,2,"span",8),R(),x(17,"div",9),H(18," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.places "),R(),x(19,"div",7),Z(20,sSe,2,2,"span",8),R(),x(21,"div",9),H(22," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.symbols "),R(),x(23,"div",7),Z(24,aSe,2,2,"span",8),R(),pt()),2&n){const e=ee();A(4),V("ngForOf",e.emojiFriquentlyUsed),A(4),V("ngForOf",e.emojiPeople),A(4),V("ngForOf",e.emojiNature),A(4),V("ngForOf",e.emojiObjects),A(4),V("ngForOf",e.emojiPlaces),A(4),V("ngForOf",e.emojiSymbols)}}function cSe(n,t){if(1&n){const e=dt();x(0,"span",10),Ce("click",function(){const o=it(e).$implicit;return ee(2).onClickEmoji(o.pic)}),H(1),R()}if(2&n){const e=t.$implicit;V("title",e.title),A(1),me(" ",e.pic," ")}}function uSe(n,t){if(1&n&&(ft(0),x(1,"div",7),Z(2,cSe,2,2,"span",8),R(),pt()),2&n){const e=ee();A(2),V("ngForOf",e.searchList)}}let hSe=(()=>{class n{constructor(){this.finish=new Yt,this.chatInputToolWrapperTitles=U_,this.searchText="",this.searchList=[]}ngOnInit(){this.emojiForSearch=ca.slice(9),this.emojiFriquentlyUsed=ca.slice(0,9),this.emojiPeople=ca.slice(9,150),this.emojiNature=ca.slice(150,226),this.emojiObjects=ca.slice(226,309),this.emojiPlaces=ca.slice(309,335),this.emojiSymbols=ca.slice(335)}onModelChange(e){const i=[],r=this.formatMsg(e);if(""!==r&&" "!==r){for(const o of this.emojiForSearch)o.title.includes(e)&&i.push(o);this.searchList=[...i]}else this.searchList=[]}get isShownSearchList(){return this.searchText&&this.searchText.length>0}preventDefault(e){e&&e.preventDefault()}formatMsg(e){return e.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}onClickEmoji(e){this.finish.emit({str:e})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-chat-input-tool-emoji"]],outputs:{finish:"finish"},decls:8,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"emoji-list","scroll-y"],[4,"ngIf"],["translate",""],[1,"emoji-group"],["class","emoji-item",3,"title","click",4,"ngFor","ngForOf"],["translate","",1,"header"],[1,"emoji-item",3,"title","click"]],template:function(e,i){1&e&&(x(0,"app-chat-input-tool-wrapper",0),Ce("closeTool",function(){return i.finish.emit()}),x(1,"div",1)(2,"div",2)(3,"textarea",3),Ce("ngModelChange",function(o){return i.searchText=o})("ngModelChange",function(o){return i.onModelChange(o)})("keydown.enter",function(o){return i.preventDefault(o)}),ce(4,"translate"),R()()(),x(5,"div",4),Z(6,lSe,25,6,"ng-container",5),Z(7,uSe,3,1,"ng-container",5),R()()),2&e&&(V("title",i.chatInputToolWrapperTitles.emoji),A(3),iu("placeholder",pe(4,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.search emoji")),V("ngModel",i.searchText)("maxlength",20),A(3),V("ngIf",!i.isShownSearchList),A(1),V("ngIf",i.isShownSearchList))},directives:[VR,Cu,t_,ks,cs,n_,Ht,Gn,vi],pipes:[dn],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.emoji-list[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;height:100%;overflow:hidden}.emoji-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:10px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]{font-size:18px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]   .emoji-item[_ngcontent-%COMP%]{display:inline-table;text-align:justify;width:30px;line-height:1.07;cursor:pointer;padding:6px;transition:transform 60ms ease-out 60ms}"],changeDetection:0}),n})(),dSe=(()=>{class n{constructor(e,i){this.chatConfigService=e,this.app=i,this.chatInputToolWrapperTitles=U_,this.amountPerUser=.5,this.finish=new Yt}ngOnInit(){this.numberOfUsers=this.chatConfigService.config.rain.defaultNumOfUsers,this.amountPerUser=this.app.config.minBet}get minNumberOfUsers(){return this.chatConfigService.config.rain.minNumOfUsers}get maxNumberOfUsers(){return this.chatConfigService.config.rain.maxNumOfUsers}get minAmountPerUser(){return this.chatConfigService.config.rain.rainMinBet}get maxAmountPerUser(){return this.chatConfigService.config.rain.rainMaxBet}get totalAmount(){return qr.mul(this.amountPerUser,this.numberOfUsers).toDP(this.chatConfigService.config.currencyPrecision,qr.ROUND_DOWN).toString()}onRain(){const i=`/rain:${new qr(this.amountPerUser).toDP(this.chatConfigService.config.currencyPrecision,qr.ROUND_DOWN).toString()}:${this.numberOfUsers} `;this.finish.emit({str:i})}}return n.\u0275fac=function(e){return new(e||n)(X(L_),X(en))},n.\u0275cmp=et({type:n,selectors:[["app-chat-input-tool-rain"]],outputs:{finish:"finish"},decls:34,vars:22,consts:[[3,"title","closeTool"],[1,"content"],["translate","",1,"description"],[1,"input-wrapper"],[1,"mt-3"],["translate",""],[1,"currency"],[1,"input-spinner"],[3,"formatPrecision","ngModel","step","min","max","ngModelChange"],["translate","",1,"mt-2"],[3,"step","formatPrecision","min","max","ngModel","ngModelChange"],[1,"d-flex","mt-2","justify-content-center"],[1,"total-amount","text-center","font-weight-bold"],[1,"text-center"],[1,"btn-rain","btn","btn-sm","btn-success",3,"click"],[1,"text-uppercase"]],template:function(e,i){1&e&&(x(0,"app-chat-input-tool-wrapper",0),Ce("closeTool",function(){return i.finish.emit()}),x(1,"div",1)(2,"div",2),H(3," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.description "),R(),x(4,"div",3)(5,"div",4)(6,"span",5),H(7," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.amount per player "),R(),x(8,"span",6),H(9),R()(),x(10,"div",7)(11,"app-spinner",8),Ce("ngModelChange",function(o){return i.amountPerUser=o}),R()(),x(12,"div",9),H(13," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.number of players "),R(),x(14,"div",7)(15,"app-spinner",10),Ce("ngModelChange",function(o){return i.numberOfUsers=o}),R()()(),x(16,"div",11)(17,"div")(18,"span"),H(19),ce(20,"translate"),R(),x(21,"span",6),H(22),R()()(),x(23,"div",12),H(24),R(),x(25,"div",13)(26,"button",14),Ce("click",function(){return i.onRain()}),x(27,"span",15),H(28),ce(29,"translate"),R(),x(30,"span"),H(31),R(),x(32,"span"),H(33),R()()()()()),2&e&&(V("title",i.chatInputToolWrapperTitles.rain),A(9),yt(i.chatConfigService.config.currency),A(2),V("formatPrecision",i.chatConfigService.config.currencyPrecision)("ngModel",i.amountPerUser)("step",i.app.config.betInputStep)("min",i.minAmountPerUser)("max",i.maxAmountPerUser),A(4),V("step",1)("formatPrecision",0)("min",i.minNumberOfUsers)("max",i.maxNumberOfUsers)("ngModel",i.numberOfUsers),A(4),me("",pe(20,18,"shared.total"),","),A(3),me(" ",i.chatConfigService.config.currency,""),A(2),me(" ",i.totalAmount," "),A(4),yt(pe(29,20,"shared.rain")),A(3),me(" ",i.totalAmount,""),A(2),me(" ",i.chatConfigService.config.currency,""))},directives:[VR,Gn,FS,ks,cs],pipes:[dn],styles:[".content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:12px}.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#b1b7bd}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{max-width:240px;margin:0 auto;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-spinner[_ngcontent-%COMP%]{height:30px;font-size:18px;text-align:center}.content[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:22px}.content[_ngcontent-%COMP%]   .btn-rain[_ngcontent-%COMP%]{width:240px;font-size:14px;margin-top:15px}"],changeDetection:0}),n})();function WR(n,t=iv){return Ve((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}e.subscribe(ae(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}const rH=function(n){return{background:n}};function fSe(n,t){if(1&n){const e=dt();x(0,"div",8)(1,"div",9),Ce("click",function(){const o=it(e).$implicit;return ee(2).shareGif(o.id)}),R()()}if(2&n){const e=t.$implicit;A(1),V("ngStyle",Fr(1,rH,"url("+e.url+") center center/cover"))}}function pSe(n,t){if(1&n&&(ft(0),Z(1,fSe,2,3,"div",7),pt()),2&n){const e=ee();A(1),V("ngForOf",e.chatService.top10Gifs)}}function gSe(n,t){if(1&n){const e=dt();x(0,"div",8)(1,"div",9),Ce("click",function(){const o=it(e).$implicit;return ee(3).shareGif(o.id)}),R()()}if(2&n){const e=t.$implicit;A(1),V("ngStyle",Fr(1,rH,"url("+e.url+") center center/cover"))}}function _Se(n,t){if(1&n&&(ft(0),Z(1,gSe,2,3,"div",7),pt()),2&n){const e=ee(2);A(1),V("ngForOf",e.searchList)}}function mSe(n,t){1&n&&(x(0,"div",11),ve(1,"app-loader"),R())}function vSe(n,t){if(1&n&&(ft(0),Z(1,_Se,2,1,"ng-container",6),Z(2,mSe,2,0,"div",10),pt()),2&n){const e=ee();A(1),V("ngIf",e.searchList&&e.searchList.length),A(1),V("ngIf",!(e.searchList&&e.searchList.length))}}let Qf=class{constructor(t,e,i){this.stomp=t,this.cd=e,this.chatService=i,this.finish=new Yt,this.searchInput=new Le,this.chatInputToolWrapperTitles=U_,this.searchText="",this.searchList=[]}ngOnInit(){this.stomp.response(hs.GifsSearch).pipe(gt(this)).subscribe(t=>{const e=this.formatMsg(this.searchText);if(""===e||" "===e)return this.searchList=[],void this.cd.detectChanges();this.searchList=YO(t.gifsInfo),this.cd.detectChanges()}),this.searchInput.pipe(WR(1e3),ef(),gt(this)).subscribe(t=>{this.getGifs(t)})}getGifs(t){this.stomp.request(xu.GifsSearch,{tag:t})}onModelChange(t){const e=this.formatMsg(t);""!==e&&" "!==e?this.searchInput.next(e):this.searchList=[]}get isShownSearchList(){return this.searchText&&this.searchText.length>0}formatMsg(t){return t.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}preventDefault(t){t&&t.preventDefault()}shareGif(t){this.finish.emit({str:`/gif:${t} `})}};Qf.\u0275fac=function(t){return new(t||Qf)(X(Au),X(Tn),X(Ru))},Qf.\u0275cmp=et({type:Qf,selectors:[["app-chat-input-tool-gif"]],outputs:{finish:"finish"},decls:9,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],[1,"i-block"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"gif-list","scroll-y"],[4,"ngIf"],["class","gif-wrapper",4,"ngFor","ngForOf"],[1,"gif-wrapper"],[1,"gif-item",3,"ngStyle","click"],["class","loader-wrapper",4,"ngIf"],[1,"loader-wrapper"]],template:function(t,e){1&t&&(x(0,"app-chat-input-tool-wrapper",0),Ce("closeTool",function(){return e.finish.emit()}),x(1,"div",1)(2,"div",2),ve(3,"div",3),x(4,"textarea",4),Ce("ngModelChange",function(r){return e.searchText=r})("ngModelChange",function(r){return e.onModelChange(r)})("keydown.enter",function(r){return e.preventDefault(r)}),ce(5,"translate"),R()()(),x(6,"div",5),Z(7,pSe,2,1,"ng-container",6),Z(8,vSe,3,2,"ng-container",6),R()()),2&t&&(V("title",e.chatInputToolWrapperTitles.gif),A(4),iu("placeholder",pe(5,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-gif.search gif")),V("ngModel",e.searchText)("maxlength",20),A(3),V("ngIf",!e.isShownSearchList),A(1),V("ngIf",e.isShownSearchList))},directives:[VR,Cu,t_,ks,cs,n_,Ht,vi,Ed,Ou],pipes:[dn],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.gif-list[_ngcontent-%COMP%]{font-size:13px;height:100%;overflow:hidden;display:flex;flex-wrap:wrap}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]{width:50%;height:118px;padding:5px}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]   .gif-item[_ngcontent-%COMP%]{border-radius:6px;width:100%;height:100%;cursor:pointer;transition:transform 60ms ease-out 60ms}.loader-wrapper[_ngcontent-%COMP%]{margin:0 auto}"],changeDetection:0}),Qf=We([oi()],Qf);const ySe=["input"];function bSe(n,t){if(1&n){const e=dt();x(0,"div",11),Ce("click",function(){it(e);const r=ee();return r.showToolModal(r.chatInputTools.Emoji)}),R()}}function ESe(n,t){if(1&n){const e=dt();x(0,"div",12),Ce("click",function(){it(e);const r=ee();return r.showToolModal(r.chatInputTools.Gif)}),R()}}function SSe(n,t){if(1&n){const e=dt();x(0,"div",13),Ce("click",function(){it(e);const r=ee();return r.showToolModal(r.chatInputTools.Rain)}),ve(1,"div",14),x(2,"div",15),H(3,"shared.rain"),R()()}}function CSe(n,t){if(1&n){const e=dt();x(0,"app-chat-input-tool-emoji",16),Ce("finish",function(r){return it(e),ee().onCloseToolModal(r,"emoji")}),R()}}function TSe(n,t){if(1&n){const e=dt();x(0,"app-chat-input-tool-rain",16),Ce("finish",function(r){return it(e),ee().onCloseToolModal(r,"rain")}),R()}}function MSe(n,t){if(1&n){const e=dt();x(0,"app-chat-input-tool-gif",16),Ce("finish",function(r){return it(e),ee().onCloseToolModal(r,"gif")}),R()}}function OSe(n,t){if(1&n){const e=dt();x(0,"div",17)(1,"div",18)(2,"div",19),Ce("animationend",function(){return it(e),ee().onWaitEnd()}),R()(),x(3,"p",20),H(4,"game.chat-widget.chat-input.please wait"),R()()}if(2&n){const e=ee();A(2),Nl("animation-duration",e.chatConfigService.config.sendMessageDelay,"ms")}}let Zf=class{constructor(t,e,i,r,o,s){this.app=t,this.chatConfigService=e,this.mainService=i,this.chatService=r,this.cd=o,this.stomp=s,this.message="",this.wait=!1,this.chatInputTools=Kh,this.toolModal=null}ngOnInit(){this.value="",Ti(this.inputRef.nativeElement,"input").pipe(Js(50),gt(this)).subscribe(()=>{this.cd.detectChanges()}),Ti(this.inputRef.nativeElement,"keydown").pipe(Lt(t=>13===t.which),gt(this)).subscribe(t=>{t.preventDefault(),this.sendMessage(),this.cd.detectChanges()}),this.chatService.onTagUser.pipe(gt(this)).subscribe(t=>{this.addToInput(t),this.cd.detectChanges()})}addToInput(t,e=!1){t.length<=this.leftLength&&(this.value=e?t:`${this.value?this.value:""}${t}`)}onClickSend(){this.sendMessage()}get isValid(){const t=this.value.length;return t>=1&&t<=this.chatConfigService.config.maxMessageLength}sendMessage(){const t=function wSe(n){return n.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}(this.value);""===t||" "===t||!this.isValid||(this.value="",this.wait=!0,this.stomp.request(xu.MessageSend,{message:t}),this.showToolModal(null),setTimeout(()=>{this.inputRef.nativeElement.blur()}))}onCloseToolModal(t,e){void 0!==t?!1===this.wait&&("gif"===e?(this.addToInput(t.str),this.sendMessage()):"emoji"===e?this.addToInput(t.str):"rain"===e&&(this.addToInput(t.str,!0),this.showToolModal(null))):this.showToolModal(null)}showToolModal(t=null){this.toolModal!==t||null===this.toolModal?this.toolModal=t:this.onCloseToolModal()}onWaitEnd(){this.wait=!1,setTimeout(()=>{this.inputRef.nativeElement.focus()})}get isEmojiShown(){return this.toolModal===Kh.Emoji}get isRainShown(){return this.toolModal===Kh.Rain}get isGifShown(){return this.toolModal===Kh.Gif}get leftLength(){return this.chatConfigService.config.maxMessageLength-(this.value?this.value.length:0)}get value(){return this.inputRef.nativeElement.value}set value(t){this.inputRef.nativeElement.value=t}};function PSe(n,t){if(1&n){const e=dt();x(0,"div",1),Ce("click",function(){return it(e),ee().scrollService.onScrollToBottom()}),H(1," game.chat-widget.New messages "),ve(2,"span",2),R()}}Zf.\u0275fac=function(t){return new(t||Zf)(X(en),X(L_),X(Ui),X(Ru),X(Tn),X(Au))},Zf.\u0275cmp=et({type:Zf,selectors:[["app-chat-input"]],viewQuery:function(t,e){if(1&t&&mo(ySe,7),2&t){let i;Hn(i=Vn())&&(e.inputRef=i.first)}},decls:15,vars:13,consts:[[1,"input-message"],["required","","minlength","1",1,"scroll-y",3,"placeholder"],["input",""],[1,"tools"],["class","smiles",3,"click",4,"ngIf"],["class","gif",3,"click",4,"ngIf"],["class","rain-wrapper",3,"click",4,"ngIf"],[1,"left-length"],[1,"enter",3,"disabled","click"],[3,"finish",4,"ngIf"],["class","chat-input-overlay",4,"ngIf"],[1,"smiles",3,"click"],[1,"gif",3,"click"],[1,"rain-wrapper",3,"click"],[1,"i-rain"],["translate","",1,"text"],[3,"finish"],[1,"chat-input-overlay"],[1,"time-left-loading"],[1,"time-left-loading-thumb",3,"animationend"],["translate",""]],template:function(t,e){1&t&&(x(0,"div",0),ve(1,"textarea",1,2),ce(3,"translate"),x(4,"div",3),Z(5,bSe,1,0,"div",4),Z(6,ESe,1,0,"div",5),Z(7,SSe,4,0,"div",6),x(8,"div",7),H(9),R()(),x(10,"button",8),Ce("click",function(){return e.onClickSend()}),R(),Z(11,CSe,1,0,"app-chat-input-tool-emoji",9),Z(12,TSe,1,0,"app-chat-input-tool-rain",9),Z(13,MSe,1,0,"app-chat-input-tool-gif",9),Z(14,OSe,5,2,"div",10),R()),2&t&&(A(1),iu("placeholder",pe(3,11,"shared.reply")),Zn("maxlength",e.chatConfigService.config.maxMessageLength),A(4),V("ngIf",e.app.isDesktop),A(1),V("ngIf",e.chatConfigService.config.isGifsEnabled),A(1),V("ngIf",e.chatConfigService.config.rain),A(2),yt(e.leftLength),A(1),V("disabled",!e.isValid),A(1),V("ngIf",e.isEmojiShown),A(1),V("ngIf",e.isRainShown),A(1),V("ngIf",e.isGifShown),A(1),V("ngIf",e.wait))},directives:[Ht,Gn,hSe,dSe,Qf],pipes:[dn],styles:["[_nghost-%COMP%]{width:inherit}.input-message[_ngcontent-%COMP%]{margin:0 auto;height:67px;position:relative;z-index:110;background-color:#000;border-top:1px solid #2a2b2e}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin:7px 0 0 12px;border:0;resize:none;width:calc(100% - 50px);display:block;height:34px;font-size:13px;color:#fff;line-height:1;background:unset;position:relative;overflow:hidden}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{width:calc(100% - 20px);position:absolute;bottom:5px;left:14px;color:#747474;display:flex;align-items:flex-end;font-size:13px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:active{transform:translateY(1px)}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]{width:14px;height:14px;background:url(smiley.61b61a0d20c01820.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]:hover{background:url(smiley-h.287177b586f9403b.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]{width:25px;height:14px;margin-left:5px;background:url(gif.a404393bc863f822.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]:hover{background:url(gif-h.8389ecc5920019db.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]{margin-left:10px;display:flex;align-items:flex-end;justify-content:center;cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .i-rain[_ngcontent-%COMP%]{background:url(rain-h.aa4937bd9df8c5d2.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#fff}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .i-rain[_ngcontent-%COMP%]{background:url(rain.3c852ab3a33c94b6.svg) no-repeat center center/contain;width:10px;height:14px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:2px;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]{margin-left:auto;margin-right:5px;cursor:auto;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]:active{transform:unset}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);border:none;background:url(enter.4543428ce422345d.svg) no-repeat;background-size:contain;height:16px;padding:0;width:11px;cursor:pointer}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:active{transform:translateY(calc(-50% + 1px))}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:disabled{opacity:.3}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px 4px 0 0;background:rgba(0,0,0,.2);display:flex;justify-content:center;align-items:center;flex-direction:column}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]{height:6px;width:160px;border:1px solid #b0bbc8;border-radius:4px;overflow:hidden;opacity:.5}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]   .time-left-loading-thumb[_ngcontent-%COMP%]{height:6px;width:160px;border-radius:2px;background:#b0bbc8;transform:translate(-160px);-webkit-animation:chat-input-loading;animation:chat-input-loading;-webkit-animation-timing-function:linear;animation-timing-function:linear}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#b0bbc8}@-webkit-keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}@keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}"],changeDetection:0}),Zf=We([oi()],Zf);let xSe=(()=>{class n{constructor(e){this.scrollService=e}}return n.\u0275fac=function(e){return new(e||n)(X(H0))},n.\u0275cmp=et({type:n,selectors:[["app-chat-body"]],decls:4,vars:3,consts:[["class","notification","translate","",3,"click",4,"ngIf"],["translate","",1,"notification",3,"click"],[1,"i-arrow"]],template:function(e,i){1&e&&(ve(0,"app-chat-messages-list")(1,"app-chat-input"),Z(2,PSe,3,0,"div",0),ce(3,"async")),2&e&&(A(2),V("ngIf",pe(3,1,i.scrollService.newMessagesAdded$)))},directives:[eSe,Zf,Ht,Gn],pipes:[Ps],styles:[".chat-input[_ngcontent-%COMP%]{height:67px}.notification[_ngcontent-%COMP%]{position:absolute;z-index:109;cursor:pointer;left:50%;bottom:85px;transform:translate(-50%);height:26px;border-radius:15px;border:1px solid #767b85;background:rgba(98,102,113,.65);color:#fff;font-size:12px;line-height:12px;width:200px;display:flex;justify-content:center;align-items:center}.notification[_ngcontent-%COMP%]   .i-arrow[_ngcontent-%COMP%]{display:block;background-image:url(chat-arrow.f617bc9716ca6276.svg);margin-right:3px;border:none;width:12px;height:10px;background-repeat:no-repeat;background-position:center;background-size:contain}"],changeDetection:0}),n})();function ASe(n,t){1&n&&ve(0,"app-chat-body",4)}function RSe(n,t){1&n&&(x(0,"div",5)(1,"span"),H(2),ce(3,"translate"),R()()),2&n&&(A(2),me(" ",pe(3,1,"game.chat-widget.chat-connector-message.Establishing a chat connection...")," "))}function ISe(n,t){1&n&&(x(0,"div",5)(1,"span"),H(2),ce(3,"translate"),R()()),2&n&&(A(2),me(" ",pe(3,1,"game.chat-widget.chat-connector-message.Establishing a chat connection...")," "))}function DSe(n,t){1&n&&(x(0,"div",5)(1,"span"),H(2),ce(3,"translate"),R()()),2&n&&(A(2),me(" ",pe(3,1,"game.chat-widget.chat-connector-message.Chat has been disconnected.")," "))}function NSe(n,t){if(1&n&&(x(0,"div",1),ve(1,"app-chat-header"),Z(2,ASe,1,0,"app-chat-body",2),Z(3,RSe,4,3,"div",3),Z(4,ISe,4,3,"div",3),Z(5,DSe,4,3,"div",3),R()),2&n){const e=t.ngIf,i=ee();A(2),V("ngIf",i.chat.inited&&e===i.connectorState.Connected),A(1),V("ngIf",!i.chat.inited&&e===(i.connectorState.None||i.connectorState.Connected)),A(1),V("ngIf",e===i.connectorState.Reconnecting),A(1),V("ngIf",e===i.connectorState.Disconnected)}}let ep=class{constructor(t,e,i,r,o,s,a){this.stomp=t,this.chat=e,this.scrollService=i,this.oldChat=r,this.app=o,this.cd=s,this.urlParams=a,this.connectorState=ec}ngOnInit(){this.initChat(),this.oldChat.isOpen$.pipe(Lt(t=>!0===t),gt(this)).subscribe(()=>this.scrollService.scrollToBottom()),Ti(document.fonts,"loadingdone").pipe(gt(this)).subscribe(()=>this.scrollService.scrollToBottom())}initChat(){this.stomp.response(hs.Init).pipe(gt(this)).subscribe(()=>{this.cd.detectChanges()});const t={currency:this.urlParams.currency,userId:this.urlParams.user,token:this.urlParams.token,operator:this.urlParams.operator,sessionToken:this.app.sessionToken,deviceType:this.app.deviceInfo.deviceType,gameIdentifier:this.gameIdentifier,gameZone:this.app.clientConfig.ws.zone};this.urlParams.jurisdiction&&(t.jurisdiction=this.urlParams.jurisdiction),this.stomp.init(this.chatHost+"/public/chat/player-stomp",t,Object.values(hs))}};ep.\u0275fac=function(t){return new(t||ep)(X(Au),X(Ru),X(H0),X(Qs),X(en),X(Tn),X(Rc))},ep.\u0275cmp=et({type:ep,selectors:[["app-new-chat"]],inputs:{chatHost:"chatHost",gameIdentifier:"gameIdentifier"},decls:2,vars:3,consts:[["class","chat-wrapper",4,"ngIf"],[1,"chat-wrapper"],["class","chat-body",4,"ngIf"],["class","state-message-wrapper",4,"ngIf"],[1,"chat-body"],[1,"state-message-wrapper"]],template:function(t,e){1&t&&(Z(0,NSe,6,4,"div",0),ce(1,"async")),2&t&&V("ngIf",pe(1,1,e.stomp.state$).state)},directives:[Ht,cEe,xSe],pipes:[Ps,dn],styles:['.chat-wrapper[_ngcontent-%COMP%]{width:100%;bottom:0;border-radius:0;background:#000000;color:#fff;margin:0 auto;height:100%;position:relative;display:flex;flex-direction:column;align-items:center}.chat-wrapper[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:100%;height:14px;left:0;top:var(--headerHeight);z-index:999;color:#0f0f11;background-image:linear-gradient(-180deg,rgba(0,0,0,.5) 0%,rgba(0,0,0,0) 100%)}.chat-wrapper[_ngcontent-%COMP%]   .modal-back[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(22,29,54,.8);position:absolute;bottom:0;left:0;z-index:101}.chat-wrapper[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]{height:calc(100% - var(--headerHeight));width:100%;max-width:360px}.chat-wrapper[_ngcontent-%COMP%]   .state-message-wrapper[_ngcontent-%COMP%]{position:absolute;top:var(--headerHeight);left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:#000000;z-index:120}'],changeDetection:0}),ep=We([oi()],ep);let FSe=(()=>{class n{constructor(e,i){this.chatService=e,this.mainService=i}}return n.\u0275fac=function(e){return new(e||n)(X(Qs),X(Ui))},n.\u0275cmp=et({type:n,selectors:[["app-chat-header"]],decls:10,vars:3,consts:[[1,"header"],[1,"online-wrapper","position-absolute","d-flex","align-items-center"],[1,"green-circle"],[1,"buttons"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1),ve(2,"div",2),x(3,"span"),H(4),ce(5,"async"),R()(),x(6,"div",3)(7,"button",4),Ce("click",function(){return i.chatService.isOpen=!1}),x(8,"span",5),H(9,"\xd7"),R()()()()),2&e&&(A(4),yt(pe(5,1,i.mainService.onlinePlayers$)))},pipes:[Ps],styles:["[_nghost-%COMP%]{width:inherit}.header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:7px 13px;height:var(--headerHeight);position:relative;align-items:center}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);font-size:14px}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{width:6px;height:6px;background:#28a909;border-radius:50%;margin:0 3px}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]{background-image:url(close.f62b9233d6078bd1.svg)}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]:hover{background-image:url(close-h.1ea37fb099b65e33.svg)}.header[_ngcontent-%COMP%]   .btn-hide.collapsed[_ngcontent-%COMP%]{background-image:url(up.8535033e8a8651ee.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]{background-image:url(turn-off.0912216e64ccd16f.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]:hover{background-image:url(turn-off-h.d6117b6d962d0f22.svg)}"]}),n})();var US=(()=>(function(n){n.reply="reply",n.translate="translate"}(US||(US={})),US))(),Y0=(()=>(function(n){n.header="header"}(Y0||(Y0={})),Y0))(),G_=(()=>(function(n){n.ban="ban",n.winInfo="win_info",n.rain="rain",n.gif="gif"}(G_||(G_={})),G_))(),tp=(()=>(function(n){n.moderator="moderator",n.bot="bot",n.user="user"}(tp||(tp={})),tp))();function BSe(n,t){if(1&n&&(x(0,"span",7),H(1),R()),2&n){const e=ee();A(1),me(" ",e.app.getFormattedUsername(e.banInfo.playerName)," ")}}function LSe(n,t){1&n&&(x(0,"span",5),H(1," game.chat-widget.chat-message.chat-message-ban.you "),R())}function USe(n,t){1&n&&(x(0,"span",5),H(1," game.chat-widget.chat-message.chat-message-ban.has been "),R())}function GSe(n,t){1&n&&(x(0,"span",5),H(1," game.chat-widget.chat-message.chat-message-ban.have been "),R())}function jSe(n,t){1&n&&(x(0,"span",8),H(1," game.chat-widget.chat-message.chat-message-ban.banned-other "),R())}function HSe(n,t){1&n&&(x(0,"span",8),H(1," game.chat-widget.chat-message.chat-message-ban.banned-me "),R())}function VSe(n,t){if(1&n&&(x(0,"span")(1,"span"),H(2),R(),x(3,"span",5),H(4,"game.chat-widget.chat-message.chat-message-ban.day"),R()()),2&n){const e=ee();A(2),yt(e.day)}}function WSe(n,t){if(1&n&&(x(0,"span")(1,"span"),H(2),R(),x(3,"span",5),H(4,"game.chat-widget.chat-message.chat-message-ban.hour"),R()()),2&n){const e=ee();A(2),yt(e.hour)}}function YSe(n,t){if(1&n&&(x(0,"span")(1,"span"),H(2),R(),x(3,"span",5),H(4,"game.chat-widget.chat-message.chat-message-ban.min"),R()()),2&n){const e=ee();A(2),yt(e.min)}}function zSe(n,t){if(1&n&&(x(0,"span")(1,"span"),H(2),R(),x(3,"span",5),H(4,"game.chat-widget.chat-message.chat-message-ban.sec"),R()()),2&n){const e=ee();A(2),yt(e.sec)}}function $Se(n,t){if(1&n&&(x(0,"span",5),H(1),R()),2&n){const e=ee();A(1),me(" game.chat-widget.chat-message.chat-message-ban.",e.banInfo.reason," ")}}function XSe(n,t){if(1&n&&(x(0,"span"),H(1),R()),2&n){const e=ee();A(1),yt(e.banInfo.reason)}}let qSe=(()=>{class n{constructor(e){this.app=e,this.isShownDay=!1,this.isShownHour=!1,this.isShownMin=!1,this.isShownSec=!1,this.day=0,this.hour=0,this.min=0,this.sec=0,this.isReasonOther=!1}ngOnInit(){this.setBanTime(),this.setBanReasonShown()}setBanTime(){if(!this.banInfo)return;let e=0;this.banInfo.isMyResponse?(e=(this.banInfo.chatBanEndDate-Date.now())/1e3,e=e<=0?1:e):e=this.banInfo.duration;const i=Math.floor(e/3600/24),r=Math.floor(e%86400/3600),o=Math.floor(e%3600/60),s=Math.floor(e%60);this.isShownDay=!!i,this.isShownHour=!!r,this.isShownMin=!!o,this.isShownSec=!!s,this.day=i,this.hour=r,this.min=o,this.sec=s}setBanReasonShown(){switch(this.banInfo.reason){case"strong language":case"spam":this.isReasonOther=!1;break;default:this.isReasonOther=!0}}}return n.\u0275fac=function(e){return new(e||n)(X(en))},n.\u0275cmp=et({type:n,selectors:[["app-chat-message-ban"]],inputs:{banInfo:"banInfo"},decls:18,vars:12,consts:[[1,"message-ban"],[1,"text","canSelect"],["class","player-name",4,"ngIf"],["translate","",4,"ngIf"],["class","font-weight-bold","translate","",4,"ngIf"],["translate",""],[4,"ngIf"],[1,"player-name"],["translate","",1,"font-weight-bold"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1),Z(2,BSe,2,1,"span",2),Z(3,LSe,2,0,"span",3),Z(4,USe,2,0,"span",3),Z(5,GSe,2,0,"span",3),Z(6,jSe,2,0,"span",4),Z(7,HSe,2,0,"span",4),x(8,"span",5),H(9," game.chat-widget.chat-message.chat-message-ban.from chat for "),R(),Z(10,VSe,5,1,"span",6),Z(11,WSe,5,1,"span",6),Z(12,YSe,5,1,"span",6),Z(13,zSe,5,1,"span",6),x(14,"span",5),H(15,"game.chat-widget.chat-message.chat-message-ban.reason"),R(),Z(16,$Se,2,1,"span",3),Z(17,XSe,2,1,"span",6),R()()),2&e&&(A(2),V("ngIf",i.banInfo.playerName),A(1),V("ngIf",i.banInfo.isMyResponse),A(1),V("ngIf",i.banInfo.playerName),A(1),V("ngIf",i.banInfo.isMyResponse),A(1),V("ngIf",i.banInfo.playerName),A(1),V("ngIf",i.banInfo.isMyResponse),A(3),V("ngIf",i.isShownDay),A(1),V("ngIf",i.isShownHour),A(1),V("ngIf",i.isShownMin),A(1),V("ngIf",i.isShownSec),A(3),V("ngIf",!i.isReasonOther),A(1),V("ngIf",i.isReasonOther))},directives:[Ht,Gn],styles:[".message-ban[_ngcontent-%COMP%]{min-height:47px;width:100%;border-radius:6px;box-shadow:4px 4px 6px #0000004a;border:solid 1px #f3000c;display:flex;align-items:center;justify-content:center;font-size:13px}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{min-height:100%;width:100%;text-align:center;padding:7px 10px;line-height:1.2;word-break:break-word}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{color:#f3000c}"]}),n})();const KSe=["(\\[b\\]@\\w+\\[\\/b\\])"],JSe=["(\\[b\\])","(\\[\\/b\\])"],ZSe={"Good job! \u{1f62e}":!0,"Wow! \u{1f62e}":!0,"Awesome! \u{1f31f}":!0,"Cool! \u{1f60e}":!0,"That's huge! \u{1f6e9}":!0,"Congratulations \u{1f44f}":!0,"Best in this round with HUGE WIN! \u{1f44f}":!0," made a rain! \u{1f327}\u{1f60a}":!0,"Free bets for everyone! \u{1f60a}":!0};function oH(n){return new RegExp(n.join("|"),"g")}function eCe(n,t){1&n&&(x(0,"span",4),H(1," Mod "),R())}function tCe(n,t){1&n&&(x(0,"span",5),H(1," Bot "),R())}let nCe=(()=>{class n{constructor(e,i){this.chat=e,this.app=i}tagUser(){this.chat.tagUser(this.username)}get isModeratorMessageType(){return this.senderType===tp.moderator}get isBotMessageType(){return this.senderType===tp.bot}get username(){return this.isBotMessageType||this.isModeratorMessageType?this.playerName:this.app.getFormattedUsername(this.playerName)}}return n.\u0275fac=function(e){return new(e||n)(X(Qs),X(en))},n.\u0275cmp=et({type:n,selectors:[["app-chat-message-name"]],inputs:{playerName:"playerName",senderType:"senderType"},decls:5,vars:3,consts:[[1,"name-wrapper"],[1,"name","canSelect",3,"click"],["class","font-weight-bold prefix prefix-mod",4,"ngIf"],["class","font-weight-bold prefix prefix-bot",4,"ngIf"],[1,"font-weight-bold","prefix","prefix-mod"],[1,"font-weight-bold","prefix","prefix-bot"]],template:function(e,i){1&e&&(x(0,"span",0)(1,"span",1),Ce("click",function(){return i.tagUser()}),H(2),R(),Z(3,eCe,2,0,"span",2),Z(4,tCe,2,0,"span",3),R()),2&e&&(A(2),yt(i.username),A(1),V("ngIf",i.isModeratorMessageType),A(1),V("ngIf",i.isBotMessageType))},directives:[Ht],styles:[".name-wrapper[_ngcontent-%COMP%]{margin-right:6px;align-items:center}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#ffffff80;cursor:pointer}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff}.name-wrapper[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{color:#013674;font-size:11px;margin-left:3px;padding:1px 3px;border-radius:4px}.name-wrapper[_ngcontent-%COMP%]   .prefix-mod[_ngcontent-%COMP%]{background-color:#27a708}.name-wrapper[_ngcontent-%COMP%]   .prefix-bot[_ngcontent-%COMP%]{background-color:#1279f1}"]}),n})();function iCe(n,t){if(1&n&&(x(0,"span",7),H(1),R()),2&n){const e=ee().$implicit;vt("reply-me",e.isReplyForMe),A(1),me(" ",e.str," ")}}function rCe(n,t){1&n&&ve(0,"span",8),2&n&&V("translate","game.chat-widget.chat-message."+ee().$implicit.str)}function oCe(n,t){if(1&n&&(x(0,"span"),H(1),R()),2&n){const e=ee().$implicit;A(1),yt(e.str)}}function sCe(n,t){if(1&n&&(ft(0)(1,3),Z(2,iCe,2,3,"span",4),Z(3,rCe,1,1,"span",5),Z(4,oCe,2,1,"span",6),pt()()),2&n){const e=t.$implicit,i=ee();A(1),V("ngSwitch",e.type),A(1),V("ngSwitchCase",i.chatMessageChunkTypes.reply),A(1),V("ngSwitchCase",i.chatMessageChunkTypes.translate)}}let aCe=(()=>{class n{constructor(){this.chatMessageChunkTypes=US,this.chatMessageSenderTypes=tp,this.messageChunks=[]}ngOnInit(){this.makeMessageChunks()}makeMessageChunks(){this.message&&this.message.split(oH(KSe)).forEach(i=>{if(""===i)return;const r=this.getChunkTypeMessage(i),o={str:this.getChunkMessage(i,r),type:r};this.messageChunks.push(o)})}getChunkMessage(e,i){return i===this.chatMessageChunkTypes.reply?e.replace(oH(JSe),""):e}getChunkTypeMessage(e){return function QSe(n){return/(\[b\]@\w+\[\/b\])/g.test(n)}(e)?this.chatMessageChunkTypes.reply:this.isShouldBeTranslated&&ZSe.hasOwnProperty(e)?this.chatMessageChunkTypes.translate:""}get isShouldBeTranslated(){return this.senderType===this.chatMessageSenderTypes.bot||this.messageType===G_.rain||this.messageType===G_.winInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-chat-message-text"]],inputs:{message:"message",senderType:"senderType",playerName:"playerName",messageType:"messageType"},decls:3,vars:3,consts:[[1,"text","canSelect"],[3,"senderType","playerName"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","reply",3,"reply-me",4,"ngSwitchCase"],[3,"translate",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"reply"],[3,"translate"]],template:function(e,i){1&e&&(x(0,"span",0),ve(1,"app-chat-message-name",1),Z(2,sCe,5,3,"ng-container",2),R()),2&e&&(A(1),V("senderType",i.senderType)("playerName",i.playerName),A(1),V("ngForOf",i.messageChunks))},directives:[nCe,vi,Go,ws,Gn,au],styles:[".text[_ngcontent-%COMP%]{word-break:break-word;margin-top:3px;color:#b1b7bd}.text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}"]}),n})();const lCe=["likeButton"];function cCe(n,t){if(1&n&&(x(0,"div",3),H(1),R()),2&n){const e=ee();A(1),me(" ",e.usersLikesNumber," ")}}let np=class{constructor(t,e){this.cd=t,this.connector=e,this.loading=!1}ngOnInit(){this.connector.response(pn.Like,200).pipe(Lt(t=>this.messageId===t.messageId),gt(this),ur(t=>{this.loading=!1,this.usersLikesNumber=t.usersLikesNumber})).subscribe(()=>this.cd.detectChanges())}onLike(){this.loading||(this.loading=!0,this.isMeLiked=!this.isMeLiked,this.usersLikesNumber=this.hasLikes?this.isMeLiked?++this.usersLikesNumber:--this.usersLikesNumber:1,this.connector.request(Fi.Like,{setLike:this.isMeLiked,messageId:this.messageId}))}get hasLikes(){return!!this.usersLikesNumber}get isActiveMeLike(){return!!this.isMeLiked}};function uCe(n,t){if(1&n&&(ft(0),x(1,"div",3)(2,"div",4),ve(3,"img",5),R(),x(4,"div",6)(5,"div",7),ve(6,"app-chat-message-text",8),R()(),x(7,"div",9),ve(8,"app-chat-message-likes",10),R()(),pt()),2&n){const e=ee();A(3),V("src",e.getAvatar(e.message),fn)("alt",e.getAvatar(e.message)),A(3),V("playerName",e.message.playerName)("senderType",e.message.senderType)("messageType",e.message.messageType)("message",e.message.message),A(2),V("messageId",e.message.messageId)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}function hCe(n,t){if(1&n&&(ft(0),x(1,"div",3)(2,"div",4),ve(3,"img",5),R(),x(4,"div",11)(5,"div",7),ve(6,"app-chat-message-text",8),R()(),x(7,"div",9),ve(8,"app-chat-message-likes",10),R()(),pt()),2&n){const e=ee();A(3),V("src",e.getAvatar(e.message),fn)("alt",e.getAvatar(e.message)),A(3),V("playerName",e.message.playerName)("senderType",e.message.senderType)("messageType",e.message.messageType)("message",e.message.message),A(2),V("messageId",e.message.messageId)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}np.\u0275fac=function(t){return new(t||np)(X(Tn),X(ki))},np.\u0275cmp=et({type:np,selectors:[["app-chat-message-likes"]],viewQuery:function(t,e){if(1&t&&mo(lCe,7),2&t){let i;Hn(i=Vn())&&(e.likeButtonRef=i.first)}},inputs:{messageId:"messageId",isMeLiked:"isMeLiked",usersLikesNumber:"usersLikesNumber"},decls:3,vars:3,consts:[[1,"btn-block"],["class","font-weight-bold likes-number",4,"ngIf"],[1,"btn-like",3,"click"],[1,"font-weight-bold","likes-number"]],template:function(t,e){1&t&&(x(0,"div",0),Z(1,cCe,2,1,"div",1),x(2,"div",2),Ce("click",function(){return e.onLike()}),R()()),2&t&&(A(1),V("ngIf",e.hasLikes),A(1),vt("active",e.isActiveMeLike))},directives:[Ht],styles:[".btn-block[_ngcontent-%COMP%]{margin-top:4px;height:12px;display:flex;justify-content:center;color:#767b85}.btn-block[_ngcontent-%COMP%]   .likes-number[_ngcontent-%COMP%]{position:relative}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]{height:100%;width:12px;padding:0;margin:0 2px;cursor:pointer;background-image:var(--urlImgLike);background-repeat:no-repeat;background-position:center;background-size:contain;--urlImgLike: url(like.bce1e56708107e40.svg);--urlImgLikeH: url(like-h.c93fa2bd77581a8c.svg)}.btn-block[_ngcontent-%COMP%]   .btn-like.active[_ngcontent-%COMP%]{background-image:var(--urlImgLikeH)}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:active{transform:translateY(1px);background-image:var(--urlImgLikeH)}@media (pointer: fine) and (hover: hover){.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:hover{background-image:var(--urlImgLikeH)}}"]}),np=We([oi()],np);let dCe=(()=>{class n{constructor(){this.chatMessageRegularTypes=Y0}getAvatar(e){return Pi_avatarPath+e.profileImage+`?v=${Pi_version}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-chat-message-regular"]],inputs:{message:"message",type:"type"},decls:3,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"message-wrapper"],[1,"avatar-block"],[1,"avatar",3,"src","alt"],[1,"msg-block","msg-block-type-header"],[1,"msg-data"],[3,"playerName","senderType","messageType","message"],[1,"likes-block"],[3,"messageId","isMeLiked","usersLikesNumber"],[1,"msg-block"]],template:function(e,i){1&e&&(ft(0,0),Z(1,uCe,9,9,"ng-container",1),Z(2,hCe,9,9,"ng-container",2),pt()),2&e&&(V("ngSwitch",i.type),A(1),V("ngSwitchCase",i.chatMessageRegularTypes.header))},directives:[Go,ws,aCe,np,au],styles:[".message-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;padding:0 10px 0 8px;align-items:flex-start;border-radius:8px;line-height:normal}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]{text-align:center}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{min-width:22px;min-height:22px;max-width:22px;max-height:22px;border-radius:50%}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]{border-radius:17px;display:flex;flex-direction:column;width:100%;padding:2px 10px 5px 4px}.message-wrapper[_ngcontent-%COMP%]   .msg-block.msg-block-typ-header[_ngcontent-%COMP%]{padding:2px 10px 5px 5px}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;align-items:center;justify-content:space-between}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-mobile-wrapper[_ngcontent-%COMP%]{display:inline-block;width:60px;position:absolute;top:-16px;margin-left:auto;margin-right:auto;left:0;right:0}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-wrapper[_ngcontent-%COMP%]{display:none}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-top:3px;word-break:break-word}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:24px}.message-wrapper[_ngcontent-%COMP%]   .likes-block[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;flex-basis:32px}"]}),n})(),sH=(()=>{class n{transform(e,i){return i?"":e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Vr({name:"hideCurrency",type:n,pure:!0}),n})(),fCe=(()=>{class n{constructor(e,i){this.app=e,this.main=i}}return n.\u0275fac=function(e){return new(e||n)(X(en),X(Ui))},n.\u0275cmp=et({type:n,selectors:[["app-chat-share-bet"]],inputs:{winInfo:"winInfo"},decls:35,vars:30,consts:[[1,"wrapper"],[1,"header"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"user","d-flex","justify-content-center","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"info-blocks"],[1,"info-block"],[1,"title-info-block"],["appColoredMultiplier","",1,"info-data","font-weight-bold"],[1,"info-data"],[1,"info-data",3,"isFreeBet","amount"]],template:function(e,i){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),Ce("click",function(){return i.main.checkFairness(i.winInfo.roundId)}),R()(),x(3,"div",3),ve(4,"img",4),x(5,"div"),H(6),R()(),x(7,"div",5)(8,"div",6)(9,"div",7),H(10),ce(11,"translate"),R(),x(12,"div",8),H(13),R()(),x(14,"div",6)(15,"div",7),H(16),ce(17,"translate"),ce(18,"hideCurrency"),R(),x(19,"div",9),H(20),ce(21,"currencyPrecision"),R()()(),x(22,"div",5)(23,"div",6)(24,"div",7),H(25),ce(26,"translate"),R(),x(27,"div",9),H(28),R()(),x(29,"div",6)(30,"div",7),H(31),ce(32,"translate"),ce(33,"hideCurrency"),R(),ve(34,"app-bet-amount",10),R()()()),2&e&&(A(4),V("src",i.app.getAvatarUrl(i.winInfo.profileImage),fn)("alt",i.app.getAvatarUrl(i.winInfo.profileImage)),A(2),me(" ",i.app.getFormattedUsername(i.winInfo.playerName)," "),A(4),me("",pe(11,14,"shared.cashed_out"),":"),A(3),me(" ",i.winInfo.multiplier.toFixed(2),"x "),A(3),pi(" ",pe(17,16,"shared.win"),", ",tn(18,18,i.winInfo.currency,i.app.config.isCurrencyNameHidden),": "),A(4),me(" ",pe(21,21,i.winInfo.winAmount)," "),A(5),me("",pe(26,23,"shared.round"),":"),A(3),me("",i.winInfo.roundMaxMultiplier.toFixed(2),"x"),A(3),pi(" ",pe(32,25,"shared.bet"),", ",tn(33,27,i.winInfo.currency,i.app.config.isCurrencyNameHidden),": "),A(3),V("isFreeBet",i.winInfo.isFreeBet)("amount",i.winInfo.bet))},directives:[AA,r0],pipes:[dn,sH,Gr],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;font-size:11px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;position:relative}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:3px;font-size:13px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-wrapper[_ngcontent-%COMP%]{margin-left:5px;right:5px;top:5px;position:absolute}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#fff;padding:10px 0 20px}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]{display:flex;margin-bottom:11px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{width:50%;font-size:12px;flex-shrink:0;padding-left:12%}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .title-info-block[_ngcontent-%COMP%]{opacity:.3;display:flex;justify-content:flex-start;align-items:center;height:14px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .info-data[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;height:14px;margin-top:5px;color:#fff}"]}),n})();var GS=(()=>(function(n){n.Claimed="claimed",n.Free="free",n.Canceled="canceled"}(GS||(GS={})),GS))();function pCe(n,t){if(1&n&&(ft(0),x(1,"div",11),ve(2,"img",12),x(3,"div",13),H(4),R()(),pt()),2&n){const e=ee().$implicit,i=ee();A(2),V("src",i.app.getAvatarUrl(i.rainInfo.rainWinnerInfo[e].profileImage),fn)("alt",i.app.getAvatarUrl(i.rainInfo.rainWinnerInfo[e].profileImage)),A(1),vt("me",i.rainInfo.rainWinnerInfo[e].isMe),A(1),me(" ",i.app.getFormattedUsername(i.rainInfo.rainWinnerInfo[e].playerName)," ")}}function gCe(n,t){if(1&n){const e=dt();ft(0),x(1,"button",14),Ce("click",function(){it(e);const r=ee().$implicit,o=ee();let n=o.rainInfo.rainNumberOfWinners>20?nnn:1;return o.onClaimRain({rainWinnerId:n,rainId:o.rainInfo.rainId})}()),H(2),ce(3,"translate"),R(),pt()}if(2&n){const e=ee(2);A(1),V("disabled",!e.rainInfo.isCanClaim),A(1),me(" ",pe(3,2,"shared.claim")," ")}}function _Ce(n,t){1&n&&(ft(0),x(1,"button",15),H(2),ce(3,"translate"),R(),pt()),2&n&&(A(1),V("disabled",!0),A(1),me(" ",pe(3,2,"shared.claim")," "))}function mCe(n,t){if(1&n&&(x(0,"div",7)(1,"div",8)(2,"span"),H(3),ce(4,"currencyPrecision"),ce(5,"hideCurrency"),R()(),ft(6,9),Z(7,pCe,5,5,"ng-container",10),Z(8,gCe,4,4,"ng-container",10),Z(9,_Ce,4,4,"ng-container",10),pt(),R()),2&n){const e=t.$implicit,i=ee();A(3),pi(" ",pe(4,6,i.rainInfo.rainAmountPerUser)," ",tn(5,8,i.rainInfo.currency,i.app.config.isCurrencyNameHidden)," "),A(3),V("ngSwitch",i.rainInfo.rainWinnerInfo[e].rainNodeStatus),A(1),V("ngSwitchCase",i.rainNodeStatus.Claimed),A(1),V("ngSwitchCase",i.rainNodeStatus.Free),A(1),V("ngSwitchCase",i.rainNodeStatus.Canceled)}}let ip=class{constructor(t,e,i,r,o){this.connector=t,this.captcha=e,this.cd=i,this.freeBets=r,this.app=o,this.objectKeys=Object.keys,this.rainNodeStatus=GS}ngOnInit(){this.connector.response(pn.ClaimRainWin).pipe(Lt(t=>t.rainId===this.rainInfo.rainId),gt(this)).subscribe(t=>this.responseClaimRain(t))}onClaimRain(t){this.rainInfo.isCanClaim&&(this.rainInfo.isCanClaim=!1,this.app.config.reCaptchaSiteKey?this.captcha.execute(this.app.config.reCaptchaSiteKey,"claimRain",e=>{t.captchaUserToken=e,this.connector.request(Fi.ClaimRainWin,t)}):this.connector.request(Fi.ClaimRainWin,t))}responseClaimRain(t){200!==t.code?this.rainInfo.isCanClaim=!0:(this.rainInfo.rainWinnerInfo[t.rainWinnerId]=Object.assign(Object.assign({},this.rainInfo.rainWinnerInfo[t.rainWinnerId]),{playerName:t.playerName,profileImage:t.profileImage,isMe:t.isMe,rainNodeStatus:t.rainNodeStatus}),t.freeBetInfo&&this.freeBets.add(t.freeBetInfo)),this.cd.detectChanges()}};function vCe(n,t){if(1&n&&(ft(0),x(1,"div",3),ve(2,"app-chat-message-ban",4),R(),pt()),2&n){const e=ee();A(2),V("banInfo",e.message.banInfo)}}ip.\u0275fac=function(t){return new(t||ip)(X(ki),X(g8),X(Tn),X(Ic),X(en))},ip.\u0275cmp=et({type:ip,selectors:[["app-chat-rain"]],inputs:{rainInfo:"rainInfo"},decls:14,vars:14,consts:[[1,"rain-wrapper"],[1,"body"],[1,"claim-wrapper"],["class","claim-block",4,"ngFor","ngForOf"],[1,"footer"],[1,"footer-info"],[1,"amount"],[1,"claim-block"],[1,"amount","mr-2","px-2"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"user","d-flex","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"username"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled","click"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"div",1)(2,"div",2),Z(3,mCe,10,11,"div",3),R()(),x(4,"div",4)(5,"div",5)(6,"span"),H(7),ce(8,"translate"),ce(9,"translate"),R(),x(10,"span",6),H(11),ce(12,"currencyPrecision"),ce(13,"hideCurrency"),R()()()()),2&t&&(A(3),V("ngForOf",e.objectKeys(e.rainInfo.rainWinnerInfo)),A(4),pi(" ",pe(8,5,"shared.rain")," \u{1f327} | ",pe(9,7,"shared.total")," "),A(4),pi(" ",pe(12,9,e.rainInfo.rainFullAmount)," ",tn(13,11,e.rainInfo.currency,e.app.config.isCurrencyNameHidden)," "))},directives:[vi,Go,ws],pipes:[Gr,sH,dn],styles:[".rain-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0 15px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;margin:5px auto;color:#fff}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-right:9px;border-radius:11px;border:solid 1px #427f00;background-color:#123405;font-size:14px;padding-top:3px;padding-bottom:3px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username.me[_ngcontent-%COMP%]{color:#e30c32}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]{min-width:80px;height:22px;font-size:14px;padding:0 5px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]:disabled{cursor:auto;opacity:.2;pointer-events:none}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{max-height:34px;min-height:34px;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#9ea0a3}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#fff}"]}),ip=We([oi()],ip);const yCe=function(n,t,e){return{low:n,medium:t,high:e}};function bCe(n,t){if(1&n&&(ft(0),x(1,"div",5)(2,"div",6),ve(3,"app-chat-message-regular",7),R(),ve(4,"app-chat-share-bet",8),R(),pt()),2&n){const e=ee();A(1),V("ngClass",Um(4,yCe,e.message.winInfo.multiplier<e.multiplierLevel.Medium,e.message.winInfo.multiplier>=e.multiplierLevel.Medium&&e.message.winInfo.multiplier<e.multiplierLevel.High,e.message.winInfo.multiplier>=e.multiplierLevel.High)),A(2),V("type",e.chatMessageRegularTypes.header)("message",e.message),A(1),V("winInfo",e.message.winInfo)}}function ECe(n,t){if(1&n&&(ft(0),x(1,"div",9)(2,"div",6),ve(3,"app-chat-message-regular",7),R(),ve(4,"app-chat-rain",10),R(),pt()),2&n){const e=ee();A(3),V("type",e.chatMessageRegularTypes.header)("message",e.message),A(1),V("rainInfo",e.message.rainInfo)}}const SCe=function(n,t){return{width:n,height:t}};function CCe(n,t){if(1&n&&(ft(0),x(1,"div",12)(2,"div"),ve(3,"app-chat-message-regular",7),R(),x(4,"div",13)(5,"div",14),ve(6,"img",15),R()()(),pt()),2&n){const e=ee(2);A(3),V("type",e.chatMessageRegularTypes.header)("message",e.message),A(2),V("ngStyle",ba(4,SCe,e.gifWidth+"px",e.gifHeight+"px")),A(1),V("src",e.gifInfo.url,fn)}}function TCe(n,t){if(1&n&&(ft(0),Z(1,CCe,7,7,"ng-container",11),pt()),2&n){const e=ee();A(1),V("ngIf",e.gifInfo)}}function MCe(n,t){if(1&n&&(ft(0),x(1,"div",3),ve(2,"app-chat-message-regular",16),R(),pt()),2&n){const e=ee();A(2),V("message",e.message)}}let OCe=(()=>{class n{constructor(){this.gifMaxLength=180,this.chatMessageTypes=G_,this.chatMessageRegularTypes=Y0,this.chatMessageSenderTypes=tp,this.multiplierLevel=Ch}ngOnInit(){this.isGifShown&&(this.gifInfo=JSON.parse(this.message.gifInfo),this.getGifSizes())}getGifSizes(){const e=this.gifInfo.dims[0],i=this.gifInfo.dims[1],r=e>=i;this.gifWidth=r?this.gifMaxLength:e/(i/this.gifMaxLength),this.gifHeight=r?i/(e/this.gifMaxLength):this.gifMaxLength}get isGifShown(){return this.message.messageType===this.chatMessageTypes.gif&&!!this.message.gifInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-chat-message"]],inputs:{message:"message"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mb-2"],[3,"banInfo"],[1,"win-info-wrapper","mb-2",3,"ngClass"],[1,"msg-wrapper"],[3,"type","message"],[3,"winInfo"],[1,"rain-wrapper","mb-2"],[3,"rainInfo"],[4,"ngIf"],[1,"gif-wrapper","mb-2"],[1,"img-wrapper"],[1,"img-container",3,"ngStyle"],["alt","gif",1,"img",3,"src"],[3,"message"]],template:function(e,i){1&e&&(ft(0,0),Z(1,vCe,3,1,"ng-container",1),Z(2,bCe,5,8,"ng-container",1),Z(3,ECe,5,3,"ng-container",1),Z(4,TCe,2,1,"ng-container",1),Z(5,MCe,3,1,"ng-container",2),pt()),2&e&&(V("ngSwitch",i.message.messageType),A(1),V("ngSwitchCase",i.chatMessageTypes.ban),A(1),V("ngSwitchCase",i.chatMessageTypes.winInfo),A(1),V("ngSwitchCase",i.chatMessageTypes.rain),A(1),V("ngSwitchCase",i.chatMessageTypes.gif))},directives:[Go,ws,qSe,Ul,dCe,fCe,ip,Ht,Ed,au],styles:[".win-info-wrapper[_ngcontent-%COMP%]{border-radius:6px}.win-info-wrapper.low[_ngcontent-%COMP%]{background-color:#000e34}.win-info-wrapper.medium[_ngcontent-%COMP%]{background-color:#260034}.win-info-wrapper.high[_ngcontent-%COMP%]{background-color:#34002f}.win-info-wrapper[_ngcontent-%COMP%]   .msg-wrapper[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#055522}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{margin:4px 10px 0 30px}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%}.msg-wrapper[_ngcontent-%COMP%]{min-height:40px;padding-top:10px}"],changeDetection:0}),n})();var Jh=(()=>(function(n){n.emoji="emoji",n.gif="gif",n.rain="rain"}(Jh||(Jh={})),Jh))(),j_=(()=>(function(n){n.emoji="emoji",n.rain="rain",n.gif="gif"}(j_||(j_={})),j_))();const wCe=["*"];let YR=(()=>{class n{constructor(){this.chatInputTools=Jh,this.closeTool=new Yt}onCloseTool(){this.closeTool.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-chat-input-tool-wrapper"]],inputs:{title:"title"},outputs:{closeTool:"closeTool"},ngContentSelectors:wCe,decls:12,vars:5,consts:[[1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-0"]],template:function(e,i){1&e&&(Am(),x(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),H(5),ce(6,"translate"),R(),x(7,"button",5),Ce("click",function(){return i.onCloseTool()}),x(8,"span",6),H(9,"\xd7"),R()()(),x(10,"div",7),Rm(11),R()()()()),2&e&&(A(1),vt("rain",i.title===i.chatInputTools.rain),A(4),me(" ",pe(6,3,"shared."+i.title)," "))},pipes:[dn],styles:[".modal[_ngcontent-%COMP%]{position:absolute;top:auto;display:block;margin-left:auto;margin-right:auto;left:0;right:0;height:auto;bottom:67px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{left:auto;margin:0 auto;height:320px;width:calc(100% - 20px);max-width:calc(100% - 20px)}.modal[_ngcontent-%COMP%]   .modal-dialog.rain[_ngcontent-%COMP%]{height:336px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{min-height:36px;max-height:36px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}"]}),n})();function PCe(n,t){if(1&n){const e=dt();x(0,"span",10),Ce("click",function(){const o=it(e).$implicit;return ee(2).onClickEmoji(o.pic)}),H(1),R()}if(2&n){const e=t.$implicit;V("title",e.title),A(1),me(" ",e.pic," ")}}function xCe(n,t){if(1&n){const e=dt();x(0,"span",10),Ce("click",function(){const o=it(e).$implicit;return ee(2).onClickEmoji(o.pic)}),H(1),R()}if(2&n){const e=t.$implicit;V("title",e.title),A(1),me(" ",e.pic," ")}}function ACe(n,t){if(1&n){const e=dt();x(0,"span",10),Ce("click",function(){const o=it(e).$implicit;return ee(2).onClickEmoji(o.pic)}),H(1),R()}if(2&n){const e=t.$implicit;V("title",e.title),A(1),me(" ",e.pic," ")}}function RCe(n,t){if(1&n){const e=dt();x(0,"span",10),Ce("click",function(){const o=it(e).$implicit;return ee(2).onClickEmoji(o.pic)}),H(1),R()}if(2&n){const e=t.$implicit;V("title",e.title),A(1),me(" ",e.pic," ")}}function ICe(n,t){if(1&n){const e=dt();x(0,"span",10),Ce("click",function(){const o=it(e).$implicit;return ee(2).onClickEmoji(o.pic)}),H(1),R()}if(2&n){const e=t.$implicit;V("title",e.title),A(1),me(" ",e.pic," ")}}function DCe(n,t){if(1&n){const e=dt();x(0,"span",10),Ce("click",function(){const o=it(e).$implicit;return ee(2).onClickEmoji(o.pic)}),H(1),R()}if(2&n){const e=t.$implicit;V("title",e.title),A(1),me(" ",e.pic," ")}}function NCe(n,t){if(1&n&&(ft(0),x(1,"div",6),H(2," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.favorites "),R(),x(3,"div",7),Z(4,PCe,2,2,"span",8),R(),x(5,"div",9),H(6," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.people "),R(),x(7,"div",7),Z(8,xCe,2,2,"span",8),R(),x(9,"div",9),H(10," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.nature "),R(),x(11,"div",7),Z(12,ACe,2,2,"span",8),R(),x(13,"div",9),H(14," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.objects "),R(),x(15,"div",7),Z(16,RCe,2,2,"span",8),R(),x(17,"div",9),H(18," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.places "),R(),x(19,"div",7),Z(20,ICe,2,2,"span",8),R(),x(21,"div",9),H(22," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.symbols "),R(),x(23,"div",7),Z(24,DCe,2,2,"span",8),R(),pt()),2&n){const e=ee();A(4),V("ngForOf",e.emojiFriquentlyUsed),A(4),V("ngForOf",e.emojiPeople),A(4),V("ngForOf",e.emojiNature),A(4),V("ngForOf",e.emojiObjects),A(4),V("ngForOf",e.emojiPlaces),A(4),V("ngForOf",e.emojiSymbols)}}function kCe(n,t){if(1&n){const e=dt();x(0,"span",10),Ce("click",function(){const o=it(e).$implicit;return ee(2).onClickEmoji(o.pic)}),H(1),R()}if(2&n){const e=t.$implicit;V("title",e.title),A(1),me(" ",e.pic," ")}}function FCe(n,t){if(1&n&&(ft(0),x(1,"div",7),Z(2,kCe,2,2,"span",8),R(),pt()),2&n){const e=ee();A(2),V("ngForOf",e.searchList)}}let BCe=(()=>{class n{constructor(){this.finish=new Yt,this.chatInputToolWrapperTitles=j_,this.searchText="",this.searchList=[]}ngOnInit(){this.emojiForSearch=ca.slice(9),this.emojiFriquentlyUsed=ca.slice(0,9),this.emojiPeople=ca.slice(9,150),this.emojiNature=ca.slice(150,226),this.emojiObjects=ca.slice(226,309),this.emojiPlaces=ca.slice(309,335),this.emojiSymbols=ca.slice(335)}onModelChange(e){const i=[],r=this.formatMsg(e);if(""!==r&&" "!==r){for(const o of this.emojiForSearch)o.title.includes(e)&&i.push(o);this.searchList=[...i]}else this.searchList=[]}get isShownSearchList(){return this.searchText&&this.searchText.length>0}preventDefault(e){e&&e.preventDefault()}formatMsg(e){return e.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}onClickEmoji(e){this.finish.emit({str:e})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["app-chat-input-tool-emoji"]],outputs:{finish:"finish"},decls:8,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"emoji-list","scroll-y"],[4,"ngIf"],["translate",""],[1,"emoji-group"],["class","emoji-item",3,"title","click",4,"ngFor","ngForOf"],["translate","",1,"header"],[1,"emoji-item",3,"title","click"]],template:function(e,i){1&e&&(x(0,"app-chat-input-tool-wrapper",0),Ce("closeTool",function(){return i.finish.emit()}),x(1,"div",1)(2,"div",2)(3,"textarea",3),Ce("ngModelChange",function(o){return i.searchText=o})("ngModelChange",function(o){return i.onModelChange(o)})("keydown.enter",function(o){return i.preventDefault(o)}),ce(4,"translate"),R()()(),x(5,"div",4),Z(6,NCe,25,6,"ng-container",5),Z(7,FCe,3,1,"ng-container",5),R()()),2&e&&(V("title",i.chatInputToolWrapperTitles.emoji),A(3),iu("placeholder",pe(4,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.search emoji")),V("ngModel",i.searchText)("maxlength",20),A(3),V("ngIf",!i.isShownSearchList),A(1),V("ngIf",i.isShownSearchList))},directives:[YR,Cu,t_,ks,cs,n_,Ht,Gn,vi],pipes:[dn],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.emoji-list[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;height:100%;overflow:hidden}.emoji-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:10px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]{font-size:18px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]   .emoji-item[_ngcontent-%COMP%]{display:inline-table;text-align:justify;width:30px;line-height:1.07;cursor:pointer;padding:6px;transition:transform 60ms ease-out 60ms}"]}),n})(),LCe=(()=>{class n{constructor(e){this.app=e,this.chatInputToolWrapperTitles=j_,this.amountPerUser=.5,this.finish=new Yt}ngOnInit(){this.numberOfUsers=this.app.config.chat.rain.defaultNumOfUsers,this.amountPerUser=this.app.config.minBet}get minNumberOfUsers(){return this.app.config.chat.rain.minNumOfUsers}get maxNumberOfUsers(){return this.app.config.chat.rain.maxNumOfUsers}get minAmountPerUser(){return this.app.config.chat.rain.rainMinBet}get maxAmountPerUser(){return this.app.config.chat.rain.rainMaxBet}get totalAmount(){return qr.mul(this.amountPerUser,this.numberOfUsers).toNumber()}onRain(){const e=`/rain:${this.amountPerUser.toFixed(this.app.config.betPrecision)}:${this.numberOfUsers} `;this.finish.emit({str:e})}}return n.\u0275fac=function(e){return new(e||n)(X(en))},n.\u0275cmp=et({type:n,selectors:[["app-chat-input-tool-rain"]],outputs:{finish:"finish"},decls:36,vars:26,consts:[[3,"title","closeTool"],[1,"content"],["translate","",1,"description"],[1,"input-wrapper"],[1,"mt-3"],["translate",""],[1,"currency"],[1,"input-spinner"],[3,"formatPrecision","ngModel","step","min","max","ngModelChange"],["translate","",1,"mt-2"],[3,"step","formatPrecision","min","max","ngModel","ngModelChange"],[1,"d-flex","mt-2","justify-content-center"],[1,"total-amount","text-center","font-weight-bold"],[1,"text-center"],[1,"btn-rain","btn","btn-sm","btn-success",3,"click"],[1,"text-uppercase"]],template:function(e,i){1&e&&(x(0,"app-chat-input-tool-wrapper",0),Ce("closeTool",function(){return i.finish.emit()}),x(1,"div",1)(2,"div",2),H(3," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.description "),R(),x(4,"div",3)(5,"div",4)(6,"span",5),H(7," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.amount per player "),R(),x(8,"span",6),H(9),R()(),x(10,"div",7)(11,"app-spinner",8),Ce("ngModelChange",function(o){return i.amountPerUser=o}),R()(),x(12,"div",9),H(13," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.number of players "),R(),x(14,"div",7)(15,"app-spinner",10),Ce("ngModelChange",function(o){return i.numberOfUsers=o}),R()()(),x(16,"div",11)(17,"div")(18,"span"),H(19),ce(20,"translate"),R(),x(21,"span",6),H(22),R()()(),x(23,"div",12),H(24),ce(25,"currencyPrecision"),R(),x(26,"div",13)(27,"button",14),Ce("click",function(){return i.onRain()}),x(28,"span",15),H(29),ce(30,"translate"),R(),x(31,"span"),H(32),ce(33,"currencyPrecision"),R(),x(34,"span"),H(35),R()()()()()),2&e&&(V("title",i.chatInputToolWrapperTitles.rain),A(9),yt(i.app.config.currency),A(2),V("formatPrecision",i.app.config.betPrecision)("ngModel",i.amountPerUser)("step",i.app.config.betInputStep)("min",i.minAmountPerUser)("max",i.maxAmountPerUser),A(4),V("step",1)("formatPrecision",0)("min",i.minNumberOfUsers)("max",i.maxNumberOfUsers)("ngModel",i.numberOfUsers),A(4),me("",pe(20,18,"shared.total"),","),A(3),me(" ",i.app.config.currency,""),A(2),me(" ",pe(25,20,i.totalAmount)," "),A(5),yt(pe(30,22,"shared.rain")),A(3),me(" ",pe(33,24,i.totalAmount),""),A(3),me(" ",i.app.config.currency,""))},directives:[YR,Gn,FS,ks,cs],pipes:[dn,Gr],styles:[".content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:12px}.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#b1b7bd}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{max-width:240px;margin:0 auto;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-spinner[_ngcontent-%COMP%]{height:30px;font-size:18px;text-align:center}.content[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:22px}.content[_ngcontent-%COMP%]   .btn-rain[_ngcontent-%COMP%]{width:240px;font-size:14px;margin-top:15px}"]}),n})();const aH=function(n){return{background:n}};function UCe(n,t){if(1&n){const e=dt();x(0,"div",8)(1,"div",9),Ce("click",function(){const o=it(e).$implicit;return ee(2).shareGif(o.id)}),R()()}if(2&n){const e=t.$implicit;A(1),V("ngStyle",Fr(1,aH,"url("+e.url+") center center/cover"))}}function GCe(n,t){if(1&n&&(ft(0),Z(1,UCe,2,3,"div",7),pt()),2&n){const e=ee();A(1),V("ngForOf",e.chatService.top10Gifs)}}function jCe(n,t){if(1&n){const e=dt();x(0,"div",8)(1,"div",9),Ce("click",function(){const o=it(e).$implicit;return ee(3).shareGif(o.id)}),R()()}if(2&n){const e=t.$implicit;A(1),V("ngStyle",Fr(1,aH,"url("+e.url+") center center/cover"))}}function HCe(n,t){if(1&n&&(ft(0),Z(1,jCe,2,3,"div",7),pt()),2&n){const e=ee(2);A(1),V("ngForOf",e.searchList)}}function VCe(n,t){1&n&&(x(0,"div",11),ve(1,"app-loader"),R())}function WCe(n,t){if(1&n&&(ft(0),Z(1,HCe,2,1,"ng-container",6),Z(2,VCe,2,0,"div",10),pt()),2&n){const e=ee();A(1),V("ngIf",e.searchList&&e.searchList.length),A(1),V("ngIf",!(e.searchList&&e.searchList.length))}}let rp=class{constructor(t,e,i){this.connector=t,this.cd=e,this.chatService=i,this.finish=new Yt,this.searchInput=new Le,this.chatInputToolWrapperTitles=j_,this.searchText="",this.searchList=[]}ngOnInit(){this.connector.response(pn.SearchGifs).pipe(gt(this)).subscribe(t=>{const e=this.formatMsg(this.searchText);if(""===e||" "===e)return this.searchList=[],void this.cd.detectChanges();this.searchList=YO(t.gifsInfo),this.cd.detectChanges()}),this.searchInput.pipe(WR(1e3),ef(),gt(this)).subscribe(t=>{this.getGifs(t)})}getGifs(t){this.connector.request(Fi.SearchGifs,{tag:t})}onModelChange(t){const e=this.formatMsg(t);""!==e&&" "!==e?this.searchInput.next(e):this.searchList=[]}get isShownSearchList(){return this.searchText&&this.searchText.length>0}formatMsg(t){return t.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}preventDefault(t){t&&t.preventDefault()}shareGif(t){this.finish.emit({str:`/gif:${t} `})}};rp.\u0275fac=function(t){return new(t||rp)(X(ki),X(Tn),X(Qs))},rp.\u0275cmp=et({type:rp,selectors:[["app-chat-input-tool-gif"]],outputs:{finish:"finish"},decls:9,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],[1,"i-block"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"gif-list","scroll-y"],[4,"ngIf"],["class","gif-wrapper",4,"ngFor","ngForOf"],[1,"gif-wrapper"],[1,"gif-item",3,"ngStyle","click"],["class","loader-wrapper",4,"ngIf"],[1,"loader-wrapper"]],template:function(t,e){1&t&&(x(0,"app-chat-input-tool-wrapper",0),Ce("closeTool",function(){return e.finish.emit()}),x(1,"div",1)(2,"div",2),ve(3,"div",3),x(4,"textarea",4),Ce("ngModelChange",function(r){return e.searchText=r})("ngModelChange",function(r){return e.onModelChange(r)})("keydown.enter",function(r){return e.preventDefault(r)}),ce(5,"translate"),R()()(),x(6,"div",5),Z(7,GCe,2,1,"ng-container",6),Z(8,WCe,3,2,"ng-container",6),R()()),2&t&&(V("title",e.chatInputToolWrapperTitles.gif),A(4),iu("placeholder",pe(5,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-gif.search gif")),V("ngModel",e.searchText)("maxlength",20),A(3),V("ngIf",!e.isShownSearchList),A(1),V("ngIf",e.isShownSearchList))},directives:[YR,Cu,t_,ks,cs,n_,Ht,vi,Ed,Ou],pipes:[dn],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.gif-list[_ngcontent-%COMP%]{font-size:13px;height:100%;overflow:hidden;display:flex;flex-wrap:wrap}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]{width:50%;height:118px;padding:5px}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]   .gif-item[_ngcontent-%COMP%]{border-radius:6px;width:100%;height:100%;cursor:pointer;transition:transform 60ms ease-out 60ms}.loader-wrapper[_ngcontent-%COMP%]{margin:0 auto}"]}),rp=We([oi()],rp);const YCe=["input"];function zCe(n,t){if(1&n){const e=dt();x(0,"div",11),Ce("click",function(){it(e);const r=ee();return r.showToolModal(r.chatInputTools.emoji)}),R()}}function $Ce(n,t){if(1&n){const e=dt();x(0,"div",12),Ce("click",function(){it(e);const r=ee();return r.showToolModal(r.chatInputTools.gif)}),R()}}function XCe(n,t){if(1&n){const e=dt();x(0,"div",13),Ce("click",function(){it(e);const r=ee();return r.showToolModal(r.chatInputTools.rain)}),ve(1,"div",14),x(2,"div",15),H(3,"shared.rain"),R()()}}function qCe(n,t){if(1&n){const e=dt();x(0,"app-chat-input-tool-emoji",16),Ce("finish",function(r){return it(e),ee().onCloseToolModal(r,"emoji")}),R()}}function KCe(n,t){if(1&n){const e=dt();x(0,"app-chat-input-tool-rain",16),Ce("finish",function(r){return it(e),ee().onCloseToolModal(r,"rain")}),R()}}function JCe(n,t){if(1&n){const e=dt();x(0,"app-chat-input-tool-gif",16),Ce("finish",function(r){return it(e),ee().onCloseToolModal(r,"gif")}),R()}}function QCe(n,t){if(1&n){const e=dt();x(0,"div",17)(1,"div",18)(2,"div",19),Ce("animationend",function(){return it(e),ee().onWaitEnd()}),R()(),x(3,"p",20),H(4,"game.chat-widget.chat-input.please wait"),R()()}if(2&n){const e=ee();A(2),Nl("animation-duration",e.app.config.chat.sendMessageDelay,"ms")}}let op=class{constructor(t,e,i,r,o){this.chatService=t,this.app=e,this.mainService=i,this.cd=r,this.connector=o,this.message="",this.wait=!1,this.chatInputTools=Jh,this.toolModal=null}ngOnInit(){this.value="",Ti(this.inputRef.nativeElement,"input").pipe(Js(50),gt(this)).subscribe(()=>{this.cd.detectChanges()}),Ti(this.inputRef.nativeElement,"keydown").pipe(Lt(t=>13===t.which),gt(this)).subscribe(t=>{t.preventDefault(),this.sendMessage(),this.cd.detectChanges()}),this.chatService.onTagUser.pipe(gt(this)).subscribe(t=>{this.addToInput(t),this.cd.detectChanges()})}addToInput(t,e=!1){t.length<=this.leftLength&&(this.value=e?t:`${this.value?this.value:""}${t}`)}onClickSend(){this.sendMessage()}get isValid(){const t=this.value.length;return t>=1&&t<=this.app.config.chat.maxMessageLength}sendMessage(){const t=function ZCe(n){return n.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}(this.value);""===t||" "===t||!this.isValid||(this.value="",this.wait=!0,this.connector.request(Fi.AddChatMessage,{message:t}),this.showToolModal(null),setTimeout(()=>{this.inputRef.nativeElement.blur()}))}onCloseToolModal(t,e){void 0!==t?!1===this.wait&&("gif"===e?(this.addToInput(t.str),this.sendMessage()):"emoji"===e?this.addToInput(t.str):"rain"===e&&(this.addToInput(t.str,!0),this.showToolModal(null))):this.showToolModal(null)}showToolModal(t=null){this.toolModal!==t||null===this.toolModal?this.toolModal=t:this.onCloseToolModal()}onWaitEnd(){this.wait=!1,setTimeout(()=>{this.inputRef.nativeElement.focus()})}get isEmojiShown(){return this.toolModal===Jh.emoji}get isRainShown(){return this.toolModal===Jh.rain}get isGifShown(){return this.toolModal===Jh.gif}get leftLength(){return this.app.config.chat.maxMessageLength-(this.value?this.value.length:0)}get value(){return this.inputRef.nativeElement.value}set value(t){this.inputRef.nativeElement.value=t}};op.\u0275fac=function(t){return new(t||op)(X(Qs),X(en),X(Ui),X(Tn),X(ki))},op.\u0275cmp=et({type:op,selectors:[["app-chat-input"]],viewQuery:function(t,e){if(1&t&&mo(YCe,7),2&t){let i;Hn(i=Vn())&&(e.inputRef=i.first)}},decls:15,vars:13,consts:[[1,"input-message"],["required","","minlength","1",1,"scroll-y",3,"placeholder"],["input",""],[1,"tools"],["class","smiles",3,"click",4,"ngIf"],["class","gif",3,"click",4,"ngIf"],["class","rain-wrapper",3,"click",4,"ngIf"],[1,"left-length"],[1,"enter",3,"disabled","click"],[3,"finish",4,"ngIf"],["class","chat-input-overlay",4,"ngIf"],[1,"smiles",3,"click"],[1,"gif",3,"click"],[1,"rain-wrapper",3,"click"],[1,"i-rain"],["translate","",1,"text"],[3,"finish"],[1,"chat-input-overlay"],[1,"time-left-loading"],[1,"time-left-loading-thumb",3,"animationend"],["translate",""]],template:function(t,e){1&t&&(x(0,"div",0),ve(1,"textarea",1,2),ce(3,"translate"),x(4,"div",3),Z(5,zCe,1,0,"div",4),Z(6,$Ce,1,0,"div",5),Z(7,XCe,4,0,"div",6),x(8,"div",7),H(9),R()(),x(10,"button",8),Ce("click",function(){return e.onClickSend()}),R(),Z(11,qCe,1,0,"app-chat-input-tool-emoji",9),Z(12,KCe,1,0,"app-chat-input-tool-rain",9),Z(13,JCe,1,0,"app-chat-input-tool-gif",9),Z(14,QCe,5,2,"div",10),R()),2&t&&(A(1),iu("placeholder",pe(3,11,"shared.reply")),Zn("maxlength",e.app.config.chat.maxMessageLength),A(4),V("ngIf",e.app.isDesktop),A(1),V("ngIf",e.app.config.chat.isGifsEnabled),A(1),V("ngIf",e.app.config.chat.rain.isEnabled),A(2),yt(e.leftLength),A(1),V("disabled",!e.isValid),A(1),V("ngIf",e.isEmojiShown),A(1),V("ngIf",e.isRainShown),A(1),V("ngIf",e.isGifShown),A(1),V("ngIf",e.wait))},directives:[Ht,Gn,BCe,LCe,rp],pipes:[dn],styles:["[_nghost-%COMP%]{width:inherit}.input-message[_ngcontent-%COMP%]{margin:0 auto;height:67px;position:relative;z-index:110;background-color:#000;border-top:1px solid #2a2b2e}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin:7px 0 0 12px;border:0;resize:none;width:calc(100% - 50px);display:block;height:34px;font-size:13px;color:#fff;line-height:1;background:unset;position:relative;overflow:hidden}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{width:calc(100% - 20px);position:absolute;bottom:5px;left:14px;color:#747474;display:flex;align-items:flex-end;font-size:13px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:active{transform:translateY(1px)}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]{width:14px;height:14px;background:url(smiley.61b61a0d20c01820.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]:hover{background:url(smiley-h.287177b586f9403b.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]{width:25px;height:14px;margin-left:5px;background:url(gif.a404393bc863f822.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]:hover{background:url(gif-h.8389ecc5920019db.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]{margin-left:10px;display:flex;align-items:flex-end;justify-content:center;cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .i-rain[_ngcontent-%COMP%]{background:url(rain-h.aa4937bd9df8c5d2.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#fff}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .i-rain[_ngcontent-%COMP%]{background:url(rain.3c852ab3a33c94b6.svg) no-repeat center center/contain;width:10px;height:14px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:2px;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]{margin-left:auto;margin-right:5px;cursor:auto;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]:active{transform:unset}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);border:none;background:url(enter.4543428ce422345d.svg) no-repeat;background-size:contain;height:16px;padding:0;width:11px;cursor:pointer}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:active{transform:translateY(calc(-50% + 1px))}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:disabled{opacity:.3}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px 4px 0 0;background:rgba(0,0,0,.2);display:flex;justify-content:center;align-items:center;flex-direction:column}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]{height:6px;width:160px;border:1px solid #b0bbc8;border-radius:4px;overflow:hidden;opacity:.5}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]   .time-left-loading-thumb[_ngcontent-%COMP%]{height:6px;width:160px;border-radius:2px;background:#b0bbc8;transform:translate(-160px);-webkit-animation:chat-input-loading;animation:chat-input-loading;-webkit-animation-timing-function:linear;animation-timing-function:linear}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#b0bbc8}@-webkit-keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}@keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}"],changeDetection:0}),op=We([oi()],op);const eTe=["container"];function tTe(n,t){1&n&&ve(0,"app-chat-message",5),2&n&&V("message",t.$implicit)}function nTe(n,t){if(1&n){const e=dt();x(0,"div",6),Ce("click",function(){return it(e),ee().onScrollToBottom()}),H(1," game.chat-widget.New messages "),ve(2,"span",7),R()}}let sp=class{constructor(t,e,i,r,o,s){this.connector=t,this.app=e,this.zone=i,this.chat=r,this.messageService=o,this.cd=s,this.newMessagesAdded=!1}ngOnInit(){this.scrollNativeElement=this.containerRef.nativeElement,this.connector.response(pn.AddChatMessage,200).pipe(gt(this)).subscribe(t=>this.onReceiveMessage(t)),this.connector.response(pn.AddChatMessages,200).pipe(gt(this)).subscribe(t=>this.onAddChatMessages(t)),this.connector.response(pn.DeleteChatMessage,200).pipe(gt(this)).subscribe(t=>this.onDeleteMessage(t.messageIdList)),this.chat.isOpen$.pipe(Lt(t=>!0===t),gt(this)).subscribe(()=>this.scrollToBottom()),Ti(document.fonts,"loadingdone").pipe(gt(this)).subscribe(()=>this.scrollToBottom())}ngAfterViewInit(){this.scrollToBottom(100),Ti(this.scrollNativeElement,"scroll").pipe(WR(300),Lt(()=>this.isScrollAtBottom&&this.newMessagesAdded),gt(this)).subscribe(()=>{this.newMessagesAdded=!1,this.cd.detectChanges()})}onReceiveMessage(t){this.chat.messages.push(t.message),this.chat.messages.length>this.app.config.chat.maxMessages&&this.chat.messages.shift(),this.keepUpScroll(),this.cd.detectChanges(),!1===this.chat.isOpen&&"rain"===t.message.messageType&&this.notifyAboutRain()}keepUpScroll(){this.isScrollAtBottom?(this.newMessagesAdded=!1,this.scrollToBottom()):this.newMessagesAdded=!0}notifyAboutRain(){this.messageService.add({value:"rain-has-been-dropped",lifeTime:1e3,context:Xi.success,callback:()=>{setTimeout(()=>{this.chat.isOpen=!0},300)}})}onAddChatMessages(t){const e=t.messages.some(i=>"rain"===i.messageType);this.chat.messages.push(...t.messages),this.chat.messages=this.chat.messages.slice(-this.app.config.chat.maxMessages),this.keepUpScroll(),this.cd.detectChanges(),!1===this.chat.isOpen&&e&&this.notifyAboutRain()}onDeleteMessage(t){this.chat.messages=this.chat.messages.filter(e=>!t.includes(e.messageId)),this.cd.detectChanges()}onScrollToBottom(){this.newMessagesAdded=!1,this.scrollToBottom()}get isScrollAtBottom(){return Math.abs(this.scrollNativeElement.scrollHeight-this.scrollNativeElement.clientHeight-this.scrollNativeElement.scrollTop)<=1}scrollToBottom(t=0){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollNativeElement.scrollTop=this.scrollNativeElement.scrollHeight},t)})}};function iTe(n,t){if(1&n&&(x(0,"div",14),ve(1,"app-engagement-tool",15),R()),2&n){const e=ee();A(1),V("engagementTools",e.app.config.engagementTools)("gameIdentifier",e.gameIdentifier)}}function rTe(n,t){if(1&n&&ve(0,"app-new-chat",16),2&n){const e=ee();V("chatHost",null==e.app.config.newChat?null:e.app.config.newChat.host)("gameIdentifier",e.gameIdentifier)}}function oTe(n,t){1&n&&ve(0,"app-chat-widget")}function sTe(n,t){1&n&&Z(0,oTe,1,0,"app-chat-widget",17),2&n&&V("ngIf",ee().app.config.chat.isEnabled)}sp.\u0275fac=function(t){return new(t||sp)(X(ki),X(en),X(Wn),X(Qs),X(Aa),X(Tn))},sp.\u0275cmp=et({type:sp,selectors:[["app-chat-widget"]],viewQuery:function(t,e){if(1&t&&mo(eTe,7),2&t){let i;Hn(i=Vn())&&(e.containerRef=i.first)}},decls:7,vars:2,consts:[[1,"wrapper"],[1,"messages-container","scroll-y"],["container",""],[3,"message",4,"ngFor","ngForOf"],["class","notification","translate","",3,"click",4,"ngIf"],[3,"message"],["translate","",1,"notification",3,"click"],[1,"i-arrow"]],template:function(t,e){1&t&&(x(0,"div",0),ve(1,"app-chat-header"),x(2,"div",1,2),Z(4,tTe,1,1,"app-chat-message",3),R(),ve(5,"app-chat-input"),Z(6,nTe,3,0,"div",4),R()),2&t&&(A(4),V("ngForOf",e.chat.messages),A(2),V("ngIf",e.newMessagesAdded))},directives:[FSe,vi,OCe,op,Ht,Gn],styles:['.wrapper[_ngcontent-%COMP%]{width:100%;bottom:0;border-radius:0;background:#000033;color:#fff;margin:0 auto;height:100%;position:relative;display:flex;flex-direction:column;align-items:center}.wrapper[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:100%;height:14px;left:0;top:var(--headerHeight);z-index:999;color:#0f0f11;background-image:linear-gradient(-180deg,rgba(0,0,0,.5) 0%,rgba(0,0,0,0) 100%)}.wrapper[_ngcontent-%COMP%]   .modal-back[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(22,29,54,.8);position:absolute;bottom:0;left:0;z-index:101}.wrapper[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]{height:calc(100% - 96px);width:100%;max-width:360px;margin:0;position:relative;padding-top:10px;z-index:100;font-size:13px;line-height:13px;overflow-x:hidden}.wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{position:absolute;z-index:109;cursor:pointer;left:50%;bottom:85px;transform:translate(-50%);height:26px;border-radius:15px;border:1px solid #767b85;background:rgba(98,102,113,.65);color:#fff;font-size:12px;line-height:12px;width:200px;display:flex;justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .i-arrow[_ngcontent-%COMP%]{display:block;background-image:url(chat-arrow.f617bc9716ca6276.svg);margin-right:3px;border:none;width:12px;height:10px;background-repeat:no-repeat;background-position:center;background-size:contain}'],changeDetection:0}),sp=We([oi()],sp);let ap=class{constructor(t,e,i,r,o,s,a,l,c,u,y){this.chat=t,this.freeBets=e,this.app=i,this.window=r,this.renderer=o,this.ifc=s,this.connector=a,this.modal=l,this.betControls=c,this.main=u,this.cd=y,this.gameIdentifier="AVIATOR",this.isOpenChat=!1}ngOnInit(){this.chat.isOpen$.pipe(gt(this)).subscribe(t=>{this.isOpenChat=t,this.checkBodyScroll(),this.cd.detectChanges()}),this.window.onResize$.pipe(gt(this)).subscribe(()=>{this.checkBodyScroll(),this.cd.detectChanges()}),this.ifc.command(Lr.UpdateBalance).pipe(gt(this)).subscribe(()=>this.connector.request(Fi.UpdateBalance,null)),this.ifc.command(Lr.ContinueInternalRealityCheck).pipe(gt(this)).subscribe(()=>this.sendNotificationCallback(pf.Continue)),this.ifc.command(Lr.StopInternalRealityCheck).pipe(gt(this)).subscribe(()=>this.sendNotificationCallback(pf.Stop)),this.connector.response(pn.InternalRealityCheck).pipe(gt(this)).subscribe(t=>this.onInternalRealityCheck(t)),this.betControls.betSetted$.pipe(gt(this),Lt(()=>this.app.config.isActiveGameFocused)).subscribe(t=>this.onBetSetted(t)),this.main.getState(ir.Bet).pipe(gt(this)).subscribe(()=>this.ifc.emitEvent(Ai.StartBetTimer)),this.main.getState(ir.End).pipe(gt(this)).subscribe(()=>this.ifc.emitEvent(Ai.EndRound)),this.showInitModals(),this.app.setGameInited()}sendNotificationCallback(t){this.connector.request(Fi.NotificationCallback,{notificationType:t0.RealityCheck,action:t})}checkBodyScroll(){this.isGameWrap?this.renderer.addClass(document.body,"body-scroll-y"):this.renderer.removeClass(document.body,"body-scroll-y")}get isGameWrap(){return!(this.window.getSize().width<Su.lg||this.window.getSize().width>=Su.xl1300)&&this.isOpenChat}onInternalRealityCheck(t){this.ifc.emitEvent(Ai.InternalRealityCheck,{code:t.code,errorMessage:t.errorMessage,message:t.message}),this.app.isIrcDisplayModal&&this.modal.open(si.notification,{type:uu.InternalRealityCheck,message:t.message})}onBetSetted(t){t?this.renderer.addClass(document.body,"game-focused"):this.renderer.removeClass(document.body,"game-focused")}showInitModals(){!this.app.isGameInited&&this.app.config.isAlderneyModalShownOnInit&&this.modal.open(si.notification,{type:uu.Alderney})}};function aTe(n,t){if(1&n&&(ft(0),x(1,"h4",5),H(2),R(),x(3,"p",6),H(4),R(),pt()),2&n){const e=ee(2);A(2),yt(e.message.heading),A(2),me(" shared.ui-components.toastr.toastr-message.",e.message.value," ")}}function lTe(n,t){if(1&n&&(x(0,"p",9),H(1),R()),2&n){const e=ee(3);A(1),me(" ",e.getTranslation(e.message.value,e.message.errorMessageParams)," ")}}function cTe(n,t){if(1&n){const e=dt();x(0,"p",10),Ce("click",function(r){return it(e),ee(3).onMessageClick(r)}),H(1),R()}if(2&n){const e=ee(3);A(1),me(" ",e.getTranslation(e.message.value)," ")}}function uTe(n,t){if(1&n&&(ft(0),Z(1,lTe,2,1,"p",7),Z(2,cTe,2,1,"p",8),pt()),2&n){const e=ee(2);A(1),V("ngIf",!e.message.callback),A(1),V("ngIf",e.message.callback)}}function hTe(n,t){if(1&n){const e=dt();x(0,"button",11),Ce("click",function(r){return it(e),ee(2).onCloseIconClick(r)}),x(1,"span"),H(2,"\xd7"),R()()}}function dTe(n,t){if(1&n){const e=dt();x(0,"div",2),Ce("mouseenter",function(){return it(e),ee().onMouseEnter()})("mouseleave",function(){return it(e),ee().onMouseLeave()}),Z(1,aTe,5,2,"ng-container",3),Z(2,uTe,3,2,"ng-container",3),Z(3,hTe,3,0,"button",4),R()}if(2&n){const e=ee();vt("alert-dismissible",e.isClosable),V("@messageState",void 0)("ngClass",e.context),A(1),V("ngIf",e.message.heading),A(1),V("ngIf",!e.message.heading),A(1),V("ngIf",e.isClosable)}}function fTe(n,t){if(1&n&&(ft(0),x(1,"div",18),H(2),ce(3,"translate"),R(),x(4,"div",17),H(5),ce(6,"number"),R(),pt()),2&n){const e=ee(2);A(2),me(" ",pe(3,2,"shared.ui-components.toastr.toastr-message.You have cashed out!")," "),A(3),me(" ",tn(6,4,e.message.params.multiplier,"1.2-2"),"x ")}}function pTe(n,t){1&n&&(ft(0),x(1,"div",18),H(2),ce(3,"translate"),R(),pt()),2&n&&(A(2),me(" ",pe(3,1,"shared.ui-components.toastr.toastr-message.You have reached the Maximum Win amount!")," "))}function gTe(n,t){if(1&n){const e=dt();x(0,"div",12),Ce("mouseenter",function(){return it(e),ee().onMouseEnter()})("mouseleave",function(){return it(e),ee().onMouseLeave()}),x(1,"div",13),Z(2,fTe,7,7,"ng-container",3),Z(3,pTe,4,3,"ng-container",3),R(),x(4,"div",14)(5,"div",15)(6,"span",6),H(7,"shared.win"),R(),x(8,"span",16),H(9),R()(),x(10,"div",17)(11,"span"),H(12),ce(13,"currencyPrecision"),R()()(),x(14,"button",11),Ce("click",function(r){return it(e),ee().onCloseIconClick(r)}),x(15,"span"),H(16,"\xd7"),R()()()}if(2&n){const e=ee();vt("celebrated",e.isWinCelebrated),V("@messageState",void 0),A(2),V("ngIf",!e.message.params.isMaxWinAutoCashOut),A(1),V("ngIf",e.message.params.isMaxWinAutoCashOut),A(1),vt("celebrated",e.isWinCelebrated),A(5),me(" ",e.message.params.currency,""),A(3),yt(pe(13,9,e.message.params.winAmount))}}function _Te(n,t){}ap.\u0275fac=function(t){return new(t||ap)(X(Qs),X(Ic),X(en),X(Vv),X(Ms),X(Eu),X(ki),X(Is),X(Dc),X(Ui),X(Tn))},ap.\u0275cmp=et({type:ap,selectors:[["app-game"]],decls:22,vars:15,consts:[[1,"main-wrapper"],[1,"main-container"],[1,"main-header"],[1,"w-100","h-100"],[1,"game-container"],[1,"info-board","pt-2"],[1,"game-play"],["class","missions-holder my-1",4,"ngIf"],[1,"result-history","disabled-on-game-focused","my-2"],[1,"stage-board"],[1,"bet-controls"],[1,"chat-bar"],[3,"chatHost","gameIdentifier",4,"ngIf","ngIfElse"],["oldChat",""],[1,"missions-holder","my-1"],[3,"engagementTools","gameIdentifier"],[3,"chatHost","gameIdentifier"],[4,"ngIf"]],template:function(t,e){if(1&t&&(x(0,"div",0)(1,"div",1)(2,"div",2),ve(3,"app-header"),R(),x(4,"div",3)(5,"div",4)(6,"div",5),ve(7,"app-bets-widget")(8,"app-spribe-footer"),R(),x(9,"div",6),Z(10,iTe,2,2,"div",7),x(11,"div",8),ve(12,"app-stats-widget"),R(),x(13,"div",9),ve(14,"app-free-bet")(15,"app-play-board"),R(),x(16,"div",10),ve(17,"app-bet-controls"),R()()()()(),x(18,"div",11),Z(19,rTe,1,2,"app-new-chat",12),Z(20,sTe,1,1,"ng-template",null,13,Ea),R()()),2&t){const i=go(21);Nl("--headerHeight","38px"),vt("hide-chat-bar",!e.isOpenChat),A(1),Nl("--headerHeightDynamic",e.app.config.hideHeader?0:"var(--headerHeight)"),vt("h-100",e.app.useInnerScroll),A(3),vt("--scrollable",e.app.useInnerScroll),A(1),vt("game-wrap",e.isGameWrap),A(5),V("ngIf",null==e.app.config.engagementTools?null:e.app.config.engagementTools.host),A(9),V("ngIf",null==e.app.config.newChat?null:e.app.config.newChat.host)("ngIfElse",i)}},directives:[vf,Ave,Rve,Ht,Hf,Vf,Wf,Yf,Xf,ep,sp],styles:[".main-wrapper[_ngcontent-%COMP%]{position:relative;background:#4e000e;height: 530px !important;}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{position:relative;width:calc(100% - 280px);padding-top:var(--headerHeightDynamic);height: 500px !important;background:#4e000e}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]{height:var(--headerHeightDynamic);position:fixed;background:#0e9e0e;width:inherit;top:0;left:0;z-index:840}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]{width:100%;display:flex;background:#3311f3;flex-direction:row}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .info-board[_ngcontent-%COMP%]{height:100%;flex-grow:0;flex-shrink:0;width:100%;padding-left:10px;display:flex;flex-direction:column}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:space-between;overflow-y:hidden;padding:0 10px 10px}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .result-history[_ngcontent-%COMP%]{min-height:22px;max-height:22px;display:flex;justify-content:center;align-items:flex-end;}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .stage-board[_ngcontent-%COMP%]{height:100%;position:relative}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .bet-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-shrink:0;padding-top:10px}.main-wrapper[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{position:fixed;width:280px;height:100%;top:0;right:0;bottom:0;z-index:850}.main-wrapper.hide-chat-bar[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{width:100%!important}.main-wrapper.hide-chat-bar[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{visibility:hidden;top:0;right:0;z-index:9}@media (max-width: 991.98px){.main-container[_ngcontent-%COMP%]:not(.h-100){height:auto!important}.game-container[_ngcontent-%COMP%]{flex-direction:column-reverse!important;padding-left:5px!important;padding-right:5px!important;background:#000022!important;height:520px!important}.info-board[_ngcontent-%COMP%]{height:100px!important;padding-left:0!important;padding-top:20px!important}.game-play[_ngcontent-%COMP%]{padding:0!important}.stage-board[_ngcontent-%COMP%]{height:calc(40vh - var(--headerHeightDynamic))!important;min-height:200px!important}.bet-controls[_ngcontent-%COMP%]{padding-top:5px!important}}@media (min-width: 992px){.info-board[_ngcontent-%COMP%]{min-width:320px!important;max-width:320px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 320px)!important}}@media (min-width: 1200px){.info-board[_ngcontent-%COMP%]{min-width:370px!important;max-width:370px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 370px)!important}}@media (min-width: 1399.98px){.main-container[_ngcontent-%COMP%]{width:calc(100% - 320px)!important}.chat-bar[_ngcontent-%COMP%]{width:320px!important}.info-board[_ngcontent-%COMP%]{min-width:410px!important;max-width:410px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 410px)!important}}@media (max-width: 767.98px){.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{width:100%!important}.main-wrapper[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{position:fixed!important;width:100%;top:0;height:100%}}.--scrollable[_ngcontent-%COMP%]{overflow-y:auto;-webkit-overflow-scrolling:touch}.game-wrap.game-container[_ngcontent-%COMP%]{flex-direction:column-reverse!important;padding-left:10px!important;padding-right:10px!important;}.game-wrap[_ngcontent-%COMP%]   .info-board[_ngcontent-%COMP%]{height:80vh!important;padding-left:0!important;padding-top:20px!important;min-width:100%!important;max-width:100%!important}.game-wrap[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]{padding:0!important;width:100%!important}.game-wrap[_ngcontent-%COMP%]   .stage-board[_ngcontent-%COMP%]{height:calc(40vh - var(--headerHeightDynamic))!important;min-height:200px!important}"],changeDetection:0}),ap=We([oi()],ap);let mTe=(()=>{class n{constructor(e,i){this.translate=e,this.betControls=i,this.closeMessage=new Yt,this.BsMessageTemplate=Tg}getTranslation(e,i){return this.translate.instant(`shared.ui-components.toastr.toastr-message.${e}`,{amount:null==i?void 0:i.amount,duration:null==i?void 0:i.duration,minBalance:null==i?void 0:i.minBalance,currency:null==i?void 0:i.currency})||e}ngAfterViewInit(){this.initTimeout()}get template(){return this.message.template?this.message.template:Tg.alert}get context(){return this.message.context?this.message.context:Xi.primary}get isClosable(){return!1!==this.message.closable}get isWinCelebrated(){return this.betControls.isWinCelebrated(this.message.params.winAmount,this.message.params.betAmount)}initTimeout(){this.timeoutRef=setTimeout(()=>{this.closeMessage.emit(this.index)},500)}clearTimeout(){clearTimeout(this.timeoutRef),this.timeoutRef=null}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){e.preventDefault(),this.clearTimeout(),this.closeMessage.emit(this.index)}onMessageClick(e){this.message.callback(),this.onCloseIconClick(e)}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(e){return new(e||n)(X(Sh),X(Dc))},n.\u0275cmp=et({type:n,selectors:[["app-bs-message-item"]],inputs:{message:"message",index:"index"},outputs:{closeMessage:"closeMessage"},decls:4,vars:4,consts:[[3,"ngSwitch"],[3,"ngSwitchCase"],[1,"alert",3,"ngClass","mouseenter","mouseleave"],[4,"ngIf"],["type","button","class","close",3,"click",4,"ngIf"],["translate","",1,"alert-heading"],["translate",""],["class","m-0",4,"ngIf"],["class","m-0","style","cursor: pointer",3,"click",4,"ngIf"],[1,"m-0"],[1,"m-0",2,"cursor","pointer",3,"click"],["type","button",1,"close",3,"click"],[1,"alert-win",3,"mouseenter","mouseleave"],[1,"multiplier"],[1,"win"],["translate","",1,"label","no-wrap"],[1,"currency"],[1,"value"],[1,"label"]],template:function(e,i){1&e&&(ft(0,0),Z(1,dTe,4,7,"ng-template",1),Z(2,gTe,17,11,"ng-template",1),Z(3,_Te,0,0,"ng-template",1),pt()),2&e&&(V("ngSwitch",i.template),A(1),V("ngSwitchCase",i.BsMessageTemplate.alert),A(1),V("ngSwitchCase",i.BsMessageTemplate.win),A(1),V("ngSwitchCase",i.BsMessageTemplate.toast))},directives:[Go,ws,Ul,Ht,Gn],pipes:[dn,gg,Gr],styles:['.alert-win[_ngcontent-%COMP%]{position:relative;justify-content:space-around;border-radius:26px;background-color:#383a3e;text-align:center;display:flex;height:56px;align-items:center;padding-top:5px;padding-bottom:5px;margin-bottom:1rem;box-shadow:0 0 8px #0000004d;border:1px solid #2c2d30}.alert-win.celebrated[_ngcontent-%COMP%]{background-color:#123405;border:1px solid #427f00}.alert-win[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0 8px;color:#d2d2d2}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;height:100%;padding:0 10px}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#9ea0a3}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:20px;line-height:20px;display:flex;justify-content:center;margin-top:3px}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{font-weight:700;border-radius:23px;background-color:#2c2d30;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;min-width:120px;margin-left:auto;height:100%;flex-direction:column}.alert-win[_ngcontent-%COMP%]   .win.celebrated[_ngcontent-%COMP%]{background-color:#4eaf11;width:100%;padding:0 26px}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]:after{content:" ";position:absolute;background:url(win-icon.a82d20d3a52bbad1.svg) no-repeat;width:31px;height:31px;right:0;opacity:.5}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]:before{content:" ";position:absolute;background:url(win-icon-copy.6a5624ab52d781bc.svg) no-repeat;width:31px;height:31px;left:0;opacity:.5}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;line-height:14px;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:2}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .no-wrap[_ngcontent-%COMP%]{white-space:nowrap}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:2px;min-width:60px;display:flex;justify-content:center;align-items:center;height:16px;font-size:20px;line-height:20px;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:2}'],data:{animation:[LR("messageState",[t1e("visible",oc({transform:"translateY(0)",opacity:1})),B0("void => *",[oc({transform:"translateY(100%)",opacity:0}),F_("300ms ease-out")]),B0("* => void",[F_("250ms ease-in",oc({height:0,opacity:0,transform:"translateY(-100%)"}))])])]},changeDetection:0}),n})();function vTe(n,t){if(1&n){const e=dt();x(0,"app-bs-message-item",2),Ce("closeMessage",function(r){return it(e),ee().onMessageClose(r)}),R()}if(2&n){const i=t.index;V("message",t.$implicit)("index",i)("@messageAnimation",void 0)}}let lp=class{constructor(t,e,i){this.message=t,this.app=e,this.cd=i}ngOnInit(){this.message.message$.pipe(gt(this)).subscribe(t=>{if(t)if(t instanceof Array){let e=t.filter(i=>this.key===i.key);this.messages=this.messages?[...this.messages,...e]:[...e],this.cd.detectChanges()}else this.key===t.key&&(this.messages=this.messages?[...this.messages,t]:[t],this.cd.detectChanges())}),this.message.clear$.pipe(gt(this)).subscribe(t=>{t?this.key===t&&(this.messages=null,this.cd.detectChanges()):(this.messages=null,this.cd.detectChanges())})}onMessageClose(t){this.messages.splice(t,1)}};function yTe(n,t){1&n&&(x(0,"div",3),H(1," shared.components.connector.reconnect "),R())}function bTe(n,t){1&n&&(x(0,"div",3),H(1," shared.components.connector.slow connection "),R())}function ETe(n,t){if(1&n&&(x(0,"div",1),Z(1,yTe,2,0,"div",2),Z(2,bTe,2,0,"div",2),R()),2&n){const e=ee();V("@messageState",void 0),A(1),V("ngIf",e.reconnect),A(1),V("ngIf",e.connectionSlow)}}lp.\u0275fac=function(t){return new(t||lp)(X(Aa),X(en),X(Tn))},lp.\u0275cmp=et({type:lp,selectors:[["app-bs-message"]],inputs:{key:"key"},decls:2,vars:1,consts:[[1,"bs-message","top-center"],[3,"message","index","closeMessage",4,"ngFor","ngForOf"],[3,"message","index","closeMessage"]],template:function(t,e){1&t&&(x(0,"div",0),Z(1,vTe,1,3,"app-bs-message-item",1),R()),2&t&&(A(1),V("ngForOf",e.messages))},directives:[vi,mTe],styles:[".bs-message[_ngcontent-%COMP%]{position:fixed;width:300px;overflow:hidden;z-index:2000}.bs-message.top-center[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);top:10px}.bs-message.top-left[_ngcontent-%COMP%]{left:10px;top:10px}.bs-message.center-center[_ngcontent-%COMP%]{left:50%;top:50%;transform:translate(-50%,-50%)}.bs-message.bottom-center[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);bottom:10px}"],data:{animation:[LR("messageAnimation",[B0(":enter, :leave",[function i1e(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}("@*",function n1e(n=null){return{type:9,options:n}}())])])]},changeDetection:0}),lp=We([oi()],lp);let cp=class{constructor(t,e){this.connector=t,this.cd=e,this.state=null}ngOnInit(){this.connector.display.pipe(gt(this)).subscribe(({state:t})=>{this.state!==t&&(this.state=t,this.cd.detectChanges())})}get reconnect(){return null!==this.state&&this.state===yi.reconnect}get connectionSlow(){return null!==this.state&&this.state===yi.connectionSlow}};cp.\u0275fac=function(t){return new(t||cp)(X(ki),X(Tn))},cp.\u0275cmp=et({type:cp,selectors:[["app-connector"]],decls:1,vars:1,consts:[["class","connector",4,"ngIf"],[1,"connector"],["class","alert alert-warning","translate","",4,"ngIf"],["translate","",1,"alert","alert-warning"]],template:function(t,e){1&t&&Z(0,ETe,3,3,"div",0),2&t&&V("ngIf",e.state)},directives:[Ht,Gn],styles:[".connector[_ngcontent-%COMP%]{position:fixed;z-index:99999;top:20px;left:50%;transform:translate(-50%)}.connector[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{width:300px}"],data:{animation:[LR("messageState",[B0("void => *",[oc({transform:"translate(-50%,-100%)",opacity:0}),F_("300ms ease-out")]),B0("* => void",[F_("250ms ease-in",oc({opacity:0,transform:"translate(-50%,-100%)"}))])])]},changeDetection:0}),cp=We([oi()],cp);var z0=(()=>(function(n){n.Inactivity="inactivity",n.Ban="ban"}(z0||(z0={})),z0))();function STe(n,t){if(1&n){const e=dt();x(0,"a",6),Ce("click",function(){return it(e),ee(2).onBackToHome()}),H(1),ce(2,"translate"),R()}2&n&&(A(1),me(" ",pe(2,1,"shared.home")," "))}function CTe(n,t){if(1&n&&(ft(0),x(1,"div",4),H(2," shared.components.disconnect-message.text "),R(),Z(3,STe,3,3,"a",5),pt()),2&n){const e=ee();A(3),V("ngIf",e.urlParams.returnUrl)}}function TTe(n,t){1&n&&(ft(0),x(1,"div",7),H(2),ce(3,"translate"),R(),pt()),2&n&&(A(2),me("",pe(3,1,"shared.thank_you_for_playing"),"."))}let MTe=(()=>{class n{constructor(e,i,r,o){this.sound=e,this.app=i,this.ifc=r,this.urlParams=o}ngOnInit(){this.sound.stopAll(),this.ifc.emitCloseEvent(Object.assign(this.state===yi.inactivity?{reason:z0.Inactivity}:this.state===yi.ban?{reason:z0.Ban}:{},this.data))}get isShutdown(){return this.state===yi.shutdown}onBackToHome(){this.app.config&&this.app.config.backToHomeActionType===xg.IfcEvent?this.ifc.emitEvent(Ai.BackToHome,{returnUrl:this.urlParams.returnUrl}):window.open(this.urlParams.returnUrl,"_top")}}return n.\u0275fac=function(e){return new(e||n)(X(Qg),X(en),X(Eu),X(Rc))},n.\u0275cmp=et({type:n,selectors:[["app-disconnect-message"]],inputs:{state:"state",data:"data"},decls:5,vars:2,consts:[[1,"wrapper"],[1,"disconn-icon"],[1,"alert"],[4,"ngIf"],["translate","",1,"text"],["href","javascript:void(0)","target","_top","class","btn btn-warning btn-lg text-uppercase",3,"click",4,"ngIf"],["href","javascript:void(0)","target","_top",1,"btn","btn-warning","btn-lg","text-uppercase",3,"click"],[1,"text"]],template:function(e,i){1&e&&(x(0,"div",0),ve(1,"div",1),x(2,"div",2),Z(3,CTe,4,1,"ng-container",3),Z(4,TTe,4,3,"ng-container",3),R()()),2&e&&(A(3),V("ngIf",!1===i.isShutdown),A(1),V("ngIf",!0===i.isShutdown))},directives:[Ht,Gn],pipes:[dn],styles:[".wrapper[_ngcontent-%COMP%]{height:100%;max-height:500px;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .disconn-icon[_ngcontent-%COMP%]{background:url(error-page.4aa561fd98783d15.svg) no-repeat center;width:120px;height:120px;background-size:contain;margin-bottom:40px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{background-color:#1b1c1d;max-width:600px;width:100%;min-height:204px;border-radius:10px;border:1px solid #2a2b2e;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px 50px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:160px}"]}),n})();const OTe=["lockUI"];function wTe(n,t){1&n&&(ft(0),ve(1,"app-game")(2,"app-bs-message")(3,"app-connector"),pt())}function PTe(n,t){1&n&&(ft(0),x(1,"span",3),H(2),ce(3,"translate"),R(),pt()),2&n&&(A(2),yt(pe(3,1,"shared.Connection...")))}function xTe(n,t){if(1&n&&(ft(0),ve(1,"app-disconnect-message",4),pt()),2&n){const e=ee();A(1),V("data",e.disconnectData)("state",e.disconnectState)}}let ATe=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,y,O,P,I,D,B,Y,q){this.connector=e,this.app=i,this.mainService=r,this.user=o,this.cd=s,this.sound=a,this.freeBets=l,this.statsService=c,this.chatService=u,this.frontEndProxyService=y,this.ifc=O,this.renderer=P,this.scriptService=I,this.betControls=D,this.multiplierService=B,this.modalManagerService=Y,this.inactivityTimer=q,this.loaded=!1,this.cantConnect=!1,this.disconnectState=null,this.disconnectData=null}ngOnInit(){this.setup(),this.connector.init().subscribe(e=>this.onInit(e)),this.ifc.command(Lr.LockUI).subscribe(e=>this.lockUIHandler(e.value))}lockUIHandler(e){e?(this.renderer.addClass(document.body,"pointer-events-none"),this.renderer.removeClass(this.lockUIRef.nativeElement,"d-none")):(this.renderer.removeClass(document.body,"pointer-events-none"),this.renderer.addClass(this.lockUIRef.nativeElement,"d-none"))}setup(){this.modalManagerService.init(),this.renderer.setAttribute(document.body,"app-version",Pi_version),this.app.isDesktop?this.renderer.addClass(document.body,"scroll-restyle"):this.app.useInnerScroll&&(this.renderer.setStyle(document.body,"overflow-y","hidden"),this.renderer.setStyle(document.body,"min-width","100%"),this.renderer.setStyle(document.body,"width","1px")),this.connector.display.subscribe(({state:e,data:i})=>{null!==e&&(this.cantConnect=e===yi.kicked||e===yi.loginError,this.disconnectState=e===yi.kicked?yi.kicked:e===yi.loginError?yi.loginError:e===yi.shutdown?yi.shutdown:e===yi.connectionLost?yi.connectionLost:e===yi.inactivity?yi.inactivity:e===yi.ban?yi.ban:null,this.disconnectData=i||null,this.cd.detectChanges())}),!1===this.app.isDesktop&&document.addEventListener("visibilitychange",()=>{document.hidden?this.sound.stopAll():this.sound.stopAll(!1)})}onInit(e){this.loaded=!1,this.cd.detectChanges(),this.app.setConfig(e.config),this.user.init(e.user),zO()&&(this.frontEndProxyService.setup(),this.ifc.setup()),this.app.config.reCaptchaSiteKey&&this.scriptService.registerCaptchaScript(!1,this.app.config.reCaptchaSiteKey,()=>{}),this.app.config.inactivityTimeForDisconnect&&this.inactivityTimer.init(),this.statsService.history=e.roundsInfo,this.betControls.restoreBets(e.activeBets),this.freeBets.setList(e.activeFreeBetsInfo),this.chatService.init(e),this.mainService.init(e),this.multiplierService.init(e),this.loaded=!0,this.cd.detectChanges(),this.frontEndProxyService.sendInitialized(),this.ifc.emitInitEvent(e)}}return n.\u0275fac=function(e){return new(e||n)(X(ki),X(en),X(Ui),X(il),X(Tn),X(Qg),X(Ic),X(p8),X(Qs),X(cE),X(Eu),X(Ms),X($x),X(Dc),X(uE),X(z_e),X($_e))},n.\u0275cmp=et({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&mo(OTe,7),2&e){let r;Hn(r=Vn())&&(i.lockUIRef=r.first)}},decls:5,vars:3,consts:[[4,"ngIf"],[1,"lock-ui","d-none"],["lockUI",""],[1,"loading"],[3,"data","state"]],template:function(e,i){1&e&&(Z(0,wTe,4,0,"ng-container",0),Z(1,PTe,4,3,"ng-container",0),Z(2,xTe,2,2,"ng-container",0),ve(3,"div",1,2)),2&e&&(V("ngIf",i.loaded&&null===i.disconnectState),A(1),V("ngIf",!i.loaded&&null===i.disconnectState),A(1),V("ngIf",null!==i.disconnectState))},directives:[Ht,ap,lp,cp,MTe],pipes:[dn],styles:[".loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.lock-ui[_ngcontent-%COMP%]{position:fixed;background:rgba(0,0,0,.3);width:100%;height:100%;z-index:9999;top:0;left:0;pointer-events:none}"],changeDetection:0}),n})(),RTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),jS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({providers:[D0,N0]}),n})(),ITe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),lH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn]]}),n})(),DTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),NTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),kTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,DTe,NTe]]}),n})(),FTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,jS,rn,ITe,lH,kTe]]}),n})(),BTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,FTe]]}),n})(),LTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn]]}),n})(),UTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn]]}),n})(),GTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn]]}),n})(),jTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),HTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,jTe]]}),n})(),VTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,lH]]}),n})(),WTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),YTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,Mu]]}),n})(),zTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,jS]]}),n})(),Ws=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({providers:[Gr]}),n})(),$Te=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,Ws]]}),n})(),XTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,$Te,Ws]]}),n})(),qTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,Mu,XTe]]}),n})(),KTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,jS]]}),n})(),JTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,Mu]]}),n})(),QTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,Mu,HTe,GTe,VTe,WTe,YTe,zTe,qTe,KTe,JTe]]}),n})(),ZTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),eMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({}),n})(),bl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),tMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,ZTe,jS,eMe,bl]]}),n})(),nMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({providers:[RTe,k_,F0,xS,ol,Bc,AS,N0,k0],imports:[[Tt,rn,Mu,BTe,LTe,UTe,QTe,tMe]]}),n})(),$0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),zR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),Qh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,Ws]]}),n})(),cH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,SG,rn,Zs,$0,bl,zR,Qh,Ws]]}),n})(),$R=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn]]}),n})(),Wc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,zR]]}),n})(),iMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,Wc]]}),n})(),rMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,Qh,Wc,Ws]]}),n})(),oMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,qme,iMe,bl,Wc,Qh,rMe]]}),n})(),sMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,Qh,Wc,Ws]]}),n})(),aMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,bl,sMe]]}),n})(),lMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,Wc,rn]]}),n})(),cMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,Wc,rn]]}),n})(),uMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,Wc,Qh,Ws]]}),n})(),hMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,bl,lMe,cMe,uMe]]}),n})(),dMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,hMe,rn,$R,Zs]]}),n})(),fMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,$R,Zs,oMe,aMe,dMe,rn]]}),n})(),pMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,Wc,bl,rn,Mu]]}),n})(),gMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),HS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,Zs]]}),n})();const ti=!1;function uH(n){return new Gt(3e3,ti)}function qMe(){return"undefined"!=typeof window&&void 0!==window.document}function XR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Zh(n){switch(n.length){case 0:return new L0;case 1:return n[0];default:return new F7(n)}}function hH(n,t,e,i,r={},o={}){const s=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const y=u.offset,O=y==l,P=O&&c||{};Object.keys(u).forEach(I=>{let D=I,B=u[I];if("offset"!==I)switch(D=t.normalizePropertyName(D,s),B){case"!":B=r[I];break;case ju:B=o[I];break;default:B=t.normalizeStyleValue(I,D,B,s)}P[D]=B}),O||a.push(P),c=P,l=y}),s.length)throw function LMe(n){return new Gt(3502,ti)}();return a}function qR(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&KR(e,"start",n)));break;case"done":n.onDone(()=>i(e&&KR(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&KR(e,"destroy",n)))}}function KR(n,t,e){const i=e.totalTime,o=JR(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function JR(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Fa(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function dH(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let QR=(n,t)=>!1,fH=(n,t,e)=>[],pH=null;function ZR(n){const t=n.parentNode||n.host;return t===pH?null:t}(XR()||"undefined"!=typeof Element)&&(qMe()?(pH=(()=>document.documentElement)(),QR=(n,t)=>{for(;t;){if(t===n)return!0;t=ZR(t)}return!1}):QR=(n,t)=>n.contains(t),fH=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let up=null,gH=!1;function _H(n){up||(up=function JMe(){return"undefined"!=typeof document?document.body:null}()||{},gH=!!up.style&&"WebkitAppearance"in up.style);let t=!0;return up.style&&!function KMe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in up.style,!t&&gH&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in up.style)),t}const mH=QR,vH=fH;let yH=(()=>{class n{validateStyleProperty(e){return _H(e)}matchesElement(e,i){return!1}containsElement(e,i){return mH(e,i)}getParentElement(e){return ZR(e)}query(e,i,r){return vH(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new L0(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),eI=(()=>{class n{}return n.NOOP=new yH,n})();const tI="ng-enter",WS="ng-leave",YS="ng-trigger",zS=".ng-trigger",EH="ng-animating",nI=".ng-animating";function hp(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:iI(parseFloat(t[1]),t[2])}function iI(n,t){return"s"===t?1e3*n:n}function $S(n,t,e){return n.hasOwnProperty("duration")?n:function eOe(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(uH()),{duration:0,delay:0,easing:""};r=iI(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=iI(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function _Me(){return new Gt(3100,ti)}()),a=!0),o<0&&(t.push(function mMe(){return new Gt(3101,ti)}()),a=!0),a&&t.splice(l,0,uH())}return{duration:r,delay:o,easing:s}}(n,t,e)}function H_(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function ed(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else H_(n,e);return e}function CH(n,t,e){return e?t+":"+e+";":""}function TH(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=CH(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=CH(0,iOe(e),n.style[e]));n.setAttribute("style",t)}function Yc(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=oI(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),XR()&&TH(n))}function dp(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=oI(e);n.style[i]=""}),XR()&&TH(n))}function X0(n){return Array.isArray(n)?1==n.length?n[0]:N7(n):n}const rI=new RegExp("{{\\s*(.+?)\\s*}}","g");function MH(n){let t=[];if("string"==typeof n){let e;for(;e=rI.exec(n);)t.push(e[1]);rI.lastIndex=0}return t}function XS(n,t,e){const i=n.toString(),r=i.replace(rI,(o,s)=>{let a=t[s];return t.hasOwnProperty(s)||(e.push(function yMe(n){return new Gt(3003,ti)}()),a=""),a.toString()});return r==i?n:r}function qS(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const nOe=/-+([a-z0-9])/g;function oI(n){return n.replace(nOe,(...t)=>t[1].toUpperCase())}function iOe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ba(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function bMe(n){return new Gt(3004,ti)}()}}function OH(n,t){return window.getComputedStyle(n)[t]}function cOe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function uOe(n,t,e){if(":"==n[0]){const l=function hOe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function NMe(n){return new Gt(3016,ti)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function DMe(n){return new Gt(3015,ti)}()),t;const r=i[1],o=i[2],s=i[3];t.push(wH(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(wH(s,r))}(i,e,t)):e.push(n),e}const ZS=new Set(["true","1"]),eC=new Set(["false","0"]);function wH(n,t){const e=ZS.has(n)||eC.has(n),i=ZS.has(t)||eC.has(t);return(r,o)=>{let s="*"==n||n==r,a="*"==t||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?ZS.has(n):eC.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?ZS.has(t):eC.has(t)),s&&a}}const dOe=new RegExp("s*:selfs*,?","g");function sI(n,t,e,i){return new fOe(n).build(t,e,i)}class fOe{constructor(t){this._driver=t}build(t,e,i){const r=new _Oe(e);this._resetContextStyleTimingState(r);const o=Ba(this,X0(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function SMe(){return new Gt(3006,ti)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function CMe(){return new Gt(3007,ti)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{if(tC(a)){const l=a;Object.keys(l).forEach(c=>{MH(l[c]).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}}),o.size&&(qS(o.values()),e.errors.push(function TMe(n,t){return new Gt(3008,ti)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ba(this,X0(t.animation),e);return{type:1,matchers:cOe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:fp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ba(this,i,e)),options:fp(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=Ba(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:fp(t.options)}}visitAnimate(t,e){const i=function vOe(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return aI($S(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=aI(0,0,"");return o.dynamic=!0,o.strValue=i,o}return e=e||$S(i,t),aI(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:oc({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=oc(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(s=>{"string"==typeof s?s==ju?i.push(s):e.errors.push(function MMe(n){return new Gt(3002,ti)}()):i.push(s)}):i.push(t.styles);let r=!1,o=null;return i.forEach(s=>{if(tC(s)){const a=s,l=a.easing;if(l&&(o=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete s[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],c=l[a];let u=!0;c&&(o!=r&&o>=c.startTime&&r<=c.endTime&&(e.errors.push(function OMe(n,t,e,i,r){return new Gt(3010,ti)}()),u=!1),o=c.startTime),u&&(l[a]={startTime:o,endTime:r}),e.options&&function tOe(n,t,e){const i=t.params||{},r=MH(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function vMe(n){return new Gt(3001,ti)}())})}(s[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function wMe(){return new Gt(3011,ti)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(Y=>{const q=this._makeStyleAst(Y,e);let ie=null!=q.offset?q.offset:function mOe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(tC(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(tC(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(q.styles),se=0;return null!=ie&&(o++,se=q.offset=ie),l=l||se<0||se>1,a=a||se<c,c=se,s.push(se),q});l&&e.errors.push(function PMe(){return new Gt(3012,ti)}()),a&&e.errors.push(function xMe(){return new Gt(3200,ti)}());const y=t.steps.length;let O=0;o>0&&o<y?e.errors.push(function AMe(){return new Gt(3202,ti)}()):0==o&&(O=1/(y-1));const P=y-1,I=e.currentTime,D=e.currentAnimateTimings,B=D.duration;return u.forEach((Y,q)=>{const ie=O>0?q==P?1:O*q:s[q],se=ie*B;e.currentTime=I+D.delay+se,D.duration=se,this._validateStyleAst(Y,e),Y.offset=ie,i.styles.push(Y)}),i}visitReference(t,e){return{type:8,animation:Ba(this,X0(t.animation),e),options:fp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:fp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:fp(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function pOe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(dOe,"")),n=n.replace(/@\*/g,zS).replace(/@\w+/g,e=>zS+"-"+e.substr(1)).replace(/:animating/g,nI),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Fa(e.collectedStyles,e.currentQuerySelector,{});const a=Ba(this,X0(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:fp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function RMe(){return new Gt(3013,ti)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:$S(t.timings,e.errors,!0);return{type:12,animation:Ba(this,X0(t.animation),e),timings:i,options:null}}}class _Oe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function tC(n){return!Array.isArray(n)&&"object"==typeof n}function fp(n){return n?(n=H_(n)).params&&(n.params=function gOe(n){return n?H_(n):null}(n.params)):n={},n}function aI(n,t,e){return{duration:n,delay:t,easing:e}}function lI(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class nC{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const EOe=new RegExp(":enter","g"),COe=new RegExp(":leave","g");function cI(n,t,e,i,r,o={},s={},a,l,c=[]){return(new TOe).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class TOe{buildKeyframes(t,e,i,r,o,s,a,l,c,u=[]){c=c||new nC;const y=new uI(t,e,c,r,o,u,[]);y.options=l,y.currentTimeline.setStyles([s],null,y.errors,l),Ba(this,i,y);const O=y.timelines.filter(P=>P.containsAnimation());if(Object.keys(a).length){let P;for(let I=O.length-1;I>=0;I--){const D=O[I];if(D.element===e){P=D;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([a],null,y.errors,l)}return O.length?O.map(P=>P.buildKeyframes()):[lI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?hp(i.duration):null,a=null!=i.delay?hp(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ba(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=iC);const s=hp(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Ba(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?hp(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Ba(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return $S(e.params?XS(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?hp(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=iC);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const y=e.createSubContext(t.options,c);o&&y.delayNextStep(o),c===e.element&&(l=y.currentTimeline),Ba(this,t.animation,y),y.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,y.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const y=u.currentTime;Ba(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-y+(r.startTime-i.currentTimeline.startTime)}}const iC={};class uI{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=iC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new rC(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=hp(i.duration)),null!=i.delay&&(r.delay=hp(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=XS(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new uI(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=iC,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new MOe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(EOe,"."+this._enterClassName)).replace(COe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function IMe(n){return new Gt(3014,ti)}()),a}}class rC{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new rC(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ju,this._currentKeyframe[e]=ju}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},s=function OOe(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=ju})):ed(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(s).forEach(a=>{const l=XS(s[a],o,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:ju),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=ed(a,!0);Object.keys(c).forEach(u=>{const y=c[u];"!"==y?t.add(u):y==ju&&e.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const o=t.size?qS(t.values()):[],s=e.size?qS(e.values()):[];if(i){const a=r[0],l=H_(a);a.offset=0,l.offset=1,r=[a,l]}return lI(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class MOe extends rC{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=ed(t[0],!1);l.offset=0,o.push(l);const c=ed(t[0],!1);c.offset=AH(a),o.push(c);const u=t.length-1;for(let y=1;y<=u;y++){let O=ed(t[y],!1);O.offset=AH((e+O.offset*i)/s),o.push(O)}i=s,e=0,r="",t=o}return lI(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function AH(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class hI{}class wOe extends hI{normalizePropertyName(t,e){return oI(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(POe[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function EMe(n,t){return new Gt(3005,ti)}())}return s+o}}const POe=(()=>function xOe(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function RH(n,t,e,i,r,o,s,a,l,c,u,y,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:y,errors:O}}const dI={};class IH{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function AOe(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],s=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):s}build(t,e,i,r,o,s,a,l,c,u){const y=[],O=this.ast.options&&this.ast.options.params||dI,I=this.buildStyles(i,a&&a.params||dI,y),D=l&&l.params||dI,B=this.buildStyles(r,D,y),Y=new Set,q=new Map,ie=new Map,se="void"===r,re={params:Object.assign(Object.assign({},O),D)},ne=u?[]:cI(t,e,this.ast.animation,o,s,I,B,re,c,y);let Ee=0;if(ne.forEach(Se=>{Ee=Math.max(Se.duration+Se.delay,Ee)}),y.length)return RH(e,this._triggerName,i,r,se,I,B,[],[],q,ie,Ee,y);ne.forEach(Se=>{const De=Se.element,Xe=Fa(q,De,{});Se.preStyleProps.forEach(Qe=>Xe[Qe]=!0);const $e=Fa(ie,De,{});Se.postStyleProps.forEach(Qe=>$e[Qe]=!0),De!==e&&Y.add(De)});const Ne=qS(Y.values());return RH(e,this._triggerName,i,r,se,I,B,ne,Ne,q,ie,Ee)}}class ROe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=H_(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!=s&&(r[o]=s)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const s=o;Object.keys(s).forEach(a=>{let l=s[a];l.length>1&&(l=XS(l,r,e));const c=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,c,l,e),i[c]=l})}}),i}}class DOe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new ROe(r.style,r.options&&r.options.params||{},i)}),DH(this.states,"true","1"),DH(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new IH(t,r,this.states))}),this.fallbackTransition=function NOe(n,t,e){return new IH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function DH(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const kOe=new nC;class FOe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=sI(this._driver,e,i,[]);if(i.length)throw function UMe(n){return new Gt(3503,ti)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=hH(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let s;const a=new Map;if(o?(s=cI(this._driver,e,o,tI,WS,{},{},i,kOe,r),s.forEach(u=>{const y=Fa(a,u.element,{});u.postStyleProps.forEach(O=>y[O]=null)})):(r.push(function GMe(){return new Gt(3300,ti)}()),s=[]),r.length)throw function jMe(n){return new Gt(3504,ti)}();a.forEach((u,y)=>{Object.keys(u).forEach(O=>{u[O]=this._driver.computeStyle(y,O,ju)})});const c=Zh(s.map(u=>{const y=a.get(u.element);return this._buildPlayer(u,{},y)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function HMe(n){return new Gt(3301,ti)}();return e}listen(t,e,i,r){const o=JR(e,"","","");return qR(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const NH="ng-animate-queued",fI="ng-animate-disabled",jOe=[],kH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},HOe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},El="__ng_removed";class pI{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function zOe(n){return null!=n?n:null}(i?t.value:t),i){const o=H_(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const q0="void",gI=new pI(q0);class VOe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Sl(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function VMe(n,t){return new Gt(3302,ti)}();if(null==i||0==i.length)throw function WMe(n){return new Gt(3303,ti)}();if(!function $Oe(n){return"start"==n||"done"==n}(i))throw function YMe(n,t){return new Gt(3400,ti)}();const o=Fa(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=Fa(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Sl(t,YS),Sl(t,YS+"-"+e),a[e]=gI),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function zMe(n){return new Gt(3401,ti)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new _I(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Sl(t,YS),Sl(t,YS+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const c=new pI(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[e]=c,l||(l=gI),c.value!==q0&&l.value===c.value){if(!function KOe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const D=[],B=o.matchStyles(l.value,l.params,D),Y=o.matchStyles(c.value,c.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{dp(t,B),Yc(t,Y)})}return}const O=Fa(this._engine.playersByElement,t,[]);O.forEach(D=>{D.namespaceId==this.id&&D.triggerName==e&&D.queued&&D.destroy()});let P=o.matchTransition(l.value,c.value,t,c.params),I=!1;if(!P){if(!r)return;P=o.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:l,toState:c,player:s,isFallbackTransition:I}),I||(Sl(t,NH),s.onStart(()=>{V_(t,NH)})),s.onDone(()=>{let D=this.players.indexOf(s);D>=0&&this.players.splice(D,1);const B=this._engine.playersByElement.get(t);if(B){let Y=B.indexOf(s);Y>=0&&B.splice(Y,1)}}),this.players.push(s),O.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,zS,!0);i.forEach(r=>{if(r[El])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(Object.keys(o).forEach(l=>{if(s.set(l,o[l].value),this._triggers[l]){const c=this.trigger(t,l,q0,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Zh(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers[s].fallbackTransition,c=i[s]||gI,u=new pI(q0),y=new _I(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:y,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[El];(!o||o===kH)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Sl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=JR(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,qR(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class WOe{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new VOe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let s=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}}else for(let a=o;a>=0;a--)if(this.driver.containsElement(i[a].hostElement,e)){i.splice(a+1,0,t),s=!0;break}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const s=i[r[o]].namespaceId;if(s){const a=this._fetchNamespace(s);a&&e.add(a)}}}return e}trigger(t,e,i,r){if(oC(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!oC(e))return;const o=e[El];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Sl(t,fI)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),V_(t,fI))}removeNode(t,e,i,r){if(oC(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[El]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return oC(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,zS,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,nI,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Zh(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[El];if(i&&i.setForRemoval){if(t[El]=kH,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(fI))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Sl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Zh(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function $Me(n){return new Gt(3402,ti)}()}_flushAnimations(t,e){const i=new nC,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Ae=>{u.add(Ae);const Ke=this.driver.query(Ae,".ng-animate-queued",!0);for(let mt=0;mt<Ke.length;mt++)u.add(Ke[mt])});const y=this.bodyNode,O=Array.from(this.statesByElement.keys()),P=LH(O,this.collectedEnterElements),I=new Map;let D=0;P.forEach((Ae,Ke)=>{const mt=tI+D++;I.set(Ke,mt),Ae.forEach(At=>Sl(At,mt))});const B=[],Y=new Set,q=new Set;for(let Ae=0;Ae<this.collectedLeaveElements.length;Ae++){const Ke=this.collectedLeaveElements[Ae],mt=Ke[El];mt&&mt.setForRemoval&&(B.push(Ke),Y.add(Ke),mt.hasAnimation?this.driver.query(Ke,".ng-star-inserted",!0).forEach(At=>Y.add(At)):q.add(Ke))}const ie=new Map,se=LH(O,Array.from(Y));se.forEach((Ae,Ke)=>{const mt=WS+D++;ie.set(Ke,mt),Ae.forEach(At=>Sl(At,mt))}),t.push(()=>{P.forEach((Ae,Ke)=>{const mt=I.get(Ke);Ae.forEach(At=>V_(At,mt))}),se.forEach((Ae,Ke)=>{const mt=ie.get(Ke);Ae.forEach(At=>V_(At,mt))}),B.forEach(Ae=>{this.processLeaveNode(Ae)})});const re=[],ne=[];for(let Ae=this._namespaceList.length-1;Ae>=0;Ae--)this._namespaceList[Ae].drainQueuedTransitions(e).forEach(mt=>{const At=mt.player,fe=mt.element;if(re.push(At),this.collectedEnterElements.length){const Kt=fe[El];if(Kt&&Kt.setForMove){if(Kt.previousTriggersValues&&Kt.previousTriggersValues.has(mt.triggerName)){const Kn=Kt.previousTriggersValues.get(mt.triggerName),gn=this.statesByElement.get(mt.element);gn&&gn[mt.triggerName]&&(gn[mt.triggerName].value=Kn)}return void At.destroy()}}const Ct=!y||!this.driver.containsElement(y,fe),kt=ie.get(fe),Ut=I.get(fe),Rt=this._buildInstruction(mt,i,Ut,kt,Ct);if(Rt.errors&&Rt.errors.length)return void ne.push(Rt);if(Ct)return At.onStart(()=>dp(fe,Rt.fromStyles)),At.onDestroy(()=>Yc(fe,Rt.toStyles)),void r.push(At);if(mt.isFallbackTransition)return At.onStart(()=>dp(fe,Rt.fromStyles)),At.onDestroy(()=>Yc(fe,Rt.toStyles)),void r.push(At);const sn=[];Rt.timelines.forEach(Kt=>{Kt.stretchStartingKeyframe=!0,this.disabledNodes.has(Kt.element)||sn.push(Kt)}),Rt.timelines=sn,i.append(fe,Rt.timelines),s.push({instruction:Rt,player:At,element:fe}),Rt.queriedElements.forEach(Kt=>Fa(a,Kt,[]).push(At)),Rt.preStyleProps.forEach((Kt,Kn)=>{const gn=Object.keys(Kt);if(gn.length){let an=l.get(Kn);an||l.set(Kn,an=new Set),gn.forEach(Ft=>an.add(Ft))}}),Rt.postStyleProps.forEach((Kt,Kn)=>{const gn=Object.keys(Kt);let an=c.get(Kn);an||c.set(Kn,an=new Set),gn.forEach(Ft=>an.add(Ft))})});if(ne.length){const Ae=[];ne.forEach(Ke=>{Ae.push(function XMe(n,t){return new Gt(3505,ti)}())}),re.forEach(Ke=>Ke.destroy()),this.reportError(Ae)}const Ee=new Map,Ne=new Map;s.forEach(Ae=>{const Ke=Ae.element;i.has(Ke)&&(Ne.set(Ke,Ke),this._beforeAnimationBuild(Ae.player.namespaceId,Ae.instruction,Ee))}),r.forEach(Ae=>{const Ke=Ae.element;this._getPreviousPlayers(Ke,!1,Ae.namespaceId,Ae.triggerName,null).forEach(At=>{Fa(Ee,Ke,[]).push(At),At.destroy()})});const Se=B.filter(Ae=>GH(Ae,l,c)),De=new Map;BH(De,this.driver,q,c,ju).forEach(Ae=>{GH(Ae,l,c)&&Se.push(Ae)});const $e=new Map;P.forEach((Ae,Ke)=>{BH($e,this.driver,new Set(Ae),l,"!")}),Se.forEach(Ae=>{const Ke=De.get(Ae),mt=$e.get(Ae);De.set(Ae,Object.assign(Object.assign({},Ke),mt))});const Qe=[],Mt=[],Ye={};s.forEach(Ae=>{const{element:Ke,player:mt,instruction:At}=Ae;if(i.has(Ke)){if(u.has(Ke))return mt.onDestroy(()=>Yc(Ke,At.toStyles)),mt.disabled=!0,mt.overrideTotalTime(At.totalTime),void r.push(mt);let fe=Ye;if(Ne.size>1){let kt=Ke;const Ut=[];for(;kt=kt.parentNode;){const Rt=Ne.get(kt);if(Rt){fe=Rt;break}Ut.push(kt)}Ut.forEach(Rt=>Ne.set(Rt,fe))}const Ct=this._buildAnimation(mt.namespaceId,At,Ee,o,$e,De);if(mt.setRealPlayer(Ct),fe===Ye)Qe.push(mt);else{const kt=this.playersByElement.get(fe);kt&&kt.length&&(mt.parentPlayer=Zh(kt)),r.push(mt)}}else dp(Ke,At.fromStyles),mt.onDestroy(()=>Yc(Ke,At.toStyles)),Mt.push(mt),u.has(Ke)&&r.push(mt)}),Mt.forEach(Ae=>{const Ke=o.get(Ae.element);if(Ke&&Ke.length){const mt=Zh(Ke);Ae.setRealPlayer(mt)}}),r.forEach(Ae=>{Ae.parentPlayer?Ae.syncPlayerEvents(Ae.parentPlayer):Ae.destroy()});for(let Ae=0;Ae<B.length;Ae++){const Ke=B[Ae],mt=Ke[El];if(V_(Ke,WS),mt&&mt.hasAnimation)continue;let At=[];if(a.size){let Ct=a.get(Ke);Ct&&Ct.length&&At.push(...Ct);let kt=this.driver.query(Ke,nI,!0);for(let Ut=0;Ut<kt.length;Ut++){let Rt=a.get(kt[Ut]);Rt&&Rt.length&&At.push(...Rt)}}const fe=At.filter(Ct=>!Ct.destroyed);fe.length?XOe(this,Ke,fe):this.processLeaveNode(Ke)}return B.length=0,Qe.forEach(Ae=>{this.players.push(Ae),Ae.onDone(()=>{Ae.destroy();const Ke=this.players.indexOf(Ae);this.players.splice(Ke,1)}),Ae.play()}),Qe}elementContainsData(t,e){let i=!1;const r=e[El];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==q0;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,y=Fa(i,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(P=>{const I=P.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),P.destroy(),y.push(P)})}dp(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,y=new Set,O=e.timelines.map(I=>{const D=I.element;u.add(D);const B=D[El];if(B&&B.removedBeforeQueried)return new L0(I.duration,I.delay);const Y=D!==l,q=function qOe(n){const t=[];return UH(n,t),t}((i.get(D)||jOe).map(Ee=>Ee.getRealPlayer())).filter(Ee=>!!Ee.element&&Ee.element===D),ie=o.get(D),se=s.get(D),re=hH(0,this._normalizer,0,I.keyframes,ie,se),ne=this._buildPlayer(I,re,q);if(I.subTimeline&&r&&y.add(D),Y){const Ee=new _I(t,a,D);Ee.setRealPlayer(ne),c.push(Ee)}return ne});c.forEach(I=>{Fa(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>function YOe(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,I.element,I))}),u.forEach(I=>Sl(I,EH));const P=Zh(O);return P.onDestroy(()=>{u.forEach(I=>V_(I,EH)),Yc(l,e.toStyles)}),y.forEach(I=>{Fa(r,I,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new L0(t.duration,t.delay)}}class _I{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new L0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>qR(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Fa(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function oC(n){return n&&1===n.nodeType}function FH(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function BH(n,t,e,i,r){const o=[];e.forEach(l=>o.push(FH(l)));const s=[];i.forEach((l,c)=>{const u={};l.forEach(y=>{const O=u[y]=t.computeStyle(c,y,r);(!O||0==O.length)&&(c[El]=HOe,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>FH(l,o[a++])),s}function LH(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function Sl(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function V_(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function XOe(n,t,e){Zh(e).onDone(()=>n.processLeaveNode(t))}function UH(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof F7?UH(i.players,t):t.push(i)}}function GH(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class sC{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new WOe(t,e,i),this._timelineEngine=new FOe(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=sI(this._driver,o,l,[]);if(l.length)throw function BMe(n,t){return new Gt(3404,ti)}();a=function IOe(n,t,e){return new DOe(n,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=dH(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=dH(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let QOe=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Yc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yc(this._element,this._initialStyles),this._endStyles&&(Yc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(dp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dp(this._element,this._endStyles),this._endStyles=null),Yc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function mI(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];ZOe(r)&&(t=t||{},t[r]=n[r])}return t}function ZOe(n){return"display"===n||"position"===n}class jH{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:OH(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ewe{validateStyleProperty(t){return _H(t)}matchesElement(t,e){return!1}containsElement(t,e){return mH(t,e)}getParentElement(t){return ZR(t)}query(t,e,i){return vH(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c={},u=s.filter(O=>O instanceof jH);(function rOe(n,t){return 0===n||0===t})(i,r)&&u.forEach(O=>{let P=O.currentSnapshot;Object.keys(P).forEach(I=>c[I]=P[I])}),e=function oOe(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],s=[];if(i.forEach(a=>{o.hasOwnProperty(a)||s.push(a),o[a]=e[a]}),s.length)for(var r=1;r<t.length;r++){let a=t[r];s.forEach(function(l){a[l]=OH(n,l)})}}return t}(t,e=e.map(O=>ed(O,!1)),c);const y=function JOe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=mI(t[0]),t.length>1&&(i=mI(t[t.length-1]))):t&&(e=mI(t)),e||i?new QOe(n,e,i):null}(t,e);return new jH(t,e,l,y)}}let twe=(()=>{class n extends BR{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:wl.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?N7(e):e;return HH(this._renderer,null,i,"register",[r]),new nwe(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(Fe(hg),Fe(nr))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class nwe extends class e1e{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new iwe(this._id,t,e||{},this._renderer)}}class iwe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return HH(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function HH(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const VH="@.disabled";let rwe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new WH("",o,this.engine),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return i.data.animation.forEach(l),new owe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(Fe(hg),Fe(sC),Fe(Wn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class WH{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==VH?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class owe extends WH{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==VH?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function swe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),s="";return"@"!=o.charAt(0)&&([o,s]=function awe(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let lwe=(()=>{class n extends sC{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(Fe(nr),Fe(eI),Fe(hI))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const YH=new un("AnimationModuleType"),zH=[{provide:BR,useClass:twe},{provide:hI,useFactory:function cwe(){return new wOe}},{provide:sC,useClass:lwe},{provide:hg,useFactory:function uwe(n,t,e){return new rwe(n,t,e)},deps:[Fb,sC,Wn]}],$H=[{provide:eI,useFactory:()=>new ewe},{provide:YH,useValue:"BrowserAnimations"},...zH],hwe=[{provide:eI,useClass:yH},{provide:YH,useValue:"NoopAnimations"},...zH];let XH=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?hwe:$H}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({providers:$H,imports:[cB]}),n})(),dwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,$0,Zs,HS]]}),n})(),fwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({providers:[],imports:[[Tt,HS,$0,Zs,XH,rn,$R,dwe,Ws]]}),n})(),pwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,HS,rn,Zs,Mu]]}),n})(),gwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,Zs,rn,pwe,Mu,Ws]]}),n})(),_we=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,Zs,bl,rn,Wc]]}),n})(),mwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,Zs,bl,rn]]}),n})(),vwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn]]}),n})(),ywe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn]]}),n})(),bwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,Ws]]}),n})(),Ewe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn]]}),n})(),vI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({providers:[],imports:[[Tt,rn,Ws]]}),n})(),Swe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[vI,Tt,bl,rn,Ws]]}),n})(),Cwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn]]}),n})(),Twe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn]]}),n})(),Mwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,bl,rn,Qh,Wc,Ws]]}),n})(),Owe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,Ws]]}),n})(),wwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,HS,Zs]]}),n})(),Pwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt]]}),n})(),xwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({}),n})(),Awe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,Qh,cH,rn,zR,Pwe,xwe]]}),n})(),Rwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,Awe,rn,$0,Zs,bl]]}),n})(),Iwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({providers:[Au,L_,tH,H0,Ru],imports:[[Tt,SG,rn,Zs,$0,bl,Qh,Rwe]]}),n})(),Dwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,cH,fMe,pMe,fwe,gMe,gwe,_we,mwe,vwe,bwe,rn,Ewe,Cwe,Swe,vI,ywe,Twe,Mwe,Owe,wwe,nMe,Iwe]]}),n})();const lC=S(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function qH(){return Ve((n,t)=>{let e=null;n._refCount++;const i=ae(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Nwe extends le{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Ze(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new p;const e=this.getSubject();t.add(this.source.subscribe(ae(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=p.EMPTY)}return t}refCount(){return qH()(this)}}function kwe(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(ae(s,u=>{const y=c++;l=a?n(l,u,y):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function KH(n,t){return Ve(kwe(n,t,arguments.length>=2,!0))}function yI(n){return n<=0?()=>nt:Ve((t,e)=>{let i=[];t.subscribe(ae(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function JH(n=Fwe){return Ve((t,e)=>{let i=!1;t.subscribe(ae(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Fwe(){return new lC}function QH(n){return Ve((t,e)=>{let i=!1;t.subscribe(ae(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function W_(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Lt((r,o)=>n(r,o,i)):ue,fi(1),e?QH(t):JH(()=>new lC))}class Vu{constructor(t,e){this.id=t,this.url=e}}class bI extends Vu{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class K0 extends Vu{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ZH extends Vu{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uwe extends Vu{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gwe extends Vu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jwe extends Vu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hwe extends Vu{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vwe extends Vu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wwe extends Vu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eV{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tV{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ywe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zwe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $we{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xwe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nV{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const qn="primary";class qwe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Y_(n){return new qwe(n)}const iV="ngNavigationCancelingError";function EI(n){const t=Error("NavigationCancelingError: "+n);return t[iV]=!0,t}function Jwe(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function zc(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!rV(n[r],t[r]))return!1;return!0}function rV(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function oV(n){return Array.prototype.concat.apply([],n)}function sV(n){return n.length>0?n[n.length-1]:null}function Xo(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function $c(n){return vM(n)?n:xm(n)?ri(Promise.resolve(n)):$t(n)}const ePe={exact:function cV(n,t,e){if(!gp(n.segments,t.segments)||!cC(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!cV(n.children[i],t.children[i],e))return!1;return!0},subset:uV},aV={exact:function tPe(n,t){return zc(n,t)},subset:function nPe(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>rV(n[e],t[e]))},ignored:()=>!0};function lV(n,t,e){return ePe[e.paths](n.root,t.root,e.matrixParams)&&aV[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function uV(n,t,e){return hV(n,t,t.segments,e)}function hV(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!gp(r,e)||t.hasChildren()||!cC(r,e,i))}if(n.segments.length===e.length){if(!gp(n.segments,e)||!cC(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!uV(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(gp(n.segments,r)&&cC(n.segments,r,i)&&n.children[qn])&&hV(n.children[qn],t,o,i)}}function cC(n,t,e){return t.every((i,r)=>aV[e](n[r].parameters,i.parameters))}class pp{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Y_(this.queryParams)),this._queryParamMap}toString(){return oPe.serialize(this)}}class ni{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Xo(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uC(this)}}class J0{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Y_(this.parameters)),this._parameterMap}toString(){return _V(this)}}function gp(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class dV{}class fV{parse(t){const e=new pPe(t);return new pp(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Q0(t.root,!0)}`,i=function lPe(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${hC(e)}=${hC(r)}`).join("&"):`${hC(e)}=${hC(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function sPe(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const oPe=new fV;function uC(n){return n.segments.map(t=>_V(t)).join("/")}function Q0(n,t){if(!n.hasChildren())return uC(n);if(t){const e=n.children[qn]?Q0(n.children[qn],!1):"",i=[];return Xo(n.children,(r,o)=>{o!==qn&&i.push(`${o}:${Q0(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function rPe(n,t){let e=[];return Xo(n.children,(i,r)=>{r===qn&&(e=e.concat(t(i,r)))}),Xo(n.children,(i,r)=>{r!==qn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===qn?[Q0(n.children[qn],!1)]:[`${r}:${Q0(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[qn]?`${uC(n)}/${e[0]}`:`${uC(n)}/(${e.join("//")})`}}function pV(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hC(n){return pV(n).replace(/%3B/gi,";")}function SI(n){return pV(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dC(n){return decodeURIComponent(n)}function gV(n){return dC(n.replace(/\+/g,"%20"))}function _V(n){return`${SI(n.path)}${function aPe(n){return Object.keys(n).map(t=>`;${SI(t)}=${SI(n[t])}`).join("")}(n.parameters)}`}const cPe=/^[^\/()?;=#]+/;function fC(n){const t=n.match(cPe);return t?t[0]:""}const uPe=/^[^=?&#]+/,dPe=/^[^&#]+/;class pPe{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ni([],{}):new ni([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[qn]=new ni(t,e)),i}parseSegment(){const t=fC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new J0(dC(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=fC(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=fC(this.remaining);r&&(i=r,this.capture(i))}t[dC(e)]=dC(i)}parseQueryParam(t){const e=function hPe(n){const t=n.match(uPe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function fPe(n){const t=n.match(dPe);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=gV(e),o=gV(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=fC(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=qn);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[qn]:new ni([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class mV{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=CI(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=CI(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=TI(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return TI(t,this._root).map(e=>e.value)}}function CI(n,t){if(n===t.value)return t;for(const e of t.children){const i=CI(n,e);if(i)return i}return null}function TI(n,t){if(n===t.value)return[t];for(const e of t.children){const i=TI(n,e);if(i.length)return i.unshift(t),i}return[]}class Wu{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function z_(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class vV extends mV{constructor(t,e){super(t),this.snapshot=e,MI(this,t)}toString(){return this.snapshot.toString()}}function yV(n,t){const e=function gPe(n,t){const s=new pC([],{},{},"",{},qn,t,null,n.root,-1,{});return new EV("",new Wu(s,[]))}(n,t),i=new Xn([new J0("",{})]),r=new Xn({}),o=new Xn({}),s=new Xn({}),a=new Xn(""),l=new $_(i,r,s,a,o,qn,t,e.root);return l.snapshot=e.root,new vV(new Wu(l,[]),e)}class $_{constructor(t,e,i,r,o,s,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ye(t=>Y_(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ye(t=>Y_(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bV(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function _Pe(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class pC{constructor(t,e,i,r,o,s,a,l,c,u,y){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Y_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Y_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class EV extends mV{constructor(t,e){super(e),this.url=t,MI(this,e)}toString(){return SV(this._root)}}function MI(n,t){t.value._routerState=n,t.children.forEach(e=>MI(n,e))}function SV(n){const t=n.children.length>0?` { ${n.children.map(SV).join(", ")} } `:"";return`${n.value}${t}`}function OI(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,zc(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),zc(t.params,e.params)||n.params.next(e.params),function Qwe(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!zc(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),zc(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function wI(n,t){const e=zc(n.params,t.params)&&function iPe(n,t){return gp(n,t)&&n.every((e,i)=>zc(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||wI(n.parent,t.parent))}function Z0(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function vPe(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Z0(n,i,r);return Z0(n,i)})}(n,t,e);return new Wu(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Z0(n,a)),s}}const i=function yPe(n){return new $_(new Xn(n.url),new Xn(n.params),new Xn(n.queryParams),new Xn(n.fragment),new Xn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Z0(n,o));return new Wu(i,r)}}function gC(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ey(n){return"object"==typeof n&&null!=n&&n.outlets}function PI(n,t,e,i,r){let o={};return i&&Xo(i,(s,a)=>{o[a]=Array.isArray(s)?s.map(l=>`${l}`):`${s}`}),new pp(e.root===n?t:CV(e.root,n,t),o,r)}function CV(n,t,e){const i={};return Xo(n.children,(r,o)=>{i[o]=r===t?e:CV(r,t,e)}),new ni(n.segments,i)}class TV{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&gC(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(ey);if(r&&r!==sV(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xI{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function MV(n,t,e){if(n||(n=new ni([],{})),0===n.segments.length&&n.hasChildren())return _C(n,t,e);const i=function MPe(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(ey(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!wV(l,c,s))return o;i+=2}else{if(!wV(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new ni(n.segments.slice(0,i.pathIndex),{});return o.children[qn]=new ni(n.segments.slice(i.pathIndex),n.children),_C(o,0,r)}return i.match&&0===r.length?new ni(n.segments,{}):i.match&&!n.hasChildren()?AI(n,t,e):i.match?_C(n,0,r):AI(n,t,e)}function _C(n,t,e){if(0===e.length)return new ni(n.segments,{});{const i=function TPe(n){return ey(n[0])?n[0].outlets:{[qn]:n}}(e),r={};return Xo(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=MV(n.children[s],t,o))}),Xo(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new ni(n.segments,r)}}function AI(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(ey(o)){const l=OPe(o.outlets);return new ni(i,l)}if(0===r&&gC(e[0])){i.push(new J0(n.segments[t].path,OV(e[0]))),r++;continue}const s=ey(o)?o.outlets[qn]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&gC(a)?(i.push(new J0(s,OV(a))),r+=2):(i.push(new J0(s,{})),r++)}return new ni(i,{})}function OPe(n){const t={};return Xo(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=AI(new ni([],{}),0,e))}),t}function OV(n){const t={};return Xo(n,(e,i)=>t[i]=`${e}`),t}function wV(n,t,e){return n==e.path&&zc(t,e.parameters)}class PPe{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),OI(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=z_(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Xo(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=z_(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=z_(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=z_(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Xwe(o.value.snapshot))}),t.children.length&&this.forwardEvent(new zwe(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(OI(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),OI(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=function xPe(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=l,s.outlet&&s.outlet.activateWith(r,l),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class RI{constructor(t,e){this.routes=t,this.module=e}}function td(n){return"function"==typeof n}function _p(n){return n instanceof pp}const ty=Symbol("INITIAL_VALUE");function ny(){return nl(n=>Wv(n.map(t=>t.pipe(fi(1),Th(ty)))).pipe(KH((t,e)=>{let i=!1;return e.reduce((r,o,s)=>r!==ty?r:(o===ty&&(i=!0),i||!1!==o&&s!==e.length-1&&!_p(o)?r:o),t)},ty),Lt(t=>t!==ty),ye(t=>_p(t)?t:!0===t),fi(1)))}class kPe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new iy,this.attachRef=null}}class iy{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new kPe,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let PV=(()=>{class n{constructor(e,i,r,o,s){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Yt,this.deactivateEvents=new Yt,this.attachEvents=new Yt,this.detachEvents=new Yt,this.name=o||qn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new FPe(e,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(X(iy),X(Xa),X(cg),function hd(n){return function SW(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(PD(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(ho(),n)}("name"),X(Tn))},n.\u0275dir=wt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class FPe{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===$_?this.route:t===iy?this.childContexts:this.parent.get(t,e)}}let xV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=et({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&ve(0,"router-outlet")},directives:[PV],encapsulation:2}),n})();function AV(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];BPe(i,LPe(t,i))}}function BPe(n,t){n.children&&AV(n.children,t)}function LPe(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function II(n){const t=n.children&&n.children.map(II),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==qn&&(e.component=xV),e}function Cl(n){return n.outlet||qn}function RV(n,t){const e=n.filter(i=>Cl(i)===t);return e.push(...n.filter(i=>Cl(i)!==t)),e}const IV={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mC(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},IV):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||Jwe)(e,n,t);if(!o)return Object.assign({},IV);const s={};Xo(o.posParams,(l,c)=>{s[c]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function vC(n,t,e,i,r="corrected"){if(e.length>0&&function jPe(n,t,e){return e.some(i=>yC(n,t,i)&&Cl(i)!==qn)}(n,e,i)){const s=new ni(t,function GPe(n,t,e,i){const r={};r[qn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Cl(o)!==qn){const s=new ni([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,r[Cl(o)]=s}return r}(n,t,i,new ni(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function HPe(n,t,e){return e.some(i=>yC(n,t,i))}(n,e,i)){const s=new ni(n.segments,function UPe(n,t,e,i,r,o){const s={};for(const a of i)if(yC(n,e,a)&&!r[Cl(a)]){const l=new ni([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[Cl(a)]=l}return Object.assign(Object.assign({},r),s)}(n,t,e,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new ni(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function yC(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function DV(n,t,e,i){return!!(Cl(n)===i||i!==qn&&yC(t,e,n))&&("**"===n.path||mC(t,n,e).matched)}function NV(n,t,e){return 0===t.length&&!n.children[e]}class bC{constructor(t){this.segmentGroup=t||null}}class kV{constructor(t){this.urlTree=t}}function ry(n){return ov(new bC(n))}function FV(n){return ov(new kV(n))}function VPe(n){return ov(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class zPe{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(ru)}apply(){const t=vC(this.urlTree.root,[],[],this.config).segmentGroup,e=new ni(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,qn).pipe(ye(o=>this.createUrlTree(DI(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yu(o=>{if(o instanceof kV)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof bC?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,qn).pipe(ye(r=>this.createUrlTree(DI(r),t.queryParams,t.fragment))).pipe(yu(r=>{throw r instanceof bC?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new ni([],{[qn]:t}):t;return new pp(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(ye(o=>new ni([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return ri(r).pipe(Od(o=>{const s=i.children[o],a=RV(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(ye(l=>({segment:l,outlet:o})))}),KH((o,s)=>(o[s.outlet]=s.segment,o),{}),function Bwe(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Lt((r,o)=>n(r,o,i)):ue,yI(1),e?QH(t):JH(()=>new lC))}())}expandSegment(t,e,i,r,o,s){return ri(i).pipe(Od(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,o,s).pipe(yu(c=>{if(c instanceof bC)return $t(null);throw c}))),W_(a=>!!a),yu((a,l)=>{if(a instanceof lC||"EmptyError"===a.name)return NV(e,r,o)?$t(new ni([],{})):ry(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,o,s,a){return DV(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s):ry(e):ry(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?FV(o):this.lineralizeSegments(i,o).pipe(er(s=>{const a=new ni(s,{});return this.expandSegment(t,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=mC(e,r,o);if(!a)return ry(e);const y=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?FV(y):this.lineralizeSegments(r,y).pipe(er(O=>this.expandSegment(t,e,i,O.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?$t(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(ye(y=>(i._loadedConfig=y,new ni(r,{})))):$t(new ni(r,{}));const{matched:s,consumedSegments:a,remainingSegments:l}=mC(e,i,r);return s?this.getChildConfig(t,i,r).pipe(er(u=>{const y=u.module,O=u.routes,{segmentGroup:P,slicedSegments:I}=vC(e,a,l,O),D=new ni(P.segments,P.children);if(0===I.length&&D.hasChildren())return this.expandChildren(y,O,D).pipe(ye(ie=>new ni(a,ie)));if(0===O.length&&0===I.length)return $t(new ni(a,{}));const B=Cl(i)===o;return this.expandSegment(y,D,O,I,B?qn:o,!0).pipe(ye(q=>new ni(a.concat(q.segments),q.children)))})):ry(e)}getChildConfig(t,e,i){return e.children?$t(new RI(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?$t(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(er(r=>r?this.configLoader.load(t.injector,e).pipe(ye(o=>(e._loadedConfig=o,o))):function WPe(n){return ov(EI(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):$t(new RI([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return $t(!0);const o=r.map(s=>{const a=t.get(s);let l;if(function RPe(n){return n&&td(n.canLoad)}(a))l=a.canLoad(e,i);else{if(!td(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}return $c(l)});return $t(o).pipe(ny(),ur(s=>{if(!_p(s))return;const a=EI(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),ye(s=>!0===s))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return $t(i);if(r.numberOfChildren>1||!r.children[qn])return VPe(t.redirectTo);r=r.children[qn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new pp(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Xo(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Xo(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new ni(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function DI(n){const t={};for(const i of Object.keys(n.children)){const o=DI(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function $Pe(n){if(1===n.numberOfChildren&&n.children[qn]){const t=n.children[qn];return new ni(n.segments.concat(t.segments),t.children)}return n}(new ni(n.segments,t))}class BV{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class EC{constructor(t,e){this.component=t,this.route=e}}function qPe(n,t,e){const i=n._root;return oy(i,t?t._root:null,e,[i.value])}function SC(n,t,e){const i=function JPe(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function oy(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=z_(t);return n.children.forEach(s=>{(function QPe(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function ZPe(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!gp(n.url,t.url);case"pathParamsOrQueryParamsChange":return!gp(n.url,t.url)||!zc(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wI(n,t)||!zc(n.queryParams,t.queryParams);default:return!wI(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new BV(i)):(o.data=s.data,o._resolvedData=s._resolvedData),oy(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new EC(a.outlet.component,s))}else s&&sy(t,a,r),r.canActivateChecks.push(new BV(i)),oy(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Xo(o,(s,a)=>sy(s,e.getContext(a),r)),r}function sy(n,t,e){const i=z_(n),r=n.value;Xo(i,(o,s)=>{sy(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new EC(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class lxe{}function LV(n){return new le(t=>t.error(n))}class uxe{constructor(t,e,i,r,o,s){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const t=vC(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,qn);if(null===e)return null;const i=new pC([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},qn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Wu(i,e),o=new EV(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=bV(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const s=e.children[o],a=RV(t,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;i.push(...l)}const r=UV(i);return function hxe(n){n.sort((t,e)=>t.value.outlet===qn?-1:e.value.outlet===qn?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const s=this.processSegmentAgainstRoute(o,e,i,r);if(null!==s)return s}return NV(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!DV(t,e,i,r))return null;let o,s=[],a=[];if("**"===t.path){const P=i.length>0?sV(i).parameters:{};o=new pC(i,P,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,HV(t),Cl(t),t.component,t,GV(e),jV(e)+i.length,VV(t))}else{const P=mC(e,t,i);if(!P.matched)return null;s=P.consumedSegments,a=P.remainingSegments,o=new pC(s,P.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,HV(t),Cl(t),t.component,t,GV(e),jV(e)+s.length,VV(t))}const l=function dxe(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=vC(e,s,a,l.filter(P=>void 0===P.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const P=this.processChildren(l,c);return null===P?null:[new Wu(o,P)]}if(0===l.length&&0===u.length)return[new Wu(o,[])];const y=Cl(t)===r,O=this.processSegment(l,c,u,y?qn:r);return null===O?null:[new Wu(o,O)]}}function fxe(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function UV(n){const t=[],e=new Set;for(const i of n){if(!fxe(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=UV(i.children);t.push(new Wu(i.value,r))}return t.filter(i=>!e.has(i))}function GV(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function jV(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function HV(n){return n.data||{}}function VV(n){return n.resolve||{}}function WV(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function NI(n){return nl(t=>{const e=n(t);return e?ri(e).pipe(ye(()=>t)):$t(t)})}class Exe extends class bxe{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const kI=new un("ROUTES");class YV{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(ye(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=o.create(t);return new RI(oV(s.injector.get(kI,void 0,Cn.Self|Cn.Optional)).map(II),s)}),yu(o=>{throw e._loader$=void 0,o}));return e._loader$=new Nwe(r,()=>new Le).pipe(qH()),e._loader$}loadModuleFactory(t){return $c(t()).pipe(er(e=>e instanceof CF?$t(e):ri(this.compiler.compileModuleAsync(e))))}}class Cxe{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Txe(n){throw n}function Mxe(n,t,e){return t.parse("/")}function zV(n,t){return $t(null)}const Oxe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wxe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let La=(()=>{class n{constructor(e,i,r,o,s,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Le,this.errorHandler=Txe,this.malformedUriErrorHandler=Mxe,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zV,afterPreactivation:zV},this.urlHandlingStrategy=new Cxe,this.routeReuseStrategy=new Exe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(ru),this.console=s.get(a3);const y=s.get(Wn);this.isNgZoneEnabled=y instanceof Wn&&Wn.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function Zwe(){return new pp(new ni([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new YV(s,a,O=>this.triggerEvent(new eV(O)),O=>this.triggerEvent(new tV(O))),this.routerState=yV(this.currentUrlTree,this.rootComponentType),this.transitions=new Xn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Lt(r=>0!==r.id),ye(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),nl(r=>{let o=!1,s=!1;return $t(r).pipe(ur(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),nl(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return $V(a.source)&&(this.browserUrlTree=a.extractedUrl),$t(a).pipe(nl(y=>{const O=this.transitions.getValue();return i.next(new bI(y.id,this.serializeUrl(y.extractedUrl),y.source,y.restoredState)),O!==this.transitions.getValue()?nt:Promise.resolve(y)}),function XPe(n,t,e,i){return nl(r=>function YPe(n,t,e,i,r){return new zPe(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(ye(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ur(y=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:y.urlAfterRedirects})}),function pxe(n,t,e,i,r){return er(o=>function cxe(n,t,e,i,r="emptyOnly",o="legacy"){try{const s=new uxe(n,t,e,i,r,o).recognize();return null===s?LV(new lxe):$t(s)}catch(s){return LV(s)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe(ye(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,y=>this.serializeUrl(y),this.paramsInheritanceStrategy,this.relativeLinkResolution),ur(y=>{if("eager"===this.urlUpdateStrategy){if(!y.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl);this.setBrowserUrl(P,y)}this.browserUrlTree=y.urlAfterRedirects}const O=new Gwe(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);i.next(O)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:P,source:I,restoredState:D,extras:B}=a,Y=new bI(O,this.serializeUrl(P),I,D);i.next(Y);const q=yV(P,this.rootComponentType).snapshot;return $t(Object.assign(Object.assign({},a),{targetSnapshot:q,urlAfterRedirects:P,extras:Object.assign(Object.assign({},B),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),nt}),NI(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:y,extras:{skipLocationChange:O,replaceUrl:P}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:y,skipLocationChange:!!O,replaceUrl:!!P})}),ur(a=>{const l=new jwe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),ye(a=>Object.assign(Object.assign({},a),{guards:qPe(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function exe(n,t){return er(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?$t(Object.assign(Object.assign({},e),{guardsResult:!0})):function txe(n,t,e,i){return ri(n).pipe(er(r=>function axe(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?$t(o.map(a=>{const l=SC(a,t,r);let c;if(function NPe(n){return n&&td(n.canDeactivate)}(l))c=$c(l.canDeactivate(n,t,e,i));else{if(!td(l))throw new Error("Invalid CanDeactivate guard");c=$c(l(n,t,e,i))}return c.pipe(W_())})).pipe(ny()):$t(!0)}(r.component,r.route,e,t,i)),W_(r=>!0!==r,!0))}(s,i,r,n).pipe(er(a=>a&&function APe(n){return"boolean"==typeof n}(a)?function nxe(n,t,e,i){return ri(t).pipe(Od(r=>ph(function rxe(n,t){return null!==n&&t&&t(new Ywe(n)),$t(!0)}(r.route.parent,i),function ixe(n,t){return null!==n&&t&&t(new $we(n)),$t(!0)}(r.route,i),function sxe(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function KPe(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>oE(()=>$t(s.guards.map(l=>{const c=SC(l,s.node,e);let u;if(function DPe(n){return n&&td(n.canActivateChild)}(c))u=$c(c.canActivateChild(i,n));else{if(!td(c))throw new Error("Invalid CanActivateChild guard");u=$c(c(i,n))}return u.pipe(W_())})).pipe(ny())));return $t(o).pipe(ny())}(n,r.path,e),function oxe(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return $t(!0);const r=i.map(o=>oE(()=>{const s=SC(o,t,e);let a;if(function IPe(n){return n&&td(n.canActivate)}(s))a=$c(s.canActivate(t,n));else{if(!td(s))throw new Error("Invalid CanActivate guard");a=$c(s(t,n))}return a.pipe(W_())}));return $t(r).pipe(ny())}(n,r.route,e))),W_(r=>!0!==r,!0))}(i,o,n,t):$t(a)),ye(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ur(a=>{if(_p(a.guardsResult)){const c=EI(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new Hwe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Lt(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),NI(a=>{if(a.guards.canActivateChecks.length)return $t(a).pipe(ur(l=>{const c=new Vwe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),nl(l=>{let c=!1;return $t(l).pipe(function gxe(n,t){return er(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return $t(e);let o=0;return ri(r).pipe(Od(s=>function _xe(n,t,e,i){return function mxe(n,t,e,i){const r=WV(n);if(0===r.length)return $t({});const o={};return ri(r).pipe(er(s=>function vxe(n,t,e,i){const r=SC(n,t,i);return $c(r.resolve?r.resolve(t,e):r(t,e))}(n[s],t,e,i).pipe(ur(a=>{o[s]=a}))),yI(1),er(()=>WV(o).length===r.length?$t(o):nt))}(n._resolve,n,t,i).pipe(ye(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),bV(n,e).resolve),null)))}(s.route,i,n,t)),ur(()=>o++),yI(1),er(s=>o===r.length?$t(e):nt))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ur({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),ur(l=>{const c=new Wwe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),NI(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:y,extras:{skipLocationChange:O,replaceUrl:P}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:y,skipLocationChange:!!O,replaceUrl:!!P})}),ye(a=>{const l=function mPe(n,t,e){const i=Z0(n,t._root,e?e._root:void 0);return new vV(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),ur(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>ye(i=>(new PPe(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ur({next(){o=!0},complete(){o=!0}}),function Lwe(n){return Ve((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var a;o||s||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),yu(a=>{if(s=!0,function Kwe(n){return n&&n[iV]}(a)){const l=_p(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new ZH(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),y={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$V(r.source)};this.scheduleNavigation(u,"imperative",null,y,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new Uwe(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return nt}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},s=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){AV(e),this.config=e.map(II),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let y=null;switch(a){case"merge":y=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=o||null}return null!==y&&(y=this.removeEmptyProps(y)),function bPe(n,t,e,i,r){if(0===e.length)return PI(t.root,t.root,t,i,r);const o=function EPe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new TV(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Xo(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new TV(e,t,i)}(e);if(o.toRoot())return PI(t.root,new ni([],{}),t,i,r);const s=function SPe(n,t,e){if(n.isAbsolute)return new xI(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new xI(o,o===t.root,0)}const i=gC(n.commands[0])?0:1;return function CPe(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new xI(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),a=s.processChildren?_C(s.segmentGroup,s.index,o.commands):MV(s.segmentGroup,s.index,o.commands);return PI(s.segmentGroup,a,t,i,r)}(c,this.currentUrlTree,e,y,null!=u?u:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=_p(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Pxe(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},Oxe):!1===i?Object.assign({},wxe):i,_p(e))return lV(this.currentUrlTree,e,r);const o=this.parseUrl(e);return lV(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new K0(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,s){var a,l;if(this.disposed)return Promise.resolve(!1);let c,u,y;s?(c=s.resolve,u=s.reject,y=s.promise):y=new Promise((I,D)=>{c=I,u=D});const O=++this.navigationId;let P;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),P=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):P=0,this.setTransition({id:O,targetPageId:P,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:c,reject:u,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(I=>Promise.reject(I))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new ZH(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){_M()},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function $V(n){return"imperative"!==n}class XV{}class qV{preload(t,e){return $t(null)}}let KV=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new YV(r,i,l=>e.triggerEvent(new eV(l)),l=>e.triggerEvent(new tV(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Lt(e=>e instanceof K0),Od(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(ru);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return ri(r).pipe(uo(),ye(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?$t(i._loadedConfig):this.loader.load(e.injector,i)).pipe(er(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(Fe(La),Fe(l3),Fe(Zr),Fe(XV))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),LI=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof bI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof K0&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof nV&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new nV(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){_M()},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const mp=new un("ROUTER_CONFIGURATION"),JV=new un("ROUTER_FORROOT_GUARD"),Ixe=[oO,{provide:dV,useClass:fV},{provide:La,useFactory:function Lxe(n,t,e,i,r,o,s={},a,l){const c=new La(null,n,t,e,i,r,oV(o));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function Uxe(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,c),s.enableTracing&&c.events.subscribe(u=>{var y,O;null===(y=console.group)||void 0===y||y.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(O=console.groupEnd)||void 0===O||O.call(console)}),c},deps:[dV,iy,oO,Zr,l3,kI,mp,[class Sxe{},new th],[class yxe{},new th]]},iy,{provide:$_,useFactory:function Gxe(n){return n.routerState.root},deps:[La]},KV,qV,class Rxe{preload(t,e){return e().pipe(yu(()=>$t(null)))}},{provide:mp,useValue:{enableTracing:!1}}];function Dxe(){return new f3("Router",La)}let Nxe=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[Ixe,QV(e),{provide:JV,useFactory:Bxe,deps:[[La,new th,new _m]]},{provide:mp,useValue:i||{}},{provide:pg,useFactory:Fxe,deps:[bd,[new Gy(rO),new th],mp]},{provide:LI,useFactory:kxe,deps:[La,LQ,mp]},{provide:XV,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:qV},{provide:f3,multi:!0,useFactory:Dxe},[UI,{provide:mb,multi:!0,useFactory:jxe,deps:[UI]},{provide:ZV,useFactory:Hxe,deps:[UI]},{provide:s3,multi:!0,useExisting:ZV}]]}}static forChild(e){return{ngModule:n,providers:[QV(e)]}}}return n.\u0275fac=function(e){return new(e||n)(Fe(JV,8),Fe(La,8))},n.\u0275mod=st({type:n}),n.\u0275inj=rt({}),n})();function kxe(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new LI(n,t,e)}function Fxe(n,t,e={}){return e.useHash?new RJ(n,t):new D3(n,t)}function Bxe(n){return"guarded"}function QV(n){return[{provide:wW,multi:!0,useValue:n},{provide:kI,multi:!0,useValue:n}]}let UI=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Le}appInitializer(){return this.injector.get(PJ,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),o=this.injector.get(La),s=this.injector.get(mp);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?$t(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(mp),r=this.injector.get(KV),o=this.injector.get(LI),s=this.injector.get(La),a=this.injector.get(vb);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),r.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(Fe(Zr))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function jxe(n){return n.appInitializer.bind(n)}function Hxe(n){return n.bootstrapListener.bind(n)}const ZV=new un("Router Initializer");let Wxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn]]}),n})(),Yxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn,Ws]]}),n})(),zxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=rt({imports:[[Tt,rn]]}),n})(),$xe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n,bootstrap:[ATe]}),n.\u0275inj=rt({providers:[{provide:mb,useFactory:t=>()=>t.init(),deps:[en],multi:!0},{provide:Gp,useValue:Bte()}],imports:[[cB,XH,Dwe,Wxe,Nxe.forRoot([],{relativeLinkResolution:"legacy"}),xte,zxe,rn.forRoot({defaultLanguage:"en",missingTranslationHandler:{provide:sE,useClass:Xue},loader:{provide:Uv,useFactory:$ue,deps:[kO]}}),vI,Mu,Yxe,the]]}),n})();var e9=w(752),qxe=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$"),t9=w(9819),Sr=w(1255),CC=(0,is.R)(),n9=w(7516),GI=(n,t,e)=>{let i;return r=>{t.value>=0&&(r||e)&&(t.delta=t.value-(i||0),(t.delta||void 0===i)&&(i=t.value,n(t)))}},jI=(n,t)=>({name:n,value:(0,n9.h)(t,()=>-1),delta:0,entries:[],id:`v2-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`}),TC=(n,t)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(n)){if("first-input"===n&&!("PerformanceEventTiming"in self))return;var e=new PerformanceObserver(i=>i.getEntries().map(t));return e.observe({type:n,buffered:!0}),e}}catch(i){}},MC=(n,t)=>{var e=i=>{("pagehide"===i.type||"hidden"===(0,is.R)().document.visibilityState)&&(n(i),t&&(removeEventListener("visibilitychange",e,!0),removeEventListener("pagehide",e,!0)))};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)};let OC=-1;var HI=()=>(OC<0&&(OC="hidden"===(0,is.R)().document.visibilityState?0:1/0,MC(({timeStamp:n})=>{OC=n},!0)),{get firstHiddenTime(){return OC}}),i9={};function wC(n){return"number"==typeof n&&isFinite(n)}function q_(n,i){var r=i,{startTimestamp:t}=r,e=v9(r,["startTimestamp"]);return t&&n.startTimestamp>t&&(n.startTimestamp=t),n.startChild(Je({startTimestamp:t},e))}var vp=(0,is.R)();function r9(){return vp&&vp.addEventListener&&vp.performance}let Xc,ay,o9=0,Cr={};function rAe(n=!1){var t=r9();t&&Cd.Z1&&(t.mark&&vp.performance.mark("sentry-tracing-init"),function sAe(){((n,t)=>{var e=jI("CLS",0);let i,r=0,o=[];var s=l=>{l&&!l.hadRecentInput&&(r&&0!==o.length&&l.startTime-o[o.length-1].startTime<1e3&&l.startTime-o[0].startTime<5e3?(r+=l.value,o.push(l)):(r=l.value,o=[l]),r>e.value&&(e.value=r,e.entries=o,i&&i()))},a=TC("layout-shift",s);a&&(i=GI(n=>{var t=n.entries.pop();!t||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log("[Measurements] Adding CLS"),Cr.cls={value:n.value,unit:""},ay=t)},e,void 0),MC(()=>{a.takeRecords().map(s),i(!0)}))})()}(),function aAe(n){((n,t)=>{var e=HI(),i=jI("LCP");let r;var o=l=>{var c=l.startTime;c<e.firstHiddenTime&&(i.value=c,i.entries.push(l)),r&&r()},s=TC("largest-contentful-paint",o);if(s){r=GI(t=>{var e=t.entries.pop();!e||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log("[Measurements] Adding LCP"),Cr.lcp={value:t.value,unit:"millisecond"},Xc=e)},i,t);var a=()=>{i9[i.id]||(s.takeRecords().map(o),s.disconnect(),i9[i.id]=!0,r(!0))};["keydown","click"].forEach(l=>{addEventListener(l,a,{once:!0,capture:!0})}),MC(a,!0)}})(0,n)}(n),function lAe(){((n,t)=>{var e=HI(),i=jI("FID");let r;var o=a=>{r&&a.startTime<e.firstHiddenTime&&(i.value=a.processingStart-a.startTime,i.entries.push(a),r(!0))},s=TC("first-input",o);s&&(r=GI(n=>{var t=n.entries.pop();if(t){var e=(0,Sr.XL)(Cd.Z1),i=(0,Sr.XL)(t.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log("[Measurements] Adding FID"),Cr.fid={value:n.value,unit:"millisecond"},Cr["mark.fid"]={value:e+i,unit:"second"}}},i,void 0),MC(()=>{s.takeRecords().map(o),s.disconnect()},!0))})()}())}function PC(n,t,e,i,r,o){var s=o?t[o]:t[`${e}End`],a=t[`${e}Start`];!a||!s||q_(n,{op:"browser",description:(0,n9.h)(r,()=>e),startTimestamp:i+(0,Sr.XL)(a),endTimestamp:i+(0,Sr.XL)(s)})}var xC={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};var ly=(0,is.R)(),CAe=Je({idleTimeout:t9.nT,finalTimeout:t9.mg,markBackgroundTransactions:!0,routingInstrumentation:function EAe(n,t=!0,e=!0){if(!ly||!ly.location)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn("Could not initialize routing instrumentation due to invalid location"));let r,i=ly.location.href;t&&(r=n({name:ly.location.pathname,op:"pageload",metadata:{source:"url"}})),e&&(0,jl.o)("history",({to:o,from:s})=>{void 0===s&&i&&-1!==i.indexOf(o)?i=void 0:s!==o&&(i=void 0,r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.finish()),r=n({name:ly.location.pathname,op:"navigation",metadata:{source:"url"}}))})},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,_experiments:{enableLongTask:!0}},xC);class VI{__init(){this.name="BrowserTracing"}constructor(t){VI.prototype.__init.call(this);let e=xC.tracingOrigins;t&&(t.tracingOrigins&&Array.isArray(t.tracingOrigins)?e=t.tracingOrigins:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options=_i(Je(Je({},CAe),t),{tracingOrigins:e});const{_metricOptions:i}=this.options;rAe(i&&i._reportAllChanges),function Xxe(n){let t,e=n[0],i=1;for(;i<n.length;){var r=n[i],o=n[i+1];if(i+=2,("optionalAccess"===r||"optionalCall"===r)&&null==e)return;"access"===r||"optionalAccess"===r?(t=e,e=o(e)):("call"===r||"optionalCall"===r)&&(e=o((...s)=>e.call(t,...s)),t=void 0)}return e}([this,"access",r=>r.options,"access",r=>r._experiments,"optionalAccess",r=>r.enableLongTask])&&function oAe(){TC("longtask",t=>{var e=(0,Sr.x1)();if(e){var i=(0,Sr.XL)(Cd.Z1+t.startTime),r=(0,Sr.XL)(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:i,endTimestamp:i+r})}})}()}setupOnce(t,e){this._getCurrentHub=e,this._emitOptionsWarning&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn(`[Tracing] We added a reasonable default for you: ${xC.tracingOrigins}`));const{routingInstrumentation:i,startTransactionOnLocationChange:r,startTransactionOnPageLoad:o,markBackgroundTransactions:s,traceFetch:a,traceXHR:l,tracingOrigins:c,shouldCreateSpanForRequest:u}=this.options;i(y=>this._createRouteTransaction(y),o,r),s&&function Jxe(){CC&&CC.document?CC.document.addEventListener("visibilitychange",()=>{var n=(0,Sr.x1)();if(CC.document.hidden&&n){var t="cancelled";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n.op}`),n.status||n.setStatus(t),n.setTag("visibilitychange","document.hidden"),n.finish()}}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),function mAe(n){const{traceFetch:t,traceXHR:e,tracingOrigins:i,shouldCreateSpanForRequest:r}=Je(Je({},xC),n);var o={},s=c=>(o[c]||(o[c]=i.some(y=>(0,yc.zC)(c,y))&&!(0,yc.zC)(c,"sentry_key")),o[c]);let a=s;"function"==typeof r&&(a=c=>s(c)&&r(c));var l={};t&&(0,jl.o)("fetch",c=>{!function vAe(n,t,e){if((0,Sr.zu)()&&n.fetchData&&t(n.fetchData.url)){if(n.endTimestamp){var i=n.fetchData.__span;if(!i)return;return void((r=e[i])&&(n.response?r.setHttpStatus(n.response.status):n.error&&r.setStatus("internal_error"),r.finish(),delete e[i]))}var o=(0,Sr.x1)();if(o){var r=o.startChild({data:_i(Je({},n.fetchData),{type:"fetch"}),description:`${n.fetchData.method} ${n.fetchData.url}`,op:"http.client"});n.fetchData.__span=r.spanId,e[r.spanId]=r;var s=n.args[0]=n.args[0],a=n.args[1]=n.args[1]||{};a.headers=function yAe(n,t,e,i){let r=i.headers;if((0,$r.V9)(n,Request)&&(r=n.headers),r)if("function"==typeof r.append)r.append("sentry-trace",e.toTraceparent()),r.append(Ca.bU,(0,Ca.J8)(t,r.get(Ca.bU)));else if(Array.isArray(r)){const[,o]=r.find(([s,a])=>s===Ca.bU);r=[...r,["sentry-trace",e.toTraceparent()],[Ca.bU,(0,Ca.J8)(t,o)]]}else r=_i(Je({},r),{"sentry-trace":e.toTraceparent(),baggage:(0,Ca.J8)(t,r.baggage)});else r={"sentry-trace":e.toTraceparent(),baggage:(0,Ca.J8)(t)};return r}(s,o.getBaggage(),r,a)}}}(c,a,l)}),e&&(0,jl.o)("xhr",c=>{!function bAe(n,t,e){if(!(!(0,Sr.zu)()||n.xhr&&n.xhr.__sentry_own_request__)&&n.xhr&&n.xhr.__sentry_xhr__&&t(n.xhr.__sentry_xhr__.url)){var i=n.xhr.__sentry_xhr__;if(n.endTimestamp){var r=n.xhr.__sentry_xhr_span_id__;if(!r)return;return void((o=e[r])&&(o.setHttpStatus(i.status_code),o.finish(),delete e[r]))}var s=(0,Sr.x1)();if(s){var o=s.startChild({data:_i(Je({},i.data),{type:"xhr",method:i.method,url:i.url}),description:`${i.method} ${i.url}`,op:"http.client"});if(n.xhr.__sentry_xhr_span_id__=o.spanId,e[n.xhr.__sentry_xhr_span_id__]=o,n.xhr.setRequestHeader)try{n.xhr.setRequestHeader("sentry-trace",o.toTraceparent());var a=n.xhr.getRequestHeader&&n.xhr.getRequestHeader(Ca.bU);n.xhr.setRequestHeader(Ca.bU,(0,Ca.J8)(s.getBaggage(),a))}catch(c){}}}}(c,a,l)})}({traceFetch:a,traceXHR:l,tracingOrigins:c,shouldCreateSpanForRequest:u})}_createRouteTransaction(t){if(!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`));const{beforeNavigate:e,idleTimeout:i,finalTimeout:r}=this.options;var o="pageload"===t.op?function TAe(){var n=s9("sentry-trace"),t=s9("baggage"),e=n?function Kxe(n){var t=n.match(qxe);if(t){let e;return"1"===t[3]?e=!0:"0"===t[3]&&(e=!1),{traceId:t[1],parentSampled:e,parentSpanId:t[2]}}}(n):void 0,i=(0,Ca.rg)(t,n);if(e||i)return Je(Je({},e&&e),i&&{metadata:{baggage:i}})}():void 0,s=_i(Je(Je(Je({},t),o),o&&{metadata:Je(Je({},t.metadata),o.metadata)}),{trimEnd:!0}),a="function"==typeof e?e(s):s,l=void 0===a?_i(Je({},s),{sampled:!1}):a;l.metadata=l.name!==s.name?_i(Je({},l.metadata),{source:"custom"}):l.metadata,!1===l.sampled&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log(`[Tracing] Starting ${l.op} transaction on scope`);var c=this._getCurrentHub();const{location:u}=(0,is.R)();var y=(0,e9.lb)(c,l,i,r,!0,{location:u});return y.registerBeforeFinishCallback(O=>{(function cAe(n){var t=r9();if(!t||!vp.performance.getEntries||!Cd.Z1)return;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log("[Tracing] Adding & adjusting spans using Performance API");var e=(0,Sr.XL)(Cd.Z1),i=t.getEntries();let r,o;if(i.slice(o9).forEach(a=>{var l=(0,Sr.XL)(a.startTime),c=(0,Sr.XL)(a.duration);if(!("navigation"===n.op&&e+l<n.startTimestamp))switch(a.entryType){case"navigation":(function hAe(n,t,e){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{PC(n,t,i,e)}),PC(n,t,"secureConnection",e,"TLS/SSL","connectEnd"),PC(n,t,"fetch",e,"cache","domainLookupStart"),PC(n,t,"domainLookup",e,"DNS"),function dAe(n,t,e){q_(n,{op:"browser",description:"request",startTimestamp:e+(0,Sr.XL)(t.requestStart),endTimestamp:e+(0,Sr.XL)(t.responseEnd)}),q_(n,{op:"browser",description:"response",startTimestamp:e+(0,Sr.XL)(t.responseStart),endTimestamp:e+(0,Sr.XL)(t.responseEnd)})}(n,t,e)})(n,a,e),r=e+(0,Sr.XL)(a.responseStart),o=e+(0,Sr.XL)(a.requestStart);break;case"mark":case"paint":case"measure":!function uAe(n,t,e,i,r){var o=r+e;q_(n,{description:t.name,endTimestamp:o+i,op:t.entryType,startTimestamp:o})}(n,a,l,c,e);var u=HI(),y=a.startTime<u.firstHiddenTime;"first-paint"===a.name&&y&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log("[Measurements] Adding FP"),Cr.fp={value:a.startTime,unit:"millisecond"}),"first-contentful-paint"===a.name&&y&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log("[Measurements] Adding FCP"),Cr.fcp={value:a.startTime,unit:"millisecond"});break;case"resource":var O=a.name.replace(vp.location.origin,"");!function fAe(n,t,e,i,r,o){if("xmlhttprequest"!==t.initiatorType&&"fetch"!==t.initiatorType){var s={};"transferSize"in t&&(s["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(s["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(s["Decoded Body Size"]=t.decodedBodySize);var a=o+i;q_(n,{description:e,endTimestamp:a+r,op:t.initiatorType?`resource.${t.initiatorType}`:"resource",startTimestamp:a,data:s})}}(n,a,O,l,c,e)}}),o9=Math.max(i.length-1,0),function pAe(n){var t=vp.navigator;if(t){var e=t.connection;e&&(e.effectiveType&&n.setTag("effectiveConnectionType",e.effectiveType),e.type&&n.setTag("connectionType",e.type),wC(e.rtt)&&(Cr["connection.rtt"]={value:e.rtt,unit:"millisecond"}),wC(e.downlink)&&(Cr["connection.downlink"]={value:e.downlink,unit:""})),wC(t.deviceMemory)&&n.setTag("deviceMemory",`${t.deviceMemory} GB`),wC(t.hardwareConcurrency)&&n.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}}(n),"pageload"===n.op){"number"==typeof r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log("[Measurements] Adding TTFB"),Cr.ttfb={value:1e3*(r-n.startTimestamp),unit:"millisecond"},"number"==typeof o&&o<=r&&(Cr["ttfb.requestTime"]={value:1e3*(r-o),unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(Cr[a]&&!(e>=n.startTimestamp)){var l=Cr[a].value,c=e+(0,Sr.XL)(l),u=Math.abs(1e3*(c-n.startTimestamp));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log(`[Measurements] Normalized ${a} from ${l} to ${u} (${u-l})`),Cr[a].value=u}});var s=Cr["mark.fid"];s&&Cr.fid&&(q_(n,{description:"first input delay",endTimestamp:s.value+(0,Sr.XL)(Cr.fid.value),op:"web.vitals",startTimestamp:s.value}),delete Cr["mark.fid"]),"fcp"in Cr||delete Cr.cls,Object.keys(Cr).forEach(a=>{n.setMeasurement(a,Cr[a].value,Cr[a].unit)}),function gAe(n){Xc&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log("[Measurements] Adding LCP Data"),Xc.element&&n.setTag("lcp.element",(0,vg.Rt)(Xc.element)),Xc.id&&n.setTag("lcp.id",Xc.id),Xc.url&&n.setTag("lcp.url",Xc.url.trim().slice(0,200)),n.setTag("lcp.size",Xc.size)),ay&&ay.sources&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.log("[Measurements] Adding CLS Data"),ay.sources.forEach((t,e)=>n.setTag(`cls.source.${e+1}`,(0,vg.Rt)(t.node))))}(n)}Xc=void 0,ay=void 0,Cr={}})(O),O.setTag("sentry_reportAllChanges",Boolean(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))}),y}}function s9(n){var t=(0,vg.qT)(`meta[name=${n}]`);return t?t.getAttribute("content"):null}("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(0,e9.ro)();class K_{constructor(){K_.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=K_.id}setupOnce(t,e){var i=r=>{var o=e().getIntegration(K_);if(o){try{if(function MAe(n,t){return!(!t||!function OAe(n,t){var e=n.message,i=t.message;return!(!e&&!i||e&&!i||!e&&i||e!==i||!l9(n,t)||!a9(n,t))}(n,t)&&!function wAe(n,t){var e=c9(t),i=c9(n);return!!(e&&i&&e.type===i.type&&e.value===i.value&&l9(n,t)&&a9(n,t))}(n,t))}(r,o._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(s){return o._previousEvent=r}return o._previousEvent=r}return r};i.id=this.name,t(i)}}function a9(n,t){let e=u9(n),i=u9(t);if(!e&&!i)return!0;if(e&&!i||!e&&i||(e=e,i=i,i.length!==e.length))return!1;for(let s=0;s<i.length;s++){var r=i[s],o=e[s];if(r.filename!==o.filename||r.lineno!==o.lineno||r.colno!==o.colno||r.function!==o.function)return!1}return!0}function l9(n,t){let e=n.fingerprint,i=t.fingerprint;if(!e&&!i)return!0;if(e&&!i||!e&&i)return!1;e=e,i=i;try{return e.join("")===i.join("")}catch(r){return!1}}function c9(n){return n.exception&&n.exception.values&&n.exception.values[0]}function u9(n){var t=n.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}K_.__initStatic();const xAe=["Http failure during parsing for","Failed to start the audio device","The new multiplier is less than the previous multiplier in the current round"],IAe={dsn:"https://8f6b03bc41d54a058f2ccfbe5e3722e3@sentry.spribe.io/10",environment:"prod",release:Pi_version,ignoreErrors:["URL parameters are missing or invalid","Retry limit of client config exceeded!","network error occurred","Possible side-effect in debug-evaluate"],normalizeDepth:8,integrations:[new VI,new K_],maxBreadcrumbs:50,tracesSampleRate:.001,autoSessionTracking:!1,sendClientReports:!1,beforeSend:(n,t)=>function RAe(n,t){return(null==t?void 0:t.originalException)instanceof Wb||"Timeout"===(null==t?void 0:t.originalException)||!!xAe.find(e=>{var i;return null===(i=n.message)||void 0===i?void 0:i.includes(e)})&&Math.random()>.001}(n,t)?null:n};(function Ite(n){n._metadata=n._metadata||{},n._metadata.sdk={name:"sentry.javascript.angular",packages:[{name:"npm:@sentry/angular",version:jb}],version:jb},function Dte(){const n=hb&&hb.major?parseInt(hb.major,10):void 0;n&&(n<10&&Rte&&Jt.kg.warn(`The Sentry SDK does not officially support Angular ${n}.`,"This version of the Sentry SDK supports Angular 10 and above.","Please consider upgrading your Angular version or downgrading the Sentry SDK."),function Lee(n,t){(0,Br.Gd)().setContext(n,t)}("angular",{version:n}))}(),function fte(n={}){if(void 0===n.defaultIntegrations&&(n.defaultIntegrations=dte),void 0===n.release){var t=(0,is.R)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(n.release=t.SENTRY_RELEASE.id)}void 0===n.autoSessionTracking&&(n.autoSessionTracking=!0),void 0===n.sendClientReports&&(n.sendClientReports=!0);var e=_i(Je({},n),{stackParser:(0,lu.Sq)(n.stackParser||Fee),integrations:EZ(n),transport:n.transport||((0,MO.Ak)()?cte:hte)});(function CZ(n,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?Jt.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var e=(0,Br.Gd)(),i=e.getScope();i&&i.update(t.initialScope);var r=new n(t);e.bindClient(r)})(pee,e),n.autoSessionTracking&&function gte(){if(void 0!==(0,is.R)().document){var e=(0,Br.Gd)();!e.captureSession||(WB(e),(0,jl.o)("history",({from:i,to:r})=>{void 0===i||i===r||WB((0,Br.Gd)())}))}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Jt.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}(n)})(IAe),Pi_production&&function aJ(){y3=!1}(),!1===Pi_loggerEnabled&&window&&["log","debug","warn","info","error"].forEach(n=>{console[n]=function(){}}),cZ().bootstrapModule($xe).catch(n=>{const t=n.hasOwnProperty("message")?n.message:n,e=document.getElementById("main-error-message");e.querySelector(".alert").textContent=t.toString(),e.classList.remove("d-none"),document.getElementById("main-loading").classList.add("d-none")})},9170:Me=>{"use strict";var U=Object.prototype.hasOwnProperty,w="~";function h(){}function C(_,p,g){this.fn=_,this.context=p,this.once=g||!1}function b(_,p,g,f,E){if("function"!=typeof g)throw new TypeError("The listener must be a function");var T=new C(g,f||_,E),d=w?w+p:p;return _._events[d]?_._events[d].fn?_._events[d]=[_._events[d],T]:_._events[d].push(T):(_._events[d]=T,_._eventsCount++),_}function S(_,p){0==--_._eventsCount?_._events=new h:delete _._events[p]}function m(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),(new h).__proto__||(w=!1)),m.prototype.eventNames=function(){var g,f,p=[];if(0===this._eventsCount)return p;for(f in g=this._events)U.call(g,f)&&p.push(w?f.slice(1):f);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(g)):p},m.prototype.listeners=function(p){var f=this._events[w?w+p:p];if(!f)return[];if(f.fn)return[f.fn];for(var E=0,T=f.length,d=new Array(T);E<T;E++)d[E]=f[E].fn;return d},m.prototype.listenerCount=function(p){var f=this._events[w?w+p:p];return f?f.fn?1:f.length:0},m.prototype.emit=function(p,g,f,E,T,d){var v=w?w+p:p;if(!this._events[v])return!1;var k,G,M=this._events[v],N=arguments.length;if(M.fn){switch(M.once&&this.removeListener(p,M.fn,void 0,!0),N){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,g),!0;case 3:return M.fn.call(M.context,g,f),!0;case 4:return M.fn.call(M.context,g,f,E),!0;case 5:return M.fn.call(M.context,g,f,E,T),!0;case 6:return M.fn.call(M.context,g,f,E,T,d),!0}for(G=1,k=new Array(N-1);G<N;G++)k[G-1]=arguments[G];M.fn.apply(M.context,k)}else{var L,z=M.length;for(G=0;G<z;G++)switch(M[G].once&&this.removeListener(p,M[G].fn,void 0,!0),N){case 1:M[G].fn.call(M[G].context);break;case 2:M[G].fn.call(M[G].context,g);break;case 3:M[G].fn.call(M[G].context,g,f);break;case 4:M[G].fn.call(M[G].context,g,f,E);break;default:if(!k)for(L=1,k=new Array(N-1);L<N;L++)k[L-1]=arguments[L];M[G].fn.apply(M[G].context,k)}}return!0},m.prototype.on=function(p,g,f){return b(this,p,g,f,!1)},m.prototype.once=function(p,g,f){return b(this,p,g,f,!0)},m.prototype.removeListener=function(p,g,f,E){var T=w?w+p:p;if(!this._events[T])return this;if(!g)return S(this,T),this;var d=this._events[T];if(d.fn)d.fn===g&&(!E||d.once)&&(!f||d.context===f)&&S(this,T);else{for(var v=0,M=[],N=d.length;v<N;v++)(d[v].fn!==g||E&&!d[v].once||f&&d[v].context!==f)&&M.push(d[v]);M.length?this._events[T]=1===M.length?M[0]:M:S(this,T)}return this},m.prototype.removeAllListeners=function(p){var g;return p?this._events[g=w?w+p:p]&&S(this,g):(this._events=new h,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=w,m.EventEmitter=m,Me.exports=m},9248:(Me,U,w)=>{"use strict";w.d(U,{Gd:()=>v,cu:()=>T});var h=w(5535),C=w(3967),b=w(1446),S=w(7576),m=w(723),_=w(383),p=w(1539),f=100;class E{__init(){this._stack=[{}]}constructor(L,j=new _.s,F=4){this._version=F,E.prototype.__init.call(this),this.getStackTop().scope=j,L&&this.bindClient(L)}isOlderThan(L){return this._version<L}bindClient(L){this.getStackTop().client=L,L&&L.setupIntegrations&&L.setupIntegrations()}pushScope(){var L=_.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:L}),L}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(L){var j=this.pushScope();try{L(j)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(L,j){var F=this._lastEventId=j&&j.event_id?j.event_id:(0,h.DM)(),W=new Error("Sentry syntheticException");return this._withClient((Q,$)=>{Q.captureException(L,_i(Je({originalException:L,syntheticException:W},j),{event_id:F}),$)}),F}captureMessage(L,j,F){var W=this._lastEventId=F&&F.event_id?F.event_id:(0,h.DM)(),Q=new Error(L);return this._withClient(($,oe)=>{$.captureMessage(L,j,_i(Je({originalException:L,syntheticException:Q},F),{event_id:W}),oe)}),W}captureEvent(L,j){var F=j&&j.event_id?j.event_id:(0,h.DM)();return"transaction"!==L.type&&(this._lastEventId=F),this._withClient((W,Q)=>{W.captureEvent(L,_i(Je({},j),{event_id:F}),Q)}),F}lastEventId(){return this._lastEventId}addBreadcrumb(L,j){const{scope:F,client:W}=this.getStackTop();if(!F||!W)return;const{beforeBreadcrumb:Q=null,maxBreadcrumbs:$=f}=W.getOptions&&W.getOptions()||{};if(!($<=0)){var oe=(0,C.yW)(),J=Je({timestamp:oe},L),de=Q?(0,b.Cf)(()=>Q(J,j)):J;null!==de&&F.addBreadcrumb(de,$)}}setUser(L){var j=this.getScope();j&&j.setUser(L)}setTags(L){var j=this.getScope();j&&j.setTags(L)}setExtras(L){var j=this.getScope();j&&j.setExtras(L)}setTag(L,j){var F=this.getScope();F&&F.setTag(L,j)}setExtra(L,j){var F=this.getScope();F&&F.setExtra(L,j)}setContext(L,j){var F=this.getScope();F&&F.setContext(L,j)}configureScope(L){const{scope:j,client:F}=this.getStackTop();j&&F&&L(j)}run(L){var j=d(this);try{L(this)}finally{d(j)}}getIntegration(L){var j=this.getClient();if(!j)return null;try{return j.getIntegration(L)}catch(F){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&b.kg.warn(`Cannot retrieve integration ${L.id} from the current Hub`),null}}startTransaction(L,j){return this._callExtensionMethod("startTransaction",L,j)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(L=!1){if(L)return this.endSession();this._sendSessionUpdate()}endSession(){var L=this.getStackTop(),j=L&&L.scope,F=j&&j.getSession();F&&(0,p.RJ)(F),this._sendSessionUpdate(),j&&j.setSession()}startSession(L){const{scope:j,client:F}=this.getStackTop(),{release:W,environment:Q}=F&&F.getOptions()||{};var $=(0,S.R)();const{userAgent:oe}=$.navigator||{};var J=(0,p.Hv)(Je(Je(Je({release:W,environment:Q},j&&{user:j.getUser()}),oe&&{userAgent:oe}),L));if(j){var de=j.getSession&&j.getSession();de&&"ok"===de.status&&(0,p.CT)(de,{status:"exited"}),this.endSession(),j.setSession(J)}return J}shouldSendDefaultPii(){var L=this.getClient(),j=L&&L.getOptions();return Boolean(j&&j.sendDefaultPii)}_sendSessionUpdate(){const{scope:L,client:j}=this.getStackTop();if(L){var F=L.getSession();F&&j&&j.captureSession&&j.captureSession(F)}}_withClient(L){const{scope:j,client:F}=this.getStackTop();F&&L(F,j)}_callExtensionMethod(L,...j){var W=T().__SENTRY__;if(W&&W.extensions&&"function"==typeof W.extensions[L])return W.extensions[L].apply(this,j);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&b.kg.warn(`Extension method ${L} couldn't be found, doing nothing.`)}}function T(){var z=(0,S.R)();return z.__SENTRY__=z.__SENTRY__||{extensions:{},hub:void 0},z}function d(z){var L=T(),j=k(L);return G(L,z),j}function v(){var z=T();return(!N(z)||k(z).isOlderThan(4))&&G(z,new E),(0,m.KV)()?function M(z){try{var L=T().__SENTRY__,j=L&&L.extensions&&L.extensions.domain&&L.extensions.domain.active;if(!j)return k(z);if(!N(j)||k(j).isOlderThan(4)){var F=k(z).getStackTop();G(j,new E(F.client,_.s.clone(F.scope)))}return k(j)}catch(W){return k(z)}}(z):k(z)}function N(z){return!!(z&&z.__SENTRY__&&z.__SENTRY__.hub)}function k(z){return(0,S.Y)("hub",()=>new E,z)}function G(z,L){return!!z&&((z.__SENTRY__=z.__SENTRY__||{}).hub=L,!0)}},383:(Me,U,w)=>{"use strict";w.d(U,{s:()=>f,c:()=>T});var h=w(6412),C=w(3967),b=w(509),S=w(1446),m=w(5535),_=w(7576),p=w(1539);class f{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(v){var M=new f;return v&&(M._breadcrumbs=[...v._breadcrumbs],M._tags=Je({},v._tags),M._extra=Je({},v._extra),M._contexts=Je({},v._contexts),M._user=v._user,M._level=v._level,M._span=v._span,M._session=v._session,M._transactionName=v._transactionName,M._fingerprint=v._fingerprint,M._eventProcessors=[...v._eventProcessors],M._requestSession=v._requestSession,M._attachments=[...v._attachments]),M}addScopeListener(v){this._scopeListeners.push(v)}addEventProcessor(v){return this._eventProcessors.push(v),this}setUser(v){return this._user=v||{},this._session&&(0,p.CT)(this._session,{user:v}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(v){return this._requestSession=v,this}setTags(v){return this._tags=Je(Je({},this._tags),v),this._notifyScopeListeners(),this}setTag(v,M){return this._tags=_i(Je({},this._tags),{[v]:M}),this._notifyScopeListeners(),this}setExtras(v){return this._extra=Je(Je({},this._extra),v),this._notifyScopeListeners(),this}setExtra(v,M){return this._extra=_i(Je({},this._extra),{[v]:M}),this._notifyScopeListeners(),this}setFingerprint(v){return this._fingerprint=v,this._notifyScopeListeners(),this}setLevel(v){return this._level=v,this._notifyScopeListeners(),this}setTransactionName(v){return this._transactionName=v,this._notifyScopeListeners(),this}setContext(v,M){return null===M?delete this._contexts[v]:this._contexts=_i(Je({},this._contexts),{[v]:M}),this._notifyScopeListeners(),this}setSpan(v){return this._span=v,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var v=this.getSpan();return v&&v.transaction}setSession(v){return v?this._session=v:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(v){if(!v)return this;if("function"==typeof v){var M=v(this);return M instanceof f?M:this}return v instanceof f?(this._tags=Je(Je({},this._tags),v._tags),this._extra=Je(Je({},this._extra),v._extra),this._contexts=Je(Je({},this._contexts),v._contexts),v._user&&Object.keys(v._user).length&&(this._user=v._user),v._level&&(this._level=v._level),v._fingerprint&&(this._fingerprint=v._fingerprint),v._requestSession&&(this._requestSession=v._requestSession)):(0,h.PO)(v)&&(v=v,this._tags=Je(Je({},this._tags),v.tags),this._extra=Je(Je({},this._extra),v.extra),this._contexts=Je(Je({},this._contexts),v.contexts),v.user&&(this._user=v.user),v.level&&(this._level=v.level),v.fingerprint&&(this._fingerprint=v.fingerprint),v.requestSession&&(this._requestSession=v.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(v,M){var N="number"==typeof M?Math.min(M,100):100;if(N<=0)return this;var k=Je({timestamp:(0,C.yW)()},v);return this._breadcrumbs=[...this._breadcrumbs,k].slice(-N),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(v){return this._attachments.push(v),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(v,M={}){if(this._extra&&Object.keys(this._extra).length&&(v.extra=Je(Je({},this._extra),v.extra)),this._tags&&Object.keys(this._tags).length&&(v.tags=Je(Je({},this._tags),v.tags)),this._user&&Object.keys(this._user).length&&(v.user=Je(Je({},this._user),v.user)),this._contexts&&Object.keys(this._contexts).length&&(v.contexts=Je(Je({},this._contexts),v.contexts)),this._level&&(v.level=this._level),this._transactionName&&(v.transaction=this._transactionName),this._span){v.contexts=Je({trace:this._span.getTraceContext()},v.contexts);var N=this._span.transaction&&this._span.transaction.name;N&&(v.tags=Je({transaction:N},v.tags))}return this._applyFingerprint(v),v.breadcrumbs=[...v.breadcrumbs||[],...this._breadcrumbs],v.breadcrumbs=v.breadcrumbs.length>0?v.breadcrumbs:void 0,v.sdkProcessingMetadata=Je(Je({},v.sdkProcessingMetadata),this._sdkProcessingMetadata),this._notifyEventProcessors([...E(),...this._eventProcessors],v,M)}setSDKProcessingMetadata(v){return this._sdkProcessingMetadata=Je(Je({},this._sdkProcessingMetadata),v),this}_notifyEventProcessors(v,M,N,k=0){return new b.cW((G,z)=>{var L=v[k];if(null===M||"function"!=typeof L)G(M);else{var j=L(Je({},M),N);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&L.id&&null===j&&S.kg.log(`Event processor "${L.id}" dropped event`),(0,h.J8)(j)?j.then(F=>this._notifyEventProcessors(v,F,N,k+1).then(G)).then(null,z):this._notifyEventProcessors(v,j,N,k+1).then(G).then(null,z)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(v=>{v(this)}),this._notifyingListeners=!1)}_applyFingerprint(v){v.fingerprint=v.fingerprint?(0,m.lE)(v.fingerprint):[],this._fingerprint&&(v.fingerprint=v.fingerprint.concat(this._fingerprint)),v.fingerprint&&!v.fingerprint.length&&delete v.fingerprint}}function E(){return(0,_.Y)("globalEventProcessors",()=>[])}function T(d){E().push(d)}},1539:(Me,U,w)=>{"use strict";w.d(U,{RJ:()=>_,Hv:()=>S,CT:()=>m});var h=w(3967),C=w(5535),b=w(7759);function S(g){var f=(0,h.ph)(),E={sid:(0,C.DM)(),init:!0,timestamp:f,started:f,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function p(g){return(0,b.Jr)({sid:`${g.sid}`,init:g.init,started:new Date(1e3*g.started).toISOString(),timestamp:new Date(1e3*g.timestamp).toISOString(),status:g.status,errors:g.errors,did:"number"==typeof g.did||"string"==typeof g.did?`${g.did}`:void 0,duration:g.duration,attrs:{release:g.release,environment:g.environment,ip_address:g.ipAddress,user_agent:g.userAgent}})}(E)};return g&&m(E,g),E}function m(g,f={}){if(f.user&&(!g.ipAddress&&f.user.ip_address&&(g.ipAddress=f.user.ip_address),!g.did&&!f.did&&(g.did=f.user.id||f.user.email||f.user.username)),g.timestamp=f.timestamp||(0,h.ph)(),f.ignoreDuration&&(g.ignoreDuration=f.ignoreDuration),f.sid&&(g.sid=32===f.sid.length?f.sid:(0,C.DM)()),void 0!==f.init&&(g.init=f.init),!g.did&&f.did&&(g.did=`${f.did}`),"number"==typeof f.started&&(g.started=f.started),g.ignoreDuration)g.duration=void 0;else if("number"==typeof f.duration)g.duration=f.duration;else{var E=g.timestamp-g.started;g.duration=E>=0?E:0}f.release&&(g.release=f.release),f.environment&&(g.environment=f.environment),!g.ipAddress&&f.ipAddress&&(g.ipAddress=f.ipAddress),!g.userAgent&&f.userAgent&&(g.userAgent=f.userAgent),"number"==typeof f.errors&&(g.errors=f.errors),f.status&&(g.status=f.status)}function _(g,f){let E={};f?E={status:f}:"ok"===g.status&&(E={status:"exited"}),m(g,E)}},752:(Me,U,w)=>{"use strict";w.d(U,{ro:()=>z,lb:()=>N});var h=w(9248),C=w(1446),b=w(6412),S=w(723),m=w(3343),_=w(1255);function g(){var L=(0,_.x1)();if(L){var j="internal_error";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log(`[Tracing] Transaction: ${j} -> Global error occured`),L.setStatus(j)}}var f=w(9819),E=w(7583);function T(){var L=this.getScope();if(L){var j=L.getSpan();if(j)return{"sentry-trace":j.toTraceparent()}}return{}}function d(L,j,F){if(!(0,_.zu)(j))return L.sampled=!1,L;if(void 0!==L.sampled)return L.setMetadata({transactionSampling:{method:"explicitly_set"}}),L;let W;return"function"==typeof j.tracesSampler?(W=j.tracesSampler(F),L.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(W)}})):void 0!==F.parentSampled?(W=F.parentSampled,L.setMetadata({transactionSampling:{method:"inheritance"}})):(W=j.tracesSampleRate,L.setMetadata({transactionSampling:{method:"client_rate",rate:Number(W)}})),function v(L){return(0,b.i2)(L)||"number"!=typeof L&&"boolean"!=typeof L?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(L)} of type ${JSON.stringify(typeof L)}.`),!1):!(L<0||L>1)||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${L}.`),!1)}(W)?W?(L.sampled=Math.random()<W,L.sampled?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log(`[Tracing] starting ${L.op} transaction - ${L.name}`),L):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(W)})`),L)):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log("[Tracing] Discarding transaction because "+("function"==typeof j.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),L.sampled=!1,L):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),L.sampled=!1,L)}function M(L,j){var F=this.getClient(),W=F&&F.getOptions()||{};let Q=new E.Y(L,this);return Q=d(Q,W,Je({parentSampled:L.parentSampled,transactionContext:L},j)),Q.sampled&&Q.initSpanRecorder(W._experiments&&W._experiments.maxSpans),Q}function N(L,j,F,W,Q,$){var oe=L.getClient(),J=oe&&oe.getOptions()||{};let de=new f.io(j,L,F,W,Q);return de=d(de,J,Je({parentSampled:j.parentSampled,transactionContext:j},$)),de.sampled&&de.initSpanRecorder(J._experiments&&J._experiments.maxSpans),de}function z(){(function k(){var L=(0,h.cu)();!L.__SENTRY__||(L.__SENTRY__.extensions=L.__SENTRY__.extensions||{},L.__SENTRY__.extensions.startTransaction||(L.__SENTRY__.extensions.startTransaction=M),L.__SENTRY__.extensions.traceHeaders||(L.__SENTRY__.extensions.traceHeaders=T))})(),(0,S.KV)()&&function G(){var L=(0,h.cu)();if(L.__SENTRY__){var j={mongodb:()=>new((0,S.l$)(Me,"./integrations/node/mongo").Mongo),mongoose:()=>new((0,S.l$)(Me,"./integrations/node/mongo").Mongo)({mongoose:!0}),mysql:()=>new((0,S.l$)(Me,"./integrations/node/mysql").Mysql),pg:()=>new((0,S.l$)(Me,"./integrations/node/postgres").Postgres)},F=Object.keys(j).filter(W=>!!(0,S.$y)(W)).map(W=>{try{return j[W]()}catch(Q){return}}).filter(W=>W);F.length>0&&(L.__SENTRY__.integrations=[...L.__SENTRY__.integrations||[],...F])}}(),function p(){(0,m.o)("error",g),(0,m.o)("unhandledrejection",g)}()}Me=w.hmd(Me)},9819:(Me,U,w)=>{"use strict";w.d(U,{mg:()=>_,nT:()=>m,io:()=>f});var h=w(3967),C=w(1446),b=w(6190),S=w(7583),m=1e3,_=3e4;class g extends b.gB{constructor(d,v,M,N){super(N),this._pushActivity=d,this._popActivity=v,this.transactionSpanId=M}add(d){d.spanId!==this.transactionSpanId&&(d.finish=v=>{d.endTimestamp="number"==typeof v?v:(0,h._I)(),this._popActivity(d.spanId)},void 0===d.endTimestamp&&this._pushActivity(d.spanId)),super.add(d)}}class f extends S.Y{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(d,v,M=m,N=_,k=!1){super(d,v),this._idleHub=v,this._idleTimeout=M,this._finalTimeout=N,this._onScope=k,f.prototype.__init.call(this),f.prototype.__init2.call(this),f.prototype.__init3.call(this),f.prototype.__init4.call(this),k&&(E(v),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),v.configureScope(G=>G.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(d=(0,h._I)()){if(this._finished=!0,this.activities={},this.spanRecorder){for(var v of(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*d).toISOString(),this.op),this._beforeFinishCallbacks))v(this,d);this.spanRecorder.spans=this.spanRecorder.spans.filter(M=>{if(M.spanId===this.spanId)return!0;M.endTimestamp||(M.endTimestamp=d,M.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(M,void 0,2)));var N=M.startTimestamp<d;return N||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(M,void 0,2)),N}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&E(this._idleHub),super.finish(d)}registerBeforeFinishCallback(d){this._beforeFinishCallbacks.push(d)}initSpanRecorder(d){this.spanRecorder||(this.spanRecorder=new g(N=>{this._finished||this._pushActivity(N)},N=>{this._finished||this._popActivity(N)},this.spanId,d),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(d){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&0===Object.keys(this.activities).length&&this.finish(d)},this._idleTimeout)}_pushActivity(d){this._cancelIdleTimeout(),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log(`[Tracing] pushActivity: ${d}`),this.activities[d]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(d){if(this.activities[d]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log(`[Tracing] popActivity ${d}`),delete this.activities[d],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var v=(0,h._I)()+this._idleTimeout/1e3;this._startIdleTimeout(v)}}_beat(){if(!this._finished){var d=Object.keys(this.activities).join("");d===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=d,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},5e3)}}function E(T){var d=T.getScope();d&&d.getTransaction()&&d.setSpan(void 0)}},6190:(Me,U,w)=>{"use strict";w.d(U,{Dr:()=>p,gB:()=>_});var h=w(7516),C=w(5535),b=w(3967),S=w(1446),m=w(7759);class _{__init(){this.spans=[]}constructor(E=1e3){_.prototype.__init.call(this),this._maxlen=E}add(E){this.spans.length>this._maxlen?E.spanRecorder=void 0:this.spans.push(E)}}class p{__init2(){this.traceId=(0,C.DM)()}__init3(){this.spanId=(0,C.DM)().substring(16)}__init4(){this.startTimestamp=(0,b._I)()}__init5(){this.tags={}}__init6(){this.data={}}constructor(E){if(p.prototype.__init2.call(this),p.prototype.__init3.call(this),p.prototype.__init4.call(this),p.prototype.__init5.call(this),p.prototype.__init6.call(this),!E)return this;E.traceId&&(this.traceId=E.traceId),E.spanId&&(this.spanId=E.spanId),E.parentSpanId&&(this.parentSpanId=E.parentSpanId),"sampled"in E&&(this.sampled=E.sampled),E.op&&(this.op=E.op),E.description&&(this.description=E.description),E.data&&(this.data=E.data),E.tags&&(this.tags=E.tags),E.status&&(this.status=E.status),E.startTimestamp&&(this.startTimestamp=E.startTimestamp),E.endTimestamp&&(this.endTimestamp=E.endTimestamp)}startChild(E){var T=new p(_i(Je({},E),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));if(T.spanRecorder=this.spanRecorder,T.spanRecorder&&T.spanRecorder.add(T),T.transaction=this.transaction,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.transaction){var N=`[Tracing] Starting '${E&&E.op||"< unknown op >"}' span on transaction '${T.transaction.name||"< unknown name >"}' (${T.transaction.spanId}).`;T.transaction.metadata.spanMetadata[T.spanId]={logMessage:N},S.kg.log(N)}return T}setTag(E,T){return this.tags=_i(Je({},this.tags),{[E]:T}),this}setData(E,T){return this.data=_i(Je({},this.data),{[E]:T}),this}setStatus(E){return this.status=E,this}setHttpStatus(E){this.setTag("http.status_code",String(E));var T=function g(f){if(f<400&&f>=100)return"ok";if(f>=400&&f<500)switch(f){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(f>=500&&f<600)switch(f){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(E);return"unknown_error"!==T&&this.setStatus(T),this}isSuccess(){return"ok"===this.status}finish(E){if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:T}=this.transaction.metadata.spanMetadata[this.spanId];T&&S.kg.log(T.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof E?E:(0,b._I)()}toTraceparent(){let E="";return void 0!==this.sampled&&(E=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${E}`}toContext(){return(0,m.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(E){return this.data=(0,h.h)(E.data,()=>({})),this.description=E.description,this.endTimestamp=E.endTimestamp,this.op=E.op,this.parentSpanId=E.parentSpanId,this.sampled=E.sampled,this.spanId=(0,h.h)(E.spanId,()=>this.spanId),this.startTimestamp=(0,h.h)(E.startTimestamp,()=>this.startTimestamp),this.status=E.status,this.tags=(0,h.h)(E.tags,()=>({})),this.traceId=(0,h.h)(E.traceId,()=>this.traceId),this}getTraceContext(){return(0,m.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,m.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}},7583:(Me,U,w)=>{"use strict";w.d(U,{Y:()=>p});var h=w(7516),C=w(9248),b=w(1446),S=w(7759),m=w(9981),_=w(6190);class p extends _.Dr{__init(){this._measurements={}}constructor(f,E){super(f),p.prototype.__init.call(this),this._hub=E||(0,C.Gd)(),this._name=f.name||"",this.metadata=_i(Je({},f.metadata),{spanMetadata:{}}),this._trimEnd=f.trimEnd,this.transaction=this}get name(){return this._name}set name(f){this._name=f,this.metadata.source="custom"}setName(f,E="custom"){this.name=f,this.metadata.source=E}initSpanRecorder(f=1e3){this.spanRecorder||(this.spanRecorder=new _.gB(f)),this.spanRecorder.add(this)}setMeasurement(f,E,T=""){this._measurements[f]={value:E,unit:T}}setMetadata(f){this.metadata=Je(Je({},this.metadata),f)}finish(f){if(void 0===this.endTimestamp){if(this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&b.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(f),!0!==this.sampled){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&b.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var E=this._hub.getClient();return void(E&&E.recordDroppedEvent("sample_rate","transaction"))}var T=this.spanRecorder?this.spanRecorder.spans.filter(N=>N!==this&&N.endTimestamp):[];this._trimEnd&&T.length>0&&(this.endTimestamp=T.reduce((N,k)=>N.endTimestamp&&k.endTimestamp?N.endTimestamp>k.endTimestamp?N:k:N).endTimestamp);var d=this.metadata,v=Je({contexts:{trace:this.getTraceContext()},spans:T,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:_i(Je({},d),{baggage:this.getBaggage()})},d.source&&{transaction_info:{source:d.source}});return Object.keys(this._measurements).length>0&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&b.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),v.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&b.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(v)}}toContext(){var f=super.toContext();return(0,S.Jr)(_i(Je({},f),{name:this.name,trimEnd:this._trimEnd}))}updateWithContext(f){return super.updateWithContext(f),this.name=(0,h.h)(f.name,()=>""),this._trimEnd=f.trimEnd,this}getBaggage(){var f=this.metadata.baggage,E=!f||(0,m.Gp)(f)?this._populateBaggageWithSentryValues(f):f;return this.metadata.baggage=E,E}_populateBaggageWithSentryValues(f=(0,m.Hn)({})){var E=this._hub||(0,C.Gd)(),T=E&&E.getClient();if(!T)return f;const{environment:d,release:v}=T.getOptions()||{},{publicKey:M}=T.getDsn()||{};var N=this.metadata&&this.metadata.transactionSampling&&this.metadata.transactionSampling.rate&&this.metadata.transactionSampling.rate.toString(),k=E.getScope();const{segment:G}=k&&k.getUser()||{};var z=this.metadata.source;return(0,m.Hn)((0,S.Jr)(Je({environment:d,release:v,transaction:z&&"url"!==z?this.name:void 0,user_segment:G,public_key:M,trace_id:this.traceId,sample_rate:N},(0,m.Hk)(f))),"",!1)}}},1255:(Me,U,w)=>{"use strict";w.d(U,{x1:()=>b,zu:()=>C,XL:()=>S});var h=w(9248);function C(_){var p=(0,h.Gd)().getClient(),g=_||p&&p.getOptions();return!!g&&("tracesSampleRate"in g||"tracesSampler"in g)}function b(_){var g=(_||(0,h.Gd)()).getScope();return g&&g.getTransaction()}function S(_){return _/1e3}},9981:(Me,U,w)=>{"use strict";w.d(U,{bU:()=>b,Hn:()=>p,Hk:()=>T,Gp:()=>v,J8:()=>G,rg:()=>z});var h=w(6412),C=w(1446),b="baggage",m=/^sentry-/;function p(L,j="",F=!0){return[Je({},L),j,F]}function T(L){return L[0]}function v(L){return L[2]}function k(L,j=!1){return!Array.isArray(L)&&!(0,h.HD)(L)||"number"==typeof L?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.warn("[parseBaggageHeader] Received input value of incompatible type: ",typeof L,L),p({},"")):((0,h.HD)(L)?L:L.join(",")).split(",").map(W=>W.trim()).filter(W=>""!==W&&(j||m.test(W))).reduce(([W,Q],$)=>{const[oe,J]=$.split("=");if(m.test(oe)){var de=decodeURIComponent(oe.split("-")[1]);return[_i(Je({},W),{[de]:decodeURIComponent(J)}),Q,!0]}return[W,""===Q?$:`${Q},${$}`,!0]},[{},"",!0])}function G(L,j){if(!L&&!j)return"";var F=j&&k(j,!0)||void 0,W=F&&function d(L){return L[1]}(F);return function N(L){return Object.keys(L[0]).reduce((j,F)=>{var W=L[0][F],Q=`sentry-${encodeURIComponent(F)}=${encodeURIComponent(W)}`,$=""===j?Q:`${j},${Q}`;return $.length>8192?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.warn(`Not adding key: ${F} with val: ${W} to baggage due to exceeding baggage size limits.`),j):$},L[1])}(p(L&&L[0]||{},W||""))}function z(L,j){var F=k(L||"");return(j||!function E(L){return 0===Object.keys(L[0]).length}(F))&&function M(L){L[2]=!1}(F),F}},6477:(Me,U,w)=>{"use strict";w.d(U,{qT:()=>_,l4:()=>m,Rt:()=>b});var h=w(7576),C=w(6412);function b(p,g){try{let M=p;var T=[];let N=0,k=0;var v=" > ".length;let G;for(;M&&N++<5&&(G=S(M,g),!("html"===G||N>1&&k+T.length*v+G.length>=80));)T.push(G),k+=G.length,M=M.parentNode;return T.reverse().join(" > ")}catch(M){return"<unknown>"}}function S(p,g){var f=p,E=[];let T,d,v,M,N;if(!f||!f.tagName)return"";E.push(f.tagName.toLowerCase());var k=g&&g.length?g.filter(z=>f.getAttribute(z)).map(z=>[z,f.getAttribute(z)]):null;if(k&&k.length)k.forEach(z=>{E.push(`[${z[0]}="${z[1]}"]`)});else if(f.id&&E.push(`#${f.id}`),T=f.className,T&&(0,C.HD)(T))for(d=T.split(/\s+/),N=0;N<d.length;N++)E.push(`.${d[N]}`);var G=["type","name","title","alt"];for(N=0;N<G.length;N++)v=G[N],M=f.getAttribute(v),M&&E.push(`[${v}="${M}"]`);return E.join("")}function m(){var p=(0,h.R)();try{return p.document.location.href}catch(g){return""}}function _(p){var g=(0,h.R)();return g.document&&g.document.querySelector?g.document.querySelector(p):null}},7516:(Me,U,w)=>{"use strict";function h(C,b){return null!=C?C:b()}w.d(U,{h:()=>h})},7576:(Me,U,w)=>{"use strict";w.d(U,{R:()=>b,Y:()=>S});var h=w(723),C={};function b(){return(0,h.KV)()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:C}function S(m,_,p){var g=p||b(),f=g.__SENTRY__=g.__SENTRY__||{};return f[m]||(f[m]=_())}},3343:(Me,U,w)=>{"use strict";w.d(U,{o:()=>T});var h=w(7576),C=w(6412),b=w(1446),S=w(7759),m=w(9725),_=w(8204),p=(0,h.R)(),g={},f={};function T(K,ue){g[K]=g[K]||[],g[K].push(ue),function E(K){if(!f[K])switch(f[K]=!0,K){case"console":!function v(){"console"in p&&b.RU.forEach(function(K){K in p.console&&(0,S.hl)(p.console,K,function(ue){return function(...te){d("console",{args:te,level:K}),ue&&ue.apply(p.console,te)}})})}();break;case"dom":!function J(){if("document"in p){var K=d.bind(null,"dom"),ue=oe(K,!0);p.document.addEventListener("click",ue,!1),p.document.addEventListener("keypress",ue,!1),["EventTarget","Node"].forEach(te=>{var we=p[te]&&p[te].prototype;!we||!we.hasOwnProperty||!we.hasOwnProperty("addEventListener")||((0,S.hl)(we,"addEventListener",function(le){return function(he,ge,Ge){if("click"===he||"keypress"==he)try{var Le=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},It=Le[he]=Le[he]||{refCount:0};if(!It.handler){var Ze=oe(K);It.handler=Ze,le.call(this,he,Ze,Ge)}It.refCount+=1}catch(Ve){}return le.call(this,he,ge,Ge)}}),(0,S.hl)(we,"removeEventListener",function(le){return function(he,ge,Ge){if("click"===he||"keypress"==he)try{var Le=this.__sentry_instrumentation_handlers__||{},It=Le[he];It&&(It.refCount-=1,It.refCount<=0&&(le.call(this,he,It.handler,Ge),It.handler=void 0,delete Le[he]),0===Object.keys(Le).length&&delete this.__sentry_instrumentation_handlers__)}catch(Ze){}return le.call(this,he,ge,Ge)}}))})}}();break;case"xhr":!function G(){if("XMLHttpRequest"in p){var K=XMLHttpRequest.prototype;(0,S.hl)(K,"open",function(ue){return function(...te){var we=this,le=te[1],he=we.__sentry_xhr__={method:(0,C.HD)(te[0])?te[0].toUpperCase():te[0],url:te[1]};(0,C.HD)(le)&&"POST"===he.method&&le.match(/sentry_key/)&&(we.__sentry_own_request__=!0);var ge=function(){if(4===we.readyState){try{he.status_code=we.status}catch(Ge){}d("xhr",{args:te,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:we})}};return"onreadystatechange"in we&&"function"==typeof we.onreadystatechange?(0,S.hl)(we,"onreadystatechange",function(Ge){return function(...tt){return ge(),Ge.apply(we,tt)}}):we.addEventListener("readystatechange",ge),ue.apply(we,te)}}),(0,S.hl)(K,"send",function(ue){return function(...te){return this.__sentry_xhr__&&void 0!==te[0]&&(this.__sentry_xhr__.body=te[0]),d("xhr",{args:te,startTimestamp:Date.now(),xhr:this}),ue.apply(this,te)}})}}();break;case"fetch":!function M(){!(0,_.t$)()||(0,S.hl)(p,"fetch",function(K){return function(...ue){var te={args:ue,fetchData:{method:N(ue),url:k(ue)},startTimestamp:Date.now()};return d("fetch",Je({},te)),K.apply(p,ue).then(we=>(d("fetch",_i(Je({},te),{endTimestamp:Date.now(),response:we})),we),we=>{throw d("fetch",_i(Je({},te),{endTimestamp:Date.now(),error:we})),we})}})}();break;case"history":!function L(){if((0,_.Bf)()){var K=p.onpopstate;p.onpopstate=function(...te){var we=p.location.href,le=z;if(z=we,d("history",{from:le,to:we}),K)try{return K.apply(this,te)}catch(he){}},(0,S.hl)(p.history,"pushState",ue),(0,S.hl)(p.history,"replaceState",ue)}function ue(te){return function(...we){var le=we.length>2?we[2]:void 0;if(le){var he=z,ge=String(le);z=ge,d("history",{from:he,to:ge})}return te.apply(this,we)}}}();break;case"error":!function Re(){de=p.onerror,p.onerror=function(K,ue,te,we,le){return d("error",{column:we,error:le,line:te,msg:K,url:ue}),!!de&&de.apply(this,arguments)}}();break;case"unhandledrejection":!function Pe(){Te=p.onunhandledrejection,p.onunhandledrejection=function(K){return d("unhandledrejection",K),!Te||Te.apply(this,arguments)}}();break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&b.kg.warn("unknown instrumentation type:",K))}}(K)}function d(K,ue){if(K&&g[K])for(var te of g[K]||[])try{te(ue)}catch(we){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&b.kg.error(`Error while triggering instrumentation handler.\nType: ${K}\nName: ${(0,m.$P)(te)}\nError:`,we)}}function N(K=[]){return"Request"in p&&(0,C.V9)(K[0],Request)&&K[0].method?String(K[0].method).toUpperCase():K[1]&&K[1].method?String(K[1].method).toUpperCase():"GET"}function k(K=[]){return"string"==typeof K[0]?K[0]:"Request"in p&&(0,C.V9)(K[0],Request)?K[0].url:String(K[0])}let z,F,W;function oe(K,ue=!1){return te=>{if(te&&W!==te&&!function $(K){if("keypress"!==K.type)return!1;try{var ue=K.target;if(!ue||!ue.tagName)return!0;if("INPUT"===ue.tagName||"TEXTAREA"===ue.tagName||ue.isContentEditable)return!1}catch(te){}return!0}(te)){var we="keypress"===te.type?"input":te.type;(void 0===F||function Q(K,ue){if(!K||K.type!==ue.type)return!0;try{if(K.target!==ue.target)return!0}catch(te){}return!1}(W,te))&&(K({event:te,name:we,global:ue}),W=te),clearTimeout(F),F=p.setTimeout(()=>{F=void 0},1e3)}}}let de=null,Te=null},6412:(Me,U,w)=>{"use strict";w.d(U,{TX:()=>m,fm:()=>_,kK:()=>T,VZ:()=>C,VW:()=>S,cO:()=>E,V9:()=>k,i2:()=>N,PO:()=>f,pt:()=>g,Kj:()=>d,HD:()=>p,Cy:()=>M,J8:()=>v});var h=Object.prototype.toString;function C(G){switch(h.call(G)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return k(G,Error)}}function b(G,z){return h.call(G)===`[object ${z}]`}function S(G){return b(G,"ErrorEvent")}function m(G){return b(G,"DOMError")}function _(G){return b(G,"DOMException")}function p(G){return b(G,"String")}function g(G){return null===G||"object"!=typeof G&&"function"!=typeof G}function f(G){return b(G,"Object")}function E(G){return"undefined"!=typeof Event&&k(G,Event)}function T(G){return"undefined"!=typeof Element&&k(G,Element)}function d(G){return b(G,"RegExp")}function v(G){return Boolean(G&&G.then&&"function"==typeof G.then)}function M(G){return f(G)&&"nativeEvent"in G&&"preventDefault"in G&&"stopPropagation"in G}function N(G){return"number"==typeof G&&G!=G}function k(G,z){try{return G instanceof z}catch(L){return!1}}},1446:(Me,U,w)=>{"use strict";w.d(U,{RU:()=>S,Cf:()=>m,kg:()=>p});var h=w(7576),C=(0,h.R)(),S=["debug","info","warn","error","log","assert","trace"];function m(g){var f=(0,h.R)();if(!("console"in f))return g();var E=f.console,T={};S.forEach(d=>{var v=E[d]&&E[d].__sentry_original__;d in f.console&&v&&(T[d]=E[d],E[d]=v)});try{return g()}finally{Object.keys(T).forEach(d=>{E[d]=T[d]})}}function _(){let g=!1;var f={enable:()=>{g=!0},disable:()=>{g=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?S.forEach(E=>{f[E]=(...T)=>{g&&m(()=>{C.console[E](`Sentry Logger [${E}]:`,...T)})}}):S.forEach(E=>{f[E]=()=>{}}),f}let p;p="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,h.Y)("logger",_):_()},5535:(Me,U,w)=>{"use strict";w.d(U,{EG:()=>p,Db:()=>_,lE:()=>d,YO:()=>T,jH:()=>m,DM:()=>b});var h=w(7576),C=w(7759);function b(){var v=(0,h.R)(),M=v.crypto||v.msCrypto;if(M&&M.randomUUID)return M.randomUUID().replace(/-/g,"");var N=M&&M.getRandomValues?()=>M.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,k=>(k^(15&N())>>k/4).toString(16))}function S(v){return v.exception&&v.exception.values?v.exception.values[0]:void 0}function m(v){const{message:M,event_id:N}=v;if(M)return M;var k=S(v);return k?k.type&&k.value?`${k.type}: ${k.value}`:k.type||k.value||N||"<unknown>":N||"<unknown>"}function _(v,M,N){var k=v.exception=v.exception||{},G=k.values=k.values||[],z=G[0]=G[0]||{};z.value||(z.value=M||""),z.type||(z.type=N||"Error")}function p(v,M){var N=S(v);if(N){var G=N.mechanism;if(N.mechanism=Je(Je(Je({},{type:"generic",handled:!0}),G),M),M&&"data"in M){var z=Je(Je({},G&&G.data),M.data);N.mechanism.data=z}}}function T(v){if(v&&v.__sentry_captured__)return!0;try{(0,C.xp)(v,"__sentry_captured__",!0)}catch(M){}return!1}function d(v){return Array.isArray(v)?v:[v]}},723:(Me,U,w)=>{"use strict";function C(){return!function h(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function b(m,_){return m.require(_)}function S(m){let _;try{_=b(Me,m)}catch(p){}try{const{cwd:p}=b(Me,"process");_=b(Me,`${p()}/node_modules/${m}`)}catch(p){}return _}w.d(U,{l$:()=>b,KV:()=>C,$y:()=>S}),Me=w.hmd(Me)},7759:(Me,U,w)=>{"use strict";w.d(U,{xp:()=>m,Sh:()=>f,Jr:()=>v,zf:()=>d,hl:()=>S,HK:()=>p,$Q:()=>_,_j:()=>g});var h=w(6477),C=w(6412),b=w(1090);function S(k,G,z){if(G in k){var L=k[G],j=z(L);if("function"==typeof j)try{_(j,L)}catch(F){}k[G]=j}}function m(k,G,z){Object.defineProperty(k,G,{value:z,writable:!0,configurable:!0})}function _(k,G){k.prototype=G.prototype=G.prototype||{},m(k,"__sentry_original__",G)}function p(k){return k.__sentry_original__}function g(k){return Object.keys(k).map(G=>`${encodeURIComponent(G)}=${encodeURIComponent(k[G])}`).join("&")}function f(k){if((0,C.VZ)(k))return Je({message:k.message,name:k.name,stack:k.stack},T(k));if((0,C.cO)(k)){var G=Je({type:k.type,target:E(k.target),currentTarget:E(k.currentTarget)},T(k));return"undefined"!=typeof CustomEvent&&(0,C.V9)(k,CustomEvent)&&(G.detail=k.detail),G}return k}function E(k){try{return(0,C.kK)(k)?(0,h.Rt)(k):Object.prototype.toString.call(k)}catch(G){return"<unknown>"}}function T(k){if("object"==typeof k&&null!==k){var G={};for(var z in k)Object.prototype.hasOwnProperty.call(k,z)&&(G[z]=k[z]);return G}return{}}function d(k,G=40){var z=Object.keys(f(k));if(z.sort(),!z.length)return"[object has no keys]";if(z[0].length>=G)return(0,b.$G)(z[0],G);for(let j=z.length;j>0;j--){var L=z.slice(0,j).join(", ");if(!(L.length>G))return j===z.length?L:(0,b.$G)(L,G)}return""}function v(k){return M(k,new Map)}function M(k,G){if((0,C.PO)(k)){if(void 0!==(z=G.get(k)))return z;var L={};for(var j of(G.set(k,L),Object.keys(k)))void 0!==k[j]&&(L[j]=M(k[j],G));return L}var z;return Array.isArray(k)?void 0!==(z=G.get(k))?z:(G.set(k,L=[]),k.forEach(Q=>{L.push(M(Q,G))}),L):k}},9725:(Me,U,w)=>{"use strict";function C(...f){var E=f.sort((T,d)=>T[0]-d[0]).map(T=>T[1]);return(T,d=0)=>{var v=[];for(var M of T.split("\n").slice(d)){var N=M.replace(/\(error: (.*)\)/,"$1");for(var k of E){var G=k(N);if(G){v.push(G);break}}}return function S(f){if(!f.length)return[];let E=f;var T=E[0].function||"",d=E[E.length-1].function||"";return(-1!==T.indexOf("captureMessage")||-1!==T.indexOf("captureException"))&&(E=E.slice(1)),-1!==d.indexOf("sentryWrapped")&&(E=E.slice(0,-1)),E.slice(0,50).map(v=>_i(Je({},v),{filename:v.filename||E[0].filename,function:v.function||"?"})).reverse()}(v)}}function b(f){return Array.isArray(f)?C(...f):f}w.d(U,{pE:()=>C,$P:()=>_,Sq:()=>b});var m="<anonymous>";function _(f){try{return f&&"function"==typeof f&&f.name||m}catch(E){return m}}},1090:(Me,U,w)=>{"use strict";w.d(U,{zC:()=>m,nK:()=>S,$G:()=>C});var h=w(6412);function C(p,g=0){return"string"!=typeof p||0===g||p.length<=g?p:`${p.substr(0,g)}...`}function S(p,g){if(!Array.isArray(p))return"";var f=[];for(let T=0;T<p.length;T++){var E=p[T];try{f.push(String(E))}catch(d){f.push("[value cannot be serialized]")}}return f.join(g)}function m(p,g){return!!(0,h.HD)(p)&&((0,h.Kj)(g)?g.test(p):"string"==typeof g&&-1!==p.indexOf(g))}},8204:(Me,U,w)=>{"use strict";w.d(U,{Du:()=>p,Ak:()=>_,Bf:()=>T,t$:()=>g});var h=w(7576),C=w(1446);function _(){if(!("fetch"in(0,h.R)()))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(d){return!1}}function p(d){return d&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(d.toString())}function g(){if(!_())return!1;var d=(0,h.R)();if(p(d.fetch))return!0;let v=!1;var M=d.document;if(M&&"function"==typeof M.createElement)try{var N=M.createElement("iframe");N.hidden=!0,M.head.appendChild(N),N.contentWindow&&N.contentWindow.fetch&&(v=p(N.contentWindow.fetch)),M.head.removeChild(N)}catch(k){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",k)}return v}function T(){var d=(0,h.R)(),v=d.chrome;return!(v&&v.app&&v.app.runtime||!("history"in d)||!d.history.pushState||!d.history.replaceState)}},509:(Me,U,w)=>{"use strict";w.d(U,{cW:()=>m,$2:()=>S,WD:()=>b});var C,_,h=w(6412);function b(_){return new m(p=>{p(_)})}function S(_){return new m((p,g)=>{g(_)})}(_=C||(C={}))[_.PENDING=0]="PENDING",_[_.RESOLVED=1]="RESOLVED",_[_.REJECTED=2]="REJECTED";class m{__init(){this._state=C.PENDING}__init2(){this._handlers=[]}constructor(p){m.prototype.__init.call(this),m.prototype.__init2.call(this),m.prototype.__init3.call(this),m.prototype.__init4.call(this),m.prototype.__init5.call(this),m.prototype.__init6.call(this);try{p(this._resolve,this._reject)}catch(g){this._reject(g)}}then(p,g){return new m((f,E)=>{this._handlers.push([!1,T=>{if(p)try{f(p(T))}catch(d){E(d)}else f(T)},T=>{if(g)try{f(g(T))}catch(d){E(d)}else E(T)}]),this._executeHandlers()})}catch(p){return this.then(g=>g,p)}finally(p){return new m((g,f)=>{let E,T;return this.then(d=>{T=!1,E=d,p&&p()},d=>{T=!0,E=d,p&&p()}).then(()=>{T?f(E):g(E)})})}__init3(){this._resolve=p=>{this._setResult(C.RESOLVED,p)}}__init4(){this._reject=p=>{this._setResult(C.REJECTED,p)}}__init5(){this._setResult=(p,g)=>{if(this._state===C.PENDING){if((0,h.J8)(g))return void g.then(this._resolve,this._reject);this._state=p,this._value=g,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state!==C.PENDING){var p=this._handlers.slice();this._handlers=[],p.forEach(g=>{g[0]||(this._state===C.RESOLVED&&g[1](this._value),this._state===C.REJECTED&&g[2](this._value),g[0]=!0)})}}}}},3967:(Me,U,w)=>{"use strict";w.d(U,{Z1:()=>v,yW:()=>g,ph:()=>f,_I:()=>E});var h=w(7576),C=w(723);Me=w.hmd(Me);var b={nowSeconds:()=>Date.now()/1e3},_=(0,C.KV)()?function m(){try{return(0,C.l$)(Me,"perf_hooks").performance}catch(N){return}}():function S(){const{performance:M}=(0,h.R)();if(M&&M.now)return{now:()=>M.now(),timeOrigin:Date.now()-M.now()}}(),p=void 0===_?b:{nowSeconds:()=>(_.timeOrigin+_.now())/1e3},g=b.nowSeconds.bind(b),f=p.nowSeconds.bind(p),E=f;let d;var v=(()=>{const{performance:M}=(0,h.R)();if(M&&M.now){var N=36e5,k=M.now(),G=Date.now(),z=M.timeOrigin?Math.abs(M.timeOrigin+k-G):N,L=z<N,j=M.timing&&M.timing.navigationStart,W="number"==typeof j?Math.abs(j+k-G):N;return L||W<N?z<=W?(d="timeOrigin",M.timeOrigin):(d="navigationStart",j):(d="dateNow",G)}d="none"})()},5469:Me=>{"use strict";function U(K,ue,te){te=te||2;var Ge,tt,Le,It,Ze,Ve,ae,we=ue&&ue.length,le=we?ue[0]*te:K.length,he=w(K,0,le,te,!0),ge=[];if(!he||he.next===he.prev)return ge;if(we&&(he=function p(K,ue,te,we){var he,ge,Le,le=[];for(he=0,ge=ue.length;he<ge;he++)(Le=w(K,ue[he]*we,he<ge-1?ue[he+1]*we:K.length,we,!1))===Le.next&&(Le.steiner=!0),le.push(N(Le));for(le.sort(g),he=0;he<le.length;he++)te=h(te=f(le[he],te),te.next);return te}(K,ue,he,te)),K.length>80*te){Ge=Le=K[0],tt=It=K[1];for(var _e=te;_e<le;_e+=te)(Ze=K[_e])<Ge&&(Ge=Ze),(Ve=K[_e+1])<tt&&(tt=Ve),Ze>Le&&(Le=Ze),Ve>It&&(It=Ve);ae=0!==(ae=Math.max(Le-Ge,It-tt))?1/ae:0}return C(he,ge,te,Ge,tt,ae),ge}function w(K,ue,te,we,le){var he,ge;if(le===Pe(K,ue,te,we)>0)for(he=ue;he<te;he+=we)ge=de(he,K[he],K[he+1],ge);else for(he=te-we;he>=ue;he-=we)ge=de(he,K[he],K[he+1],ge);return ge&&L(ge,ge.next)&&(Re(ge),ge=ge.next),ge}function h(K,ue){if(!K)return K;ue||(ue=K);var we,te=K;do{if(we=!1,te.steiner||!L(te,te.next)&&0!==z(te.prev,te,te.next))te=te.next;else{if(Re(te),(te=ue=te.prev)===te.next)break;we=!0}}while(we||te!==ue);return ue}function C(K,ue,te,we,le,he,ge){if(K){!ge&&he&&function d(K,ue,te,we){var le=K;do{null===le.z&&(le.z=M(le.x,le.y,ue,te,we)),le.prevZ=le.prev,le.nextZ=le.next,le=le.next}while(le!==K);le.prevZ.nextZ=null,le.prevZ=null,function v(K){var ue,te,we,le,he,ge,Ge,tt,Le=1;do{for(te=K,K=null,he=null,ge=0;te;){for(ge++,we=te,Ge=0,ue=0;ue<Le&&(Ge++,we=we.nextZ);ue++);for(tt=Le;Ge>0||tt>0&&we;)0!==Ge&&(0===tt||!we||te.z<=we.z)?(le=te,te=te.nextZ,Ge--):(le=we,we=we.nextZ,tt--),he?he.nextZ=le:K=le,le.prevZ=he,he=le;te=we}he.nextZ=null,Le*=2}while(ge>1)}(le)}(K,we,le,he);for(var tt,Le,Ge=K;K.prev!==K.next;)if(tt=K.prev,Le=K.next,he?S(K,we,le,he):b(K))ue.push(tt.i/te),ue.push(K.i/te),ue.push(Le.i/te),Re(K),K=Le.next,Ge=Le.next;else if((K=Le)===Ge){ge?1===ge?C(K=m(h(K),ue,te),ue,te,we,le,he,2):2===ge&&_(K,ue,te,we,le,he):C(h(K),ue,te,we,le,he,1);break}}}function b(K){var ue=K.prev,te=K,we=K.next;if(z(ue,te,we)>=0)return!1;for(var le=K.next.next;le!==K.prev;){if(k(ue.x,ue.y,te.x,te.y,we.x,we.y,le.x,le.y)&&z(le.prev,le,le.next)>=0)return!1;le=le.next}return!0}function S(K,ue,te,we){var le=K.prev,he=K,ge=K.next;if(z(le,he,ge)>=0)return!1;for(var Le=le.x>he.x?le.x>ge.x?le.x:ge.x:he.x>ge.x?he.x:ge.x,It=le.y>he.y?le.y>ge.y?le.y:ge.y:he.y>ge.y?he.y:ge.y,Ze=M(le.x<he.x?le.x<ge.x?le.x:ge.x:he.x<ge.x?he.x:ge.x,le.y<he.y?le.y<ge.y?le.y:ge.y:he.y<ge.y?he.y:ge.y,ue,te,we),Ve=M(Le,It,ue,te,we),ae=K.prevZ,_e=K.nextZ;ae&&ae.z>=Ze&&_e&&_e.z<=Ve;){if(ae!==K.prev&&ae!==K.next&&k(le.x,le.y,he.x,he.y,ge.x,ge.y,ae.x,ae.y)&&z(ae.prev,ae,ae.next)>=0||(ae=ae.prevZ,_e!==K.prev&&_e!==K.next&&k(le.x,le.y,he.x,he.y,ge.x,ge.y,_e.x,_e.y)&&z(_e.prev,_e,_e.next)>=0))return!1;_e=_e.nextZ}for(;ae&&ae.z>=Ze;){if(ae!==K.prev&&ae!==K.next&&k(le.x,le.y,he.x,he.y,ge.x,ge.y,ae.x,ae.y)&&z(ae.prev,ae,ae.next)>=0)return!1;ae=ae.prevZ}for(;_e&&_e.z<=Ve;){if(_e!==K.prev&&_e!==K.next&&k(le.x,le.y,he.x,he.y,ge.x,ge.y,_e.x,_e.y)&&z(_e.prev,_e,_e.next)>=0)return!1;_e=_e.nextZ}return!0}function m(K,ue,te){var we=K;do{var le=we.prev,he=we.next.next;!L(le,he)&&j(le,we,we.next,he)&&$(le,he)&&$(he,le)&&(ue.push(le.i/te),ue.push(we.i/te),ue.push(he.i/te),Re(we),Re(we.next),we=K=he),we=we.next}while(we!==K);return h(we)}function _(K,ue,te,we,le,he){var ge=K;do{for(var Ge=ge.next.next;Ge!==ge.prev;){if(ge.i!==Ge.i&&G(ge,Ge)){var tt=J(ge,Ge);return ge=h(ge,ge.next),tt=h(tt,tt.next),C(ge,ue,te,we,le,he),void C(tt,ue,te,we,le,he)}Ge=Ge.next}ge=ge.next}while(ge!==K)}function g(K,ue){return K.x-ue.x}function f(K,ue){var te=function E(K,ue){var ge,te=ue,we=K.x,le=K.y,he=-1/0;do{if(le<=te.y&&le>=te.next.y&&te.next.y!==te.y){var Ge=te.x+(le-te.y)*(te.next.x-te.x)/(te.next.y-te.y);if(Ge<=we&&Ge>he){if(he=Ge,Ge===we){if(le===te.y)return te;if(le===te.next.y)return te.next}ge=te.x<te.next.x?te:te.next}}te=te.next}while(te!==ue);if(!ge)return null;if(we===he)return ge;var Ve,tt=ge,Le=ge.x,It=ge.y,Ze=1/0;te=ge;do{we>=te.x&&te.x>=Le&&we!==te.x&&k(le<It?we:he,le,Le,It,le<It?he:we,le,te.x,te.y)&&(Ve=Math.abs(le-te.y)/(we-te.x),$(te,K)&&(Ve<Ze||Ve===Ze&&(te.x>ge.x||te.x===ge.x&&T(ge,te)))&&(ge=te,Ze=Ve)),te=te.next}while(te!==tt);return ge}(K,ue);if(!te)return ue;var we=J(te,K),le=h(te,te.next);return h(we,we.next),ue===te?le:ue}function T(K,ue){return z(K.prev,K,ue.prev)<0&&z(ue.next,K,K.next)<0}function M(K,ue,te,we,le){return(K=1431655765&((K=858993459&((K=252645135&((K=16711935&((K=32767*(K-te)*le)|K<<8))|K<<4))|K<<2))|K<<1))|(ue=1431655765&((ue=858993459&((ue=252645135&((ue=16711935&((ue=32767*(ue-we)*le)|ue<<8))|ue<<4))|ue<<2))|ue<<1))<<1}function N(K){var ue=K,te=K;do{(ue.x<te.x||ue.x===te.x&&ue.y<te.y)&&(te=ue),ue=ue.next}while(ue!==K);return te}function k(K,ue,te,we,le,he,ge,Ge){return(le-ge)*(ue-Ge)-(K-ge)*(he-Ge)>=0&&(K-ge)*(we-Ge)-(te-ge)*(ue-Ge)>=0&&(te-ge)*(he-Ge)-(le-ge)*(we-Ge)>=0}function G(K,ue){return K.next.i!==ue.i&&K.prev.i!==ue.i&&!function Q(K,ue){var te=K;do{if(te.i!==K.i&&te.next.i!==K.i&&te.i!==ue.i&&te.next.i!==ue.i&&j(te,te.next,K,ue))return!0;te=te.next}while(te!==K);return!1}(K,ue)&&($(K,ue)&&$(ue,K)&&function oe(K,ue){var te=K,we=!1,le=(K.x+ue.x)/2,he=(K.y+ue.y)/2;do{te.y>he!=te.next.y>he&&te.next.y!==te.y&&le<(te.next.x-te.x)*(he-te.y)/(te.next.y-te.y)+te.x&&(we=!we),te=te.next}while(te!==K);return we}(K,ue)&&(z(K.prev,K,ue.prev)||z(K,ue.prev,ue))||L(K,ue)&&z(K.prev,K,K.next)>0&&z(ue.prev,ue,ue.next)>0)}function z(K,ue,te){return(ue.y-K.y)*(te.x-ue.x)-(ue.x-K.x)*(te.y-ue.y)}function L(K,ue){return K.x===ue.x&&K.y===ue.y}function j(K,ue,te,we){var le=W(z(K,ue,te)),he=W(z(K,ue,we)),ge=W(z(te,we,K)),Ge=W(z(te,we,ue));return!!(le!==he&&ge!==Ge||0===le&&F(K,te,ue)||0===he&&F(K,we,ue)||0===ge&&F(te,K,we)||0===Ge&&F(te,ue,we))}function F(K,ue,te){return ue.x<=Math.max(K.x,te.x)&&ue.x>=Math.min(K.x,te.x)&&ue.y<=Math.max(K.y,te.y)&&ue.y>=Math.min(K.y,te.y)}function W(K){return K>0?1:K<0?-1:0}function $(K,ue){return z(K.prev,K,K.next)<0?z(K,ue,K.next)>=0&&z(K,K.prev,ue)>=0:z(K,ue,K.prev)<0||z(K,K.next,ue)<0}function J(K,ue){var te=new Te(K.i,K.x,K.y),we=new Te(ue.i,ue.x,ue.y),le=K.next,he=ue.prev;return K.next=ue,ue.prev=K,te.next=le,le.prev=te,we.next=te,te.prev=we,he.next=we,we.prev=he,we}function de(K,ue,te,we){var le=new Te(K,ue,te);return we?(le.next=we.next,le.prev=we,we.next.prev=le,we.next=le):(le.prev=le,le.next=le),le}function Re(K){K.next.prev=K.prev,K.prev.next=K.next,K.prevZ&&(K.prevZ.nextZ=K.nextZ),K.nextZ&&(K.nextZ.prevZ=K.prevZ)}function Te(K,ue,te){this.i=K,this.x=ue,this.y=te,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Pe(K,ue,te,we){for(var le=0,he=ue,ge=te-we;he<te;he+=we)le+=(K[ge]-K[he])*(K[he+1]+K[ge+1]),ge=he;return le}Me.exports=U,Me.exports.default=U,U.deviation=function(K,ue,te,we){var le=ue&&ue.length,ge=Math.abs(Pe(K,0,le?ue[0]*te:K.length,te));if(le)for(var Ge=0,tt=ue.length;Ge<tt;Ge++)ge-=Math.abs(Pe(K,ue[Ge]*te,Ge<tt-1?ue[Ge+1]*te:K.length,te));var Ze=0;for(Ge=0;Ge<we.length;Ge+=3){var Ve=we[Ge]*te,ae=we[Ge+1]*te,_e=we[Ge+2]*te;Ze+=Math.abs((K[Ve]-K[_e])*(K[ae+1]-K[Ve+1])-(K[Ve]-K[ae])*(K[_e+1]-K[Ve+1]))}return 0===ge&&0===Ze?0:Math.abs((Ze-ge)/ge)},U.flatten=function(K){for(var ue=K[0][0].length,te={vertices:[],holes:[],dimensions:ue},we=0,le=0;le<K.length;le++){for(var he=0;he<K[le].length;he++)for(var ge=0;ge<ue;ge++)te.vertices.push(K[le][he][ge]);le>0&&te.holes.push(we+=K[le-1].length)}return te}},6461:(Me,U)=>{var h;!function(){"use strict";var C=function(){this.init()};C.prototype={init:function(){var d=this||b;return d._counter=1e3,d._html5AudioPool=[],d.html5PoolSize=10,d._codecs={},d._howls=[],d._muted=!1,d._volume=1,d._canPlayEvent="canplaythrough",d._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,d.masterGain=null,d.noAudio=!1,d.usingWebAudio=!0,d.autoSuspend=!0,d.ctx=null,d.autoUnlock=!0,d._setup(),d},volume:function(d){var v=this||b;if(d=parseFloat(d),v.ctx||T(),void 0!==d&&d>=0&&d<=1){if(v._volume=d,v._muted)return v;v.usingWebAudio&&v.masterGain.gain.setValueAtTime(d,b.ctx.currentTime);for(var M=0;M<v._howls.length;M++)if(!v._howls[M]._webAudio)for(var N=v._howls[M]._getSoundIds(),k=0;k<N.length;k++){var G=v._howls[M]._soundById(N[k]);G&&G._node&&(G._node.volume=G._volume*d)}return v}return v._volume},mute:function(d){var v=this||b;v.ctx||T(),v._muted=d,v.usingWebAudio&&v.masterGain.gain.setValueAtTime(d?0:v._volume,b.ctx.currentTime);for(var M=0;M<v._howls.length;M++)if(!v._howls[M]._webAudio)for(var N=v._howls[M]._getSoundIds(),k=0;k<N.length;k++){var G=v._howls[M]._soundById(N[k]);G&&G._node&&(G._node.muted=!!d||G._muted)}return v},stop:function(){for(var d=this||b,v=0;v<d._howls.length;v++)d._howls[v].stop();return d},unload:function(){for(var d=this||b,v=d._howls.length-1;v>=0;v--)d._howls[v].unload();return d.usingWebAudio&&d.ctx&&void 0!==d.ctx.close&&(d.ctx.close(),d.ctx=null,T()),d},codecs:function(d){return(this||b)._codecs[d.replace(/^x-/,"")]},_setup:function(){var d=this||b;if(d.state=d.ctx&&d.ctx.state||"suspended",d._autoSuspend(),!d.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(d._canPlayEvent="canplay")}catch(M){d.noAudio=!0}else d.noAudio=!0;try{(new Audio).muted&&(d.noAudio=!0)}catch(M){}return d.noAudio||d._setupCodecs(),d},_setupCodecs:function(){var d=this||b,v=null;try{v="undefined"!=typeof Audio?new Audio:null}catch(F){return d}if(!v||"function"!=typeof v.canPlayType)return d;var M=v.canPlayType("audio/mpeg;").replace(/^no$/,""),N=d._navigator?d._navigator.userAgent:"",k=N.match(/OPR\/([0-6].)/g),G=k&&parseInt(k[0].split("/")[1],10)<33,z=-1!==N.indexOf("Safari")&&-1===N.indexOf("Chrome"),L=N.match(/Version\/(.*?) /),j=z&&L&&parseInt(L[1],10)<15;return d._codecs={mp3:!(G||!M&&!v.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!M,opus:!!v.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!v.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!v.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(v.canPlayType('audio/wav; codecs="1"')||v.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!v.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!v.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(v.canPlayType("audio/x-m4a;")||v.canPlayType("audio/m4a;")||v.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(v.canPlayType("audio/x-m4b;")||v.canPlayType("audio/m4b;")||v.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(v.canPlayType("audio/x-mp4;")||v.canPlayType("audio/mp4;")||v.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(j||!v.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(j||!v.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!v.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(v.canPlayType("audio/x-flac;")||v.canPlayType("audio/flac;")).replace(/^no$/,"")},d},_unlockAudio:function(){var d=this||b;if(!d._audioUnlocked&&d.ctx){d._audioUnlocked=!1,d.autoUnlock=!1,!d._mobileUnloaded&&44100!==d.ctx.sampleRate&&(d._mobileUnloaded=!0,d.unload()),d._scratchBuffer=d.ctx.createBuffer(1,1,22050);var v=function(M){for(;d._html5AudioPool.length<d.html5PoolSize;)try{var N=new Audio;N._unlocked=!0,d._releaseHtml5Audio(N)}catch(F){d.noAudio=!0;break}for(var k=0;k<d._howls.length;k++)if(!d._howls[k]._webAudio)for(var G=d._howls[k]._getSoundIds(),z=0;z<G.length;z++){var L=d._howls[k]._soundById(G[z]);L&&L._node&&!L._node._unlocked&&(L._node._unlocked=!0,L._node.load())}d._autoResume();var j=d.ctx.createBufferSource();j.buffer=d._scratchBuffer,j.connect(d.ctx.destination),void 0===j.start?j.noteOn(0):j.start(0),"function"==typeof d.ctx.resume&&d.ctx.resume(),j.onended=function(){j.disconnect(0),d._audioUnlocked=!0,document.removeEventListener("touchstart",v,!0),document.removeEventListener("touchend",v,!0),document.removeEventListener("click",v,!0),document.removeEventListener("keydown",v,!0);for(var F=0;F<d._howls.length;F++)d._howls[F]._emit("unlock")}};return document.addEventListener("touchstart",v,!0),document.addEventListener("touchend",v,!0),document.addEventListener("click",v,!0),document.addEventListener("keydown",v,!0),d}},_obtainHtml5Audio:function(){var d=this||b;if(d._html5AudioPool.length)return d._html5AudioPool.pop();var v=(new Audio).play();return v&&"undefined"!=typeof Promise&&(v instanceof Promise||"function"==typeof v.then)&&v.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(d){var v=this||b;return d._unlocked&&v._html5AudioPool.push(d),v},_autoSuspend:function(){var d=this;if(d.autoSuspend&&d.ctx&&void 0!==d.ctx.suspend&&b.usingWebAudio){for(var v=0;v<d._howls.length;v++)if(d._howls[v]._webAudio)for(var M=0;M<d._howls[v]._sounds.length;M++)if(!d._howls[v]._sounds[M]._paused)return d;return d._suspendTimer&&clearTimeout(d._suspendTimer),d._suspendTimer=setTimeout(function(){if(d.autoSuspend){d._suspendTimer=null,d.state="suspending";var N=function(){d.state="suspended",d._resumeAfterSuspend&&(delete d._resumeAfterSuspend,d._autoResume())};d.ctx.suspend().then(N,N)}},3e4),d}},_autoResume:function(){var d=this;if(d.ctx&&void 0!==d.ctx.resume&&b.usingWebAudio)return"running"===d.state&&"interrupted"!==d.ctx.state&&d._suspendTimer?(clearTimeout(d._suspendTimer),d._suspendTimer=null):"suspended"===d.state||"running"===d.state&&"interrupted"===d.ctx.state?(d.ctx.resume().then(function(){d.state="running";for(var v=0;v<d._howls.length;v++)d._howls[v]._emit("resume")}),d._suspendTimer&&(clearTimeout(d._suspendTimer),d._suspendTimer=null)):"suspending"===d.state&&(d._resumeAfterSuspend=!0),d}};var b=new C,S=function(d){d.src&&0!==d.src.length?this.init(d):console.error("An array of source files must be passed with any new Howl.")};S.prototype={init:function(d){var v=this;return b.ctx||T(),v._autoplay=d.autoplay||!1,v._format="string"!=typeof d.format?d.format:[d.format],v._html5=d.html5||!1,v._muted=d.mute||!1,v._loop=d.loop||!1,v._pool=d.pool||5,v._preload="boolean"!=typeof d.preload&&"metadata"!==d.preload||d.preload,v._rate=d.rate||1,v._sprite=d.sprite||{},v._src="string"!=typeof d.src?d.src:[d.src],v._volume=void 0!==d.volume?d.volume:1,v._xhr={method:d.xhr&&d.xhr.method?d.xhr.method:"GET",headers:d.xhr&&d.xhr.headers?d.xhr.headers:null,withCredentials:!(!d.xhr||!d.xhr.withCredentials)&&d.xhr.withCredentials},v._duration=0,v._state="unloaded",v._sounds=[],v._endTimers={},v._queue=[],v._playLock=!1,v._onend=d.onend?[{fn:d.onend}]:[],v._onfade=d.onfade?[{fn:d.onfade}]:[],v._onload=d.onload?[{fn:d.onload}]:[],v._onloaderror=d.onloaderror?[{fn:d.onloaderror}]:[],v._onplayerror=d.onplayerror?[{fn:d.onplayerror}]:[],v._onpause=d.onpause?[{fn:d.onpause}]:[],v._onplay=d.onplay?[{fn:d.onplay}]:[],v._onstop=d.onstop?[{fn:d.onstop}]:[],v._onmute=d.onmute?[{fn:d.onmute}]:[],v._onvolume=d.onvolume?[{fn:d.onvolume}]:[],v._onrate=d.onrate?[{fn:d.onrate}]:[],v._onseek=d.onseek?[{fn:d.onseek}]:[],v._onunlock=d.onunlock?[{fn:d.onunlock}]:[],v._onresume=[],v._webAudio=b.usingWebAudio&&!v._html5,void 0!==b.ctx&&b.ctx&&b.autoUnlock&&b._unlockAudio(),b._howls.push(v),v._autoplay&&v._queue.push({event:"play",action:function(){v.play()}}),v._preload&&"none"!==v._preload&&v.load(),v},load:function(){var d=this,v=null;if(b.noAudio)d._emit("loaderror",null,"No audio support.");else{"string"==typeof d._src&&(d._src=[d._src]);for(var M=0;M<d._src.length;M++){var N,k;if(d._format&&d._format[M])N=d._format[M];else{if("string"!=typeof(k=d._src[M])){d._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(N=/^data:audio\/([^;,]+);/i.exec(k))||(N=/\.([^.]+)$/.exec(k.split("?",1)[0])),N&&(N=N[1].toLowerCase())}if(N||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),N&&b.codecs(N)){v=d._src[M];break}}if(v)return d._src=v,d._state="loading","https:"===window.location.protocol&&"http:"===v.slice(0,5)&&(d._html5=!0,d._webAudio=!1),new m(d),d._webAudio&&p(d),d;d._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(d,v){var M=this,N=null;if("number"==typeof d)N=d,d=null;else{if("string"==typeof d&&"loaded"===M._state&&!M._sprite[d])return null;if(void 0===d&&(d="__default",!M._playLock)){for(var k=0,G=0;G<M._sounds.length;G++)M._sounds[G]._paused&&!M._sounds[G]._ended&&(k++,N=M._sounds[G]._id);1===k?d=null:N=null}}var z=N?M._soundById(N):M._inactiveSound();if(!z)return null;if(N&&!d&&(d=z._sprite||"__default"),"loaded"!==M._state){z._sprite=d,z._ended=!1;var L=z._id;return M._queue.push({event:"play",action:function(){M.play(L)}}),L}if(N&&!z._paused)return v||M._loadQueue("play"),z._id;M._webAudio&&b._autoResume();var j=Math.max(0,z._seek>0?z._seek:M._sprite[d][0]/1e3),F=Math.max(0,(M._sprite[d][0]+M._sprite[d][1])/1e3-j),W=1e3*F/Math.abs(z._rate),Q=M._sprite[d][0]/1e3,$=(M._sprite[d][0]+M._sprite[d][1])/1e3;z._sprite=d,z._ended=!1;var oe=function(){z._paused=!1,z._seek=j,z._start=Q,z._stop=$,z._loop=!(!z._loop&&!M._sprite[d][2])};if(!(j>=$)){var J=z._node;if(M._webAudio){var de=function(){M._playLock=!1,oe(),M._refreshBuffer(z),J.gain.setValueAtTime(z._muted||M._muted?0:z._volume,b.ctx.currentTime),z._playStart=b.ctx.currentTime,void 0===J.bufferSource.start?J.bufferSource.noteGrainOn(0,j,z._loop?86400:F):J.bufferSource.start(0,j,z._loop?86400:F),W!==1/0&&(M._endTimers[z._id]=setTimeout(M._ended.bind(M,z),W)),v||setTimeout(function(){M._emit("play",z._id),M._loadQueue()},0)};"running"===b.state&&"interrupted"!==b.ctx.state?de():(M._playLock=!0,M.once("resume",de),M._clearTimer(z._id))}else{var Re=function(){J.currentTime=j,J.muted=z._muted||M._muted||b._muted||J.muted,J.volume=z._volume*b.volume(),J.playbackRate=z._rate;try{var K=J.play();if(K&&"undefined"!=typeof Promise&&(K instanceof Promise||"function"==typeof K.then)?(M._playLock=!0,oe(),K.then(function(){M._playLock=!1,J._unlocked=!0,v?M._loadQueue():M._emit("play",z._id)}).catch(function(){M._playLock=!1,M._emit("playerror",z._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),z._ended=!0,z._paused=!0})):v||(M._playLock=!1,oe(),M._emit("play",z._id)),J.playbackRate=z._rate,J.paused)return void M._emit("playerror",z._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==d||z._loop?M._endTimers[z._id]=setTimeout(M._ended.bind(M,z),W):(M._endTimers[z._id]=function(){M._ended(z),J.removeEventListener("ended",M._endTimers[z._id],!1)},J.addEventListener("ended",M._endTimers[z._id],!1))}catch(ue){M._emit("playerror",z._id,ue)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===J.src&&(J.src=M._src,J.load());var Te=window&&window.ejecta||!J.readyState&&b._navigator.isCocoonJS;if(J.readyState>=3||Te)Re();else{M._playLock=!0,M._state="loading";var Pe=function(){M._state="loaded",Re(),J.removeEventListener(b._canPlayEvent,Pe,!1)};J.addEventListener(b._canPlayEvent,Pe,!1),M._clearTimer(z._id)}}return z._id}M._ended(z)},pause:function(d){var v=this;if("loaded"!==v._state||v._playLock)return v._queue.push({event:"pause",action:function(){v.pause(d)}}),v;for(var M=v._getSoundIds(d),N=0;N<M.length;N++){v._clearTimer(M[N]);var k=v._soundById(M[N]);if(k&&!k._paused&&(k._seek=v.seek(M[N]),k._rateSeek=0,k._paused=!0,v._stopFade(M[N]),k._node))if(v._webAudio){if(!k._node.bufferSource)continue;void 0===k._node.bufferSource.stop?k._node.bufferSource.noteOff(0):k._node.bufferSource.stop(0),v._cleanBuffer(k._node)}else(!isNaN(k._node.duration)||k._node.duration===1/0)&&k._node.pause();arguments[1]||v._emit("pause",k?k._id:null)}return v},stop:function(d,v){var M=this;if("loaded"!==M._state||M._playLock)return M._queue.push({event:"stop",action:function(){M.stop(d)}}),M;for(var N=M._getSoundIds(d),k=0;k<N.length;k++){M._clearTimer(N[k]);var G=M._soundById(N[k]);G&&(G._seek=G._start||0,G._rateSeek=0,G._paused=!0,G._ended=!0,M._stopFade(N[k]),G._node&&(M._webAudio?G._node.bufferSource&&(void 0===G._node.bufferSource.stop?G._node.bufferSource.noteOff(0):G._node.bufferSource.stop(0),M._cleanBuffer(G._node)):(!isNaN(G._node.duration)||G._node.duration===1/0)&&(G._node.currentTime=G._start||0,G._node.pause(),G._node.duration===1/0&&M._clearSound(G._node))),v||M._emit("stop",G._id))}return M},mute:function(d,v){var M=this;if("loaded"!==M._state||M._playLock)return M._queue.push({event:"mute",action:function(){M.mute(d,v)}}),M;if(void 0===v){if("boolean"!=typeof d)return M._muted;M._muted=d}for(var N=M._getSoundIds(v),k=0;k<N.length;k++){var G=M._soundById(N[k]);G&&(G._muted=d,G._interval&&M._stopFade(G._id),M._webAudio&&G._node?G._node.gain.setValueAtTime(d?0:G._volume,b.ctx.currentTime):G._node&&(G._node.muted=!!b._muted||d),M._emit("mute",G._id))}return M},volume:function(){var M,N,z,d=this,v=arguments;if(0===v.length)return d._volume;if(1===v.length||2===v.length&&void 0===v[1]){var k=d._getSoundIds(),G=k.indexOf(v[0]);G>=0?N=parseInt(v[0],10):M=parseFloat(v[0])}else v.length>=2&&(M=parseFloat(v[0]),N=parseInt(v[1],10));if(!(void 0!==M&&M>=0&&M<=1))return(z=N?d._soundById(N):d._sounds[0])?z._volume:0;if("loaded"!==d._state||d._playLock)return d._queue.push({event:"volume",action:function(){d.volume.apply(d,v)}}),d;void 0===N&&(d._volume=M),N=d._getSoundIds(N);for(var L=0;L<N.length;L++)(z=d._soundById(N[L]))&&(z._volume=M,v[2]||d._stopFade(N[L]),d._webAudio&&z._node&&!z._muted?z._node.gain.setValueAtTime(M,b.ctx.currentTime):z._node&&!z._muted&&(z._node.volume=M*b.volume()),d._emit("volume",z._id));return d},fade:function(d,v,M,N){var k=this;if("loaded"!==k._state||k._playLock)return k._queue.push({event:"fade",action:function(){k.fade(d,v,M,N)}}),k;d=Math.min(Math.max(0,parseFloat(d)),1),v=Math.min(Math.max(0,parseFloat(v)),1),M=parseFloat(M),k.volume(d,N);for(var G=k._getSoundIds(N),z=0;z<G.length;z++){var L=k._soundById(G[z]);if(L){if(N||k._stopFade(G[z]),k._webAudio&&!L._muted){var j=b.ctx.currentTime,F=j+M/1e3;L._volume=d,L._node.gain.setValueAtTime(d,j),L._node.gain.linearRampToValueAtTime(v,F)}k._startFadeInterval(L,d,v,M,G[z],void 0===N)}}return k},_startFadeInterval:function(d,v,M,N,k,G){var z=this,L=v,j=M-v,F=Math.abs(j/.01),W=Math.max(4,F>0?N/F:N),Q=Date.now();d._fadeTo=M,d._interval=setInterval(function(){var $=(Date.now()-Q)/N;Q=Date.now(),L+=j*$,L=Math.round(100*L)/100,L=j<0?Math.max(M,L):Math.min(M,L),z._webAudio?d._volume=L:z.volume(L,d._id,!0),G&&(z._volume=L),(M<v&&L<=M||M>v&&L>=M)&&(clearInterval(d._interval),d._interval=null,d._fadeTo=null,z.volume(M,d._id),z._emit("fade",d._id))},W)},_stopFade:function(d){var v=this,M=v._soundById(d);return M&&M._interval&&(v._webAudio&&M._node.gain.cancelScheduledValues(b.ctx.currentTime),clearInterval(M._interval),M._interval=null,v.volume(M._fadeTo,d),M._fadeTo=null,v._emit("fade",d)),v},loop:function(){var M,N,k,d=this,v=arguments;if(0===v.length)return d._loop;if(1===v.length){if("boolean"!=typeof v[0])return!!(k=d._soundById(parseInt(v[0],10)))&&k._loop;d._loop=M=v[0]}else 2===v.length&&(M=v[0],N=parseInt(v[1],10));for(var G=d._getSoundIds(N),z=0;z<G.length;z++)(k=d._soundById(G[z]))&&(k._loop=M,d._webAudio&&k._node&&k._node.bufferSource&&(k._node.bufferSource.loop=M,M&&(k._node.bufferSource.loopStart=k._start||0,k._node.bufferSource.loopEnd=k._stop,d.playing(G[z])&&(d.pause(G[z],!0),d.play(G[z],!0)))));return d},rate:function(){var M,N,z,d=this,v=arguments;if(0===v.length)N=d._sounds[0]._id;else if(1===v.length){var k=d._getSoundIds(),G=k.indexOf(v[0]);G>=0?N=parseInt(v[0],10):M=parseFloat(v[0])}else 2===v.length&&(M=parseFloat(v[0]),N=parseInt(v[1],10));if("number"!=typeof M)return(z=d._soundById(N))?z._rate:d._rate;if("loaded"!==d._state||d._playLock)return d._queue.push({event:"rate",action:function(){d.rate.apply(d,v)}}),d;void 0===N&&(d._rate=M),N=d._getSoundIds(N);for(var L=0;L<N.length;L++)if(z=d._soundById(N[L])){d.playing(N[L])&&(z._rateSeek=d.seek(N[L]),z._playStart=d._webAudio?b.ctx.currentTime:z._playStart),z._rate=M,d._webAudio&&z._node&&z._node.bufferSource?z._node.bufferSource.playbackRate.setValueAtTime(M,b.ctx.currentTime):z._node&&(z._node.playbackRate=M);var j=d.seek(N[L]),F=(d._sprite[z._sprite][0]+d._sprite[z._sprite][1])/1e3-j,W=1e3*F/Math.abs(z._rate);(d._endTimers[N[L]]||!z._paused)&&(d._clearTimer(N[L]),d._endTimers[N[L]]=setTimeout(d._ended.bind(d,z),W)),d._emit("rate",z._id)}return d},seek:function(){var M,N,d=this,v=arguments;if(0===v.length)d._sounds.length&&(N=d._sounds[0]._id);else if(1===v.length){var k=d._getSoundIds(),G=k.indexOf(v[0]);G>=0?N=parseInt(v[0],10):d._sounds.length&&(N=d._sounds[0]._id,M=parseFloat(v[0]))}else 2===v.length&&(M=parseFloat(v[0]),N=parseInt(v[1],10));if(void 0===N)return 0;if("number"==typeof M&&("loaded"!==d._state||d._playLock))return d._queue.push({event:"seek",action:function(){d.seek.apply(d,v)}}),d;var z=d._soundById(N);if(z){if(!("number"==typeof M&&M>=0)){if(d._webAudio){var W=d.playing(N)?b.ctx.currentTime-z._playStart:0,Q=z._rateSeek?z._rateSeek-z._seek:0;return z._seek+(Q+W*Math.abs(z._rate))}return z._node.currentTime}var L=d.playing(N);L&&d.pause(N,!0),z._seek=M,z._ended=!1,d._clearTimer(N),!d._webAudio&&z._node&&!isNaN(z._node.duration)&&(z._node.currentTime=M);var j=function(){L&&d.play(N,!0),d._emit("seek",N)};if(L&&!d._webAudio){var F=function(){d._playLock?setTimeout(F,0):j()};setTimeout(F,0)}else j()}return d},playing:function(d){var v=this;if("number"==typeof d){var M=v._soundById(d);return!!M&&!M._paused}for(var N=0;N<v._sounds.length;N++)if(!v._sounds[N]._paused)return!0;return!1},duration:function(d){var v=this,M=v._duration,N=v._soundById(d);return N&&(M=v._sprite[N._sprite][1]/1e3),M},state:function(){return this._state},unload:function(){for(var d=this,v=d._sounds,M=0;M<v.length;M++)v[M]._paused||d.stop(v[M]._id),d._webAudio||(d._clearSound(v[M]._node),v[M]._node.removeEventListener("error",v[M]._errorFn,!1),v[M]._node.removeEventListener(b._canPlayEvent,v[M]._loadFn,!1),v[M]._node.removeEventListener("ended",v[M]._endFn,!1),b._releaseHtml5Audio(v[M]._node)),delete v[M]._node,d._clearTimer(v[M]._id);var N=b._howls.indexOf(d);N>=0&&b._howls.splice(N,1);var k=!0;for(M=0;M<b._howls.length;M++)if(b._howls[M]._src===d._src||d._src.indexOf(b._howls[M]._src)>=0){k=!1;break}return _&&k&&delete _[d._src],b.noAudio=!1,d._state="unloaded",d._sounds=[],d=null,null},on:function(d,v,M,N){return"function"==typeof v&&this["_on"+d].push(N?{id:M,fn:v,once:N}:{id:M,fn:v}),this},off:function(d,v,M){var N=this,k=N["_on"+d],G=0;if("number"==typeof v&&(M=v,v=null),v||M)for(G=0;G<k.length;G++){var z=M===k[G].id;if(v===k[G].fn&&z||!v&&z){k.splice(G,1);break}}else if(d)N["_on"+d]=[];else{var L=Object.keys(N);for(G=0;G<L.length;G++)0===L[G].indexOf("_on")&&Array.isArray(N[L[G]])&&(N[L[G]]=[])}return N},once:function(d,v,M){return this.on(d,v,M,1),this},_emit:function(d,v,M){for(var N=this,k=N["_on"+d],G=k.length-1;G>=0;G--)(!k[G].id||k[G].id===v||"load"===d)&&(setTimeout(function(z){z.call(this,v,M)}.bind(N,k[G].fn),0),k[G].once&&N.off(d,k[G].fn,k[G].id));return N._loadQueue(d),N},_loadQueue:function(d){var v=this;if(v._queue.length>0){var M=v._queue[0];M.event===d&&(v._queue.shift(),v._loadQueue()),d||M.action()}return v},_ended:function(d){var v=this,M=d._sprite;if(!v._webAudio&&d._node&&!d._node.paused&&!d._node.ended&&d._node.currentTime<d._stop)return setTimeout(v._ended.bind(v,d),100),v;var N=!(!d._loop&&!v._sprite[M][2]);if(v._emit("end",d._id),!v._webAudio&&N&&v.stop(d._id,!0).play(d._id),v._webAudio&&N){v._emit("play",d._id),d._seek=d._start||0,d._rateSeek=0,d._playStart=b.ctx.currentTime;var k=1e3*(d._stop-d._start)/Math.abs(d._rate);v._endTimers[d._id]=setTimeout(v._ended.bind(v,d),k)}return v._webAudio&&!N&&(d._paused=!0,d._ended=!0,d._seek=d._start||0,d._rateSeek=0,v._clearTimer(d._id),v._cleanBuffer(d._node),b._autoSuspend()),!v._webAudio&&!N&&v.stop(d._id,!0),v},_clearTimer:function(d){var v=this;if(v._endTimers[d]){if("function"!=typeof v._endTimers[d])clearTimeout(v._endTimers[d]);else{var M=v._soundById(d);M&&M._node&&M._node.removeEventListener("ended",v._endTimers[d],!1)}delete v._endTimers[d]}return v},_soundById:function(d){for(var v=this,M=0;M<v._sounds.length;M++)if(d===v._sounds[M]._id)return v._sounds[M];return null},_inactiveSound:function(){var d=this;d._drain();for(var v=0;v<d._sounds.length;v++)if(d._sounds[v]._ended)return d._sounds[v].reset();return new m(d)},_drain:function(){var d=this,v=d._pool,M=0,N=0;if(!(d._sounds.length<v)){for(N=0;N<d._sounds.length;N++)d._sounds[N]._ended&&M++;for(N=d._sounds.length-1;N>=0;N--){if(M<=v)return;d._sounds[N]._ended&&(d._webAudio&&d._sounds[N]._node&&d._sounds[N]._node.disconnect(0),d._sounds.splice(N,1),M--)}}},_getSoundIds:function(d){if(void 0===d){for(var M=[],N=0;N<this._sounds.length;N++)M.push(this._sounds[N]._id);return M}return[d]},_refreshBuffer:function(d){return d._node.bufferSource=b.ctx.createBufferSource(),d._node.bufferSource.buffer=_[this._src],d._node.bufferSource.connect(d._panner?d._panner:d._node),d._node.bufferSource.loop=d._loop,d._loop&&(d._node.bufferSource.loopStart=d._start||0,d._node.bufferSource.loopEnd=d._stop||0),d._node.bufferSource.playbackRate.setValueAtTime(d._rate,b.ctx.currentTime),this},_cleanBuffer:function(d){var M=b._navigator&&b._navigator.vendor.indexOf("Apple")>=0;if(b._scratchBuffer&&d.bufferSource&&(d.bufferSource.onended=null,d.bufferSource.disconnect(0),M))try{d.bufferSource.buffer=b._scratchBuffer}catch(N){}return d.bufferSource=null,this},_clearSound:function(d){/MSIE |Trident\//.test(b._navigator&&b._navigator.userAgent)||(d.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var m=function(d){this._parent=d,this.init()};m.prototype={init:function(){var d=this,v=d._parent;return d._muted=v._muted,d._loop=v._loop,d._volume=v._volume,d._rate=v._rate,d._seek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++b._counter,v._sounds.push(d),d.create(),d},create:function(){var d=this,v=d._parent,M=b._muted||d._muted||d._parent._muted?0:d._volume;return v._webAudio?(d._node=void 0===b.ctx.createGain?b.ctx.createGainNode():b.ctx.createGain(),d._node.gain.setValueAtTime(M,b.ctx.currentTime),d._node.paused=!0,d._node.connect(b.masterGain)):b.noAudio||(d._node=b._obtainHtml5Audio(),d._errorFn=d._errorListener.bind(d),d._node.addEventListener("error",d._errorFn,!1),d._loadFn=d._loadListener.bind(d),d._node.addEventListener(b._canPlayEvent,d._loadFn,!1),d._endFn=d._endListener.bind(d),d._node.addEventListener("ended",d._endFn,!1),d._node.src=v._src,d._node.preload=!0===v._preload?"auto":v._preload,d._node.volume=M*b.volume(),d._node.load()),d},reset:function(){var d=this,v=d._parent;return d._muted=v._muted,d._loop=v._loop,d._volume=v._volume,d._rate=v._rate,d._seek=0,d._rateSeek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++b._counter,d},_errorListener:function(){var d=this;d._parent._emit("loaderror",d._id,d._node.error?d._node.error.code:0),d._node.removeEventListener("error",d._errorFn,!1)},_loadListener:function(){var d=this,v=d._parent;v._duration=Math.ceil(10*d._node.duration)/10,0===Object.keys(v._sprite).length&&(v._sprite={__default:[0,1e3*v._duration]}),"loaded"!==v._state&&(v._state="loaded",v._emit("load"),v._loadQueue()),d._node.removeEventListener(b._canPlayEvent,d._loadFn,!1)},_endListener:function(){var d=this,v=d._parent;v._duration===1/0&&(v._duration=Math.ceil(10*d._node.duration)/10,v._sprite.__default[1]===1/0&&(v._sprite.__default[1]=1e3*v._duration),v._ended(d)),d._node.removeEventListener("ended",d._endFn,!1)}};var _={},p=function(d){var v=d._src;if(_[v])return d._duration=_[v].duration,void E(d);if(/^data:[^;]+;base64,/.test(v)){for(var M=atob(v.split(",")[1]),N=new Uint8Array(M.length),k=0;k<M.length;++k)N[k]=M.charCodeAt(k);f(N.buffer,d)}else{var G=new XMLHttpRequest;G.open(d._xhr.method,v,!0),G.withCredentials=d._xhr.withCredentials,G.responseType="arraybuffer",d._xhr.headers&&Object.keys(d._xhr.headers).forEach(function(z){G.setRequestHeader(z,d._xhr.headers[z])}),G.onload=function(){var z=(G.status+"")[0];"0"===z||"2"===z||"3"===z?f(G.response,d):d._emit("loaderror",null,"Failed loading audio file with status: "+G.status+".")},G.onerror=function(){d._webAudio&&(d._html5=!0,d._webAudio=!1,d._sounds=[],delete _[v],d.load())},g(G)}},g=function(d){try{d.send()}catch(v){d.onerror()}},f=function(d,v){var M=function(){v._emit("loaderror",null,"Decoding audio data failed.")},N=function(k){k&&v._sounds.length>0?(_[v._src]=k,E(v,k)):M()};"undefined"!=typeof Promise&&1===b.ctx.decodeAudioData.length?b.ctx.decodeAudioData(d).then(N).catch(M):b.ctx.decodeAudioData(d,N,M)},E=function(d,v){v&&!d._duration&&(d._duration=v.duration),0===Object.keys(d._sprite).length&&(d._sprite={__default:[0,1e3*d._duration]}),"loaded"!==d._state&&(d._state="loaded",d._emit("load"),d._loadQueue())},T=function(){if(b.usingWebAudio){try{"undefined"!=typeof AudioContext?b.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?b.ctx=new webkitAudioContext:b.usingWebAudio=!1}catch(k){b.usingWebAudio=!1}b.ctx||(b.usingWebAudio=!1);var d=/iP(hone|od|ad)/.test(b._navigator&&b._navigator.platform),v=b._navigator&&b._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),M=v?parseInt(v[1],10):null;if(d&&M&&M<9){var N=/safari/.test(b._navigator&&b._navigator.userAgent.toLowerCase());b._navigator&&!N&&(b.usingWebAudio=!1)}b.usingWebAudio&&(b.masterGain=void 0===b.ctx.createGain?b.ctx.createGainNode():b.ctx.createGain(),b.masterGain.gain.setValueAtTime(b._muted?0:b._volume,b.ctx.currentTime),b.masterGain.connect(b.ctx.destination)),b._setup()}};void 0!==(h=function(){return{Howler:b,Howl:S}}.apply(U,[]))&&(Me.exports=h),U.Howler=b,U.Howl=S,"undefined"!=typeof global?(global.HowlerGlobal=C,global.Howler=b,global.Howl=S,global.Sound=m):"undefined"!=typeof window&&(window.HowlerGlobal=C,window.Howler=b,window.Howl=S,window.Sound=m)}(),function(){"use strict";var b;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(b){var S=this;if(!S.ctx||!S.ctx.listener)return S;for(var m=S._howls.length-1;m>=0;m--)S._howls[m].stereo(b);return S},HowlerGlobal.prototype.pos=function(b,S,m){var _=this;return _.ctx&&_.ctx.listener?"number"!=typeof b?_._pos:(_._pos=[b,S="number"!=typeof S?_._pos[1]:S,m="number"!=typeof m?_._pos[2]:m],void 0!==_.ctx.listener.positionX?(_.ctx.listener.positionX.setTargetAtTime(_._pos[0],Howler.ctx.currentTime,.1),_.ctx.listener.positionY.setTargetAtTime(_._pos[1],Howler.ctx.currentTime,.1),_.ctx.listener.positionZ.setTargetAtTime(_._pos[2],Howler.ctx.currentTime,.1)):_.ctx.listener.setPosition(_._pos[0],_._pos[1],_._pos[2]),_):_},HowlerGlobal.prototype.orientation=function(b,S,m,_,p,g){var f=this;if(!f.ctx||!f.ctx.listener)return f;var E=f._orientation;return"number"!=typeof b?E:(f._orientation=[b,S="number"!=typeof S?E[1]:S,m="number"!=typeof m?E[2]:m,_="number"!=typeof _?E[3]:_,p="number"!=typeof p?E[4]:p,g="number"!=typeof g?E[5]:g],void 0!==f.ctx.listener.forwardX?(f.ctx.listener.forwardX.setTargetAtTime(b,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(S,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(m,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(_,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(p,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(g,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(b,S,m,_,p,g),f)},Howl.prototype.init=(b=Howl.prototype.init,function(S){var m=this;return m._orientation=S.orientation||[1,0,0],m._stereo=S.stereo||null,m._pos=S.pos||null,m._pannerAttr={coneInnerAngle:void 0!==S.coneInnerAngle?S.coneInnerAngle:360,coneOuterAngle:void 0!==S.coneOuterAngle?S.coneOuterAngle:360,coneOuterGain:void 0!==S.coneOuterGain?S.coneOuterGain:0,distanceModel:void 0!==S.distanceModel?S.distanceModel:"inverse",maxDistance:void 0!==S.maxDistance?S.maxDistance:1e4,panningModel:void 0!==S.panningModel?S.panningModel:"HRTF",refDistance:void 0!==S.refDistance?S.refDistance:1,rolloffFactor:void 0!==S.rolloffFactor?S.rolloffFactor:1},m._onstereo=S.onstereo?[{fn:S.onstereo}]:[],m._onpos=S.onpos?[{fn:S.onpos}]:[],m._onorientation=S.onorientation?[{fn:S.onorientation}]:[],b.call(this,S)}),Howl.prototype.stereo=function(b,S){var m=this;if(!m._webAudio)return m;if("loaded"!==m._state)return m._queue.push({event:"stereo",action:function(){m.stereo(b,S)}}),m;var _=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===S){if("number"!=typeof b)return m._stereo;m._stereo=b,m._pos=[b,0,0]}for(var p=m._getSoundIds(S),g=0;g<p.length;g++){var f=m._soundById(p[g]);if(f){if("number"!=typeof b)return f._stereo;f._stereo=b,f._pos=[b,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&C(f,_),"spatial"===_?void 0!==f._panner.positionX?(f._panner.positionX.setValueAtTime(b,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(b,0,0):f._panner.pan.setValueAtTime(b,Howler.ctx.currentTime)),m._emit("stereo",f._id)}}return m},Howl.prototype.pos=function(b,S,m,_){var p=this;if(!p._webAudio)return p;if("loaded"!==p._state)return p._queue.push({event:"pos",action:function(){p.pos(b,S,m,_)}}),p;if(S="number"!=typeof S?0:S,m="number"!=typeof m?-.5:m,void 0===_){if("number"!=typeof b)return p._pos;p._pos=[b,S,m]}for(var g=p._getSoundIds(_),f=0;f<g.length;f++){var E=p._soundById(g[f]);if(E){if("number"!=typeof b)return E._pos;E._pos=[b,S,m],E._node&&((!E._panner||E._panner.pan)&&C(E,"spatial"),void 0!==E._panner.positionX?(E._panner.positionX.setValueAtTime(b,Howler.ctx.currentTime),E._panner.positionY.setValueAtTime(S,Howler.ctx.currentTime),E._panner.positionZ.setValueAtTime(m,Howler.ctx.currentTime)):E._panner.setPosition(b,S,m)),p._emit("pos",E._id)}}return p},Howl.prototype.orientation=function(b,S,m,_){var p=this;if(!p._webAudio)return p;if("loaded"!==p._state)return p._queue.push({event:"orientation",action:function(){p.orientation(b,S,m,_)}}),p;if(S="number"!=typeof S?p._orientation[1]:S,m="number"!=typeof m?p._orientation[2]:m,void 0===_){if("number"!=typeof b)return p._orientation;p._orientation=[b,S,m]}for(var g=p._getSoundIds(_),f=0;f<g.length;f++){var E=p._soundById(g[f]);if(E){if("number"!=typeof b)return E._orientation;E._orientation=[b,S,m],E._node&&(E._panner||(E._pos||(E._pos=p._pos||[0,0,-.5]),C(E,"spatial")),void 0!==E._panner.orientationX?(E._panner.orientationX.setValueAtTime(b,Howler.ctx.currentTime),E._panner.orientationY.setValueAtTime(S,Howler.ctx.currentTime),E._panner.orientationZ.setValueAtTime(m,Howler.ctx.currentTime)):E._panner.setOrientation(b,S,m)),p._emit("orientation",E._id)}}return p},Howl.prototype.pannerAttr=function(){var m,_,p,b=this,S=arguments;if(!b._webAudio)return b;if(0===S.length)return b._pannerAttr;if(1===S.length){if("object"!=typeof S[0])return(p=b._soundById(parseInt(S[0],10)))?p._pannerAttr:b._pannerAttr;m=S[0],void 0===_&&(m.pannerAttr||(m.pannerAttr={coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor,panningModel:m.panningModel}),b._pannerAttr={coneInnerAngle:void 0!==m.pannerAttr.coneInnerAngle?m.pannerAttr.coneInnerAngle:b._coneInnerAngle,coneOuterAngle:void 0!==m.pannerAttr.coneOuterAngle?m.pannerAttr.coneOuterAngle:b._coneOuterAngle,coneOuterGain:void 0!==m.pannerAttr.coneOuterGain?m.pannerAttr.coneOuterGain:b._coneOuterGain,distanceModel:void 0!==m.pannerAttr.distanceModel?m.pannerAttr.distanceModel:b._distanceModel,maxDistance:void 0!==m.pannerAttr.maxDistance?m.pannerAttr.maxDistance:b._maxDistance,refDistance:void 0!==m.pannerAttr.refDistance?m.pannerAttr.refDistance:b._refDistance,rolloffFactor:void 0!==m.pannerAttr.rolloffFactor?m.pannerAttr.rolloffFactor:b._rolloffFactor,panningModel:void 0!==m.pannerAttr.panningModel?m.pannerAttr.panningModel:b._panningModel})}else 2===S.length&&(m=S[0],_=parseInt(S[1],10));for(var g=b._getSoundIds(_),f=0;f<g.length;f++)if(p=b._soundById(g[f])){var E=p._pannerAttr;E={coneInnerAngle:void 0!==m.coneInnerAngle?m.coneInnerAngle:E.coneInnerAngle,coneOuterAngle:void 0!==m.coneOuterAngle?m.coneOuterAngle:E.coneOuterAngle,coneOuterGain:void 0!==m.coneOuterGain?m.coneOuterGain:E.coneOuterGain,distanceModel:void 0!==m.distanceModel?m.distanceModel:E.distanceModel,maxDistance:void 0!==m.maxDistance?m.maxDistance:E.maxDistance,refDistance:void 0!==m.refDistance?m.refDistance:E.refDistance,rolloffFactor:void 0!==m.rolloffFactor?m.rolloffFactor:E.rolloffFactor,panningModel:void 0!==m.panningModel?m.panningModel:E.panningModel};var T=p._panner;T?(T.coneInnerAngle=E.coneInnerAngle,T.coneOuterAngle=E.coneOuterAngle,T.coneOuterGain=E.coneOuterGain,T.distanceModel=E.distanceModel,T.maxDistance=E.maxDistance,T.refDistance=E.refDistance,T.rolloffFactor=E.rolloffFactor,T.panningModel=E.panningModel):(p._pos||(p._pos=b._pos||[0,0,-.5]),C(p,"spatial"))}return b},Sound.prototype.init=function(b){return function(){var S=this,m=S._parent;S._orientation=m._orientation,S._stereo=m._stereo,S._pos=m._pos,S._pannerAttr=m._pannerAttr,b.call(this),S._stereo?m.stereo(S._stereo):S._pos&&m.pos(S._pos[0],S._pos[1],S._pos[2],S._id)}}(Sound.prototype.init),Sound.prototype.reset=function(b){return function(){var S=this,m=S._parent;return S._orientation=m._orientation,S._stereo=m._stereo,S._pos=m._pos,S._pannerAttr=m._pannerAttr,S._stereo?m.stereo(S._stereo):S._pos?m.pos(S._pos[0],S._pos[1],S._pos[2],S._id):S._panner&&(S._panner.disconnect(0),S._panner=void 0,m._refreshBuffer(S)),b.call(this)}}(Sound.prototype.reset);var C=function(b,S){"spatial"===(S=S||"spatial")?(b._panner=Howler.ctx.createPanner(),b._panner.coneInnerAngle=b._pannerAttr.coneInnerAngle,b._panner.coneOuterAngle=b._pannerAttr.coneOuterAngle,b._panner.coneOuterGain=b._pannerAttr.coneOuterGain,b._panner.distanceModel=b._pannerAttr.distanceModel,b._panner.maxDistance=b._pannerAttr.maxDistance,b._panner.refDistance=b._pannerAttr.refDistance,b._panner.rolloffFactor=b._pannerAttr.rolloffFactor,b._panner.panningModel=b._pannerAttr.panningModel,void 0!==b._panner.positionX?(b._panner.positionX.setValueAtTime(b._pos[0],Howler.ctx.currentTime),b._panner.positionY.setValueAtTime(b._pos[1],Howler.ctx.currentTime),b._panner.positionZ.setValueAtTime(b._pos[2],Howler.ctx.currentTime)):b._panner.setPosition(b._pos[0],b._pos[1],b._pos[2]),void 0!==b._panner.orientationX?(b._panner.orientationX.setValueAtTime(b._orientation[0],Howler.ctx.currentTime),b._panner.orientationY.setValueAtTime(b._orientation[1],Howler.ctx.currentTime),b._panner.orientationZ.setValueAtTime(b._orientation[2],Howler.ctx.currentTime)):b._panner.setOrientation(b._orientation[0],b._orientation[1],b._orientation[2])):(b._panner=Howler.ctx.createStereoPanner(),b._panner.pan.setValueAtTime(b._stereo,Howler.ctx.currentTime)),b._panner.connect(b._node),b._paused||b._parent.pause(b._id,!0).play(b._id,!0)}}()},3894:Me=>{Me.exports="function"==typeof Object.create?function(w,h){h&&(w.super_=h,w.prototype=Object.create(h.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:function(w,h){if(h){w.super_=h;var C=function(){};C.prototype=h.prototype,w.prototype=new C,w.prototype.constructor=w}}},5943:Me=>{"use strict";var U=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;function C(S){if(null==S)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(S)}Me.exports=function b(){try{if(!Object.assign)return!1;var S=new String("abc");if(S[5]="de","5"===Object.getOwnPropertyNames(S)[0])return!1;for(var m={},_=0;_<10;_++)m["_"+String.fromCharCode(_)]=_;if("0123456789"!==Object.getOwnPropertyNames(m).map(function(f){return m[f]}).join(""))return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(f){g[f]=f}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},g)).join("")}catch(f){return!1}}()?Object.assign:function(S,m){for(var _,g,p=C(S),f=1;f<arguments.length;f++){for(var E in _=Object(arguments[f]))w.call(_,E)&&(p[E]=_[E]);if(U){g=U(_);for(var T=0;T<g.length;T++)h.call(_,g[T])&&(p[g[T]]=_[g[T]])}}return p}},516:Me=>{"use strict";function U(w,h){return Object.prototype.hasOwnProperty.call(w,h)}Me.exports=function(w,h,C,b){C=C||"=";var S={};if("string"!=typeof w||0===w.length)return S;var m=/\+/g;w=w.split(h=h||"&");var _=1e3;b&&"number"==typeof b.maxKeys&&(_=b.maxKeys);var p=w.length;_>0&&p>_&&(p=_);for(var g=0;g<p;++g){var T,d,v,M,f=w[g].replace(m,"%20"),E=f.indexOf(C);E>=0?(T=f.substr(0,E),d=f.substr(E+1)):(T=f,d=""),v=decodeURIComponent(T),M=decodeURIComponent(d),U(S,v)?Array.isArray(S[v])?S[v].push(M):S[v]=[S[v],M]:S[v]=M}return S}},5776:Me=>{"use strict";var U=function(w){switch(typeof w){case"string":return w;case"boolean":return w?"true":"false";case"number":return isFinite(w)?w:"";default:return""}};Me.exports=function(w,h,C,b){return h=h||"&",C=C||"=",null===w&&(w=void 0),"object"==typeof w?Object.keys(w).map(function(S){var m=encodeURIComponent(U(S))+C;return Array.isArray(w[S])?w[S].map(function(_){return m+encodeURIComponent(U(_))}).join(h):m+encodeURIComponent(U(w[S]))}).join(h):b?encodeURIComponent(U(b))+C+encodeURIComponent(U(w)):""}},7137:(Me,U,w)=>{"use strict";U.decode=U.parse=w(516),U.encode=U.stringify=w(5776)},2858:(Me,U)=>{"use strict";var w=Object.prototype.hasOwnProperty;function C(_){try{return decodeURIComponent(_.replace(/\+/g," "))}catch(p){return null}}function b(_){try{return encodeURIComponent(_)}catch(p){return null}}U.stringify=function m(_,p){p=p||"";var f,E,g=[];for(E in"string"!=typeof p&&(p="?"),_)if(w.call(_,E)){if(!(f=_[E])&&(null==f||isNaN(f))&&(f=""),E=b(E),f=b(f),null===E||null===f)continue;g.push(E+"="+f)}return g.length?p+g.join("&"):""},U.parse=function S(_){for(var f,p=/([^=?#&]+)=?([^&]*)/g,g={};f=p.exec(_);){var E=C(f[1]),T=C(f[2]);null===E||null===T||E in g||(g[E]=T)}return g}},8237:Me=>{"use strict";Me.exports=function(w,h){if(h=h.split(":")[0],!(w=+w))return!1;switch(h){case"http":case"ws":return 80!==w;case"https":case"wss":return 443!==w;case"ftp":return 21!==w;case"gopher":return 70!==w;case"file":return!1}return 0!==w}},8135:function(Me){Me.exports=function(U){var w={};function h(C){if(w[C])return w[C].exports;var b=w[C]={i:C,l:!1,exports:{}};return U[C].call(b.exports,b,b.exports,h),b.l=!0,b.exports}return h.m=U,h.c=w,h.d=function(C,b,S){h.o(C,b)||Object.defineProperty(C,b,{configurable:!1,enumerable:!0,get:S})},h.r=function(C){Object.defineProperty(C,"__esModule",{value:!0})},h.n=function(C){var b=C&&C.__esModule?function(){return C.default}:function(){return C};return h.d(b,"a",b),b},h.o=function(C,b){return Object.prototype.hasOwnProperty.call(C,b)},h.p="",h(h.s=325)}([function(U,w,h){var C=h(6),b=h(37),S=h(18),m=h(15),_=h(27),p=function(g,f,E){var T,d,v,M,N=g&p.F,k=g&p.G,z=g&p.P,L=g&p.B,j=k?C:g&p.S?C[f]||(C[f]={}):(C[f]||{}).prototype,F=k?b:b[f]||(b[f]={}),W=F.prototype||(F.prototype={});for(T in k&&(E=f),E)v=((d=!N&&j&&void 0!==j[T])?j:E)[T],M=L&&d?_(v,C):z&&"function"==typeof v?_(Function.call,v):v,j&&m(j,T,v,g&p.U),F[T]!=v&&S(F,T,M),z&&W[T]!=v&&(W[T]=v)};C.core=b,p.F=1,p.G=2,p.S=4,p.P=8,p.B=16,p.W=32,p.U=64,p.R=128,U.exports=p},function(U,w,h){"use strict";function C(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")}function b(g,f){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?g:f}function S(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}Object.defineProperty(w,"__esModule",{value:!0});var m=function(g){function f(E){C(this,f);var T=b(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,E));return T.name="SFSError",T}return S(f,Error),f}(),_=function(g){function f(E){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];C(this,f);var d=b(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,E));return d.name="SFSValidationError",d.errors=T,d}return S(f,m),f}(),p=function(g){function f(E){C(this,f);var T=b(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,E));return T.name="SFSTypeError",T}return S(f,m),f}();w.SFSError=m,w.SFSValidationError=_,w.SFSTypeError=p},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.Message=w.Requests=w.BaseRequest=void 0;var C=function(){function f(E,T){for(var d=0;d<T.length;d++){var v=T[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(E,v.key,v)}}return function(E,T,d){return T&&f(E.prototype,T),d&&f(E,d),E}}(),b=h(8),S=h(50);function m(f,E){if(!(f instanceof E))throw new TypeError("Cannot call a class as a function")}var _=function(){function f(E){m(this,f),this._reqObj=new b.SFSObject,this._id=E,this._targetController=0,this._logger=S.Logger.instance}return C(f,null,[{key:"KEY_ERROR_CODE",get:function(){return"ec"}},{key:"KEY_ERROR_PARAMS",get:function(){return"ep"}}]),C(f,[{key:"getMessage",value:function(){return new p(this._id,this._targetController,this._reqObj)}},{key:"validate",value:function(){this._logger.error("BaseRequest.validate = no child-class implementation found!")}},{key:"execute",value:function(){this._logger.error("BaseRequest.execute = no child-class implementation found!")}},{key:"id",get:function(){return this._id}}]),f}(),p=function(){function f(E,T,d){m(this,f),this._id=E,this._targetController=T,this._content=d,Object.freeze(this)}return C(f,[{key:"dump",value:function(){return(g.getNameFromId(this.id)+" ("+this.id+")").trim()+"\n"+this.content.getDump()}},{key:"id",get:function(){return this._id}},{key:"targetController",get:function(){return this._targetController}},{key:"content",get:function(){return this._content}}]),f}(),g=Object.freeze({Handshake:0,Login:1,Logout:2,JoinRoom:4,CreateRoom:6,GenericMessage:7,ChangeRoomName:8,ChangeRoomPassword:9,SetRoomVariables:11,SetUserVariables:12,CallExtension:13,LeaveRoom:14,SubscribeRoomGroup:15,UnsubscribeRoomGroup:16,SpectatorToPlayer:17,PlayerToSpectator:18,ChangeRoomCapacity:19,KickUser:24,BanUser:25,FindRooms:27,FindUsers:28,PingPong:29,SetUserPosition:30,QuickJoinOrCreateRoom:31,InitBuddyList:200,AddBuddy:201,BlockBuddy:202,RemoveBuddy:203,SetBuddyVariables:204,GoOnline:205,InviteUsers:300,InvitationReply:301,CreateSFSGame:302,QuickJoinGame:303,JoinRoomInvite:304,getNameFromId:function(f){for(var E in this)if(this.hasOwnProperty(E)&&this[E]===f)return E;return""}});w.BaseRequest=_,w.Requests=g,w.Message=p},function(U,w){U.exports=function(h){try{return!!h()}catch(C){return!0}}},function(U,w){U.exports=function(h){return"object"==typeof h?null!==h:"function"==typeof h}},function(U,w,h){var C=h(4);U.exports=function(b){if(!C(b))throw TypeError(b+" is not an object!");return b}},function(U,w){var h=U.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=h)},function(U,w,h){var C=h(95)("wks"),b=h(35),S=h(6).Symbol,m="function"==typeof S;(U.exports=function(_){return C[_]||(C[_]=m&&S[_]||(m?S:b)("Symbol."+_))}).store=C},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.Vec3D=w.SFSArray=w.SFSObject=w.SFSDataWrapper=w.SFSDataType=void 0;var C=function(){function v(M,N){for(var k=0;k<N.length;k++){var G=N[k];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(M,G.key,G)}}return function(M,N,k){return N&&v(M.prototype,N),k&&v(M,k),M}}(),b=h(174),S=h(51),m=h(50),_=h(1);function p(v,M){if(!(v instanceof M))throw new TypeError("Cannot call a class as a function")}var g=Object.freeze({NULL:0,BOOL:1,BYTE:2,SHORT:3,INT:4,LONG:5,FLOAT:6,DOUBLE:7,UTF_STRING:8,BOOL_ARRAY:9,BYTE_ARRAY:10,SHORT_ARRAY:11,INT_ARRAY:12,LONG_ARRAY:13,FLOAT_ARRAY:14,DOUBLE_ARRAY:15,UTF_STRING_ARRAY:16,SFS_ARRAY:17,SFS_OBJECT:18,TEXT:20,fromId:function(v){if("number"!=typeof v)return null;for(var M in this)if(this.hasOwnProperty(M)&&this[M]===v)return M},validate:function(v,M){if(null==this.fromId(v))throw new _.SFSTypeError("Invalid type passed; use one of the SFSDataType constants");var N=null;if(v===this.NULL&&null!=M&&(N="a null value"),v!==this.NULL&&null==M&&(N="a non-null value"),v!==this.BOOL||this.isBoolType(M)||(N="a boolean value"),v!==this.BYTE||this.isByteType(M)||(N="an integer number in this range: 0 <= value < 256"),v!==this.SHORT||this.isShortType(M)||(N="an integer number in this range: -32.768 <= value < +32.768"),v!==this.INT||this.isIntType(M)||(N="an integer number in this range: -2^31 <= value < +2^31"),v!==this.LONG||this.isLongType(M)||(N="an integer number in this range: -(2^53 - 1) <= value <= +(2^53 - 1)"),v!==this.FLOAT||this.isFloatType(M)||(N="a number in this range: -3.4028234663852886e+38 <= value <= 3.4028234663852886e+38"),v!==this.DOUBLE||this.isDoubleType(M)||(N="a finite number"),v!==this.UTF_STRING&&v!==this.TEXT||this.isStringType(M)||(N="a string value"),v!==this.BOOL_ARRAY||this.isArrayType(M,this.isBoolType)||(N="an array of boolean values"),v!==this.BYTE_ARRAY||M instanceof Uint8Array||(N="a Uint8Array"),v!==this.SHORT_ARRAY||this.isArrayType(M,this.isShortType)||(N="an array of integer numbers in this range: -32.768 <= value < +32.768"),v!==this.INT_ARRAY||this.isArrayType(M,this.isIntType)||(N="an array of integer numbers in this range: -2^31 <= value < +2^31"),v!==this.LONG_ARRAY||this.isArrayType(M,this.isLongType)||(N="an array of integer numbers in this range: -(2^53 - 1) <= value <= +(2^53 - 1)"),v!==this.FLOAT_ARRAY||this.isArrayType(M,this.isFloatType)||(N="an array of numbers in this range: -3.4028234663852886e+38 <= value <= 3.4028234663852886e+38"),v!==this.DOUBLE_ARRAY||this.isArrayType(M,this.isDoubleType)||(N="an array of finite numbers"),v!==this.UTF_STRING_ARRAY||this.isArrayType(M,this.isStringType)||(N="an array of string values"),v!==this.SFS_OBJECT||M instanceof E||(N="a SFSObject instance"),v!==this.SFS_ARRAY||M instanceof T||(N="a SFSArray instance"),null!=N)throw new _.SFSTypeError("Invalid value passed; type SFSDataType."+this.fromId(v)+" requires "+N)},isBoolType:function(v){return"boolean"==typeof v},isByteType:function(v){return"number"==typeof v&&Math.floor(v)===v&&v>=0&&v<256},isShortType:function(v){return"number"==typeof v&&Math.floor(v)===v&&v>=-32768&&v<32768},isIntType:function(v){return"number"==typeof v&&Math.floor(v)===v&&v>=-2147483648&&v<2147483648},isLongType:function(v){return"number"==typeof v&&Math.floor(v)===v&&Number.isSafeInteger(v)},isFloatType:function(v){return"number"==typeof v&&v>=-34028234663852886e22&&v<=34028234663852886e22},isDoubleType:function(v){return"number"==typeof v&&isFinite(v)},isStringType:function(v){return"string"==typeof v},isArrayType:function(v,M){return v instanceof Array&&(!(v.length>0)||M(v[0]))}}),f=function v(M,N){p(this,v),this.type=M,this.value=N,Object.freeze(this)},E=function(){function v(){p(this,v),this._dataHolder=new Map,this._serializer=b.SFSDataSerializer.instance,Object.freeze(this)}return C(v,[{key:"toBinary",value:function(){return this._serializer.object2binary(this)}},{key:"keys",value:function(){return this._dataHolder.keys()}},{key:"getWrappedItem",value:function(M){return this._dataHolder.get(M)}},{key:"getKeysArray",value:function(){return Array.from(this.keys())}},{key:"size",value:function(){return this._dataHolder.size}},{key:"containsKey",value:function(M){return null!=this.getWrappedItem(M)}},{key:"get",value:function(M){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,k=this.getWrappedItem(M);if(null!=k&&null!=N&&k.type!=N)throw new _.SFSTypeError("Requested value is not of type SFSDataType."+g.fromId(N));return null!=k?k.value:null}},{key:"isNull",value:function(M){var N=this.getWrappedItem(M);return null==N||N.type==g.NULL}},{key:"getBool",value:function(M){return this.get(M,g.BOOL)}},{key:"getByte",value:function(M){return this.get(M,g.BYTE)}},{key:"getShort",value:function(M){return this.get(M,g.SHORT)}},{key:"getInt",value:function(M){return this.get(M,g.INT)}},{key:"getLong",value:function(M){var N=this.get(M,g.LONG);return Number.isSafeInteger(N)||m.Logger.instance.warn("Long value contained in SFSObject is not safe"),N}},{key:"getFloat",value:function(M){return this.get(M,g.FLOAT)}},{key:"getDouble",value:function(M){return this.get(M,g.DOUBLE)}},{key:"getUtfString",value:function(M){return this.get(M,g.UTF_STRING)}},{key:"getText",value:function(M){return this.get(M,g.TEXT)}},{key:"getBoolArray",value:function(M){return this.get(M,g.BOOL_ARRAY)}},{key:"getByteArray",value:function(M){return this.get(M,g.BYTE_ARRAY)}},{key:"getShortArray",value:function(M){return this.get(M,g.SHORT_ARRAY)}},{key:"getIntArray",value:function(M){return this.get(M,g.INT_ARRAY)}},{key:"getLongArray",value:function(M){return this.get(M,g.LONG_ARRAY)}},{key:"getFloatArray",value:function(M){return this.get(M,g.FLOAT_ARRAY)}},{key:"getDoubleArray",value:function(M){return this.get(M,g.DOUBLE_ARRAY)}},{key:"getUtfStringArray",value:function(M){return this.get(M,g.UTF_STRING_ARRAY)}},{key:"getSFSObject",value:function(M){return this.get(M,g.SFS_OBJECT)}},{key:"getSFSArray",value:function(M){return this.get(M,g.SFS_ARRAY)}},{key:"put",value:function(M,N,k){if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])){if("string"!=typeof M)throw"Invalid key passed; must be of type string";g.validate(k,N)}this._dataHolder.set(M,new f(k,N))}},{key:"putNull",value:function(M){this.put(M,null,g.NULL)}},{key:"putBool",value:function(M,N){this.put(M,N,g.BOOL)}},{key:"putByte",value:function(M,N){this.put(M,N,g.BYTE)}},{key:"putShort",value:function(M,N){this.put(M,N,g.SHORT)}},{key:"putInt",value:function(M,N){this.put(M,N,g.INT)}},{key:"putLong",value:function(M,N){this.put(M,N,g.LONG)}},{key:"putFloat",value:function(M,N){this.put(M,N,g.FLOAT)}},{key:"putDouble",value:function(M,N){this.put(M,N,g.DOUBLE)}},{key:"putUtfString",value:function(M,N){this.put(M,N,g.UTF_STRING)}},{key:"putText",value:function(M,N){this.put(M,N,g.TEXT)}},{key:"putBoolArray",value:function(M,N){this.put(M,N,g.BOOL_ARRAY)}},{key:"putByteArray",value:function(M,N){this.put(M,N,g.BYTE_ARRAY)}},{key:"putShortArray",value:function(M,N){this.put(M,N,g.SHORT_ARRAY)}},{key:"putIntArray",value:function(M,N){this.put(M,N,g.INT_ARRAY)}},{key:"putLongArray",value:function(M,N){this.put(M,N,g.LONG_ARRAY)}},{key:"putFloatArray",value:function(M,N){this.put(M,N,g.FLOAT_ARRAY)}},{key:"putDoubleArray",value:function(M,N){this.put(M,N,g.DOUBLE_ARRAY)}},{key:"putUtfStringArray",value:function(M,N){this.put(M,N,g.UTF_STRING_ARRAY)}},{key:"putSFSArray",value:function(M,N){this.put(M,N,g.SFS_ARRAY)}},{key:"putSFSObject",value:function(M,N){this.put(M,N,g.SFS_OBJECT)}},{key:"getDump",value:function(){var M=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.size()?"[ Empty SFSObject ]":M?S.DumpFormatter.prettyPrintDump(this._dump()):this._dump()}},{key:"getHexDump",value:function(){return S.DumpFormatter.hexDump(this.toBinary())}},{key:"_dump",value:function(){var M=S.DumpFormatter.TOKEN_INDENT_OPEN,N=!0,k=!1,G=void 0;try{for(var z,L=this.keys()[Symbol.iterator]();!(N=(z=L.next()).done);N=!0){var j=z.value,F=this.getWrappedItem(j);M+="("+g.fromId(F.type).toLowerCase()+") "+j+": ",M+=F.type===g.SFS_OBJECT||F.type===g.SFS_ARRAY?F.value.getDump(!1):F.type===g.BYTE_ARRAY?S.DumpFormatter.prettyPrintByteArray(F.value):F.value,M+=S.DumpFormatter.TOKEN_DIVIDER}}catch(W){k=!0,G=W}finally{try{!N&&L.return&&L.return()}finally{if(k)throw G}}return M+S.DumpFormatter.TOKEN_INDENT_CLOSE}}],[{key:"newFromBinaryData",value:function(M){return b.SFSDataSerializer.instance.binary2object(M)}}]),v}(),T=function(){function v(){p(this,v),this._dataHolder=[],this._serializer=b.SFSDataSerializer.instance,Object.freeze(this)}return C(v,[{key:"toBinary",value:function(){return this._serializer.array2binary(this)}},{key:"getWrappedItem",value:function(M){return"number"!=typeof M||M>=this._dataHolder.length?null:this._dataHolder[M]}},{key:"size",value:function(){return this._dataHolder.length}},{key:"contains",value:function(M){if(M instanceof v||M instanceof E)throw new _.SFSError("SFSArray and SFSObject types are not supported by the SFSArray.contains method");for(var N=0;N<this.size();N++){var k=this.getWrappedItem(N);if(null!=k&&k.value==M)return!0}return!1}},{key:"get",value:function(M){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("number"!=typeof M||M>=this._dataHolder.length)return null;var k=this.getWrappedItem(M);if(null!=k&&null!=N&&k.type!=N)throw new _.SFSTypeError("Requested value is not of type SFSDataType."+g.fromId(N));return null!=k?k.value:null}},{key:"isNull",value:function(M){var N=this.getWrappedItem(M);return null==N||N.type==g.NULL}},{key:"getBool",value:function(M){return this.get(M,g.BOOL)}},{key:"getByte",value:function(M){return this.get(M,g.BYTE)}},{key:"getShort",value:function(M){return this.get(M,g.SHORT)}},{key:"getInt",value:function(M){return this.get(M,g.INT)}},{key:"getLong",value:function(M){var N=this.get(M,g.LONG);return Number.isSafeInteger(N)||m.Logger.instance.warn("Long value contained in SFSObject is not safe"),N}},{key:"getFloat",value:function(M){return this.get(M,g.FLOAT)}},{key:"getDouble",value:function(M){return this.get(M,g.DOUBLE)}},{key:"getUtfString",value:function(M){return this.get(M,g.UTF_STRING)}},{key:"getText",value:function(M){return this.get(M,g.TEXT)}},{key:"getBoolArray",value:function(M){return this.get(M,g.BOOL_ARRAY)}},{key:"getByteArray",value:function(M){return this.get(M,g.BYTE_ARRAY)}},{key:"getShortArray",value:function(M){return this.get(M,g.SHORT_ARRAY)}},{key:"getIntArray",value:function(M){return this.get(M,g.INT_ARRAY)}},{key:"getLongArray",value:function(M){return this.get(M,g.LONG_ARRAY)}},{key:"getFloatArray",value:function(M){return this.get(M,g.FLOAT_ARRAY)}},{key:"getDoubleArray",value:function(M){return this.get(M,g.DOUBLE_ARRAY)}},{key:"getUtfStringArray",value:function(M){return this.get(M,g.UTF_STRING_ARRAY)}},{key:"getSFSObject",value:function(M){return this.get(M,g.SFS_OBJECT)}},{key:"getSFSArray",value:function(M){return this.get(M,g.SFS_ARRAY)}},{key:"add",value:function(M,N){arguments.length>2&&void 0!==arguments[2]&&arguments[2]||g.validate(N,M),this._dataHolder.push(new f(N,M))}},{key:"addNull",value:function(){this.add(null,g.NULL)}},{key:"addBool",value:function(M){this.add(M,g.BOOL)}},{key:"addByte",value:function(M){this.add(M,g.BYTE)}},{key:"addShort",value:function(M){this.add(M,g.SHORT)}},{key:"addInt",value:function(M){this.add(M,g.INT)}},{key:"addLong",value:function(M){this.add(M,g.LONG)}},{key:"addFloat",value:function(M){this.add(M,g.FLOAT)}},{key:"addDouble",value:function(M){this.add(M,g.DOUBLE)}},{key:"addUtfString",value:function(M){this.add(M,g.UTF_STRING)}},{key:"addText",value:function(M){this.add(M,g.TEXT)}},{key:"addBoolArray",value:function(M){this.add(M,g.BOOL_ARRAY)}},{key:"addByteArray",value:function(M){this.add(M,g.BYTE_ARRAY)}},{key:"addShortArray",value:function(M){this.add(M,g.SHORT_ARRAY)}},{key:"addIntArray",value:function(M){this.add(M,g.INT_ARRAY)}},{key:"addLongArray",value:function(M){this.add(M,g.LONG_ARRAY)}},{key:"addFloatArray",value:function(M){this.add(M,g.FLOAT_ARRAY)}},{key:"addDoubleArray",value:function(M){this.add(M,g.DOUBLE_ARRAY)}},{key:"addUtfStringArray",value:function(M){this.add(M,g.UTF_STRING_ARRAY)}},{key:"addSFSArray",value:function(M){this.add(M,g.SFS_ARRAY)}},{key:"addSFSObject",value:function(M){this.add(M,g.SFS_OBJECT)}},{key:"getDump",value:function(){var M=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.size()?"[ Empty SFSArray ]":M?S.DumpFormatter.prettyPrintDump(this._dump()):this._dump()}},{key:"getHexDump",value:function(){return S.DumpFormatter.hexDump(this.toBinary())}},{key:"_dump",value:function(){for(var M=S.DumpFormatter.TOKEN_INDENT_OPEN,N=0;N<this.size();N++){var k=this.getWrappedItem(N);M+="("+g.fromId(k.type).toLowerCase()+") "+N+": ",M+=k.type===g.SFS_OBJECT||k.type===g.SFS_ARRAY?k.value.getDump(!1):k.type===g.BYTE_ARRAY?S.DumpFormatter.prettyPrintByteArray(k.value):k.value,M+=S.DumpFormatter.TOKEN_DIVIDER}return M+S.DumpFormatter.TOKEN_INDENT_CLOSE}}],[{key:"newFromBinaryData",value:function(M){return b.SFSDataSerializer.instance.binary2array(M)}}]),v}(),d=function(){function v(M,N){var k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,G=arguments.length>3&&void 0!==arguments[3]&&arguments[3];p(this,v),this.px=M,this.py=N,this.pz=k,this._useFloatCoordinates=G}return C(v,[{key:"toString",value:function(){return"("+this.px+","+this.py+","+this.pz+")"}},{key:"toArray",value:function(){return[this.px,this.py,this.pz]}},{key:"isFloat",get:function(){return this._useFloatCoordinates}}],[{key:"fromArray",value:function(M){return new v(M[0],M[1],M[2])}}]),v}();w.SFSDataType=g,w.SFSDataWrapper=f,w.SFSObject=E,w.SFSArray=T,w.Vec3D=d},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.MMORoom=w.SFSRoom=void 0;var C=function(){function E(T,d){for(var v=0;v<d.length;v++){var M=d[v];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,d,v){return d&&E(T.prototype,d),v&&E(T,v),T}}(),b=h(8),S=h(49),m=h(119),_=h(1);function p(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}var g=function(){function E(T,d){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",M=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];p(this,E),this._id=T,this._name=d,this._groupId=v,this._isGame=!1,this._isHidden=!1,this._isJoined=!1,this._isPasswordProtected=!1,this._maxUsers=0,this._maxSpectators=0,this._userCount=0,this._specCount=0,this._isManaged=!0,this._variables=new Map,this._userManager=new m.SFSUserManager,this._roomManager=null,this.properties={},M&&Object.seal(this)}return C(E,[{key:"toString",value:function(){return"[Room: "+this.name+", Id: "+this.id+", Group Id: "+this.groupId+"]"}},{key:"getUserByName",value:function(T){return this._userManager.getUserByName(T)}},{key:"getUserById",value:function(T){return this._userManager.getUserById(T)}},{key:"containsUser",value:function(T){return this._userManager.containsUser(T)}},{key:"getUserList",value:function(){return this._userManager.getUserList()}},{key:"getPlayerList",value:function(){var T=this;return this._userManager.getUserList().filter(function(d){return d.isPlayerInRoom(T)})}},{key:"getSpectatorList",value:function(){var T=this;return this._userManager.getUserList().filter(function(d){return d.isSpectatorInRoom(T)})}},{key:"getVariable",value:function(T){return this._variables.get(T)}},{key:"containsVariable",value:function(T){return this._variables.has(T)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getRoomManager",value:function(){return this._roomManager}},{key:"_addUser",value:function(T){this._userManager._addUser(T)}},{key:"_removeUser",value:function(T){this._userManager._removeUser(T)}},{key:"_setVariables",value:function(T){var d=!0,v=!1,M=void 0;try{for(var N,k=T[Symbol.iterator]();!(d=(N=k.next()).done);d=!0)this._setVariable(N.value)}catch(z){v=!0,M=z}finally{try{!d&&k.return&&k.return()}finally{if(v)throw M}}}},{key:"_setVariable",value:function(T){T.isNull?this._variables.delete(T.name):this._variables.set(T.name,T)}},{key:"_setRoomManager",value:function(T){if(null!=this._roomManager)throw new _.SFSError("Room Manager already assigned to "+this.toString());this._roomManager=T}},{key:"_merge",value:function(T){if(!this.isJoined){this._variables.clear();var d=!0,v=!1,M=void 0;try{for(var N,k=T._variables.values()[Symbol.iterator]();!(d=(N=k.next()).done);d=!0)this._setVariable(N.value)}catch($){v=!0,M=$}finally{try{!d&&k.return&&k.return()}finally{if(v)throw M}}this._userManager._clearAll();var z=!0,L=!1,j=void 0;try{for(var F,W=T.getUserList()[Symbol.iterator]();!(z=(F=W.next()).done);z=!0)this._addUser(F.value)}catch($){L=!0,j=$}finally{try{!z&&W.return&&W.return()}finally{if(L)throw j}}}}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"groupId",get:function(){return this._groupId}},{key:"isGame",get:function(){return this._isGame}},{key:"isHidden",get:function(){return this._isHidden}},{key:"isJoined",get:function(){return this._isJoined}},{key:"isPasswordProtected",get:function(){return this._isPasswordProtected}},{key:"maxUsers",get:function(){return this._maxUsers}},{key:"maxSpectators",get:function(){return this._maxSpectators}},{key:"userCount",get:function(){return this.isJoined?this.isGame?this.getPlayerList().length:this._userManager.getUserCount():this._userCount}},{key:"spectatorCount",get:function(){return this.isGame?this.isJoined?this.getSpectatorList().length:this._specCount:0}},{key:"capacity",get:function(){return this.maxUsers+this.maxSpectators}}],[{key:"fromSFSArray",value:function(T){var d=14===T.size(),v=void 0;(v=d?new f(T.get(0),T.get(1),T.get(2)):new E(T.get(0),T.get(1),T.get(2)))._isGame=T.get(3),v._isHidden=T.get(4),v._isPasswordProtected=T.get(5),v._userCount=T.get(6),v._maxUsers=T.get(7);var M=T.get(8);if(null!=M)for(var N=0;N<M.size();N++){var k=S.SFSRoomVariable.fromSFSArray(M.get(N));v._setVariable(k)}return v._isGame&&(v._specCount=T.get(9),v._maxSpectators=T.get(10)),d&&(v._defaultAOI=b.Vec3D.fromArray(T.get(11)),null!=T.get(13)&&(v._lowerMapLimit=b.Vec3D.fromArray(T.get(12)),v._higherMapLimit=b.Vec3D.fromArray(T.get(13)))),v}}]),E}(),f=function(E){function T(d,v){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";p(this,T);var N=function(k,G){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||"object"!=typeof G&&"function"!=typeof G?k:G}(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,d,v,M,!1));return N._defaultAOI=null,N._lowerMapLimit=null,N._higherMapLimit=null,N._itemsById=new Map,Object.seal(N),N}return function(d,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);d.prototype=Object.create(v&&v.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(d,v):d.__proto__=v)}(T,g),C(T,[{key:"getMMOItem",value:function(d){return this._itemsById.get(d)}},{key:"getMMOItems",value:function(){return Array.from(this._itemsById.values())}},{key:"_addMMOItem",value:function(d){this._itemsById.set(d.id,d)}},{key:"_removeItem",value:function(d){this._itemsById.delete(d)}},{key:"defaultAOI",get:function(){return this._defaultAOI}},{key:"lowerMapLimit",get:function(){return this._lowerMapLimit}},{key:"higherMapLimit",get:function(){return this._higherMapLimit}}]),T}();w.SFSRoom=g,w.MMORoom=f},function(U,w,h){var C=h(5),b=h(148),S=h(30),m=Object.defineProperty;w.f=h(11)?Object.defineProperty:function(_,p,g){if(C(_),p=S(p,!0),C(g),b)try{return m(_,p,g)}catch(f){}if("get"in g||"set"in g)throw TypeError("Accessors not supported!");return"value"in g&&(_[p]=g.value),_}},function(U,w,h){U.exports=!h(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(U,w,h){var C=h(24),b=Math.min;U.exports=function(S){return S>0?b(C(S),9007199254740991):0}},function(U,w,h){var C=h(0),b=h(3),S=h(28),m=/"/g,_=function(p,g,f,E){var T=String(S(p)),d="<"+g;return""!==f&&(d+=" "+f+'="'+String(E).replace(m,"&quot;")+'"'),d+">"+T+"</"+g+">"};U.exports=function(p,g){var f={};f[p]=g(_),C(C.P+C.F*b(function(){var E=""[p]('"');return E!==E.toLowerCase()||E.split('"').length>3}),"String",f)}},function(U,w,h){var C=h(28);U.exports=function(b){return Object(C(b))}},function(U,w,h){var C=h(6),b=h(18),S=h(16),m=h(35)("src"),_=Function.toString,p=(""+_).split("toString");h(37).inspectSource=function(g){return _.call(g)},(U.exports=function(g,f,E,T){var d="function"==typeof E;d&&(S(E,"name")||b(E,"name",f)),g[f]!==E&&(d&&(S(E,m)||b(E,m,g[f]?""+g[f]:p.join(String(f)))),g===C?g[f]=E:T?g[f]?g[f]=E:b(g,f,E):(delete g[f],b(g,f,E)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[m]||_.call(this)})},function(U,w){var h={}.hasOwnProperty;U.exports=function(C,b){return h.call(C,b)}},function(U,w,h){"use strict";var C=h(3);U.exports=function(b,S){return!!b&&C(function(){S?b.call(null,function(){},1):b.call(null)})}},function(U,w,h){var C=h(10),b=h(36);U.exports=h(11)?function(S,m,_){return C.f(S,m,b(1,_))}:function(S,m,_){return S[m]=_,S}},function(U,w,h){var C=h(27),b=h(54),S=h(14),m=h(12),_=h(231);U.exports=function(p,g){var f=1==p,E=2==p,T=3==p,d=4==p,v=6==p,M=5==p||v,N=g||_;return function(k,G,z){for(var L,j,F=S(k),W=b(F),Q=C(G,z,3),$=m(W.length),oe=0,J=f?N(k,$):E?N(k,0):void 0;$>oe;oe++)if((M||oe in W)&&(j=Q(L=W[oe],oe,F),p))if(f)J[oe]=j;else if(j)switch(p){case 3:return!0;case 5:return L;case 6:return oe;case 2:J.push(L)}else if(d)return!1;return v?-1:T||d?d:J}}},function(U,w,h){var C=h(0),b=h(37),S=h(3);U.exports=function(m,_){var p=(b.Object||{})[m]||Object[m],g={};g[m]=_(p),C(C.S+C.F*S(function(){p(1)}),"Object",g)}},function(U,w,h){var C=h(54),b=h(28);U.exports=function(S){return C(b(S))}},function(U,w,h){"use strict";if(h(11)){var C=h(44),b=h(6),S=h(3),m=h(0),_=h(60),p=h(75),g=h(27),f=h(42),E=h(36),T=h(18),d=h(41),v=h(24),M=h(12),N=h(121),k=h(34),G=h(30),z=h(16),L=h(66),j=h(4),F=h(14),W=h(80),Q=h(33),$=h(31),oe=h(32).f,J=h(79),de=h(35),Re=h(7),Te=h(19),Pe=h(94),K=h(76),ue=h(128),te=h(53),we=h(64),le=h(43),he=h(78),ge=h(129),Ge=h(10),tt=h(23),Le=Ge.f,It=tt.f,Ze=b.RangeError,Ve=b.TypeError,ae=b.Uint8Array,_e=Array.prototype,ye=p.ArrayBuffer,He=p.DataView,qe=Te(0),ot=Te(2),ke=Te(3),We=Te(4),Qt=Te(5),Bt=Te(6),ln=Pe(!0),ci=Pe(!1),at=ue.values,bt=ue.keys,Oe=ue.entries,be=_e.lastIndexOf,Ie=_e.reduce,Be=_e.reduceRight,xe=_e.join,Ue=_e.sort,ht=_e.slice,St=_e.toString,Ot=_e.toLocaleString,On=Re("iterator"),Yn=Re("toStringTag"),ui=de("typed_constructor"),jt=de("def_constructor"),zn=_.CONSTR,_n=_.TYPED,Vt=_.VIEW,Bn=Te(1,function(nt,xt){return Ii(K(nt,nt[jt]),xt)}),wr=S(function(){return 1===new ae(new Uint16Array([1]).buffer)[0]}),Pr=!!ae&&!!ae.prototype.set&&S(function(){new ae(1).set({})}),Qn=function(nt,xt){var Wt=v(nt);if(Wt<0||Wt%xt)throw Ze("Wrong offset!");return Wt},cn=function(nt){if(j(nt)&&_n in nt)return nt;throw Ve(nt+" is not a typed array!")},Ii=function(nt,xt){if(!j(nt)||!(ui in nt))throw Ve("It is not a typed array constructor!");return new nt(xt)},Zt=function(nt,xt){return Zi(K(nt,nt[jt]),xt)},Zi=function(nt,xt){for(var Wt=0,Ei=xt.length,yn=Ii(nt,Ei);Ei>Wt;)yn[Wt]=xt[Wt++];return yn},xr=function(nt,xt,Wt){Le(nt,xt,{get:function(){return this._d[Wt]}})},Et=function(nt){var xt,Wt,Ei,yn,Vi,ha,bn=F(nt),Wi=arguments.length,Ir=Wi>1?arguments[1]:void 0,Ko=void 0!==Ir,xo=J(bn);if(null!=xo&&!W(xo)){for(ha=xo.call(bn),Ei=[],xt=0;!(Vi=ha.next()).done;xt++)Ei.push(Vi.value);bn=Ei}for(Ko&&Wi>2&&(Ir=g(Ir,arguments[2],2)),xt=0,Wt=M(bn.length),yn=Ii(this,Wt);Wt>xt;xt++)yn[xt]=Ko?Ir(bn[xt],xt):bn[xt];return yn},Ar=function(){for(var nt=0,xt=arguments.length,Wt=Ii(this,xt);xt>nt;)Wt[nt]=arguments[nt++];return Wt},co=!!ae&&S(function(){Ot.call(new ae(1))}),Ua=function(){return Ot.apply(co?ht.call(cn(this)):cn(this),arguments)},rd={copyWithin:function(nt,xt){return ge.call(cn(this),nt,xt,arguments.length>2?arguments[2]:void 0)},every:function(nt){return We(cn(this),nt,arguments.length>1?arguments[1]:void 0)},fill:function(nt){return he.apply(cn(this),arguments)},filter:function(nt){return Zt(this,ot(cn(this),nt,arguments.length>1?arguments[1]:void 0))},find:function(nt){return Qt(cn(this),nt,arguments.length>1?arguments[1]:void 0)},findIndex:function(nt){return Bt(cn(this),nt,arguments.length>1?arguments[1]:void 0)},forEach:function(nt){qe(cn(this),nt,arguments.length>1?arguments[1]:void 0)},indexOf:function(nt){return ci(cn(this),nt,arguments.length>1?arguments[1]:void 0)},includes:function(nt){return ln(cn(this),nt,arguments.length>1?arguments[1]:void 0)},join:function(nt){return xe.apply(cn(this),arguments)},lastIndexOf:function(nt){return be.apply(cn(this),arguments)},map:function(nt){return Bn(cn(this),nt,arguments.length>1?arguments[1]:void 0)},reduce:function(nt){return Ie.apply(cn(this),arguments)},reduceRight:function(nt){return Be.apply(cn(this),arguments)},reverse:function(){for(var nt,xt=cn(this).length,Wt=Math.floor(xt/2),Ei=0;Ei<Wt;)nt=this[Ei],this[Ei++]=this[--xt],this[xt]=nt;return this},some:function(nt){return ke(cn(this),nt,arguments.length>1?arguments[1]:void 0)},sort:function(nt){return Ue.call(cn(this),nt)},subarray:function(nt,xt){var Wt=cn(this),Ei=Wt.length,yn=k(nt,Ei);return new(K(Wt,Wt[jt]))(Wt.buffer,Wt.byteOffset+yn*Wt.BYTES_PER_ELEMENT,M((void 0===xt?Ei:k(xt,Ei))-yn))}},Ga=function(nt,xt){return Zt(this,ht.call(cn(this),nt,xt))},qc=function(nt){cn(this);var xt=Qn(arguments[1],1),Wt=this.length,Ei=F(nt),yn=M(Ei.length),Vi=0;if(yn+xt>Wt)throw Ze("Wrong length!");for(;Vi<yn;)this[xt+Vi]=Ei[Vi++]},Rr={entries:function(){return Oe.call(cn(this))},keys:function(){return bt.call(cn(this))},values:function(){return at.call(cn(this))}},vs=function(nt,xt){return j(nt)&&nt[_n]&&"symbol"!=typeof xt&&xt in nt&&String(+xt)==String(xt)},Po=function(nt,xt){return vs(nt,xt=G(xt,!0))?E(2,nt[xt]):It(nt,xt)},er=function(nt,xt,Wt){return!(vs(nt,xt=G(xt,!0))&&j(Wt)&&z(Wt,"value"))||z(Wt,"get")||z(Wt,"set")||Wt.configurable||z(Wt,"writable")&&!Wt.writable||z(Wt,"enumerable")&&!Wt.enumerable?Le(nt,xt,Wt):(nt[xt]=Wt.value,nt)};zn||(tt.f=Po,Ge.f=er),m(m.S+m.F*!zn,"Object",{getOwnPropertyDescriptor:Po,defineProperty:er}),S(function(){St.call({})})&&(St=Ot=function(){return xe.call(this)});var uo=d({},rd);d(uo,Rr),T(uo,On,Rr.values),d(uo,{slice:Ga,set:qc,constructor:function(){},toString:St,toLocaleString:Ua}),xr(uo,"buffer","b"),xr(uo,"byteOffset","o"),xr(uo,"byteLength","l"),xr(uo,"length","e"),Le(uo,Yn,{get:function(){return this[_n]}}),U.exports=function(nt,xt,Wt,Ei){var yn=nt+((Ei=!!Ei)?"Clamped":"")+"Array",Vi="get"+nt,ha="set"+nt,bn=b[yn],Wi=bn||{},Ir=bn&&$(bn),xo={},Hr=bn&&bn.prototype,Kc=function(ri,wi){Le(ri,wi,{get:function(){return(Jo=this._d).v[Vi](wi*xt+Jo.o,wr);var Jo},set:function(fi){return Jo=wi,Ln=fi,ja=this._d,Ei&&(Ln=(Ln=Math.round(Ln))<0?0:Ln>255?255:255&Ln),void ja.v[ha](Jo*xt+ja.o,Ln,wr);var Jo,Ln,ja},enumerable:!0})};bn&&_.ABV?S(function(){bn(1)})&&S(function(){new bn(-1)})&&we(function(ri){new bn,new bn(null),new bn(1.5),new bn(ri)},!0)||(bn=Wt(function(ri,wi,fi,ys){var Jo;return f(ri,bn,yn),j(wi)?wi instanceof ye||"ArrayBuffer"==(Jo=L(wi))||"SharedArrayBuffer"==Jo?void 0!==ys?new Wi(wi,Qn(fi,xt),ys):void 0!==fi?new Wi(wi,Qn(fi,xt)):new Wi(wi):_n in wi?Zi(bn,wi):Et.call(bn,wi):new Wi(N(wi))}),qe(Ir!==Function.prototype?oe(Wi).concat(oe(Ir)):oe(Wi),function(ri){ri in bn||T(bn,ri,Wi[ri])}),bn.prototype=Hr,C||(Hr.constructor=bn)):(bn=Wt(function(ri,wi,fi,ys){f(ri,bn,yn,"_d");var Jo,Ln,ja,mi,Ep=0,Sp=0;if(j(wi)){if(!(wi instanceof ye||"ArrayBuffer"==(mi=L(wi))||"SharedArrayBuffer"==mi))return _n in wi?Zi(bn,wi):Et.call(bn,wi);Jo=wi,Sp=Qn(fi,xt);var In=wi.byteLength;if(void 0===ys){if(In%xt||(Ln=In-Sp)<0)throw Ze("Wrong length!")}else if((Ln=M(ys)*xt)+Sp>In)throw Ze("Wrong length!");ja=Ln/xt}else ja=N(wi),Jo=new ye(Ln=ja*xt);for(T(ri,"_d",{b:Jo,o:Sp,l:Ln,e:ja,v:new He(Jo)});Ep<ja;)Kc(ri,Ep++)}),Hr=bn.prototype=Q(uo),T(Hr,"constructor",bn));var Ml=Hr[On],Xu=!!Ml&&("values"==Ml.name||null==Ml.name),od=Rr.values;T(bn,ui,!0),T(Hr,_n,yn),T(Hr,Vt,!0),T(Hr,jt,bn),(Ei?new bn(1)[Yn]==yn:Yn in Hr)||Le(Hr,Yn,{get:function(){return yn}}),xo[yn]=bn,m(m.G+m.W+m.F*(bn!=Wi),xo),m(m.S,yn,{BYTES_PER_ELEMENT:xt}),m(m.S+m.F*S(function(){Wi.of.call(bn,1)}),yn,{from:Et,of:Ar}),"BYTES_PER_ELEMENT"in Hr||T(Hr,"BYTES_PER_ELEMENT",xt),m(m.P,yn,rd),le(yn),m(m.P+m.F*Pr,yn,{set:qc}),m(m.P+m.F*!Xu,yn,Rr),C||Hr.toString==St||(Hr.toString=St),m(m.P+m.F*S(function(){new bn(1).slice()}),yn,{slice:Ga}),m(m.P+m.F*(S(function(){return[1,2].toLocaleString()!=new bn([1,2]).toLocaleString()})||!S(function(){Hr.toLocaleString.call([1,2])})),yn,{toLocaleString:Ua}),te[yn]=Xu?Ml:od,C||Xu||T(Hr,On,od)}}else U.exports=function(){}},function(U,w,h){var C=h(67),b=h(36),S=h(21),m=h(30),_=h(16),p=h(148),g=Object.getOwnPropertyDescriptor;w.f=h(11)?g:function(f,E){if(f=S(f),E=m(E,!0),p)try{return g(f,E)}catch(T){}if(_(f,E))return b(!C.f.call(f,E),f[E])}},function(U,w){var h=Math.ceil,C=Math.floor;U.exports=function(b){return isNaN(b=+b)?0:(b>0?C:h)(b)}},function(U,w){var h={}.toString;U.exports=function(C){return h.call(C).slice(8,-1)}},function(U,w){U.exports=function(h){if("function"!=typeof h)throw TypeError(h+" is not a function!");return h}},function(U,w,h){var C=h(26);U.exports=function(b,S,m){if(C(b),void 0===S)return b;switch(m){case 1:return function(_){return b.call(S,_)};case 2:return function(_,p){return b.call(S,_,p)};case 3:return function(_,p,g){return b.call(S,_,p,g)}}return function(){return b.apply(S,arguments)}}},function(U,w){U.exports=function(h){if(null==h)throw TypeError("Can't call method on  "+h);return h}},function(U,w,h){var C=h(35)("meta"),b=h(4),S=h(16),m=h(10).f,_=0,p=Object.isExtensible||function(){return!0},g=!h(3)(function(){return p(Object.preventExtensions({}))}),f=function(T){m(T,C,{value:{i:"O"+ ++_,w:{}}})},E=U.exports={KEY:C,NEED:!1,fastKey:function(T,d){if(!b(T))return"symbol"==typeof T?T:("string"==typeof T?"S":"P")+T;if(!S(T,C)){if(!p(T))return"F";if(!d)return"E";f(T)}return T[C].i},getWeak:function(T,d){if(!S(T,C)){if(!p(T))return!0;if(!d)return!1;f(T)}return T[C].w},onFreeze:function(T){return g&&E.NEED&&p(T)&&!S(T,C)&&f(T),T}}},function(U,w,h){var C=h(4);U.exports=function(b,S){if(!C(b))return b;var m,_;if(S&&"function"==typeof(m=b.toString)&&!C(_=m.call(b))||"function"==typeof(m=b.valueOf)&&!C(_=m.call(b))||!S&&"function"==typeof(m=b.toString)&&!C(_=m.call(b)))return _;throw TypeError("Can't convert object to primitive value")}},function(U,w,h){var C=h(16),b=h(14),S=h(93)("IE_PROTO"),m=Object.prototype;U.exports=Object.getPrototypeOf||function(_){return _=b(_),C(_,S)?_[S]:"function"==typeof _.constructor&&_ instanceof _.constructor?_.constructor.prototype:_ instanceof Object?m:null}},function(U,w,h){var C=h(146),b=h(92).concat("length","prototype");w.f=Object.getOwnPropertyNames||function(S){return C(S,b)}},function(U,w,h){var C=h(5),b=h(145),S=h(92),m=h(93)("IE_PROTO"),_=function(){},p=function(){var g,f=h(96)("iframe"),E=S.length;for(f.style.display="none",h(90).appendChild(f),f.src="javascript:",(g=f.contentWindow.document).open(),g.write("<script>document.F=Object<\/script>"),g.close(),p=g.F;E--;)delete p.prototype[S[E]];return p()};U.exports=Object.create||function(g,f){var E;return null!==g?(_.prototype=C(g),E=new _,_.prototype=null,E[m]=g):E=p(),void 0===f?E:b(E,f)}},function(U,w,h){var C=h(24),b=Math.max,S=Math.min;U.exports=function(m,_){return(m=C(m))<0?b(m+_,0):S(m,_)}},function(U,w){var h=0,C=Math.random();U.exports=function(b){return"Symbol(".concat(void 0===b?"":b,")_",(++h+C).toString(36))}},function(U,w){U.exports=function(h,C){return{enumerable:!(1&h),configurable:!(2&h),writable:!(4&h),value:C}}},function(U,w){var h=U.exports={version:"2.5.4"};"number"==typeof __e&&(__e=h)},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.LogicOperator=w.MatchExpression=void 0;var C=function(){function p(g,f){for(var E=0;E<f.length;E++){var T=f[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,f,E){return f&&p(g.prototype,f),E&&p(g,E),g}}(),b=h(8);function S(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}var m=function(){function p(g,f,E){S(this,p),this._varName=g,this._condition=f,this._value=E,this._logicOp=null,this._next=null,this._parent=null,Object.seal(this)}return C(p,[{key:"and",value:function(g,f,E){return this._next=p.chainedMatchExpression(g,f,E,_.AND,this),this._next}},{key:"or",value:function(g,f,E){return this._next=p.chainedMatchExpression(g,f,E,_.OR,this),this._next}},{key:"hasNext",value:function(){return null!=this._next}},{key:"rewind",value:function(){for(var g=this;null!=g._parent;)g=g._parent;return g}},{key:"toString",value:function(){for(var g=this.rewind(),f=g.asString();g.hasNext();)f+=(g=g.next).asString();return f}},{key:"asString",value:function(){var g="";return null!=this._logicOp&&(g+=" "+this._logicOp.id+" "),g+"("+this._varName+" "+this._condition.symbol+" "+("string"==typeof this._value?"' "+this._value+" '":this._value)+")"}},{key:"toSFSArray",value:function(){var g=this.rewind(),f=new b.SFSArray;for(f.addSFSArray(g.expressionAsSFSArray());g.hasNext();)f.addSFSArray((g=g.next).expressionAsSFSArray());return f}},{key:"expressionAsSFSArray",value:function(){var g=new b.SFSArray;return null!=this._logicOp?g.addUtfString(this._logicOp.id):g.addNull(),g.addUtfString(this._varName),g.addByte(this._condition.type),g.addUtfString(this._condition.symbol),0===this._condition.type?g.addBool(this._value):1===this._condition.type?g.addDouble(this._value):g.addUtfString(this._value),g}},{key:"varName",get:function(){return this._varName}},{key:"condition",get:function(){return this._condition}},{key:"value",get:function(){return this._value}},{key:"logicOp",get:function(){return this._logicOp}},{key:"next",get:function(){return this._next}}],[{key:"chainedMatchExpression",value:function(g,f,E,T,d){var v=new p(g,f,E);return v._logicOp=T,v._parent=d,v}}]),p}(),_=function(){function p(g){S(this,p),this._id=g,Object.freeze(this)}return C(p,[{key:"id",get:function(){return this._id}}],[{key:"AND",get:function(){return new p("AND")}},{key:"OR",get:function(){return new p("OR")}}]),p}();w.MatchExpression=m,w.LogicOperator=_},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0});var C=function(){function _(p,g){for(var f=0;f<g.length;f++){var E=g[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,g,f){return g&&_(p.prototype,g),f&&_(p,f),p}}(),b=function(){function _(){(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,_),this._listenersByEvent={}}return C(_,[{key:"addEventListener",value:function(p,g,f){this._listenersByEvent[p]||(this._listenersByEvent[p]=[]),this._listenersByEvent[p].push({callback:g,scope:f})}},{key:"removeEventListener",value:function(p,g){var f=this._listenersByEvent[p];if(f)for(var E=0;E<f.length;E++)if(f[E].callback===g){f.splice(E,1);break}}},{key:"dispatchEvent",value:function(p,g){var f=this._listenersByEvent[p];if(f){var E=!0,T=!1,d=void 0;try{for(var v,M=f[Symbol.iterator]();!(E=(v=M.next()).done);E=!0){var N=v.value;N.callback.call(N.scope,g)}}catch(k){T=!0,d=k}finally{try{!E&&M.return&&M.return()}finally{if(T)throw d}}}}}]),_}(),S=Object.freeze({HANDSHAKE:"handshake",CONNECTION:"connection",CONNECTION_LOST:"connectionLost",LOGIN:"login",LOGIN_ERROR:"loginError",LOGOUT:"logout",ROOM_ADD:"roomAdd",ROOM_CREATION_ERROR:"roomCreationError",ROOM_REMOVE:"roomRemove",ROOM_JOIN:"roomJoin",ROOM_JOIN_ERROR:"roomJoinError",USER_ENTER_ROOM:"userEnterRoom",USER_EXIT_ROOM:"userExitRoom",USER_COUNT_CHANGE:"userCountChange",PROXIMITY_LIST_UPDATE:"proximityListUpdate",PLAYER_TO_SPECTATOR:"playerToSpectator",PLAYER_TO_SPECTATOR_ERROR:"playerToSpectatorError",SPECTATOR_TO_PLAYER:"spectatorToPlayer",SPECTATOR_TO_PLAYER_ERROR:"spectatorToPlayerError",ROOM_NAME_CHANGE:"roomNameChange",ROOM_NAME_CHANGE_ERROR:"roomNameChangeError",ROOM_PASSWORD_STATE_CHANGE:"roomPasswordStateChange",ROOM_PASSWORD_STATE_CHANGE_ERROR:"roomPasswordStateChangeError",ROOM_CAPACITY_CHANGE:"roomCapacityChange",ROOM_CAPACITY_CHANGE_ERROR:"roomCapacityChangeError",PUBLIC_MESSAGE:"publicMessage",PRIVATE_MESSAGE:"privateMessage",OBJECT_MESSAGE:"objectMessage",MODERATOR_MESSAGE:"moderatorMessage",ADMIN_MESSAGE:"adminMessage",EXTENSION_RESPONSE:"extensionResponse",ROOM_VARIABLES_UPDATE:"roomVariablesUpdate",USER_VARIABLES_UPDATE:"userVariablesUpdate",MMOITEM_VARIABLES_UPDATE:"mmoItemVariablesUpdate",ROOM_GROUP_SUBSCRIBE:"roomGroupSubscribe",ROOM_GROUP_SUBSCRIBE_ERROR:"roomGroupSubscribeError",ROOM_GROUP_UNSUBSCRIBE:"roomGroupUnsubscribe",ROOM_GROUP_UNSUBSCRIBE_ERROR:"roomGroupUnsubscribeError",ROOM_FIND_RESULT:"roomFindResult",USER_FIND_RESULT:"userFindResult",INVITATION:"invitation",INVITATION_REPLY:"invitationReply",INVITATION_REPLY_ERROR:"invitationReplyError",PING_PONG:"pingPong",SOCKET_ERROR:"socketError"}),m=Object.freeze({BUDDY_LIST_INIT:"buddyListInit",BUDDY_ADD:"buddyAdd",BUDDY_REMOVE:"buddyRemove",BUDDY_BLOCK:"buddyBlock",BUDDY_ERROR:"buddyError",BUDDY_ONLINE_STATE_CHANGE:"buddyOnlineStateChange",BUDDY_VARIABLES_UPDATE:"buddyVariablesUpdate",BUDDY_MESSAGE:"buddyMessage"});w.EventDispatcher=b,w.SFSEvent=S,w.SFSBuddyEvent=m},function(U,w,h){var C=h(4);U.exports=function(b,S){if(!C(b)||b._t!==S)throw TypeError("Incompatible receiver, "+S+" required!");return b}},function(U,w,h){var C=h(15);U.exports=function(b,S,m){for(var _ in S)C(b,_,S[_],m);return b}},function(U,w){U.exports=function(h,C,b,S){if(!(h instanceof C)||void 0!==S&&S in h)throw TypeError(b+": incorrect invocation!");return h}},function(U,w,h){"use strict";var C=h(6),b=h(10),S=h(11),m=h(7)("species");U.exports=function(_){var p=C[_];S&&p&&!p[m]&&b.f(p,m,{configurable:!0,get:function(){return this}})}},function(U,w){U.exports=!1},function(U,w,h){var C=h(10).f,b=h(16),S=h(7)("toStringTag");U.exports=function(m,_,p){m&&!b(m=p?m:m.prototype,S)&&C(m,S,{configurable:!0,value:_})}},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.SFSBuddyVariable=w.ReservedBuddyVariables=void 0;var C=function(){function _(p,g){for(var f=0;f<g.length;f++){var E=g[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,g,f){return g&&_(p.prototype,g),f&&_(p,f),p}}(),b=h(48),S=Object.freeze({BV_ONLINE:"$__BV_ONLINE__",BV_STATE:"$__BV_STATE__",BV_NICKNAME:"$__BV_NICKNAME__"}),m=function(_){function p(g,f){var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p);var T=function(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?d:v}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,g,f,E));return Object.freeze(T),T}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(p,b.BaseVariable),C(p,null,[{key:"OFFLINE_PREFIX",get:function(){return"$"}}]),C(p,[{key:"toString",value:function(){return"[BuddyVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"}},{key:"isOffline",get:function(){return this._name.charAt(0)===p.OFFLINE_PREFIX}}],[{key:"fromSFSArray",value:function(g){return new p(g.get(0),g.get(2),g.get(1))}}]),p}();w.ReservedBuddyVariables=S,w.SFSBuddyVariable=m},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.UserPrivileges=w.SFSUser=void 0;var C=function(){function p(g,f){for(var E=0;E<f.length;E++){var T=f[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,f,E){return f&&p(g.prototype,f),E&&p(g,E),g}}(),b=h(59),S=h(1),m=function(){function p(g,f){var E=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(function(T,d){if(!(T instanceof d))throw new TypeError("Cannot call a class as a function")})(this,p),this._id=g,this._name=f,this._isItMe=E,this._privilegeId=0,this._aoiEntryPoint=null,this._variables=new Map,this._playerIdByRoomId=new Map,this._userManager=null,this.properties={},Object.seal(this)}return C(p,[{key:"toString",value:function(){return"[User: "+this.name+", Id: "+this.id+", Is me: "+this.isItMe+"]"}},{key:"isJoinedInRoom",value:function(g){return g.containsUser(this)}},{key:"getPlayerId",value:function(g){var f=this._playerIdByRoomId.get(g.id);return null!=f?f:0}},{key:"isPlayerInRoom",value:function(g){return!!g.isGame&&this.getPlayerId(g)>0}},{key:"isSpectatorInRoom",value:function(g){return!!g.isGame&&this.getPlayerId(g)<0}},{key:"getVariable",value:function(g){return this._variables.get(g)}},{key:"containsVariable",value:function(g){return this._variables.has(g)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getUserManager",value:function(){return this._userManager}},{key:"_setPlayerId",value:function(g,f){this._playerIdByRoomId.set(f.id,g)}},{key:"_removePlayerId",value:function(g){this._playerIdByRoomId.delete(g.id)}},{key:"_setVariables",value:function(g){var f=!0,E=!1,T=void 0;try{for(var d,v=g[Symbol.iterator]();!(f=(d=v.next()).done);f=!0)this._setVariable(d.value)}catch(N){E=!0,T=N}finally{try{!f&&v.return&&v.return()}finally{if(E)throw T}}}},{key:"_setVariable",value:function(g){g.isNull?this._variables.delete(g.name):this._variables.set(g.name,g)}},{key:"_setUserManager",value:function(g){if(null!=this._userManager)throw new S.SFSError("User Manager already assigned to user "+this.toString());this._userManager=g}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"isItMe",get:function(){return this._isItMe}},{key:"privilegeId",get:function(){return this._privilegeId}},{key:"aoiEntryPoint",get:function(){return this._aoiEntryPoint}},{key:"isGuest",get:function(){return this._privilegeId===_.GUEST}},{key:"isStandardUser",get:function(){return this._privilegeId===_.STANDARD}},{key:"isModerator",get:function(){return this._privilegeId===_.MODERATOR}},{key:"isAdmin",get:function(){return this.privilegeId===_.ADMINISTRATOR}},{key:"isPlayer",get:function(){return this.isPlayerInRoom(this._userManager._sfs.lastJoinedRoom)}},{key:"isSpectator",get:function(){return this.isSpectatorInRoom(this._userManager._sfs.lastJoinedRoom)}}],[{key:"fromSFSArray",value:function(g){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,E=new p(g.get(0),g.get(1));E._privilegeId=g.get(2),null!=f&&E._setPlayerId(g.get(3),f);var T=g.get(4);if(null!=T)for(var d=0;d<T.size();d++)E._setVariable(b.SFSUserVariable.fromSFSArray(T.get(d)));return E}}]),p}(),_=Object.freeze({GUEST:0,STANDARD:1,MODERATOR:2,ADMINISTRATOR:3});w.SFSUser=m,w.UserPrivileges=_},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.BaseVariable=w.VariableType=void 0;var C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},b=function(){function p(g,f){for(var E=0;E<f.length;E++){var T=f[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,f,E){return f&&p(g.prototype,f),E&&p(g,E),g}}(),S=h(8),m=Object.freeze({NULL:0,BOOLEAN:1,INT:2,DOUBLE:3,STRING:4,SFSOBJECT:5,SFSARRAY:6,getTypeName:function(p){return["null","boolean","int","double","string","SFSObject","SFSArray"][p]}}),_=function(){function p(g,f){var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;(function(T,d){if(!(T instanceof d))throw new TypeError("Cannot call a class as a function")})(this,p),this._name=g,this._value=f,this._type=E>-1?E:this._evalType()}return b(p,[{key:"toSFSArray",value:function(){var g=new S.SFSArray;return g.addUtfString(this.name),g.addByte(this._type),this._populateArrayWithValue(g),g}},{key:"_populateArrayWithValue",value:function(g){switch(this._type){case m.NULL:g.addNull();break;case m.BOOLEAN:g.addBool(this.value);break;case m.INT:g.addInt(this.value);break;case m.DOUBLE:g.addDouble(this.value);break;case m.STRING:g.addUtfString(this.value);break;case m.SFSOBJECT:g.addSFSObject(this.value);break;case m.SFSARRAY:g.addSFSArray(this.value)}}},{key:"_evalType",value:function(){if(null==this._value)return m.NULL;var g=C(this._value);if("boolean"===g)return m.BOOLEAN;if("number"===g){var f=this._value;return f===+f&&f===(0|f)?m.INT:m.DOUBLE}return"string"===g?m.STRING:"object"===g?this._value instanceof S.SFSArray?m.SFSARRAY:m.SFSOBJECT:void 0}},{key:"name",get:function(){return this._name}},{key:"value",get:function(){return this._value}},{key:"type",get:function(){return m.getTypeName(this._type)}},{key:"isNull",get:function(){return this._type===m.NULL}}]),p}();w.VariableType=m,w.BaseVariable=_},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.SFSRoomVariable=w.ReservedRoomVariables=void 0;var C=function(){function _(p,g){for(var f=0;f<g.length;f++){var E=g[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,g,f){return g&&_(p.prototype,g),f&&_(p,f),p}}(),b=h(48),S=Object.freeze({RV_GAME_STARTED:"$GS"}),m=function(_){function p(g,f){var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p);var T=function(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?d:v}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,g,f,E));return T.isPrivate=!1,T.isPersistent=!1,Object.seal(T),T}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(p,b.BaseVariable),C(p,[{key:"toString",value:function(){return"[RoomVar: "+this.name+", Type: "+this.type+", Value: "+this.value+", Private: "+this.isPrivate+"]"}},{key:"toSFSArray",value:function(){var g=function f(E,T,d){null===E&&(E=Function.prototype);var v=Object.getOwnPropertyDescriptor(E,T);if(void 0===v){var M=Object.getPrototypeOf(E);return null===M?void 0:f(M,T,d)}if("value"in v)return v.value;var N=v.get;return void 0!==N?N.call(d):void 0}(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"toSFSArray",this).call(this);return g.addBool(this.isPrivate),g.addBool(this.isPersistent),g}}],[{key:"fromSFSArray",value:function(g){var f=new p(g.get(0),g.get(2),g.get(1));return f.isPrivate=g.get(3),f.isPersistent=g.get(4),f}}]),p}();w.ReservedRoomVariables=S,w.SFSRoomVariable=m},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.LoggerEvent=w.Logger=w.LogLevel=void 0;var C=function(){function f(E,T){for(var d=0;d<T.length;d++){var v=T[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(E,v.key,v)}}return function(E,T,d){return T&&f(E.prototype,T),d&&f(E,d),E}}(),b=h(39),S=Object.freeze({DEBUG:0,INFO:1,WARN:2,ERROR:3,toString:function(f){return f===this.DEBUG?"DEBUG":f===this.INFO?"INFO":f===this.WARN?"WARN":f===this.ERROR?"ERROR":void 0}}),m=Object.freeze({DEBUG:"debug",INFO:"info",WARNING:"warn",ERROR:"error"}),_=Symbol(),p=Symbol(),g=function(f){function E(T){!function(v,M){if(!(v instanceof M))throw new TypeError("Cannot call a class as a function")}(this,E);var d=function(v,M){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?v:M}(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));if(T!==p)throw"Logger is a singleton class; you can't instantiate it";return d._enableConsoleOutput=void 0!==console,d._enableEventDispatching=!1,d._level=S.INFO,d._useBasicLog=!0,void 0!==console&&(d._useBasicLog="function"!=typeof console.debug||"function"!=typeof console.info||"function"!=typeof console.warn||"function"!=typeof console.error),d}return function(T,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);T.prototype=Object.create(d&&d.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(T,d):T.__proto__=d)}(E,b.EventDispatcher),C(E,[{key:"log",value:function(T){for(var d=this,v=arguments.length,M=Array(v>1?v-1:0),N=1;N<v;N++)M[N-1]=arguments[N];if(this.isValidLevel(T)&&T>=this._level){if(this._enableConsoleOutput){var k=function(G,z){d._useBasicLog&&(z=function(L){console.log(L)}),z("[ SFS2X | "+G+" ] "+M.join(" "))};switch(T){case S.DEBUG:k("DEBUG",function(G){console.debug(G)});break;case S.INFO:k("INFO",function(G){console.info(G)});break;case S.WARN:k("WARN",function(G){console.warn(G)});break;case S.ERROR:k("ERROR",function(G){console.error(G)})}}this._enableEventDispatching&&this.dispatchEvent(S.toString(T).toLowerCase(),{message:M.join(" ")})}}},{key:"debug",value:function(){for(var T=arguments.length,d=Array(T),v=0;v<T;v++)d[v]=arguments[v];this.log(S.DEBUG,d)}},{key:"info",value:function(){for(var T=arguments.length,d=Array(T),v=0;v<T;v++)d[v]=arguments[v];this.log(S.INFO,d)}},{key:"warn",value:function(){for(var T=arguments.length,d=Array(T),v=0;v<T;v++)d[v]=arguments[v];this.log(S.WARN,d)}},{key:"error",value:function(){for(var T=arguments.length,d=Array(T),v=0;v<T;v++)d[v]=arguments[v];this.log(S.ERROR,d)}},{key:"isValidLevel",value:function(T){if(!Number.isInteger(T)||T<S.DEBUG||T>S.ERROR)throw"Logging level must be set to a valid value (see LogLevel class)";return!0}},{key:"level",set:function(T){this.isValidLevel(T)&&(this._level=T)},get:function(){return this._level}},{key:"enableConsoleOutput",set:function(T){void 0!==console&&(this._enableConsoleOutput=T)},get:function(){return this._enableConsoleOutput}},{key:"enableEventDispatching",set:function(T){this._enableEventDispatching=T},get:function(){return this._enableEventDispatching}}],[{key:"instance",get:function(){return this[_]||(this[_]=new E(p)),Object.seal(this[_])}}]),E}();w.LogLevel=S,w.Logger=g,w.LoggerEvent=m},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0});var C=function(){function m(_,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(_,f.key,f)}}return function(_,p,g){return p&&m(_.prototype,p),g&&m(_,g),_}}(),b=Object.freeze({IDLE:"idle",KICK:"kick",BAN:"ban",MANUAL:"manual",UNKNOWN:"unknown",getReason:function(m){switch(m){case 0:return this.IDLE;case 1:return this.KICK;case 2:return this.BAN;case 3:return this.MANUAL;case 4:return this.UNKNOWN}}}),S=function(){function m(){!function(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}(this,m)}return C(m,null,[{key:"prettyPrintByteArray",value:function(_){return null==_?"Null":_.length<32?_.toString():"Byte["+_.length+"]"}},{key:"prettyPrintDump",value:function(_){for(var p="",g=0,f=0;f<_.length;f++){var E=_.charAt(f);if(E==this.TOKEN_INDENT_OPEN)g++,p+=this.NEW_LINE+this.getFormatTabs(g);else if(E==this.TOKEN_INDENT_CLOSE){if(--g<0)throw"DumpFormatter: the indentPos is negative. TOKENS ARE NOT BALANCED!";p+=this.NEW_LINE+this.getFormatTabs(g)}else p+=E==this.TOKEN_DIVIDER?this.NEW_LINE+this.getFormatTabs(g):E}if(0!=g)throw"DumpFormatter: the indentPos is not === 0 ("+g+"). TOKENS ARE NOT BALANCED!";return p}},{key:"getFormatTabs",value:function(_){return this.strFill(this.TAB,_)}},{key:"strFill",value:function(_,p){for(var g="",f=0;f<p;f++)g+=_;return g}},{key:"hexDump",value:function(_){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;-1===p&&(p=this.HEX_BYTES_PER_LINE);var g="Binary size: "+_.byteLength+this.NEW_LINE,f="",E="",T=0,d=0,v=null;do{var M=(v=_[T]).toString(16).toUpperCase();1===M.length&&(M="0"+M),f+=M+" ",E+=v>=33&&v<=126?String.fromCharCode(v):this.DOT,++d===p&&(d=0,g+=f+this.TAB+E+this.NEW_LINE,f="",E="")}while(++T<_.length);if(0!==d){for(var N=p-d;N>0;--N)f+="   ",E+=" ";g+=f+this.TAB+E+this.NEW_LINE}return g}},{key:"TOKEN_INDENT_OPEN",get:function(){return"{"}},{key:"TOKEN_INDENT_CLOSE",get:function(){return"}"}},{key:"TOKEN_DIVIDER",get:function(){return";"}},{key:"NEW_LINE",get:function(){return"\n"}},{key:"TAB",get:function(){return"\t"}},{key:"DOT",get:function(){return"."}},{key:"HEX_BYTES_PER_LINE",get:function(){return 16}}]),m}();w.ClientDisconnectionReason=b,w.DumpFormatter=S},function(U,w,h){var C=h(7)("unscopables"),b=Array.prototype;null==b[C]&&h(18)(b,C,{}),U.exports=function(S){b[C][S]=!0}},function(U,w){U.exports={}},function(U,w,h){var C=h(25);U.exports=Object("z").propertyIsEnumerable(0)?Object:function(b){return"String"==C(b)?b.split(""):Object(b)}},function(U,w,h){var C=h(146),b=h(92);U.exports=Object.keys||function(S){return C(S,b)}},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.MessageRecipientMode=w.BanMode=w.MapLimits=w.RoomExtension=w.RoomEvents=w.RoomPermissions=w.MMORoomSettings=w.SFSGameSettings=w.RoomSettings=void 0;var C=function(){function d(v,M){for(var N=0;N<M.length;N++){var k=M[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}return function(v,M,N){return M&&d(v.prototype,M),N&&d(v,N),v}}(),b=h(1);function S(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?d:v}function m(d,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);d.prototype=Object.create(v&&v.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(d,v):d.__proto__=v)}function _(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}var p=function d(v){_(this,d),this.name=v,this.password="",this.groupId="default",this.isGame=!1,this.maxUsers=10,this.maxSpectators=0,this.maxVariables=5,this.variables=[],this.permissions=null,this.events=null,this.extension=null,this.allowOwnerOnlyInvitation=!0},g=function(d){function v(M){_(this,v);var N=S(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,M));return N.isPublic=!0,N.minPlayersToStartGame=2,N.invitedPlayers=null,N.searchableRooms=null,N.invitationExpiryTime=15,N.leaveLastJoinedRoom=!0,N.notifyGameStarted=!1,N.playerMatchExpression=null,N.spectatorMatchExpression=null,N.invitationParams=null,Object.seal(N),N}return m(v,p),v}(),f=function(d){function v(M,N){_(this,v);var k=S(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,M));return k.defaultAOI=N,k.mapLimits=null,k.userMaxLimboSeconds=50,k.proximityListUpdateMillis=250,k.sendAOIEntryPoint=!0,Object.seal(k),k}return m(v,p),v}(),E=Object.freeze({BY_ADDRESS:0,BY_NAME:1}),T=function(){function d(v,M){if(_(this,d),v<d.TO_USER||v>d.TO_ZONE)throw new b.SFSError("Illegal recipient mode: "+v);this._mode=v,this._target=M,Object.freeze(this)}return C(d,null,[{key:"TO_USER",get:function(){return 0}},{key:"TO_ROOM",get:function(){return 1}},{key:"TO_GROUP",get:function(){return 2}},{key:"TO_ZONE",get:function(){return 3}}]),C(d,[{key:"mode",get:function(){return this._mode}},{key:"target",get:function(){return this._target}}]),d}();w.RoomSettings=p,w.SFSGameSettings=g,w.MMORoomSettings=f,w.RoomPermissions=function d(){_(this,d),this.allowNameChange=!1,this.allowPasswordStateChange=!1,this.allowPublicMessages=!0,this.allowResizing=!1,Object.seal(this)},w.RoomEvents=function d(){_(this,d),this.allowUserCountChange=!1,this.allowUserEnter=!1,this.allowUserExit=!1,this.allowUserVariablesUpdate=!1,Object.seal(this)},w.RoomExtension=function d(v,M){_(this,d),this.id=v,this.className=M,this.propertiesFile="",Object.seal(this)},w.MapLimits=function d(v,M){if(_(this,d),null==v||null==M)throw new b.SFSError("Map limits arguments must be both non null!");this.lowerLimit=v,this.higherLimit=M,Object.seal(this)},w.BanMode=E,w.MessageRecipientMode=T},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.CreateRoomRequest=void 0;var C=function(){function E(T,d){for(var v=0;v<d.length;v++){var M=d[v];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,d,v){return d&&E(T.prototype,d),v&&E(T,v),T}}(),b=h(2),S=h(1),m=h(56),_=h(8),p=h(9),g=h(49),f=function(E){function T(d){var v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(k,G){if(!(k instanceof G))throw new TypeError("Cannot call a class as a function")}(this,T);var N=function(k,G){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||"object"!=typeof G&&"function"!=typeof G?k:G}(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,b.Requests.CreateRoom));return N._settings=d,N._autoJoin=v,N._roomToLeave=M,Object.seal(N),N}return function(d,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);d.prototype=Object.create(v&&v.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(d,v):d.__proto__=v)}(T,b.BaseRequest),C(T,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_NAME",get:function(){return"n"}},{key:"KEY_PASSWORD",get:function(){return"p"}},{key:"KEY_GROUP_ID",get:function(){return"g"}},{key:"KEY_ISGAME",get:function(){return"ig"}},{key:"KEY_MAXUSERS",get:function(){return"mu"}},{key:"KEY_MAXSPECTATORS",get:function(){return"ms"}},{key:"KEY_MAXVARS",get:function(){return"mv"}},{key:"KEY_ROOMVARS",get:function(){return"rv"}},{key:"KEY_PERMISSIONS",get:function(){return"pm"}},{key:"KEY_EVENTS",get:function(){return"ev"}},{key:"KEY_EXTID",get:function(){return"xn"}},{key:"KEY_EXTCLASS",get:function(){return"xc"}},{key:"KEY_EXTPROP",get:function(){return"xp"}},{key:"KEY_AUTOJOIN",get:function(){return"aj"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"rl"}},{key:"KEY_ALLOW_JOIN_INVITATION_BY_OWNER",get:function(){return"aji"}},{key:"KEY_MMO_DEFAULT_AOI",get:function(){return"maoi"}},{key:"KEY_MMO_MAP_LOW_LIMIT",get:function(){return"mllm"}},{key:"KEY_MMO_MAP_HIGH_LIMIT",get:function(){return"mlhm"}},{key:"KEY_MMO_USER_MAX_LIMBO_SECONDS",get:function(){return"muls"}},{key:"KEY_MMO_PROXIMITY_UPDATE_MILLIS",get:function(){return"mpum"}},{key:"KEY_MMO_SEND_ENTRY_POINT",get:function(){return"msep"}}]),C(T,[{key:"validate",value:function(d){if(!(this._settings instanceof m.RoomSettings))throw new S.SFSValidationError("CreateRoomRequest Error",["Room configuration must be an instance of RoomSettings class"]);var v=[];if(null!=this._settings.name&&0!==this._settings.name.length||v.push("Missing Room name"),this._settings.maxUsers<=0&&v.push("Max number of users must be > 0"),this._settings.maxSpectators<0&&v.push("Max number of spectators must be >= 0"),this._settings.maxVariables<0&&v.push("Max number of Room Variables must be >= 0"),null!=this._settings.variables&&(this._settings.variables instanceof Array?this._settings.variables.every(function(M){return M instanceof g.SFSRoomVariable})||v.push("Each Room Variable must be an instance of SFSRoomVariable class"):v.push("Room Variables must be passed in an array")),null==this._settings.permissions||this._settings.permissions instanceof m.RoomPermissions||v.push("Allowed room permissions must be an instance of RoomPermissions class"),null==this._settings.events||this._settings.events instanceof m.RoomEvents||v.push("Allowed room events must be an instance of RoomEvents class"),null!=this._settings.extension&&(this._settings.extension instanceof m.RoomExtension?(null!=this._settings.extension.className&&0!==this._settings.extension.className.length||v.push("Missing Room Extension class name"),null!=this._settings.extension.id&&0!==this._settings.extension.id.length||v.push("Missing Room Extension id")):v.push("Room Extension settings must be an instance of RoomExtension class")),this._settings instanceof m.MMORoomSettings&&(null==this._settings.defaultAOI&&v.push("Missing MMORoom's default AoI (Area of Interest)"),this._settings.defaultAOI instanceof _.Vec3D||v.push("MMORoom's AoI (Area of Interest) must be an instance of Vec3D class"),null!=this._settings.mapLimits&&(this._settings.mapLimits instanceof m.MapLimits?(null!=this._settings.mapLimits.lowerLimit&&null!=this._settings.mapLimits.higherLimit||v.push("MMORoom's lower and higher map limits must be both set"),this._settings.mapLimits.lowerLimit instanceof _.Vec3D&&this._settings.mapLimits.higherLimit instanceof _.Vec3D||v.push("MMORoom's lower and higher map limits must be both instances of Vec3D class")):v.push("MMORoom's map limits must be set in an instance of MapLimits class"))),null==this._roomToLeave||this._roomToLeave instanceof p.SFSRoom||v.push("Room to leave must be an instance of SFSRoom class"),v.length>0)throw new S.SFSValidationError("CreateRoomRequest Error",v)}},{key:"execute",value:function(d){if(this._reqObj.putUtfString(T.KEY_NAME,this._settings.name),this._reqObj.putUtfString(T.KEY_GROUP_ID,this._settings.groupId),this._reqObj.putUtfString(T.KEY_PASSWORD,this._settings.password),this._reqObj.putBool(T.KEY_ISGAME,this._settings.isGame),this._reqObj.putShort(T.KEY_MAXUSERS,this._settings.maxUsers),this._reqObj.putShort(T.KEY_MAXSPECTATORS,this._settings.maxSpectators),this._reqObj.putShort(T.KEY_MAXVARS,this._settings.maxVariables),this._reqObj.putBool(T.KEY_ALLOW_JOIN_INVITATION_BY_OWNER,this._settings.allowOwnerOnlyInvitation),null!=this._settings.variables&&this._settings.variables.length>0){var v=new _.SFSArray,M=!0,N=!1,k=void 0;try{for(var G,z=this._settings.variables[Symbol.iterator]();!(M=(G=z.next()).done);M=!0)v.addSFSArray(G.value.toSFSArray())}catch(W){N=!0,k=W}finally{try{!M&&z.return&&z.return()}finally{if(N)throw k}}this._reqObj.putSFSArray(T.KEY_ROOMVARS,v)}if(null!=this._settings.permissions){var j=[];j.push(this._settings.permissions.allowNameChange),j.push(this._settings.permissions.allowPasswordStateChange),j.push(this._settings.permissions.allowPublicMessages),j.push(this._settings.permissions.allowResizing),this._reqObj.putBoolArray(T.KEY_PERMISSIONS,j)}if(null!=this._settings.events){var F=[];F.push(this._settings.events.allowUserEnter),F.push(this._settings.events.allowUserExit),F.push(this._settings.events.allowUserCountChange),F.push(this._settings.events.allowUserVariablesUpdate),this._reqObj.putBoolArray(T.KEY_EVENTS,F)}null!=this._settings.extension&&(this._reqObj.putUtfString(T.KEY_EXTID,this._settings.extension.id),this._reqObj.putUtfString(T.KEY_EXTCLASS,this._settings.extension.className),null!=this._settings.extension.propertiesFile&&this._settings.extension.propertiesFile.length>0&&this._reqObj.putUtfString(T.KEY_EXTPROP,this._settings.extension.propertiesFile)),this._settings instanceof m.MMORoomSettings&&(this._settings.defaultAOI.isFloat?(this._reqObj.putFloatArray(T.KEY_MMO_DEFAULT_AOI,this._settings.defaultAOI.toArray()),null!=this._settings.mapLimits&&(this._reqObj.putFloatArray(T.KEY_MMO_MAP_LOW_LIMIT,this._settings.mapLimits.lowerLimit.toArray()),this._reqObj.putFloatArray(T.KEY_MMO_MAP_HIGH_LIMIT,this._settings.mapLimits.higherLimit.toArray()))):(this._reqObj.putIntArray(T.KEY_MMO_DEFAULT_AOI,this._settings.defaultAOI.toArray()),null!=this._settings.mapLimits&&(this._reqObj.putIntArray(T.KEY_MMO_MAP_LOW_LIMIT,this._settings.mapLimits.lowerLimit.toArray()),this._reqObj.putIntArray(T.KEY_MMO_MAP_HIGH_LIMIT,this._settings.mapLimits.higherLimit.toArray()))),this._reqObj.putShort(T.KEY_MMO_USER_MAX_LIMBO_SECONDS,this._settings.userMaxLimboSeconds),this._reqObj.putShort(T.KEY_MMO_PROXIMITY_UPDATE_MILLIS,this._settings.proximityListUpdateMillis),this._reqObj.putBool(T.KEY_MMO_SEND_ENTRY_POINT,this._settings.sendAOIEntryPoint)),this._reqObj.putBool(T.KEY_AUTOJOIN,this._autoJoin),null!=this._roomToLeave&&this._reqObj.putInt(T.KEY_ROOM_TO_LEAVE,this._roomToLeave.id)}}]),T}();w.CreateRoomRequest=f},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.BuddyOnlineState=w.SFSBuddy=void 0;var C=function(){function _(p,g){for(var f=0;f<g.length;f++){var E=g[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,g,f){return g&&_(p.prototype,g),f&&_(p,f),p}}(),b=h(46),S=function(){function _(p,g){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],E=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(function(T,d){if(!(T instanceof d))throw new TypeError("Cannot call a class as a function")})(this,_),this._id=p,this._name=g,this._isBlocked=f,this._isTemp=E,this._variables=new Map,Object.seal(this)}return C(_,[{key:"toString",value:function(){return"[Buddy: "+this.name+", Id: "+this.id+"]"}},{key:"getVariable",value:function(p){return this._variables.get(p)}},{key:"containsVariable",value:function(p){return this._variables.has(p)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getOfflineVariables",value:function(){return this.getVariables().filter(function(p){return p.name.charAt(0)===b.SFSBuddyVariable.OFFLINE_PREFIX})}},{key:"getOnlineVariables",value:function(){return this.getVariables().filter(function(p){return p.name.charAt(0)!==b.SFSBuddyVariable.OFFLINE_PREFIX})}},{key:"_setVariables",value:function(p){var g=!0,f=!1,E=void 0;try{for(var T,d=p[Symbol.iterator]();!(g=(T=d.next()).done);g=!0)this._setVariable(T.value)}catch(M){f=!0,E=M}finally{try{!g&&d.return&&d.return()}finally{if(f)throw E}}}},{key:"_setVariable",value:function(p){p.isNull?this._variables.delete(p.name):this._variables.set(p.name,p)}},{key:"_removeVariable",value:function(p){this._variables.delete(p)}},{key:"_clearVolatileVariables",value:function(){var p=!0,g=!1,f=void 0;try{for(var E,T=this.getOnlineVariables()[Symbol.iterator]();!(p=(E=T.next()).done);p=!0)this._removeVariable(E.value.name)}catch(v){g=!0,f=v}finally{try{!p&&T.return&&T.return()}finally{if(g)throw f}}}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"isBlocked",get:function(){return this._isBlocked}},{key:"isTemp",get:function(){return this._isTemp}},{key:"isOnline",get:function(){var p=!0;return this.containsVariable(b.ReservedBuddyVariables.BV_ONLINE)&&(p=this.getVariable(b.ReservedBuddyVariables.BV_ONLINE).value),p&&this._id>-1}},{key:"state",get:function(){return this.containsVariable(b.ReservedBuddyVariables.BV_STATE)?this.getVariable(b.ReservedBuddyVariables.BV_STATE).value:null}},{key:"nickName",get:function(){return this.containsVariable(b.ReservedBuddyVariables.BV_NICKNAME)?this.getVariable(b.ReservedBuddyVariables.BV_NICKNAME).value:null}}],[{key:"fromSFSArray",value:function(p){var g=new _(p.get(0),p.get(1),p.get(2),p.size()>3&&p.get(4)),f=p.get(3);if(null!=f)for(var E=0;E<f.size();E++)g._setVariable(b.SFSBuddyVariable.fromSFSArray(f.get(E)));return g}}]),_}(),m=Object.freeze({ONLINE:0,OFFLINE:1,LEFT_THE_SERVER:2});w.SFSBuddy=S,w.BuddyOnlineState=m},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.SFSUserVariable=void 0;var C=function(){function m(_,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(_,f.key,f)}}return function(_,p,g){return p&&m(_.prototype,p),g&&m(_,g),_}}(),b=h(48),S=function(m){function _(p,g){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(T,d){if(!(T instanceof d))throw new TypeError("Cannot call a class as a function")}(this,_);var E=function(T,d){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?T:d}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,p,g,f));return E.isPrivate=!1,Object.seal(E),E}return function(p,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}(_,b.BaseVariable),C(_,[{key:"toString",value:function(){return"[UserVar: "+this.name+", Type: "+this.type+", Value: "+this.value+", Private: "+this.isPrivate+"]"}},{key:"toSFSArray",value:function(){var p=function g(f,E,T){null===f&&(f=Function.prototype);var d=Object.getOwnPropertyDescriptor(f,E);if(void 0===d){var v=Object.getPrototypeOf(f);return null===v?void 0:g(v,E,T)}if("value"in d)return d.value;var M=d.get;return void 0!==M?M.call(T):void 0}(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"toSFSArray",this).call(this);return p.addBool(this.isPrivate),p}}],[{key:"fromSFSArray",value:function(p){var g=new _(p.get(0),p.get(2),p.get(1));return p.size()>3&&(g.isPrivate=p.get(3)),g}}]),_}();w.SFSUserVariable=S},function(U,w,h){for(var C,b=h(6),S=h(18),m=h(35),_=m("typed_array"),p=m("view"),g=!(!b.ArrayBuffer||!b.DataView),f=g,E=0,T="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");E<9;)(C=b[T[E++]])?(S(C.prototype,_,!0),S(C.prototype,p,!0)):f=!1;U.exports={ABV:g,CONSTR:f,TYPED:_,VIEW:p}},function(U,w,h){"use strict";var C=h(6),b=h(0),S=h(15),m=h(41),_=h(29),p=h(62),g=h(42),f=h(4),E=h(3),T=h(64),d=h(45),v=h(87);U.exports=function(M,N,k,G,z,L){var j=C[M],F=j,W=z?"set":"add",Q=F&&F.prototype,$={},oe=function(K){var ue=Q[K];S(Q,K,"delete"==K||"has"==K?function(te){return!(L&&!f(te))&&ue.call(this,0===te?0:te)}:"get"==K?function(te){return L&&!f(te)?void 0:ue.call(this,0===te?0:te)}:"add"==K?function(te){return ue.call(this,0===te?0:te),this}:function(te,we){return ue.call(this,0===te?0:te,we),this})};if("function"==typeof F&&(L||Q.forEach&&!E(function(){(new F).entries().next()}))){var J=new F,de=J[W](L?{}:-0,1)!=J,Re=E(function(){J.has(1)}),Te=T(function(K){new F(K)}),Pe=!L&&E(function(){for(var K=new F,ue=5;ue--;)K[W](ue,ue);return!K.has(-0)});Te||((F=N(function(K,ue){g(K,F,M);var te=v(new j,K,F);return null!=ue&&p(ue,z,te[W],te),te})).prototype=Q,Q.constructor=F),(Re||Pe)&&(oe("delete"),oe("has"),z&&oe("get")),(Pe||de)&&oe(W),L&&Q.clear&&delete Q.clear}else F=G.getConstructor(N,M,z,W),m(F.prototype,k),_.NEED=!0;return d(F,M),$[M]=F,b(b.G+b.W+b.F*(F!=j),$),L||G.setStrong(F,M,z),F}},function(U,w,h){var C=h(27),b=h(132),S=h(80),m=h(5),_=h(12),p=h(79),g={},f={};(w=U.exports=function(E,T,d,v,M){var N,k,G,z,L=M?function(){return E}:p(E),j=C(d,v,T?2:1),F=0;if("function"!=typeof L)throw TypeError(E+" is not iterable!");if(S(L)){for(N=_(E.length);N>F;F++)if((z=T?j(m(k=E[F])[0],k[1]):j(E[F]))===g||z===f)return z}else for(G=L.call(E);!(k=G.next()).done;)if((z=b(G,j,k.value,T))===g||z===f)return z}).BREAK=g,w.RETURN=f},function(U,w,h){"use strict";var C=h(18),b=h(15),S=h(3),m=h(28),_=h(7);U.exports=function(p,g,f){var E=_(p),T=f(m,E,""[p]),d=T[0],v=T[1];S(function(){var M={};return M[E]=function(){return 7},7!=""[p](M)})&&(b(String.prototype,p,d),C(RegExp.prototype,E,2==g?function(M,N){return v.call(M,this,N)}:function(M){return v.call(M,this)}))}},function(U,w,h){var C=h(7)("iterator"),b=!1;try{var S=[7][C]();S.return=function(){b=!0},Array.from(S,function(){throw 2})}catch(m){}U.exports=function(m,_){if(!_&&!b)return!1;var p=!1;try{var g=[7],f=g[C]();f.next=function(){return{done:p=!0}},g[C]=function(){return f},m(g)}catch(E){}return p}},function(U,w,h){var C=h(0),b=h(28),S=h(3),m=h(88),_="["+m+"]",p=RegExp("^"+_+_+"*"),g=RegExp(_+_+"*$"),f=function(T,d,v){var M={},N=S(function(){return!!m[T]()||"\u200b\x85"!="\u200b\x85"[T]()}),k=M[T]=N?d(E):m[T];v&&(M[v]=k),C(C.P+C.F*N,"String",M)},E=f.trim=function(T,d){return T=String(b(T)),1&d&&(T=T.replace(p,"")),2&d&&(T=T.replace(g,"")),T};U.exports=f},function(U,w,h){var C=h(25),b=h(7)("toStringTag"),S="Arguments"==C(function(){return arguments}());U.exports=function(m){var _,p,g;return void 0===m?"Undefined":null===m?"Null":"string"==typeof(p=function(f,E){try{return f[E]}catch(T){}}(_=Object(m),b))?p:S?C(_):"Object"==(g=C(_))&&"function"==typeof _.callee?"Arguments":g}},function(U,w){w.f={}.propertyIsEnumerable},function(U,w){w.f=Object.getOwnPropertySymbols},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.InviteUsersRequest=void 0;var C=function(){function f(E,T){for(var d=0;d<T.length;d++){var v=T[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(E,v.key,v)}}return function(E,T,d){return T&&f(E.prototype,T),d&&f(E,d),E}}(),b=h(2),S=h(1),m=h(47),_=h(58),p=h(8),g=function(f){function E(T,d){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(N,k){if(!(N instanceof k))throw new TypeError("Cannot call a class as a function")}(this,E);var M=function(N,k){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?N:k}(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,b.Requests.InviteUsers));return M._invitedUsers=T,M._secondsForAnswer=d,M._params=v,Object.seal(M),M}return function(T,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);T.prototype=Object.create(d&&d.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(T,d):T.__proto__=d)}(E,b.BaseRequest),C(E,null,[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_USER_ID",get:function(){return"ui"}},{key:"KEY_INVITATION_ID",get:function(){return"ii"}},{key:"KEY_TIME",get:function(){return"t"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_INVITEE_ID",get:function(){return"ee"}},{key:"KEY_INVITED_USERS",get:function(){return"iu"}},{key:"KEY_REPLY_ID",get:function(){return"ri"}},{key:"MAX_INVITATIONS_FROM_CLIENT_SIDE",get:function(){return 8}},{key:"MIN_EXPIRY_TIME",get:function(){return 5}},{key:"MAX_EXPIRY_TIME",get:function(){return 300}}]),C(E,[{key:"validate",value:function(T){var d=[];if(null==this._invitedUsers?d.push("No invited users"):this._invitedUsers instanceof Array?(this._invitedUsers.length<1&&d.push("No invited users"),this._invitedUsers.length>E.MAX_INVITATIONS_FROM_CLIENT_SIDE&&d.push("Too many invitations; "+E.MAX_INVITATIONS_FROM_CLIENT_SIDE+" max are allowed from client side"),this._invitedUsers.every(function(v){return v instanceof m.SFSUser||v instanceof _.SFSBuddy})||d.push("Each invited user must be an instance of SFSUser or SFSBuddy class")):d.push("Invited users must be passed in an array"),(this._secondsForAnswer<E.MIN_EXPIRY_TIME||this._secondsForAnswer>E.MAX_EXPIRY_TIME)&&d.push("secondsForAnswer value is out of range (min: "+E.MIN_EXPIRY_TIME+"; max: "+E.MAX_EXPIRY_TIME+")"),null==this._params||this._params instanceof p.SFSObject||d.push("Custom invitation parameters must be set in a SFSObject class instance"),d.length>0)throw new S.SFSValidationError("InviteUsersRequest Error",d)}},{key:"execute",value:function(T){var d=[],v=!0,M=!1,N=void 0;try{for(var k,G=this._invitedUsers[Symbol.iterator]();!(v=(k=G.next()).done);v=!0){var z=k.value;if(z instanceof m.SFSUser||z instanceof _.SFSBuddy){if(z===T.mySelf)continue;d.push(z.id)}}}catch(L){M=!0,N=L}finally{try{!v&&G.return&&G.return()}finally{if(M)throw N}}this._reqObj.putIntArray(E.KEY_INVITED_USERS,d),this._reqObj.putShort(E.KEY_TIME,this._secondsForAnswer),null!=this._params&&this._reqObj.putSFSObject(E.KEY_PARAMS,this._params)}}]),E}();w.InviteUsersRequest=g},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.AdminMessageRequest=w.ModeratorMessageRequest=w.ObjectMessageRequest=w.PrivateMessageRequest=w.PublicMessageRequest=w.GenericMessageRequest=w.GenericMessageType=void 0;var C=function(){function L(j,F){for(var W=0;W<F.length;W++){var Q=F[W];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(j,Q.key,Q)}}return function(j,F,W){return F&&L(j.prototype,F),W&&L(j,W),j}}(),b=h(2),S=h(1),m=h(56),_=h(8),p=h(9),g=h(47);function f(L,j){if(!(L instanceof j))throw new TypeError("Cannot call a class as a function")}function E(L,j){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!j||"object"!=typeof j&&"function"!=typeof j?L:j}function T(L,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function, not "+typeof j);L.prototype=Object.create(j&&j.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(L,j):L.__proto__=j)}var d=Object.freeze({PUBLIC_MSG:0,PRIVATE_MSG:1,MODERATOR_MSG:2,ADMING_MSG:3,OBJECT_MSG:4,BUDDY_MSG:5}),v=function(L){function j(){f(this,j);var F=E(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,b.Requests.GenericMessage));return F._type=-1,F._room=null,F._user=null,F._message=null,F._params=null,F._recipient=null,F._sendMode=-1,Object.seal(F),F}return T(j,b.BaseRequest),C(j,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_MESSAGE_TYPE",get:function(){return"t"}},{key:"KEY_RECIPIENT",get:function(){return"rc"}},{key:"KEY_RECIPIENT_MODE",get:function(){return"rm"}},{key:"KEY_XTRA_PARAMS",get:function(){return"p"}},{key:"KEY_SENDER_DATA",get:function(){return"sd"}}]),C(j,[{key:"validate",value:function(F){if(this._type<0)throw new S.SFSValidationError("GenericMessageRequest Error",["Unsupported message type: "+this._type]);var W=[];switch(this._type){case d.PUBLIC_MSG:this._validatePublicMessage(F,W);break;case d.PRIVATE_MSG:this._validatePrivateMessage(F,W);break;case d.OBJECT_MSG:this._validateObjectMessage(F,W);break;case d.BUDDY_MSG:this._validateBuddyMessage(F,W);break;default:this._validateSuperUserMessage(F,W)}if(W.length>0)throw new S.SFSValidationError("GenericMessageRequest Error",W)}},{key:"execute",value:function(F){switch(this._reqObj.putByte(j.KEY_MESSAGE_TYPE,this._type),this._type){case d.PUBLIC_MSG:this._executePublicMessage(F);break;case d.PRIVATE_MSG:this._executePrivateMessage(F);break;case d.OBJECT_MSG:this._executeObjectMessage(F);break;case d.BUDDY_MSG:this._executeBuddyMessage(F);break;default:this._executeSuperUserMessage(F)}}},{key:"_validatePublicMessage",value:function(F,W){null!=this._message&&0!==this._message.length||W.push("Public message is empty"),null==this._room&&(this._room=F.lastJoinedRoom),null==this._room?W.push("You must be joined in a Room to send a message"):this._room instanceof p.SFSRoom?F.getJoinedRooms().indexOf(this._room)<0&&W.push("You are not joined in the target Room: "+this._room):W.push("Target Room must be an instance of SFSRoom class"),null==this._params||this._params instanceof _.SFSObject||W.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validatePrivateMessage",value:function(F,W){null!=this._message&&0!==this._message.length||W.push("Private message is empty"),this._recipient<0&&W.push("Invalid recipient id: "+this._recipient),null==this._params||this._params instanceof _.SFSObject||W.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validateObjectMessage",value:function(F,W){null==this._params?W.push("Object message is null"):this._params instanceof _.SFSObject||W.push("Message object must be an instance of SFSObject class"),null==this._room&&(this._room=F.lastJoinedRoom),null==this._room?W.push("You must be joined in a Room to send a message"):this._room instanceof p.SFSRoom?F.getJoinedRooms().indexOf(this._room)<0&&W.push("You are not joined in the target Room: "+this._room):W.push("Target Room must be an instance of SFSRoom class"),null!=this._recipient&&(this._recipient instanceof Array?this._recipient.every(function(Q){return Q instanceof g.SFSUser})||W.push("Each message recipient must be an instance of SFSUser class"):W.push("Message recipients must be passed in an array"),this._recipient.length>this._room.capacity&&W.push("The number of recipients is bigger than the target Room capacity: "+this._recipient.length))}},{key:"_validateBuddyMessage",value:function(F,W){F.buddyManager.isInited||W.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===F.buddyManager.myOnlineState&&W.push("Can't send messages while you are offline in the Buddy List system"),null!=this._message&&0!==this._message.length||W.push("Buddy message is empty"),this._recipient<0&&W.push("Recipient is offline or not in your Buddy List"),null==this._params||this._params instanceof _.SFSObject||W.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validateSuperUserMessage",value:function(F,W){switch(null!=this._message&&0!==this._message.length||W.push("Moderator message is empty"),null==this._params||this._params instanceof _.SFSObject||W.push("Message parameters must be set in a SFSObject class instance"),this._sendMode){case m.MessageRecipientMode.TO_USER:this._recipient instanceof g.SFSUser||W.push("Recipient must be an instance of SFSUser class");break;case m.MessageRecipientMode.TO_ROOM:this._recipient instanceof p.SFSRoom||W.push("Recipient must be an instance of SFSRoom class");break;case m.MessageRecipientMode.TO_GROUP:"string"!=typeof this._recipient&&W.push("Recipient must be a string (the groupId)")}}},{key:"_executePublicMessage",value:function(F){this._reqObj.putInt(j.KEY_ROOM_ID,this._room.id),this._reqObj.putInt(j.KEY_USER_ID,F.mySelf.id),this._reqObj.putUtfString(j.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(j.KEY_XTRA_PARAMS,this._params)}},{key:"_executePrivateMessage",value:function(F){this._reqObj.putInt(j.KEY_RECIPIENT,this._recipient),this._reqObj.putUtfString(j.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(j.KEY_XTRA_PARAMS,this._params)}},{key:"_executeBuddyMessage",value:function(F){this._reqObj.putInt(j.KEY_RECIPIENT,this._recipient),this._reqObj.putUtfString(j.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(j.KEY_XTRA_PARAMS,this._params)}},{key:"_executeSuperUserMessage",value:function(F){switch(this._reqObj.putUtfString(j.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(j.KEY_XTRA_PARAMS,this._params),this._reqObj.putInt(j.KEY_RECIPIENT_MODE,this._sendMode),this._sendMode){case m.MessageRecipientMode.TO_USER:case m.MessageRecipientMode.TO_ROOM:this._reqObj.putInt(j.KEY_RECIPIENT,this._recipient.id);break;case m.MessageRecipientMode.TO_GROUP:this._reqObj.putUtfString(j.KEY_RECIPIENT,this._recipient)}}},{key:"_executeObjectMessage",value:function(F){this._reqObj.putInt(j.KEY_ROOM_ID,this._room.id),this._reqObj.putSFSObject(j.KEY_XTRA_PARAMS,this._params);var W=new Set;if(null!=this._recipient){var Q=!0,$=!1,oe=void 0;try{for(var J,de=this._recipient[Symbol.iterator]();!(Q=(J=de.next()).done);Q=!0)W.add(J.value.id)}catch(Te){$=!0,oe=Te}finally{try{!Q&&de.return&&de.return()}finally{if($)throw oe}}}W.size>0&&this._reqObj.putIntArray(j.KEY_RECIPIENT,Array.from(W))}}]),j}(),M=function(L){function j(F){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,j);var $=E(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return $._type=d.OBJECT_MSG,$._params=F,$._room=W,$._recipient=Q,Object.seal($),$}return T(j,v),j}(),N=function(L){function j(F){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,j);var $=E(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return $._type=d.PUBLIC_MSG,$._message=F,$._room=Q,$._params=W,Object.seal($),$}return T(j,v),j}(),k=function(L){function j(F,W){var Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,j);var $=E(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return $._type=d.PRIVATE_MSG,$._message=F,$._recipient=W,$._params=Q,Object.seal($),$}return T(j,v),j}(),G=function(L){function j(F,W){var Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,j);var $=E(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));if(null==W)throw new S.SFSError("Recipient mode cannot be null");if(!(W instanceof m.MessageRecipientMode))throw new S.SFSError("Recipient mode must be an instance of MessageRecipientMode class");return $._type=d.MODERATOR_MSG,$._message=F,$._params=Q,$._recipient=W.target,$._sendMode=W.mode,Object.seal($),$}return T(j,v),j}(),z=function(L){function j(F,W){var Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,j);var $=E(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));if(null==W)throw new S.SFSError("Recipient mode cannot be null");if(!(W instanceof m.MessageRecipientMode))throw new S.SFSError("Recipient mode must an instance of MessageRecipientMode class");return $._type=d.ADMING_MSG,$._message=F,$._params=Q,$._recipient=W.target,$._sendMode=W.mode,Object.seal($),$}return T(j,v),j}();w.GenericMessageType=d,w.GenericMessageRequest=v,w.PublicMessageRequest=N,w.PrivateMessageRequest=k,w.ObjectMessageRequest=M,w.ModeratorMessageRequest=G,w.AdminMessageRequest=z},function(U,w,h){"use strict";h.r(w),h.d(w,"MD5",function(){return C});var C=function(){this.hexcase=0,this.b64pad=""};C.prototype={},C.prototype.hex_md5=function(b){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(b)))},C.prototype.b64_md5=function(b){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(b)))},C.prototype.any_md5=function(b,S){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(b)),S)},C.prototype.hex_hmac_md5=function(b,S){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(b),this.str2rstr_utf8(S)))},C.prototype.b64_hmac_md5=function(b,S){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(b),this.str2rstr_utf8(S)))},C.prototype.any_hmac_md5=function(b,S,m){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(b),this.str2rstr_utf8(S)),m)},C.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},C.prototype.rstr_md5=function(b){return this.binl2rstr(this.binl_md5(this.rstr2binl(b),8*b.length))},C.prototype.rstr_hmac_md5=function(b,S){var m=this.rstr2binl(b);m.length>16&&(m=this.binl_md5(m,8*b.length));for(var _=Array(16),p=Array(16),g=0;g<16;g++)_[g]=909522486^m[g],p[g]=1549556828^m[g];var f=this.binl_md5(_.concat(this.rstr2binl(S)),512+8*S.length);return this.binl2rstr(this.binl_md5(p.concat(f),640))},C.prototype.rstr2hex=function(b){for(var S,m=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",_="",p=0;p<b.length;p++)S=b.charCodeAt(p),_+=m.charAt(S>>>4&15)+m.charAt(15&S);return _},C.prototype.rstr2b64=function(b){for(var S="",m=b.length,_=0;_<m;_+=3)for(var p=b.charCodeAt(_)<<16|(_+1<m?b.charCodeAt(_+1)<<8:0)|(_+2<m?b.charCodeAt(_+2):0),g=0;g<4;g++)S+=8*_+6*g>8*b.length?this.b64pad:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(p>>>6*(3-g)&63);return S},C.prototype.rstr2any=function(b,S){var m,_,p,g,f,E=S.length,T=Array(Math.ceil(b.length/2));for(m=0;m<T.length;m++)T[m]=b.charCodeAt(2*m)<<8|b.charCodeAt(2*m+1);var d=Math.ceil(8*b.length/(Math.log(S.length)/Math.log(2))),v=Array(d);for(_=0;_<d;_++){for(f=Array(),g=0,m=0;m<T.length;m++)g=(g<<16)+T[m],g-=(p=Math.floor(g/E))*E,(f.length>0||p>0)&&(f[f.length]=p);v[_]=g,T=f}var M="";for(m=v.length-1;m>=0;m--)M+=S.charAt(v[m]);return M},C.prototype.str2rstr_utf8=function(b){for(var S,m,_="",p=-1;++p<b.length;)S=b.charCodeAt(p),m=p+1<b.length?b.charCodeAt(p+1):0,55296<=S&&S<=56319&&56320<=m&&m<=57343&&(S=65536+((1023&S)<<10)+(1023&m),p++),S<=127?_+=String.fromCharCode(S):S<=2047?_+=String.fromCharCode(192|S>>>6&31,128|63&S):S<=65535?_+=String.fromCharCode(224|S>>>12&15,128|S>>>6&63,128|63&S):S<=2097151&&(_+=String.fromCharCode(240|S>>>18&7,128|S>>>12&63,128|S>>>6&63,128|63&S));return _},C.prototype.str2rstr_utf16le=function(b){for(var S="",m=0;m<b.length;m++)S+=String.fromCharCode(255&b.charCodeAt(m),b.charCodeAt(m)>>>8&255);return S},C.prototype.str2rstr_utf16be=function(b){for(var S="",m=0;m<b.length;m++)S+=String.fromCharCode(b.charCodeAt(m)>>>8&255,255&b.charCodeAt(m));return S},C.prototype.rstr2binl=function(b){for(var S=Array(b.length>>2),m=0;m<S.length;m++)S[m]=0;for(m=0;m<8*b.length;m+=8)S[m>>5]|=(255&b.charCodeAt(m/8))<<m%32;return S},C.prototype.binl2rstr=function(b){for(var S="",m=0;m<32*b.length;m+=8)S+=String.fromCharCode(b[m>>5]>>>m%32&255);return S},C.prototype.binl_md5=function(b,S){b[S>>5]|=128<<S%32,b[14+(S+64>>>9<<4)]=S;for(var m=1732584193,_=-271733879,p=-1732584194,g=271733878,f=0;f<b.length;f+=16){var E=m,T=_,d=p,v=g;m=this.md5_ff(m,_,p,g,b[f+0],7,-680876936),g=this.md5_ff(g,m,_,p,b[f+1],12,-389564586),p=this.md5_ff(p,g,m,_,b[f+2],17,606105819),_=this.md5_ff(_,p,g,m,b[f+3],22,-1044525330),m=this.md5_ff(m,_,p,g,b[f+4],7,-176418897),g=this.md5_ff(g,m,_,p,b[f+5],12,1200080426),p=this.md5_ff(p,g,m,_,b[f+6],17,-1473231341),_=this.md5_ff(_,p,g,m,b[f+7],22,-45705983),m=this.md5_ff(m,_,p,g,b[f+8],7,1770035416),g=this.md5_ff(g,m,_,p,b[f+9],12,-1958414417),p=this.md5_ff(p,g,m,_,b[f+10],17,-42063),_=this.md5_ff(_,p,g,m,b[f+11],22,-1990404162),m=this.md5_ff(m,_,p,g,b[f+12],7,1804603682),g=this.md5_ff(g,m,_,p,b[f+13],12,-40341101),p=this.md5_ff(p,g,m,_,b[f+14],17,-1502002290),_=this.md5_ff(_,p,g,m,b[f+15],22,1236535329),m=this.md5_gg(m,_,p,g,b[f+1],5,-165796510),g=this.md5_gg(g,m,_,p,b[f+6],9,-1069501632),p=this.md5_gg(p,g,m,_,b[f+11],14,643717713),_=this.md5_gg(_,p,g,m,b[f+0],20,-373897302),m=this.md5_gg(m,_,p,g,b[f+5],5,-701558691),g=this.md5_gg(g,m,_,p,b[f+10],9,38016083),p=this.md5_gg(p,g,m,_,b[f+15],14,-660478335),_=this.md5_gg(_,p,g,m,b[f+4],20,-405537848),m=this.md5_gg(m,_,p,g,b[f+9],5,568446438),g=this.md5_gg(g,m,_,p,b[f+14],9,-1019803690),p=this.md5_gg(p,g,m,_,b[f+3],14,-187363961),_=this.md5_gg(_,p,g,m,b[f+8],20,1163531501),m=this.md5_gg(m,_,p,g,b[f+13],5,-1444681467),g=this.md5_gg(g,m,_,p,b[f+2],9,-51403784),p=this.md5_gg(p,g,m,_,b[f+7],14,1735328473),_=this.md5_gg(_,p,g,m,b[f+12],20,-1926607734),m=this.md5_hh(m,_,p,g,b[f+5],4,-378558),g=this.md5_hh(g,m,_,p,b[f+8],11,-2022574463),p=this.md5_hh(p,g,m,_,b[f+11],16,1839030562),_=this.md5_hh(_,p,g,m,b[f+14],23,-35309556),m=this.md5_hh(m,_,p,g,b[f+1],4,-1530992060),g=this.md5_hh(g,m,_,p,b[f+4],11,1272893353),p=this.md5_hh(p,g,m,_,b[f+7],16,-155497632),_=this.md5_hh(_,p,g,m,b[f+10],23,-1094730640),m=this.md5_hh(m,_,p,g,b[f+13],4,681279174),g=this.md5_hh(g,m,_,p,b[f+0],11,-358537222),p=this.md5_hh(p,g,m,_,b[f+3],16,-722521979),_=this.md5_hh(_,p,g,m,b[f+6],23,76029189),m=this.md5_hh(m,_,p,g,b[f+9],4,-640364487),g=this.md5_hh(g,m,_,p,b[f+12],11,-421815835),p=this.md5_hh(p,g,m,_,b[f+15],16,530742520),_=this.md5_hh(_,p,g,m,b[f+2],23,-995338651),m=this.md5_ii(m,_,p,g,b[f+0],6,-198630844),g=this.md5_ii(g,m,_,p,b[f+7],10,1126891415),p=this.md5_ii(p,g,m,_,b[f+14],15,-1416354905),_=this.md5_ii(_,p,g,m,b[f+5],21,-57434055),m=this.md5_ii(m,_,p,g,b[f+12],6,1700485571),g=this.md5_ii(g,m,_,p,b[f+3],10,-1894986606),p=this.md5_ii(p,g,m,_,b[f+10],15,-1051523),_=this.md5_ii(_,p,g,m,b[f+1],21,-2054922799),m=this.md5_ii(m,_,p,g,b[f+8],6,1873313359),g=this.md5_ii(g,m,_,p,b[f+15],10,-30611744),p=this.md5_ii(p,g,m,_,b[f+6],15,-1560198380),_=this.md5_ii(_,p,g,m,b[f+13],21,1309151649),m=this.md5_ii(m,_,p,g,b[f+4],6,-145523070),g=this.md5_ii(g,m,_,p,b[f+11],10,-1120210379),p=this.md5_ii(p,g,m,_,b[f+2],15,718787259),_=this.md5_ii(_,p,g,m,b[f+9],21,-343485551),m=this.safe_add(m,E),_=this.safe_add(_,T),p=this.safe_add(p,d),g=this.safe_add(g,v)}return Array(m,_,p,g)},C.prototype.md5_cmn=function(b,S,m,_,p,g){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(S,b),this.safe_add(_,g)),p),m)},C.prototype.md5_ff=function(b,S,m,_,p,g,f){return this.md5_cmn(S&m|~S&_,b,S,p,g,f)},C.prototype.md5_gg=function(b,S,m,_,p,g,f){return this.md5_cmn(S&_|m&~_,b,S,p,g,f)},C.prototype.md5_hh=function(b,S,m,_,p,g,f){return this.md5_cmn(S^m^_,b,S,p,g,f)},C.prototype.md5_ii=function(b,S,m,_,p,g,f){return this.md5_cmn(m^(S|~_),b,S,p,g,f)},C.prototype.safe_add=function(b,S){var m=(65535&b)+(65535&S);return(b>>16)+(S>>16)+(m>>16)<<16|65535&m},C.prototype.bit_rol=function(b,S){return b<<S|b>>>32-S}},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0});var C=function(){function m(_,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(_,f.key,f)}}return function(_,p,g){return p&&m(_.prototype,p),g&&m(_,g),_}}(),b=function(){function m(_,p){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")})(this,m),this._id=-1,this._inviter=_,this._invitee=p,this._secondsForAnswer=g,this._params=f,Object.seal(this)}return C(m,[{key:"id",get:function(){return this._id}},{key:"inviter",get:function(){return this._inviter}},{key:"invitee",get:function(){return this._invitee}},{key:"secondsForAnswer",get:function(){return this._secondsForAnswer}},{key:"params",get:function(){return this._params}}]),m}(),S=Object.freeze({ACCEPT:0,REFUSE:1,EXPIRED:255});w.SFSInvitation=b,w.InvitationReply=S},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.MMOItemVariable=void 0;var C=function(){function m(_,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(_,f.key,f)}}return function(_,p,g){return p&&m(_.prototype,p),g&&m(_,g),_}}(),b=h(48),S=function(m){function _(p,g){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(T,d){if(!(T instanceof d))throw new TypeError("Cannot call a class as a function")}(this,_);var E=function(T,d){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?T:d}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,p,g,f));return Object.freeze(E),E}return function(p,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}(_,b.BaseVariable),C(_,[{key:"toString",value:function(){return"[ItemVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"}}],[{key:"fromSFSArray",value:function(p){return new _(p.get(0),p.get(2),p.get(1))}}]),_}();w.MMOItemVariable=S},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0});var C=function(){function m(_,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(_,f.key,f)}}return function(_,p,g){return p&&m(_.prototype,p),g&&m(_,g),_}}(),b=function(){function m(){throw function(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}(this,m),"Class SFSErrorCodes cannot be instantiated. Please check the documentation for more details on its usage"}return C(m,null,[{key:"setErrorMessage",value:function(_,p){this._errorsByCode[_]=p}},{key:"getErrorMessage",value:function(_,p){return this.stringFormat(this._errorsByCode[_],p)}},{key:"stringFormat",value:function(_,p){if(null==_)return"";if(null!=p)for(var g=0;g<p.length;g++)_=_.replace("{"+g+"}",p[g]);return _}},{key:"_errorsByCode",get:function(){return S}}]),m}();w.SFSErrorCodes=b;var S=["Client API version is obsolete: {0}; required version: {1}","Requested Zone {0} does not exist","User name {0} is not recognized","Wrong password for user {0}","User {0} is banned","Zone {0} is full","User {0} is already logged in Zone {1}","The server is full","Zone {0} is currently inactive","User name {0} contains bad words; filtered: {1}","Guest users not allowed in Zone {0}","IP address {0} is banned","A Room with the same name already exists: {0}","Requested Group is not available - Room: {0}; Group: {1}","Bad Room name length -  Min: {0}; max: {1}; passed name length: {2}","Room name contains bad words: {0}","Zone is full; can't add Rooms anymore","You have exceeded the number of Rooms that you can create per session: {0}","Room creation failed, wrong parameter: {0}","User {0} already joined in Room","Room {0} is full","Wrong password for Room {0}","Requested Room does not exist","Room {0} is locked","Group {0} is already subscribed","Group {0} does not exist","Group {0} is not subscribed","Group {0} does not exist","{0}","Room permission error; Room {0} cannot be renamed","Room permission error; Room {0} cannot change password state","Room permission error; Room {0} cannot change capacity","Switch user error; no player slots available in Room {0}","Switch user error; no spectator slots available in Room {0}","Switch user error; Room {0} is not a Game Room","Switch user error; you are not joined in Room {0}","Buddy Manager initialization error, could not load buddy list: {0}","Buddy Manager error, your buddy list is full; size is {0}","Buddy Manager error, was not able to block buddy {0} because offline","Buddy Manager error, you are attempting to set too many Buddy Variables; limit is {0}","Game {0} access denied, user does not match access criteria","QuickJoinGame action failed: no matching Rooms were found","Your previous invitation reply was invalid or arrived too late"]},function(U,w,h){"use strict";var C=h(6),b=h(11),S=h(44),m=h(60),_=h(18),p=h(41),g=h(3),f=h(42),E=h(24),T=h(12),d=h(121),v=h(32).f,M=h(10).f,N=h(78),k=h(45),G="prototype",z="Wrong index!",L=C.ArrayBuffer,j=C.DataView,F=C.Math,W=C.RangeError,Q=C.Infinity,$=L,oe=F.abs,J=F.pow,de=F.floor,Re=F.log,Te=F.LN2,Pe=b?"_b":"buffer",K=b?"_l":"byteLength",ue=b?"_o":"byteOffset";function te(ke,We,Qt){var Bt,ln,ci,at=new Array(Qt),bt=8*Qt-We-1,Oe=(1<<bt)-1,be=Oe>>1,Ie=23===We?J(2,-24)-J(2,-77):0,Be=0,xe=ke<0||0===ke&&1/ke<0?1:0;for((ke=oe(ke))!=ke||ke===Q?(ln=ke!=ke?1:0,Bt=Oe):(Bt=de(Re(ke)/Te),ke*(ci=J(2,-Bt))<1&&(Bt--,ci*=2),(ke+=Bt+be>=1?Ie/ci:Ie*J(2,1-be))*ci>=2&&(Bt++,ci/=2),Bt+be>=Oe?(ln=0,Bt=Oe):Bt+be>=1?(ln=(ke*ci-1)*J(2,We),Bt+=be):(ln=ke*J(2,be-1)*J(2,We),Bt=0));We>=8;at[Be++]=255&ln,ln/=256,We-=8);for(Bt=Bt<<We|ln,bt+=We;bt>0;at[Be++]=255&Bt,Bt/=256,bt-=8);return at[--Be]|=128*xe,at}function we(ke,We,Qt){var Bt,ln=8*Qt-We-1,ci=(1<<ln)-1,at=ci>>1,bt=ln-7,Oe=Qt-1,be=ke[Oe--],Ie=127&be;for(be>>=7;bt>0;Ie=256*Ie+ke[Oe],Oe--,bt-=8);for(Bt=Ie&(1<<-bt)-1,Ie>>=-bt,bt+=We;bt>0;Bt=256*Bt+ke[Oe],Oe--,bt-=8);if(0===Ie)Ie=1-at;else{if(Ie===ci)return Bt?NaN:be?-Q:Q;Bt+=J(2,We),Ie-=at}return(be?-1:1)*Bt*J(2,Ie-We)}function le(ke){return ke[3]<<24|ke[2]<<16|ke[1]<<8|ke[0]}function he(ke){return[255&ke]}function ge(ke){return[255&ke,ke>>8&255]}function Ge(ke){return[255&ke,ke>>8&255,ke>>16&255,ke>>24&255]}function tt(ke){return te(ke,52,8)}function Le(ke){return te(ke,23,4)}function It(ke,We,Qt){M(ke[G],We,{get:function(){return this[Qt]}})}function Ze(ke,We,Qt,Bt){var ln=d(+Qt);if(ln+We>ke[K])throw W(z);var at=ln+ke[ue],bt=ke[Pe]._b.slice(at,at+We);return Bt?bt:bt.reverse()}function Ve(ke,We,Qt,Bt,ln,ci){var at=d(+Qt);if(at+We>ke[K])throw W(z);for(var bt=ke[Pe]._b,Oe=at+ke[ue],be=Bt(+ln),Ie=0;Ie<We;Ie++)bt[Oe+Ie]=be[ci?Ie:We-Ie-1]}if(m.ABV){if(!g(function(){L(1)})||!g(function(){new L(-1)})||g(function(){return new L,new L(1.5),new L(NaN),"ArrayBuffer"!=L.name})){for(var ae,_e=(L=function(ke){return f(this,L),new $(d(ke))})[G]=$[G],ye=v($),He=0;ye.length>He;)(ae=ye[He++])in L||_(L,ae,$[ae]);S||(_e.constructor=L)}var qe=new j(new L(2)),ot=j[G].setInt8;qe.setInt8(0,2147483648),qe.setInt8(1,2147483649),!qe.getInt8(0)&&qe.getInt8(1)||p(j[G],{setInt8:function(ke,We){ot.call(this,ke,We<<24>>24)},setUint8:function(ke,We){ot.call(this,ke,We<<24>>24)}},!0)}else L=function(ke){f(this,L,"ArrayBuffer");var We=d(ke);this._b=N.call(new Array(We),0),this[K]=We},j=function(ke,We,Qt){f(this,j,"DataView"),f(ke,L,"DataView");var Bt=ke[K],ln=E(We);if(ln<0||ln>Bt)throw W("Wrong offset!");if(ln+(Qt=void 0===Qt?Bt-ln:T(Qt))>Bt)throw W("Wrong length!");this[Pe]=ke,this[ue]=ln,this[K]=Qt},b&&(It(L,"byteLength","_l"),It(j,"buffer","_b"),It(j,"byteLength","_l"),It(j,"byteOffset","_o")),p(j[G],{getInt8:function(ke){return Ze(this,1,ke)[0]<<24>>24},getUint8:function(ke){return Ze(this,1,ke)[0]},getInt16:function(ke){var We=Ze(this,2,ke,arguments[1]);return(We[1]<<8|We[0])<<16>>16},getUint16:function(ke){var We=Ze(this,2,ke,arguments[1]);return We[1]<<8|We[0]},getInt32:function(ke){return le(Ze(this,4,ke,arguments[1]))},getUint32:function(ke){return le(Ze(this,4,ke,arguments[1]))>>>0},getFloat32:function(ke){return we(Ze(this,4,ke,arguments[1]),23,4)},getFloat64:function(ke){return we(Ze(this,8,ke,arguments[1]),52,8)},setInt8:function(ke,We){Ve(this,1,ke,he,We)},setUint8:function(ke,We){Ve(this,1,ke,he,We)},setInt16:function(ke,We){Ve(this,2,ke,ge,We,arguments[2])},setUint16:function(ke,We){Ve(this,2,ke,ge,We,arguments[2])},setInt32:function(ke,We){Ve(this,4,ke,Ge,We,arguments[2])},setUint32:function(ke,We){Ve(this,4,ke,Ge,We,arguments[2])},setFloat32:function(ke,We){Ve(this,4,ke,Le,We,arguments[2])},setFloat64:function(ke,We){Ve(this,8,ke,tt,We,arguments[2])}});k(L,"ArrayBuffer"),k(j,"DataView"),_(j[G],m.VIEW,!0),w.ArrayBuffer=L,w.DataView=j},function(U,w,h){var C=h(5),b=h(26),S=h(7)("species");U.exports=function(m,_){var p,g=C(m).constructor;return void 0===g||null==(p=C(g)[S])?_:b(p)}},function(U,w,h){"use strict";var C=h(5);U.exports=function(){var b=C(this),S="";return b.global&&(S+="g"),b.ignoreCase&&(S+="i"),b.multiline&&(S+="m"),b.unicode&&(S+="u"),b.sticky&&(S+="y"),S}},function(U,w,h){"use strict";var C=h(14),b=h(34),S=h(12);U.exports=function(m){for(var _=C(this),p=S(_.length),g=arguments.length,f=b(g>1?arguments[1]:void 0,p),E=g>2?arguments[2]:void 0,T=void 0===E?p:b(E,p);T>f;)_[f++]=m;return _}},function(U,w,h){var C=h(66),b=h(7)("iterator"),S=h(53);U.exports=h(37).getIteratorMethod=function(m){if(null!=m)return m[b]||m["@@iterator"]||S[C(m)]}},function(U,w,h){var C=h(53),b=h(7)("iterator"),S=Array.prototype;U.exports=function(m){return void 0!==m&&(C.Array===m||S[b]===m)}},function(U,w,h){var C=h(7)("match");U.exports=function(b){var S=/./;try{"/./"[b](S)}catch(m){try{return S[C]=!1,!"/./"[b](S)}catch(_){}}return!0}},function(U,w,h){var C=h(4),b=h(25),S=h(7)("match");U.exports=function(m){var _;return C(m)&&(void 0!==(_=m[S])?!!_:"RegExp"==b(m))}},function(U,w,h){var C=h(82),b=h(28);U.exports=function(S,m,_){if(C(m))throw TypeError("String#"+_+" doesn't accept regex!");return String(b(S))}},function(U,w,h){"use strict";var C=h(44),b=h(0),S=h(15),m=h(18),_=h(53),p=h(133),g=h(45),f=h(31),E=h(7)("iterator"),T=!([].keys&&"next"in[].keys()),d=function(){return this};U.exports=function(v,M,N,k,G,z,L){p(N,M,k);var j,F,W,Q=function(ue){if(!T&&ue in de)return de[ue];switch(ue){case"keys":case"values":return function(){return new N(this,ue)}}return function(){return new N(this,ue)}},$=M+" Iterator",oe="values"==G,J=!1,de=v.prototype,Re=de[E]||de["@@iterator"]||G&&de[G],Te=Re||Q(G),Pe=G?oe?Q("entries"):Te:void 0,K="Array"==M&&de.entries||Re;if(K&&(W=f(K.call(new v)))!==Object.prototype&&W.next&&(g(W,$,!0),C||"function"==typeof W[E]||m(W,E,d)),oe&&Re&&"values"!==Re.name&&(J=!0,Te=function(){return Re.call(this)}),C&&!L||!T&&!J&&de[E]||m(de,E,Te),_[M]=Te,_[$]=d,G)if(j={values:oe?Te:Q("values"),keys:z?Te:Q("keys"),entries:Pe},L)for(F in j)F in de||S(de,F,j[F]);else b(b.P+b.F*(T||J),M,j);return j}},function(U,w){var h=Math.expm1;U.exports=!h||h(10)>22025.465794806718||h(10)<22025.465794806718||-2e-17!=h(-2e-17)?function(C){return 0==(C=+C)?C:C>-1e-6&&C<1e-6?C+C*C/2:Math.exp(C)-1}:h},function(U,w){U.exports=Math.sign||function(h){return 0==(h=+h)||h!=h?h:h<0?-1:1}},function(U,w,h){var C=h(4),b=h(89).set;U.exports=function(S,m,_){var p,g=m.constructor;return g!==_&&"function"==typeof g&&(p=g.prototype)!==_.prototype&&C(p)&&b&&b(S,p),S}},function(U,w){U.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(U,w,h){var C=h(4),b=h(5),S=function(m,_){if(b(m),!C(_)&&null!==_)throw TypeError(_+": can't set as prototype!")};U.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(m,_,p){try{(p=h(27)(Function.call,h(23).f(Object.prototype,"__proto__").set,2))(m,[]),_=!(m instanceof Array)}catch(g){_=!0}return function(g,f){return S(g,f),_?g.__proto__=f:p(g,f),g}}({},!1):void 0),check:S}},function(U,w,h){var C=h(6).document;U.exports=C&&C.documentElement},function(U,w,h){var C=h(25);U.exports=Array.isArray||function(b){return"Array"==C(b)}},function(U,w){U.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(U,w,h){var C=h(95)("keys"),b=h(35);U.exports=function(S){return C[S]||(C[S]=b(S))}},function(U,w,h){var C=h(21),b=h(12),S=h(34);U.exports=function(m){return function(_,p,g){var f,E=C(_),T=b(E.length),d=S(g,T);if(m&&p!=p){for(;T>d;)if((f=E[d++])!=f)return!0}else for(;T>d;d++)if((m||d in E)&&E[d]===p)return m||d||0;return!m&&-1}}},function(U,w,h){var C=h(6),b=C["__core-js_shared__"]||(C["__core-js_shared__"]={});U.exports=function(S){return b[S]||(b[S]={})}},function(U,w,h){var C=h(4),b=h(6).document,S=C(b)&&C(b.createElement);U.exports=function(m){return S?b.createElement(m):{}}},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.ExtensionRequest=void 0;var C=function(){function g(f,E){for(var T=0;T<E.length;T++){var d=E[T];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,E,T){return E&&g(f.prototype,E),T&&g(f,T),f}}(),b=h(2),S=h(1),m=h(8),_=h(9),p=function(g){function f(E){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(M,N){if(!(M instanceof N))throw new TypeError("Cannot call a class as a function")}(this,f);var v=function(M,N){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?M:N}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,b.Requests.CallExtension));return v._targetController=1,v._extCmd=E,v._params=T,v._room=d,null==v._params&&(v._params=new m.SFSObject),Object.seal(v),v}return function(E,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}(f,b.BaseRequest),C(f,null,[{key:"KEY_CMD",get:function(){return"c"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_ROOM",get:function(){return"r"}}]),C(f,[{key:"validate",value:function(E){var T=[];if(null!=this._extCmd&&0!==this._extCmd.length||T.push("Missing extension command"),null==this._params||this._params instanceof m.SFSObject||T.push("Custom parameters must be set in a SFSObject class instance"),null==this._room||this._room instanceof _.SFSRoom||T.push("Room must be an instance of SFSRoom class"),T.length>0)throw new S.SFSValidationError("ExtensionRequest Error",T)}},{key:"execute",value:function(E){this._reqObj.putUtfString(f.KEY_CMD,this._extCmd),this._reqObj.putInt(f.KEY_ROOM,null==this._room?-1:this._room.id),this._reqObj.putSFSObject(f.KEY_PARAMS,this._params)}}]),f}();w.ExtensionRequest=p},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.SetBuddyVariablesRequest=void 0;var C=function(){function g(f,E){for(var T=0;T<E.length;T++){var d=E[T];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,E,T){return E&&g(f.prototype,E),T&&g(f,T),f}}(),b=h(2),S=h(1),m=h(8),_=h(46),p=function(g){function f(E){!function(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}(this,f);var T=function(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?d:v}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,b.Requests.SetBuddyVariables));return T._buddyVariables=E,Object.seal(T),T}return function(E,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}(f,b.BaseRequest),C(f,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_VARS",get:function(){return"bv"}}]),C(f,[{key:"validate",value:function(E){var T=[];if(E.buddyManager.isInited||T.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===E.buddyManager.getMyOnlineState()&&T.push("Can't set Buddy Variables while you are offline in the Buddy List system"),null==this._buddyVariables?T.push("No Buddy Variables specified"):this._buddyVariables instanceof Array?0===this._buddyVariables.length?T.push("No Buddy Variables specified"):this._buddyVariables.every(function(d){return d instanceof _.SFSBuddyVariable})||T.push("Buddy Variables must be passed as instances of SFSBuddyVariable class"):T.push("Buddy Variables must be passed in an array"),T.length>0)throw new S.SFSValidationError("SetBuddyVariablesRequest Error",T)}},{key:"execute",value:function(E){var T=new m.SFSArray,d=!0,v=!1,M=void 0;try{for(var N,k=this._buddyVariables[Symbol.iterator]();!(d=(N=k.next()).done);d=!0)T.addSFSArray(N.value.toSFSArray())}catch(z){v=!0,M=z}finally{try{!d&&k.return&&k.return()}finally{if(v)throw M}}this._reqObj.putSFSArray(f.KEY_BUDDY_VARS,T)}}]),f}();w.SetBuddyVariablesRequest=p},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.GoOnlineRequest=void 0;var C=function(){function _(p,g){for(var f=0;f<g.length;f++){var E=g[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,g,f){return g&&_(p.prototype,g),f&&_(p,f),p}}(),b=h(2),S=h(1),m=function(_){function p(g){!function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}(this,p);var f=function(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?E:T}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b.Requests.GoOnline));return f._online=g,Object.seal(f),f}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(p,b.BaseRequest),C(p,null,[{key:"KEY_ONLINE",get:function(){return"o"}},{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_ID",get:function(){return"bi"}}]),C(p,[{key:"validate",value:function(g){var f=[];if(g.buddyManager.isInited||f.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),f.length>0)throw new S.SFSValidationError("GoOnlineRequest Error",f)}},{key:"execute",value:function(g){g.buddyManager._setMyOnlineState(this._online),this._reqObj.putBool(p.KEY_ONLINE,this._online)}}]),p}();w.GoOnlineRequest=m},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.BlockBuddyRequest=void 0;var C=function(){function _(p,g){for(var f=0;f<g.length;f++){var E=g[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,g,f){return g&&_(p.prototype,g),f&&_(p,f),p}}(),b=h(2),S=h(1),m=function(_){function p(g,f){!function(T,d){if(!(T instanceof d))throw new TypeError("Cannot call a class as a function")}(this,p);var E=function(T,d){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?T:d}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b.Requests.BlockBuddy));return E._name=g,E._blocked=f,Object.seal(E),E}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(p,b.BaseRequest),C(p,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_BLOCK_STATE",get:function(){return"bs"}},{key:"KEY_BUDDY",get:function(){return"bd"}}]),C(p,[{key:"validate",value:function(g){var f=[];if(g.buddyManager.isInited||f.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===g.buddyManager.getMyOnlineState()&&f.push("Can't block a buddy while you are offline in the Buddy List system"),null==this._name||this._name.length<1)f.push("Invalid buddy name (null or empty string)");else{var E=g.buddyManager.getBuddyByName(this._name);null==E?f.push("Can't block buddy '"+this._name+"' because it isn't in your list"):E.isBlocked==this._blocked&&f.push("Block flag is already in the requested '"+this._blocked+"' state for buddy '"+this._name+"'")}if(f.length>0)throw new S.SFSValidationError("BlockBuddyRequest Error",f)}},{key:"execute",value:function(g){this._reqObj.putUtfString(p.KEY_BUDDY_NAME,this._name),this._reqObj.putBool(p.KEY_BUDDY_BLOCK_STATE,this._blocked)}}]),p}();w.BlockBuddyRequest=m},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.RemoveBuddyRequest=void 0;var C=function(){function _(p,g){for(var f=0;f<g.length;f++){var E=g[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,g,f){return g&&_(p.prototype,g),f&&_(p,f),p}}(),b=h(2),S=h(1),m=function(_){function p(g){!function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}(this,p);var f=function(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?E:T}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b.Requests.RemoveBuddy));return f._name=g,Object.seal(f),f}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(p,b.BaseRequest),C(p,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}}]),C(p,[{key:"validate",value:function(g){var f=[];if(g.buddyManager.isInited||f.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===g.buddyManager.getMyOnlineState()&&f.push("Can't remove a buddy while you are offline in the Buddy List system"),null==this._name||this._name.length<1?f.push("Invalid buddy name (null or empty string)"):g.buddyManager.containsBuddy(this._name)||f.push("Can't remove buddy '"+this._name+"' because it isn't in your list"),f.length>0)throw new S.SFSValidationError("RemoveBuddyRequest Error",f)}},{key:"execute",value:function(g){this._reqObj.putUtfString(p.KEY_BUDDY_NAME,this._name)}}]),p}();w.RemoveBuddyRequest=m},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.AddBuddyRequest=void 0;var C=function(){function _(p,g){for(var f=0;f<g.length;f++){var E=g[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,g,f){return g&&_(p.prototype,g),f&&_(p,f),p}}(),b=h(2),S=h(1),m=function(_){function p(g){!function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}(this,p);var f=function(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?E:T}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b.Requests.AddBuddy));return f._name=g,Object.seal(f),f}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(p,b.BaseRequest),C(p,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}}]),C(p,[{key:"validate",value:function(g){var f=[];g.buddyManager.isInited||f.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),(null==this._name||this._name.length<1)&&f.push("Invalid buddy name (null or empty string)"),!1===g.buddyManager.getMyOnlineState()&&f.push("Can't add a buddy while you are offline in the Buddy List system");var E=g.buddyManager.getBuddyByName(this._name);if(null==E||E.isTemp||f.push("Can't add buddy '"+this._name+"' because it is already in your list"),f.length>0)throw new S.SFSValidationError("AddBuddyRequest Error",f)}},{key:"execute",value:function(g){this._reqObj.putUtfString(p.KEY_BUDDY_NAME,this._name)}}]),p}();w.AddBuddyRequest=m},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.InitBuddyListRequest=void 0;var C=function(){function _(p,g){for(var f=0;f<g.length;f++){var E=g[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,g,f){return g&&_(p.prototype,g),f&&_(p,f),p}}(),b=h(2),S=h(1),m=function(_){function p(){!function(f,E){if(!(f instanceof E))throw new TypeError("Cannot call a class as a function")}(this,p);var g=function(f,E){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||"object"!=typeof E&&"function"!=typeof E?f:E}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b.Requests.InitBuddyList));return Object.seal(g),g}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(p,b.BaseRequest),C(p,null,[{key:"KEY_BLIST",get:function(){return"bl"}},{key:"KEY_BUDDY_STATES",get:function(){return"bs"}},{key:"KEY_MY_VARS",get:function(){return"mv"}}]),C(p,[{key:"validate",value:function(g){var f=[];if(g.buddyManager.isInited&&f.push("Buddy List is already initialized"),f.length>0)throw new S.SFSValidationError("InitBuddyListRequest Error",f)}},{key:"execute",value:function(g){}}]),p}();w.InitBuddyListRequest=m},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.SetUserPositionRequest=void 0;var C=function(){function g(f,E){for(var T=0;T<E.length;T++){var d=E[T];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,E,T){return E&&g(f.prototype,E),T&&g(f,T),f}}(),b=h(2),S=h(1),m=h(8),_=h(9),p=function(g){function f(E){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(v,M){if(!(v instanceof M))throw new TypeError("Cannot call a class as a function")}(this,f);var d=function(v,M){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?v:M}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,b.Requests.SetUserPosition));return d._pos=E,d._room=T,Object.seal(d),d}return function(E,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}(f,b.BaseRequest),C(f,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_VEC3D",get:function(){return"v"}},{key:"KEY_PLUS_USER_LIST",get:function(){return"p"}},{key:"KEY_MINUS_USER_LIST",get:function(){return"m"}},{key:"KEY_PLUS_ITEM_LIST",get:function(){return"q"}},{key:"KEY_MINUS_ITEM_LIST",get:function(){return"n"}}]),C(f,[{key:"validate",value:function(E){var T=[];if(null!=this._pos&&this._pos instanceof m.Vec3D||T.push("Position must be an instance of Vec3D class"),null==this._room&&(this._room=E.lastJoinedRoom),null==this._room&&T.push("You are not joined in any room"),this._room instanceof _.MMORoom||T.push("Target room must be an instance of MMORoom class"),T.length>0)throw new S.SFSValidationError("SetUserPosition Error",T)}},{key:"execute",value:function(E){this._reqObj.putInt(f.KEY_ROOM,this._room.id),this._pos.isFloat?this._reqObj.putFloatArray(f.KEY_VEC3D,this._pos.toArray()):this._reqObj.putIntArray(f.KEY_VEC3D,this._pos.toArray())}}]),f}();w.SetUserPositionRequest=p},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.FindUsersRequest=void 0;var C=function(){function g(f,E){for(var T=0;T<E.length;T++){var d=E[T];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,E,T){return E&&g(f.prototype,E),T&&g(f,T),f}}(),b=h(2),S=h(1),m=h(9),_=h(38),p=function(g){function f(E){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(M,N){if(!(M instanceof N))throw new TypeError("Cannot call a class as a function")}(this,f);var v=function(M,N){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?M:N}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,b.Requests.FindUsers));return v._matchExpr=E,v._target=T,v._limit=d,Object.seal(v),v}return function(E,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}(f,b.BaseRequest),C(f,null,[{key:"KEY_EXPRESSION",get:function(){return"e"}},{key:"KEY_GROUP",get:function(){return"g"}},{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_LIMIT",get:function(){return"l"}},{key:"KEY_FILTERED_USERS",get:function(){return"fu"}}]),C(f,[{key:"validate",value:function(E){var T=[];if(null==this._matchExpr&&T.push("Missing match expression"),null==this._matchExpr||this._matchExpr instanceof _.MatchExpression||T.push("Match expression must be passed as an instance of MatchExpression class"),T.length>0)throw new S.SFSValidationError("FindUsersRequest Error",T)}},{key:"execute",value:function(E){this._reqObj.putSFSArray(f.KEY_EXPRESSION,this._matchExpr.toSFSArray()),null!=this._target&&(this._target instanceof m.SFSRoom?this._reqObj.putInt(f.KEY_ROOM,this._target.id):"string"==typeof this._target?this._reqObj.putUtfString(f.KEY_GROUP,this._target):this._logger.warn("Unsupported target type for FindUsersRequest: "+this._target)),this._limit>0&&this._reqObj.putShort(f.KEY_LIMIT,this._limit)}}]),f}();w.FindUsersRequest=p},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.FindRoomsRequest=void 0;var C=function(){function p(g,f){for(var E=0;E<f.length;E++){var T=f[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,f,E){return f&&p(g.prototype,f),E&&p(g,E),g}}(),b=h(2),S=h(1),m=h(38),_=function(p){function g(f){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(v,M){if(!(v instanceof M))throw new TypeError("Cannot call a class as a function")}(this,g);var d=function(v,M){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?v:M}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b.Requests.FindRooms));return d._matchExpr=f,d._groupId=E,d._limit=T,Object.seal(d),d}return function(f,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function, not "+typeof E);f.prototype=Object.create(E&&E.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(f,E):f.__proto__=E)}(g,b.BaseRequest),C(g,null,[{key:"KEY_EXPRESSION",get:function(){return"e"}},{key:"KEY_GROUP",get:function(){return"g"}},{key:"KEY_LIMIT",get:function(){return"l"}},{key:"KEY_FILTERED_ROOMS",get:function(){return"fr"}}]),C(g,[{key:"validate",value:function(f){var E=[];if(null==this._matchExpr&&E.push("Missing match expression"),null==this._matchExpr||this._matchExpr instanceof m.MatchExpression||E.push("Match expression must be passed as an instance of MatchExpression class"),E.length>0)throw new S.SFSValidationError("FindRoomsRequest Error",E)}},{key:"execute",value:function(f){this._reqObj.putSFSArray(g.KEY_EXPRESSION,this._matchExpr.toSFSArray()),null!=this._groupId&&this._reqObj.putUtfString(g.KEY_GROUP,this._groupId),this._limit>0&&this._reqObj.putShort(g.KEY_LIMIT,this._limit)}}]),g}();w.FindRoomsRequest=_},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.PlayerToSpectatorRequest=void 0;var C=function(){function p(g,f){for(var E=0;E<f.length;E++){var T=f[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,f,E){return f&&p(g.prototype,f),E&&p(g,E),g}}(),b=h(2),S=h(1),m=h(9),_=function(p){function g(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(T,d){if(!(T instanceof d))throw new TypeError("Cannot call a class as a function")}(this,g);var E=function(T,d){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?T:d}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b.Requests.PlayerToSpectator));return E._room=f,Object.seal(E),E}return function(f,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function, not "+typeof E);f.prototype=Object.create(E&&E.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(f,E):f.__proto__=E)}(g,b.BaseRequest),C(g,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}}]),C(g,[{key:"validate",value:function(f){var E=[];if(f.getJoinedRooms().length<1&&E.push("You are not joined in any Room"),null==this._room||this._room instanceof m.SFSRoom||E.push("Target Room must be an instance of SFSRoom class"),E.length>0)throw new S.SFSValidationError("PlayerToSpectatorRequest Error",E)}},{key:"execute",value:function(f){null==this._room&&(this._room=f.lastJoinedRoom),this._reqObj.putInt(g.KEY_ROOM_ID,this._room.id)}}]),g}();w.PlayerToSpectatorRequest=_},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.SpectatorToPlayerRequest=void 0;var C=function(){function p(g,f){for(var E=0;E<f.length;E++){var T=f[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,f,E){return f&&p(g.prototype,f),E&&p(g,E),g}}(),b=h(2),S=h(1),m=h(9),_=function(p){function g(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(T,d){if(!(T instanceof d))throw new TypeError("Cannot call a class as a function")}(this,g);var E=function(T,d){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?T:d}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b.Requests.SpectatorToPlayer));return E._room=f,Object.seal(E),E}return function(f,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function, not "+typeof E);f.prototype=Object.create(E&&E.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(f,E):f.__proto__=E)}(g,b.BaseRequest),C(g,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_PLAYER_ID",get:function(){return"p"}}]),C(g,[{key:"validate",value:function(f){var E=[];if(f.getJoinedRooms().length<1&&E.push("You are not joined in any Room"),null==this._room||this._room instanceof m.SFSRoom||E.push("Target Room must be an instance of SFSRoom class"),E.length>0)throw new S.SFSValidationError("SpectatorToPlayerRequest Error",E)}},{key:"execute",value:function(f){null==this._room&&(this._room=f.lastJoinedRoom),this._reqObj.putInt(g.KEY_ROOM_ID,this._room.id)}}]),g}();w.SpectatorToPlayerRequest=_},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.UnsubscribeRoomGroupRequest=void 0;var C=function(){function _(p,g){for(var f=0;f<g.length;f++){var E=g[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,g,f){return g&&_(p.prototype,g),f&&_(p,f),p}}(),b=h(2),S=h(1),m=function(_){function p(g){!function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}(this,p);var f=function(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?E:T}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b.Requests.UnsubscribeRoomGroup));return f._groupId=g,Object.seal(f),f}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(p,b.BaseRequest),C(p,null,[{key:"KEY_GROUP_ID",get:function(){return"g"}}]),C(p,[{key:"validate",value:function(g){var f=[];if(null!=this._groupId&&0!==this._groupId.length||f.push("Invalid group id passed; must be a string with at least one character"),f.length>0)throw new S.SFSValidationError("UnsubscribeGroupRequest Error",f)}},{key:"execute",value:function(g){this._reqObj.putUtfString(p.KEY_GROUP_ID,this._groupId)}}]),p}();w.UnsubscribeRoomGroupRequest=m},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.SubscribeRoomGroupRequest=void 0;var C=function(){function _(p,g){for(var f=0;f<g.length;f++){var E=g[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,g,f){return g&&_(p.prototype,g),f&&_(p,f),p}}(),b=h(2),S=h(1),m=function(_){function p(g){!function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}(this,p);var f=function(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?E:T}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b.Requests.SubscribeRoomGroup));return f._groupId=g,Object.seal(f),f}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(p,b.BaseRequest),C(p,null,[{key:"KEY_GROUP_ID",get:function(){return"g"}},{key:"KEY_ROOM_LIST",get:function(){return"rl"}}]),C(p,[{key:"validate",value:function(g){var f=[];if(null!=this._groupId&&0!==this._groupId.length||f.push("Invalid group id passed; must be a string with at least one character"),f.length>0)throw new S.SFSValidationError("SubscribeGroupRequest Error",f)}},{key:"execute",value:function(g){this._reqObj.putUtfString(p.KEY_GROUP_ID,this._groupId)}}]),p}();w.SubscribeRoomGroupRequest=m},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.SetUserVariablesRequest=void 0;var C=function(){function g(f,E){for(var T=0;T<E.length;T++){var d=E[T];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,E,T){return E&&g(f.prototype,E),T&&g(f,T),f}}(),b=h(2),S=h(1),m=h(8),_=h(59),p=function(g){function f(E){!function(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}(this,f);var T=function(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?d:v}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,b.Requests.SetUserVariables));return T._userVariables=E,Object.seal(T),T}return function(E,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}(f,b.BaseRequest),C(f,null,[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_VAR_LIST",get:function(){return"vl"}}]),C(f,[{key:"validate",value:function(E){var T=[];if(null==this._userVariables?T.push("No User Variables specified"):this._userVariables instanceof Array?0===this._userVariables.length?T.push("No User Variables specified"):this._userVariables.every(function(d){return d instanceof _.SFSUserVariable})||T.push("User Variables must be passed as instances of SFSUserVariable class"):T.push("User Variables must be passed in an array"),T.length>0)throw new S.SFSValidationError("SetUserVariablesRequest Error",T)}},{key:"execute",value:function(E){var T=new m.SFSArray,d=!0,v=!1,M=void 0;try{for(var N,k=this._userVariables[Symbol.iterator]();!(d=(N=k.next()).done);d=!0)T.addSFSArray(N.value.toSFSArray())}catch(z){v=!0,M=z}finally{try{!d&&k.return&&k.return()}finally{if(v)throw M}}this._reqObj.putSFSArray(f.KEY_VAR_LIST,T)}}]),f}();w.SetUserVariablesRequest=p},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.SetRoomVariablesRequest=void 0;var C=function(){function f(E,T){for(var d=0;d<T.length;d++){var v=T[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(E,v.key,v)}}return function(E,T,d){return T&&f(E.prototype,T),d&&f(E,d),E}}(),b=h(2),S=h(1),m=h(8),_=h(9),p=h(49),g=function(f){function E(T){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(M,N){if(!(M instanceof N))throw new TypeError("Cannot call a class as a function")}(this,E);var v=function(M,N){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?M:N}(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,b.Requests.SetRoomVariables));return v._roomVariables=T,v._room=d,Object.seal(v),v}return function(T,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);T.prototype=Object.create(d&&d.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(T,d):T.__proto__=d)}(E,b.BaseRequest),C(E,null,[{key:"KEY_VAR_ROOM",get:function(){return"r"}},{key:"KEY_VAR_LIST",get:function(){return"vl"}}]),C(E,[{key:"validate",value:function(T){var d=[];if(null==this._room&&(this._room=T.lastJoinedRoom),null==this._room?d.push("You must be joined in a Room to send a message"):this._room instanceof _.SFSRoom?T.getJoinedRooms().indexOf(this._room)<0&&d.push("You are not joined in the target Room: "+this._room):d.push("Target Room must be an instance of SFSRoom class"),null==this._roomVariables?d.push("No Room Variables specified"):this._roomVariables instanceof Array?0===this._roomVariables.length?d.push("No Room Variables specified"):this._roomVariables.every(function(v){return v instanceof p.SFSRoomVariable})||d.push("Room Variables must be passed as instances of SFSRoomVariable class"):d.push("Room Variables must be passed in an array"),d.length>0)throw new S.SFSValidationError("SetRoomVariablesRequest Error",d)}},{key:"execute",value:function(T){var d=new m.SFSArray,v=!0,M=!1,N=void 0;try{for(var k,G=this._roomVariables[Symbol.iterator]();!(v=(k=G.next()).done);v=!0)d.addSFSArray(k.value.toSFSArray())}catch(L){M=!0,N=L}finally{try{!v&&G.return&&G.return()}finally{if(M)throw N}}this._reqObj.putSFSArray(E.KEY_VAR_LIST,d),this._reqObj.putInt(E.KEY_VAR_ROOM,this._room.id)}}]),E}();w.SetRoomVariablesRequest=g},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.ChangeRoomCapacityRequest=void 0;var C=function(){function p(g,f){for(var E=0;E<f.length;E++){var T=f[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,f,E){return f&&p(g.prototype,f),E&&p(g,E),g}}(),b=h(2),S=h(1),m=h(9),_=function(p){function g(f,E,T){!function(v,M){if(!(v instanceof M))throw new TypeError("Cannot call a class as a function")}(this,g);var d=function(v,M){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?v:M}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b.Requests.ChangeRoomCapacity));return d._room=f,d._newMaxUsers=E,d._newMaxSpect=T,Object.seal(d),d}return function(f,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function, not "+typeof E);f.prototype=Object.create(E&&E.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(f,E):f.__proto__=E)}(g,b.BaseRequest),C(g,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_USER_SIZE",get:function(){return"u"}},{key:"KEY_SPEC_SIZE",get:function(){return"s"}}]),C(g,[{key:"validate",value:function(f){var E=[];if(this._room instanceof m.SFSRoom||E.push("Room must be an instance of SFSRoom class"),E.length>0)throw new S.SFSValidationError("ChangeRoomCapacityRequest Error",E)}},{key:"execute",value:function(f){this._reqObj.putInt(g.KEY_ROOM,this._room.id),this._reqObj.putInt(g.KEY_USER_SIZE,this._newMaxUsers),this._reqObj.putInt(g.KEY_SPEC_SIZE,this._newMaxSpect)}}]),g}();w.ChangeRoomCapacityRequest=_},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.ChangeRoomPasswordStateRequest=void 0;var C=function(){function p(g,f){for(var E=0;E<f.length;E++){var T=f[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,f,E){return f&&p(g.prototype,f),E&&p(g,E),g}}(),b=h(2),S=h(1),m=h(9),_=function(p){function g(f,E){!function(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}(this,g);var T=function(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?d:v}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b.Requests.ChangeRoomPassword));return T._room=f,T._newPass=E,Object.seal(T),T}return function(f,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function, not "+typeof E);f.prototype=Object.create(E&&E.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(f,E):f.__proto__=E)}(g,b.BaseRequest),C(g,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_PASS",get:function(){return"p"}}]),C(g,[{key:"validate",value:function(f){var E=[];if(this._room instanceof m.SFSRoom||E.push("Room must be an instance of SFSRoom class"),null==this._newPass&&E.push("New room password must be a non-null string (empty string to remove the password)"),E.length>0)throw new S.SFSValidationError("ChangeRoomPasswordStateRequest Error",E)}},{key:"execute",value:function(f){this._reqObj.putInt(g.KEY_ROOM,this._room.id),this._reqObj.putUtfString(g.KEY_PASS,this._newPass)}}]),g}();w.ChangeRoomPasswordStateRequest=_},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.ChangeRoomNameRequest=void 0;var C=function(){function p(g,f){for(var E=0;E<f.length;E++){var T=f[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,f,E){return f&&p(g.prototype,f),E&&p(g,E),g}}(),b=h(2),S=h(1),m=h(9),_=function(p){function g(f,E){!function(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}(this,g);var T=function(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?d:v}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b.Requests.ChangeRoomName));return T._room=f,T._newName=E,Object.seal(T),T}return function(f,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function, not "+typeof E);f.prototype=Object.create(E&&E.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(f,E):f.__proto__=E)}(g,b.BaseRequest),C(g,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_NAME",get:function(){return"n"}}]),C(g,[{key:"validate",value:function(f){var E=[];if(this._room instanceof m.SFSRoom||E.push("Room must be an instance of SFSRoom class"),null!=this._newName&&0!==this._newName.length||E.push("New room name must be a non-null and non-empty string"),E.length>0)throw new S.SFSValidationError("ChangeRoomNameRequest Error",E)}},{key:"execute",value:function(f){this._reqObj.putInt(g.KEY_ROOM,this._room.id),this._reqObj.putUtfString(g.KEY_NAME,this._newName)}}]),g}();w.ChangeRoomNameRequest=_},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.JoinRoomRequest=void 0;var C=function(){function p(g,f){for(var E=0;E<f.length;E++){var T=f[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,f,E){return f&&p(g.prototype,f),E&&p(g,E),g}}(),b=h(2),S=h(1),m=h(9),_=function(p){function g(f){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(M,N){if(!(M instanceof N))throw new TypeError("Cannot call a class as a function")}(this,g);var v=function(M,N){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?M:N}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b.Requests.JoinRoom));return"string"==typeof f?v._rName=f:"number"==typeof f?v._rId=f:f instanceof m.SFSRoom&&(v._rId=f.id,v._rName=f.name),v._password=E,v._roomIdToLeave=T,v._asSpectator=d,Object.seal(v),v}return function(f,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function, not "+typeof E);f.prototype=Object.create(E&&E.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(f,E):f.__proto__=E)}(g,b.BaseRequest),C(g,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_USER_LIST",get:function(){return"ul"}},{key:"KEY_ROOM_NAME",get:function(){return"n"}},{key:"KEY_ROOM_ID",get:function(){return"i"}},{key:"KEY_PASS",get:function(){return"p"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"rl"}},{key:"KEY_AS_SPECTATOR",get:function(){return"sp"}}]),C(g,[{key:"validate",value:function(f){if(null==this._rId&&null==this._rName)throw new S.SFSValidationError("JoinRoomRequest Error",["Missing Room id or name, please provide one of the two or an existing SFSRoom object"])}},{key:"execute",value:function(f){f._isJoining=!0,this._rId>=0?this._reqObj.putInt(g.KEY_ROOM_ID,this._rId):null!=this._rName&&this._reqObj.putUtfString(g.KEY_ROOM_NAME,this._rName),null!=this._password&&this._reqObj.putUtfString(g.KEY_PASS,this._password),null!=this._roomIdToLeave&&this._reqObj.putInt(g.KEY_ROOM_TO_LEAVE,this._roomIdToLeave),this._asSpectator&&this._reqObj.putBool(g.KEY_AS_SPECTATOR,this._asSpectator)}}]),g}();w.JoinRoomRequest=_},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.LogoutRequest=void 0;var C=function(){function _(p,g){for(var f=0;f<g.length;f++){var E=g[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,g,f){return g&&_(p.prototype,g),f&&_(p,f),p}}(),b=h(2),S=h(1),m=function(_){function p(){!function(f,E){if(!(f instanceof E))throw new TypeError("Cannot call a class as a function")}(this,p);var g=function(f,E){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||"object"!=typeof E&&"function"!=typeof E?f:E}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b.Requests.Logout));return Object.seal(g),g}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(p,b.BaseRequest),C(p,null,[{key:"KEY_ZONE_NAME",get:function(){return"zn"}}]),C(p,[{key:"validate",value:function(g){if(null==g.mySelf)throw new S.SFSValidationError("LogoutRequest error",["You are not logged in"])}},{key:"execute",value:function(g){}}]),p}();w.LogoutRequest=m},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.LoginRequest=void 0;var C=function(){function g(f,E){for(var T=0;T<E.length;T++){var d=E[T];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,E,T){return E&&g(f.prototype,E),T&&g(f,T),f}}(),b=h(71),S=h(2),m=h(1),_=h(8),p=function(g){function f(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(N,k){if(!(N instanceof k))throw new TypeError("Cannot call a class as a function")}(this,f);var M=function(N,k){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?N:k}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,S.Requests.Login));return M._userName=E,M._password=T,M._params=d,M._zoneName=v,Object.seal(M),M}return function(E,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}(f,S.BaseRequest),C(f,null,[{key:"KEY_ZONE_NAME",get:function(){return"zn"}},{key:"KEY_USER_NAME",get:function(){return"un"}},{key:"KEY_PASSWORD",get:function(){return"pw"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_PRIVILEGE_ID",get:function(){return"pi"}},{key:"KEY_ID",get:function(){return"id"}},{key:"KEY_ROOMLIST",get:function(){return"rl"}},{key:"KEY_RECONNECTION_SECONDS",get:function(){return"rs"}}]),C(f,[{key:"validate",value:function(E){if(null!=E.mySelf)throw new m.SFSValidationError("LoginRequest error",["You are already logged in; logout before attempting a new login"]);var T=[],d=null!=E.config&&null!=E.config.zone?E.config.zone:null;if(null!=this._zoneName&&(d=this._zoneName),null==d||0===d.length?T.push("Missing Zone name"):this._zoneName=d,null==this._params||this._params instanceof _.SFSObject||T.push("Custom parameters must be passed in a SFSObject"),T.length>0)throw new m.SFSValidationError("LoginRequest Error",T)}},{key:"execute",value:function(E){null==this._userName&&(this._userName=""),null==this._password&&(this._password=""),this._reqObj.putUtfString(f.KEY_ZONE_NAME,this._zoneName),this._reqObj.putUtfString(f.KEY_USER_NAME,this._userName),this._reqObj.putUtfString(f.KEY_PASSWORD,this._password.length>0?(new b.MD5).hex_md5(E.sessionToken+this._password):""),null!=this._params&&this._reqObj.putSFSObject(f.KEY_PARAMS,this._params)}}]),f}();w.LoginRequest=p},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0});var C=function(){function _(p,g){for(var f=0;f<g.length;f++){var E=g[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,g,f){return g&&_(p.prototype,g),f&&_(p,f),p}}();function b(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}var S=function(){function _(p){b(this,_),this._sfs=p,this._usersById=new Map,this._usersByName=new Map}return C(_,[{key:"containsUserName",value:function(p){return this._usersByName.has(p)}},{key:"containsUserId",value:function(p){return this._usersById.has(p)}},{key:"containsUser",value:function(p){return this._usersById.has(p.id)}},{key:"getUserById",value:function(p){return this._usersById.get(p)}},{key:"getUserByName",value:function(p){return this._usersByName.get(p)}},{key:"getUserCount",value:function(){return this._usersById.size}},{key:"getUserList",value:function(){return Array.from(this._usersById.values())}},{key:"_addUser",value:function(p){this.__addUser(p)}},{key:"__addUser",value:function(p){this._usersByName.set(p.name,p),this._usersById.set(p.id,p)}},{key:"_removeUser",value:function(p){this._usersById.delete(p.id),this._usersByName.delete(p.name)}},{key:"_clearAll",value:function(){this._usersById.clear(),this._usersByName.clear()}}]),_}(),m=function(_){function p(g){b(this,p);var f=function(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?E:T}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,g));return f._roomRefCount=new Map,Object.freeze(f),f}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(p,S),C(p,[{key:"_addUser",value:function(g){this._roomRefCount.has(g)?this._roomRefCount.set(g,this._roomRefCount.get(g)+1):this._roomRefCount.set(g,1),this.__addUser(g)}},{key:"_removeUser",value:function(g){this._removeUserReference(g,!1)}},{key:"_removeUserReference",value:function(g,f){var E=this._roomRefCount.get(g);E<1&&null!=this._sfs?this._sfs.logger.warn("GlobalUserManager RefCount is already at zero. User: "+g):(this._roomRefCount.set(g,this._roomRefCount.get(g)-1),(0===E||f)&&(function T(d,v,M){null===d&&(d=Function.prototype);var N=Object.getOwnPropertyDescriptor(d,v);if(void 0===N){var k=Object.getPrototypeOf(d);return null===k?void 0:T(k,v,M)}if("value"in N)return N.value;var G=N.get;return void 0!==G?G.call(M):void 0}(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"_removeUser",this).call(this,g),this._roomRefCount.delete(g)))}}]),p}();w.SFSUserManager=S,w.GlobalUserManager=m},function(U,w,h){(function(C){var b,S=function(m,_,p){this._byteOffset=_||0,m instanceof ArrayBuffer?this.buffer=m:"object"==typeof m?(this.dataView=m,_&&(this._byteOffset+=_)):this.buffer=new ArrayBuffer(m||1),this.position=0,this.endianness=null==p?S.LITTLE_ENDIAN:p};S.prototype={},void 0===Uint8Array.prototype.BYTES_PER_ELEMENT&&(Uint8Array.prototype.BYTES_PER_ELEMENT=Uint8Array.BYTES_PER_ELEMENT,Int8Array.prototype.BYTES_PER_ELEMENT=Int8Array.BYTES_PER_ELEMENT,Uint8ClampedArray.prototype.BYTES_PER_ELEMENT=Uint8ClampedArray.BYTES_PER_ELEMENT,Uint16Array.prototype.BYTES_PER_ELEMENT=Uint16Array.BYTES_PER_ELEMENT,Int16Array.prototype.BYTES_PER_ELEMENT=Int16Array.BYTES_PER_ELEMENT,Uint32Array.prototype.BYTES_PER_ELEMENT=Uint32Array.BYTES_PER_ELEMENT,Int32Array.prototype.BYTES_PER_ELEMENT=Int32Array.BYTES_PER_ELEMENT,Float64Array.prototype.BYTES_PER_ELEMENT=Float64Array.BYTES_PER_ELEMENT),S.prototype.save=function(m){var _=new Blob(this.buffer),p=window.webkitURL||window.URL;if(!p||!p.createObjectURL)throw"DataStream.save: Can't create object URL.";var g=p.createObjectURL(_),f=document.createElement("a");f.setAttribute("href",g),f.setAttribute("download",m),f.click(),p.revokeObjectURL(g)},S.BIG_ENDIAN=!1,S.LITTLE_ENDIAN=!0,S.prototype._dynamicSize=!0,Object.defineProperty(S.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(m){m||this._trimAlloc(),this._dynamicSize=m}}),S.prototype._byteLength=0,Object.defineProperty(S.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(S.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(m){this._buffer=m,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(S.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(m){this._byteOffset=m,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(S.prototype,"dataView",{get:function(){return this._dataView},set:function(m){this._byteOffset=m.byteOffset,this._buffer=m.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+m.byteLength}}),S.prototype._realloc=function(m){if(this._dynamicSize){var _=this._byteOffset+this.position+m,p=this._buffer.byteLength;if(_<=p)_>this._byteLength&&(this._byteLength=_);else{for(p<1&&(p=1);_>p;)p*=2;var g=new ArrayBuffer(p),f=new Uint8Array(this._buffer);new Uint8Array(g,0,f.length).set(f),this.buffer=g,this._byteLength=_}}},S.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var m=new ArrayBuffer(this._byteLength),_=new Uint8Array(m),p=new Uint8Array(this._buffer,0,_.length);_.set(p),this.buffer=m}},S.prototype.seek=function(m){var _=Math.max(0,Math.min(this.byteLength,m));this.position=isNaN(_)||!isFinite(_)?0:_},S.prototype.isEof=function(){return this.position>=this.byteLength},S.prototype.mapInt32Array=function(m,_){this._realloc(4*m);var p=new Int32Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(p,null==_?this.endianness:_),this.position+=4*m,p},S.prototype.mapInt16Array=function(m,_){this._realloc(2*m);var p=new Int16Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(p,null==_?this.endianness:_),this.position+=2*m,p},S.prototype.mapInt8Array=function(m){this._realloc(1*m);var _=new Int8Array(this._buffer,this.byteOffset+this.position,m);return this.position+=1*m,_},S.prototype.mapUint32Array=function(m,_){this._realloc(4*m);var p=new Uint32Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(p,null==_?this.endianness:_),this.position+=4*m,p},S.prototype.mapUint16Array=function(m,_){this._realloc(2*m);var p=new Uint16Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(p,null==_?this.endianness:_),this.position+=2*m,p},S.prototype.mapUint8Array=function(m){this._realloc(1*m);var _=new Uint8Array(this._buffer,this.byteOffset+this.position,m);return this.position+=1*m,_},S.prototype.mapFloat64Array=function(m,_){this._realloc(8*m);var p=new Float64Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(p,null==_?this.endianness:_),this.position+=8*m,p},S.prototype.mapFloat32Array=function(m,_){this._realloc(4*m);var p=new Float32Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(p,null==_?this.endianness:_),this.position+=4*m,p},S.prototype.readInt32Array=function(m,_){m=null==m?this.byteLength-this.position/4:m;var p=new Int32Array(m);return S.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,m*p.BYTES_PER_ELEMENT),S.arrayToNative(p,null==_?this.endianness:_),this.position+=p.byteLength,p},S.prototype.readInt16Array=function(m,_){m=null==m?this.byteLength-this.position/2:m;var p=new Int16Array(m);return S.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,m*p.BYTES_PER_ELEMENT),S.arrayToNative(p,null==_?this.endianness:_),this.position+=p.byteLength,p},S.prototype.readInt8Array=function(m){m=null==m?this.byteLength-this.position:m;var _=new Int8Array(m);return S.memcpy(_.buffer,0,this.buffer,this.byteOffset+this.position,m*_.BYTES_PER_ELEMENT),this.position+=_.byteLength,_},S.prototype.readUint32Array=function(m,_){m=null==m?this.byteLength-this.position/4:m;var p=new Uint32Array(m);return S.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,m*p.BYTES_PER_ELEMENT),S.arrayToNative(p,null==_?this.endianness:_),this.position+=p.byteLength,p},S.prototype.readUint16Array=function(m,_){m=null==m?this.byteLength-this.position/2:m;var p=new Uint16Array(m);return S.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,m*p.BYTES_PER_ELEMENT),S.arrayToNative(p,null==_?this.endianness:_),this.position+=p.byteLength,p},S.prototype.readUint8Array=function(m){m=null==m?this.byteLength-this.position:m;var _=new Uint8Array(m);return S.memcpy(_.buffer,0,this.buffer,this.byteOffset+this.position,m*_.BYTES_PER_ELEMENT),this.position+=_.byteLength,_},S.prototype.readFloat64Array=function(m,_){m=null==m?this.byteLength-this.position/8:m;var p=new Float64Array(m);return S.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,m*p.BYTES_PER_ELEMENT),S.arrayToNative(p,null==_?this.endianness:_),this.position+=p.byteLength,p},S.prototype.readFloat32Array=function(m,_){m=null==m?this.byteLength-this.position/4:m;var p=new Float32Array(m);return S.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,m*p.BYTES_PER_ELEMENT),S.arrayToNative(p,null==_?this.endianness:_),this.position+=p.byteLength,p},S.prototype.writeInt32Array=function(m,_){if(this._realloc(4*m.length),m instanceof Int32Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapInt32Array(m.length,_);else for(var p=0;p<m.length;p++)this.writeInt32(m[p],_)},S.prototype.writeInt16Array=function(m,_){if(this._realloc(2*m.length),m instanceof Int16Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapInt16Array(m.length,_);else for(var p=0;p<m.length;p++)this.writeInt16(m[p],_)},S.prototype.writeInt8Array=function(m){if(this._realloc(1*m.length),m instanceof Int8Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapInt8Array(m.length);else for(var _=0;_<m.length;_++)this.writeInt8(m[_])},S.prototype.writeUint32Array=function(m,_){if(this._realloc(4*m.length),m instanceof Uint32Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapUint32Array(m.length,_);else for(var p=0;p<m.length;p++)this.writeUint32(m[p],_)},S.prototype.writeUint16Array=function(m,_){if(this._realloc(2*m.length),m instanceof Uint16Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapUint16Array(m.length,_);else for(var p=0;p<m.length;p++)this.writeUint16(m[p],_)},S.prototype.writeUint8Array=function(m){if(this._realloc(1*m.length),m instanceof Uint8Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapUint8Array(m.length);else for(var _=0;_<m.length;_++)this.writeUint8(m[_])},S.prototype.writeFloat64Array=function(m,_){if(this._realloc(8*m.length),m instanceof Float64Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapFloat64Array(m.length,_);else for(var p=0;p<m.length;p++)this.writeFloat64(m[p],_)},S.prototype.writeFloat32Array=function(m,_){if(this._realloc(4*m.length),m instanceof Float32Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapFloat32Array(m.length,_);else for(var p=0;p<m.length;p++)this.writeFloat32(m[p],_)},S.prototype.readInt32=function(m){var _=this._dataView.getInt32(this.position,null==m?this.endianness:m);return this.position+=4,_},S.prototype.readInt16=function(m){var _=this._dataView.getInt16(this.position,null==m?this.endianness:m);return this.position+=2,_},S.prototype.readInt8=function(){var m=this._dataView.getInt8(this.position);return this.position+=1,m},S.prototype.readUint32=function(m){var _=this._dataView.getUint32(this.position,null==m?this.endianness:m);return this.position+=4,_},S.prototype.readUint16=function(m){var _=this._dataView.getUint16(this.position,null==m?this.endianness:m);return this.position+=2,_},S.prototype.readUint8=function(){var m=this._dataView.getUint8(this.position);return this.position+=1,m},S.prototype.readFloat32=function(m){var _=this._dataView.getFloat32(this.position,null==m?this.endianness:m);return this.position+=4,_},S.prototype.readFloat64=function(m){var _=this._dataView.getFloat64(this.position,null==m?this.endianness:m);return this.position+=8,_},S.prototype.writeInt32=function(m,_){this._realloc(4),this._dataView.setInt32(this.position,m,null==_?this.endianness:_),this.position+=4},S.prototype.writeInt16=function(m,_){this._realloc(2),this._dataView.setInt16(this.position,m,null==_?this.endianness:_),this.position+=2},S.prototype.writeInt8=function(m){this._realloc(1),this._dataView.setInt8(this.position,m),this.position+=1},S.prototype.writeUint32=function(m,_){this._realloc(4),this._dataView.setUint32(this.position,m,null==_?this.endianness:_),this.position+=4},S.prototype.writeUint16=function(m,_){this._realloc(2),this._dataView.setUint16(this.position,m,null==_?this.endianness:_),this.position+=2},S.prototype.writeUint8=function(m){this._realloc(1),this._dataView.setUint8(this.position,m),this.position+=1},S.prototype.writeFloat32=function(m,_){this._realloc(4),this._dataView.setFloat32(this.position,m,null==_?this.endianness:_),this.position+=4},S.prototype.writeFloat64=function(m,_){this._realloc(8),this._dataView.setFloat64(this.position,m,null==_?this.endianness:_),this.position+=8},S.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,S.memcpy=function(m,_,p,g,f){var E=new Uint8Array(m,_,f),T=new Uint8Array(p,g,f);E.set(T)},S.arrayToNative=function(m,_){return _==this.endianness?m:this.flipArrayEndianness(m)},S.nativeToEndian=function(m,_){return this.endianness==_?m:this.flipArrayEndianness(m)},S.flipArrayEndianness=function(m){for(var _=new Uint8Array(m.buffer,m.byteOffset,m.byteLength),p=0;p<m.byteLength;p+=m.BYTES_PER_ELEMENT)for(var g=p+m.BYTES_PER_ELEMENT-1,f=p;g>f;g--,f++){var E=_[f];_[f]=_[g],_[g]=E}return m},S.createStringFromArray=function(m){for(var _=[],p=0;p<m.length;p+=32768)_.push(String.fromCharCode.apply(null,m.subarray(p,p+32768)));return _.join("")},S.prototype.failurePosition=0,S.prototype.readStruct=function(m){for(var p,g={},f=this.position,E=0;E<m.length;E+=2){if(null==(p=this.readType(m[E+1],g)))return 0==this.failurePosition&&(this.failurePosition=this.position),this.position=f,null;g[m[E]]=p}return g},S.prototype.readUCS2String=function(m,_){return S.createStringFromArray(this.readUint16Array(m,_))},S.prototype.writeUCS2String=function(m,_,p){null==p&&(p=m.length);for(var g=0;g<m.length&&g<p;g++)this.writeUint16(m.charCodeAt(g),_);for(;g<p;g++)this.writeUint16(0)},S.prototype.readString=function(m,_){return null==_||"ASCII"==_?S.createStringFromArray(this.mapUint8Array(null==m?this.byteLength-this.position:m)):new TextDecoder(_).decode(this.mapUint8Array(m))},S.prototype.writeString=function(m,_,p){if(null==_||"ASCII"==_)if(null!=p){var g=0,f=Math.min(m.length,p);for(g=0;g<f;g++)this.writeUint8(m.charCodeAt(g));for(;g<p;g++)this.writeUint8(0)}else for(g=0;g<m.length;g++)this.writeUint8(m.charCodeAt(g));else this.writeUint8Array(new TextEncoder(_).encode(m.substring(0,p)))},S.prototype.readCString=function(m){var _=this.byteLength-this.position,p=new Uint8Array(this._buffer,this._byteOffset+this.position),g=_;null!=m&&(g=Math.min(m,_));for(var f=0;f<g&&0!=p[f];f++);var E=S.createStringFromArray(this.mapUint8Array(f));return null!=m?this.position+=g-f:f!=_&&(this.position+=1),E},S.prototype.writeCString=function(m,_){if(null!=_){var p=0,g=Math.min(m.length,_);for(p=0;p<g;p++)this.writeUint8(m.charCodeAt(p));for(;p<_;p++)this.writeUint8(0)}else{for(p=0;p<m.length;p++)this.writeUint8(m.charCodeAt(p));this.writeUint8(0)}},S.prototype.readType=function(m,_){if("function"==typeof m)return m(this,_);if(!("object"!=typeof m||m instanceof Array))return m.get(this,_);if(m instanceof Array&&3!=m.length)return this.readStruct(m,_);var p,g=null,f=null,E="ASCII",T=this.position;switch("string"==typeof m&&/:/.test(m)&&(m=(p=m.split(":"))[0],f=null!=_[d=p[1]]?parseInt(_[d]):parseInt(p[1])),"string"==typeof m&&/,/.test(m)&&(m=(p=m.split(","))[0],E=parseInt(p[1])),m){case"uint8":g=this.readUint8();break;case"int8":g=this.readInt8();break;case"uint16":g=this.readUint16(this.endianness);break;case"int16":g=this.readInt16(this.endianness);break;case"uint32":g=this.readUint32(this.endianness);break;case"int32":g=this.readInt32(this.endianness);break;case"float32":g=this.readFloat32(this.endianness);break;case"float64":g=this.readFloat64(this.endianness);break;case"uint16be":g=this.readUint16(S.BIG_ENDIAN);break;case"int16be":g=this.readInt16(S.BIG_ENDIAN);break;case"uint32be":g=this.readUint32(S.BIG_ENDIAN);break;case"int32be":g=this.readInt32(S.BIG_ENDIAN);break;case"float32be":g=this.readFloat32(S.BIG_ENDIAN);break;case"float64be":g=this.readFloat64(S.BIG_ENDIAN);break;case"uint16le":g=this.readUint16(S.LITTLE_ENDIAN);break;case"int16le":g=this.readInt16(S.LITTLE_ENDIAN);break;case"uint32le":g=this.readUint32(S.LITTLE_ENDIAN);break;case"int32le":g=this.readInt32(S.LITTLE_ENDIAN);break;case"float32le":g=this.readFloat32(S.LITTLE_ENDIAN);break;case"float64le":g=this.readFloat64(S.LITTLE_ENDIAN);break;case"cstring":g=this.readCString(f);break;case"string":g=this.readString(f,E);break;case"u16string":g=this.readUCS2String(f,this.endianness);break;case"u16stringle":g=this.readUCS2String(f,S.LITTLE_ENDIAN);break;case"u16stringbe":g=this.readUCS2String(f,S.BIG_ENDIAN);break;default:if(3==m.length){var d,v=m[1],M=0;if(M="function"==typeof(d=m[2])?d(_,this,m):"string"==typeof d&&null!=_[d]?parseInt(_[d]):parseInt(d),"string"==typeof v){var N=v.replace(/(le|be)$/,""),k=null;switch(/le$/.test(v)?k=S.LITTLE_ENDIAN:/be$/.test(v)&&(k=S.BIG_ENDIAN),"*"==d&&(M=null),N){case"uint8":g=this.readUint8Array(M);break;case"uint16":g=this.readUint16Array(M,k);break;case"uint32":g=this.readUint32Array(M,k);break;case"int8":g=this.readInt8Array(M);break;case"int16":g=this.readInt16Array(M,k);break;case"int32":g=this.readInt32Array(M,k);break;case"float32":g=this.readFloat32Array(M,k);break;case"float64":g=this.readFloat64Array(M,k);break;case"cstring":case"utf16string":case"string":if(null==M)for(g=[];!this.isEof()&&null!=(j=this.readType(v,_));)g.push(j);else{g=new Array(M);for(var G=0;G<M;G++)g[G]=this.readType(v,_)}}}else if("*"==d)for(g=[];;){var z=this.position;try{var L=this.readType(v,_);if(null==L){this.position=z;break}g.push(L)}catch(F){this.position=z;break}}else for(g=new Array(M),G=0;G<M;G++){var j;if(null==(j=this.readType(v,_)))return null;g[G]=j}break}}return null!=f&&(this.position=T+f),g},S.prototype.writeStruct=function(m,_){for(var p=0;p<m.length;p+=2)this.writeType(m[p+1],_[m[p]],_)},S.prototype.writeType=function(m,_,p){if("function"==typeof m)return m(this,_);if("object"==typeof m&&!(m instanceof Array))return m.set(this,_,p);var g,f=null,E="ASCII",T=this.position;switch("string"==typeof m&&/:/.test(m)&&(m=(g=m.split(":"))[0],f=parseInt(g[1])),"string"==typeof m&&/,/.test(m)&&(m=(g=m.split(","))[0],E=parseInt(g[1])),m){case"uint8":this.writeUint8(_);break;case"int8":this.writeInt8(_);break;case"uint16":this.writeUint16(_,this.endianness);break;case"int16":this.writeInt16(_,this.endianness);break;case"uint32":this.writeUint32(_,this.endianness);break;case"int32":this.writeInt32(_,this.endianness);break;case"float32":this.writeFloat32(_,this.endianness);break;case"float64":this.writeFloat64(_,this.endianness);break;case"uint16be":this.writeUint16(_,S.BIG_ENDIAN);break;case"int16be":this.writeInt16(_,S.BIG_ENDIAN);break;case"uint32be":this.writeUint32(_,S.BIG_ENDIAN);break;case"int32be":this.writeInt32(_,S.BIG_ENDIAN);break;case"float32be":this.writeFloat32(_,S.BIG_ENDIAN);break;case"float64be":this.writeFloat64(_,S.BIG_ENDIAN);break;case"uint16le":this.writeUint16(_,S.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(_,S.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(_,S.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(_,S.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(_,S.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(_,S.LITTLE_ENDIAN);break;case"cstring":this.writeCString(_,f);break;case"string":this.writeString(_,E,f);break;case"u16string":this.writeUCS2String(_,this.endianness,f);break;case"u16stringle":this.writeUCS2String(_,S.LITTLE_ENDIAN,f);break;case"u16stringbe":this.writeUCS2String(_,S.BIG_ENDIAN,f);break;default:if(3==m.length){for(var d=m[1],v=0;v<_.length;v++)this.writeType(d,_[v]);break}this.writeStruct(m,_)}null!=f&&(this.position=T,this._realloc(f),this.position=T+f)},void 0===(b=function(){return S}.apply(w,[]))||(C.exports=b),"object"==typeof C&&C&&C.exports&&(C.exports=S)}).call(this,h(173)(U))},function(U,w,h){var C=h(24),b=h(12);U.exports=function(S){if(void 0===S)return 0;var m=C(S),_=b(m);if(m!==_)throw RangeError("Wrong length!");return _}},function(U,w,h){"use strict";var C=h(41),b=h(29).getWeak,S=h(5),m=h(4),_=h(42),p=h(62),g=h(19),f=h(16),E=h(40),T=g(5),d=g(6),v=0,M=function(G){return G._l||(G._l=new N)},N=function(){this.a=[]},k=function(G,z){return T(G.a,function(L){return L[0]===z})};N.prototype={get:function(G){var z=k(this,G);if(z)return z[1]},has:function(G){return!!k(this,G)},set:function(G,z){var L=k(this,G);L?L[1]=z:this.a.push([G,z])},delete:function(G){var z=d(this.a,function(L){return L[0]===G});return~z&&this.a.splice(z,1),!!~z}},U.exports={getConstructor:function(G,z,L,j){var F=G(function(W,Q){_(W,F,z,"_i"),W._t=z,W._i=v++,W._l=void 0,null!=Q&&p(Q,L,W[j],W)});return C(F.prototype,{delete:function(W){if(!m(W))return!1;var Q=b(W);return!0===Q?M(E(this,z)).delete(W):Q&&f(Q,this._i)&&delete Q[this._i]},has:function(W){if(!m(W))return!1;var Q=b(W);return!0===Q?M(E(this,z)).has(W):Q&&f(Q,this._i)}}),F},def:function(G,z,L){var j=b(S(z),!0);return!0===j?M(G).set(z,L):j[G._i]=L,G},ufstore:M}},function(U,w,h){"use strict";var C=h(10).f,b=h(33),S=h(41),m=h(27),_=h(42),p=h(62),g=h(84),f=h(127),E=h(43),T=h(11),d=h(29).fastKey,v=h(40),M=T?"_s":"size",N=function(k,G){var z,L=d(G);if("F"!==L)return k._i[L];for(z=k._f;z;z=z.n)if(z.k==G)return z};U.exports={getConstructor:function(k,G,z,L){var j=k(function(F,W){_(F,j,G,"_i"),F._t=G,F._i=b(null),F._f=void 0,F._l=void 0,F[M]=0,null!=W&&p(W,z,F[L],F)});return S(j.prototype,{clear:function(){for(var F=v(this,G),W=F._i,Q=F._f;Q;Q=Q.n)Q.r=!0,Q.p&&(Q.p=Q.p.n=void 0),delete W[Q.i];F._f=F._l=void 0,F[M]=0},delete:function(F){var W=v(this,G),Q=N(W,F);if(Q){var $=Q.n,oe=Q.p;delete W._i[Q.i],Q.r=!0,oe&&(oe.n=$),$&&($.p=oe),W._f==Q&&(W._f=$),W._l==Q&&(W._l=oe),W[M]--}return!!Q},forEach:function(F){v(this,G);for(var W,Q=m(F,arguments.length>1?arguments[1]:void 0,3);W=W?W.n:this._f;)for(Q(W.v,W.k,this);W&&W.r;)W=W.p},has:function(F){return!!N(v(this,G),F)}}),T&&C(j.prototype,"size",{get:function(){return v(this,G)[M]}}),j},def:function(k,G,z){var L,j,F=N(k,G);return F?F.v=z:(k._l=F={i:j=d(G,!0),k:G,v:z,p:L=k._l,n:void 0,r:!1},k._f||(k._f=F),L&&(L.n=F),k[M]++,"F"!==j&&(k._i[j]=F)),k},getEntry:N,setStrong:function(k,G,z){g(k,G,function(L,j){this._t=v(L,G),this._k=j,this._l=void 0},function(){for(var L=this._k,j=this._l;j&&j.r;)j=j.p;return this._t&&(this._l=j=j?j.n:this._t._f)?f(0,"keys"==L?j.k:"values"==L?j.v:[j.k,j.v]):(this._t=void 0,f(1))},z?"entries":"values",!z,!0),E(G)}}},function(U,w,h){"use strict";var C=h(26);U.exports.f=function(b){return new function(S){var m,_;this.promise=new S(function(p,g){if(void 0!==m||void 0!==_)throw TypeError("Bad Promise constructor");m=p,_=g}),this.resolve=C(m),this.reject=C(_)}(b)}},function(U,w,h){var C,b,S,m=h(27),_=h(141),p=h(90),g=h(96),f=h(6),E=f.process,T=f.setImmediate,d=f.clearImmediate,v=f.MessageChannel,M=f.Dispatch,N=0,k={},G=function(){var L=+this;if(k.hasOwnProperty(L)){var j=k[L];delete k[L],j()}},z=function(L){G.call(L.data)};T&&d||(T=function(L){for(var j=[],F=1;arguments.length>F;)j.push(arguments[F++]);return k[++N]=function(){_("function"==typeof L?L:Function(L),j)},C(N),N},d=function(L){delete k[L]},"process"==h(25)(E)?C=function(L){E.nextTick(m(G,L,1))}:M&&M.now?C=function(L){M.now(m(G,L,1))}:v?(S=(b=new v).port2,b.port1.onmessage=z,C=m(S.postMessage,S,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(C=function(L){f.postMessage(L+"","*")},f.addEventListener("message",z,!1)):C="onreadystatechange"in g("script")?function(L){p.appendChild(g("script")).onreadystatechange=function(){p.removeChild(this),G.call(L)}}:function(L){setTimeout(m(G,L,1),0)}),U.exports={set:T,clear:d}},function(U,w,h){h(11)&&"g"!=/./g.flags&&h(10).f(RegExp.prototype,"flags",{configurable:!0,get:h(77)})},function(U,w){U.exports=function(h,C){return{value:C,done:!!h}}},function(U,w,h){"use strict";var C=h(52),b=h(127),S=h(53),m=h(21);U.exports=h(84)(Array,"Array",function(_,p){this._t=m(_),this._i=0,this._k=p},function(){var _=this._t,p=this._k,g=this._i++;return!_||g>=_.length?(this._t=void 0,b(1)):b(0,"keys"==p?g:"values"==p?_[g]:[g,_[g]])},"values"),S.Arguments=S.Array,C("keys"),C("values"),C("entries")},function(U,w,h){"use strict";var C=h(14),b=h(34),S=h(12);U.exports=[].copyWithin||function(m,_){var p=C(this),g=S(p.length),f=b(m,g),E=b(_,g),T=arguments.length>2?arguments[2]:void 0,d=Math.min((void 0===T?g:b(T,g))-E,g-f),v=1;for(E<f&&f<E+d&&(v=-1,E+=d-1,f+=d-1);d-- >0;)E in p?p[f]=p[E]:delete p[f],f+=v,E+=v;return p}},function(U,w,h){var C=h(26),b=h(14),S=h(54),m=h(12);U.exports=function(_,p,g,f,E){C(p);var T=b(_),d=S(T),v=m(T.length),M=E?v-1:0,N=E?-1:1;if(g<2)for(;;){if(M in d){f=d[M],M+=N;break}if(M+=N,E?M<0:v<=M)throw TypeError("Reduce of empty array with no initial value")}for(;E?M>=0:v>M;M+=N)M in d&&(f=p(f,d[M],M,T));return f}},function(U,w,h){"use strict";var C=h(10),b=h(36);U.exports=function(S,m,_){m in S?C.f(S,m,b(0,_)):S[m]=_}},function(U,w,h){var C=h(5);U.exports=function(b,S,m,_){try{return _?S(C(m)[0],m[1]):S(m)}catch(g){var p=b.return;throw void 0!==p&&C(p.call(b)),g}}},function(U,w,h){"use strict";var C=h(33),b=h(36),S=h(45),m={};h(18)(m,h(7)("iterator"),function(){return this}),U.exports=function(_,p,g){_.prototype=C(m,{next:b(1,g)}),S(_,p+" Iterator")}},function(U,w,h){var C=h(24),b=h(28);U.exports=function(S){return function(m,_){var p,g,f=String(b(m)),E=C(_),T=f.length;return E<0||E>=T?S?"":void 0:(p=f.charCodeAt(E))<55296||p>56319||E+1===T||(g=f.charCodeAt(E+1))<56320||g>57343?S?f.charAt(E):p:S?f.slice(E,E+2):g-56320+(p-55296<<10)+65536}}},function(U,w){U.exports=Math.log1p||function(h){return(h=+h)>-1e-8&&h<1e-8?h-h*h/2:Math.log(1+h)}},function(U,w,h){var C=h(4),b=Math.floor;U.exports=function(S){return!C(S)&&isFinite(S)&&b(S)===S}},function(U,w,h){"use strict";var C=h(24),b=h(28);U.exports=function(S){var m=String(b(this)),_="",p=C(S);if(p<0||p==1/0)throw RangeError("Count can't be negative");for(;p>0;(p>>>=1)&&(m+=m))1&p&&(_+=m);return _}},function(U,w,h){var C=h(25);U.exports=function(b,S){if("number"!=typeof b&&"Number"!=C(b))throw TypeError(S);return+b}},function(U,w,h){var C=h(6).parseFloat,b=h(65).trim;U.exports=1/C(h(88)+"-0")!=-1/0?function(S){var m=b(String(S),3),_=C(m);return 0===_&&"-"==m.charAt(0)?-0:_}:C},function(U,w,h){var C=h(6).parseInt,b=h(65).trim,S=h(88),m=/^[-+]?0[xX]/;U.exports=8!==C(S+"08")||22!==C(S+"0x16")?function(_,p){var g=b(String(_),3);return C(g,p>>>0||(m.test(g)?16:10))}:C},function(U,w){U.exports=function(h,C,b){var S=void 0===b;switch(C.length){case 0:return S?h():h.call(b);case 1:return S?h(C[0]):h.call(b,C[0]);case 2:return S?h(C[0],C[1]):h.call(b,C[0],C[1]);case 3:return S?h(C[0],C[1],C[2]):h.call(b,C[0],C[1],C[2]);case 4:return S?h(C[0],C[1],C[2],C[3]):h.call(b,C[0],C[1],C[2],C[3])}return h.apply(b,C)}},function(U,w,h){"use strict";var C=h(26),b=h(4),S=h(141),m=[].slice,_={};U.exports=Function.bind||function(p){var g=C(this),f=m.call(arguments,1),E=function(){var T=f.concat(m.call(arguments));return this instanceof E?function(d,v,M){if(!(v in _)){for(var N=[],k=0;k<v;k++)N[k]="a["+k+"]";_[v]=Function("F,a","return new F("+N.join(",")+")")}return _[v](d,M)}(g,T.length,T):S(g,T,p)};return b(g.prototype)&&(E.prototype=g.prototype),E}},function(U,w,h){"use strict";var C=h(55),b=h(68),S=h(67),m=h(14),_=h(54),p=Object.assign;U.exports=!p||h(3)(function(){var g={},f={},E=Symbol(),T="abcdefghijklmnopqrst";return g[E]=7,T.split("").forEach(function(d){f[d]=d}),7!=p({},g)[E]||Object.keys(p({},f)).join("")!=T})?function(g,f){for(var E=m(g),T=arguments.length,d=1,v=b.f,M=S.f;T>d;)for(var N,k=_(arguments[d++]),G=v?C(k).concat(v(k)):C(k),z=G.length,L=0;z>L;)M.call(k,N=G[L++])&&(E[N]=k[N]);return E}:p},function(U,w,h){var C=h(21),b=h(32).f,S={}.toString,m="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];U.exports.f=function(_){return m&&"[object Window]"==S.call(_)?function(p){try{return b(p)}catch(g){return m.slice()}}(_):b(C(_))}},function(U,w,h){var C=h(10),b=h(5),S=h(55);U.exports=h(11)?Object.defineProperties:function(m,_){b(m);for(var p,g=S(_),f=g.length,E=0;f>E;)C.f(m,p=g[E++],_[p]);return m}},function(U,w,h){var C=h(16),b=h(21),S=h(94)(!1),m=h(93)("IE_PROTO");U.exports=function(_,p){var g,f=b(_),E=0,T=[];for(g in f)g!=m&&C(f,g)&&T.push(g);for(;p.length>E;)C(f,g=p[E++])&&(~S(T,g)||T.push(g));return T}},function(U,w,h){w.f=h(7)},function(U,w,h){U.exports=!h(11)&&!h(3)(function(){return 7!=Object.defineProperty(h(96)("div"),"a",{get:function(){return 7}}).a})},function(U,w,h){"use strict";Number.MAX_SAFE_INTEGER||(Number.MAX_SAFE_INTEGER=9007199254740991),Number.isInteger=Number.isInteger||function(C){return"number"==typeof C&&isFinite(C)&&Math.floor(C)===C},Number.isSafeInteger=Number.isSafeInteger||function(C){return Number.isInteger(C)&&Math.abs(C)<=Number.MAX_SAFE_INTEGER},Number.isFinite=Number.isFinite||function(C){return"number"==typeof C&&isFinite(C)},Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(C){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof C)throw new TypeError("predicate must be a function");for(var b=Object(this),S=b.length>>>0,m=arguments[1],_=0;_!==S;_++)if(C.call(m,this[_],_,b))return this[_]}})},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.BuddyMessageRequest=void 0;var C=h(70),b=h(1),S=h(58),m=function(_){function p(g,f){var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p);var T=function(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?d:v}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));if(null!=f&&!(f instanceof S.SFSBuddy))throw new b.SFSError("Target buddy must be an instance of SFSBuddy class");return T._type=C.GenericMessageType.BUDDY_MSG,T._message=g,T._recipient=null!=f?f.id:-1,T._params=E,Object.seal(T),T}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(p,C.GenericMessageRequest),p}();w.BuddyMessageRequest=m},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.QuickJoinGameRequest=void 0;var C=function(){function g(f,E){for(var T=0;T<E.length;T++){var d=E[T];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,E,T){return E&&g(f.prototype,E),T&&g(f,T),f}}(),b=h(2),S=h(1),m=h(9),_=h(38),p=function(g){function f(E,T){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(M,N){if(!(M instanceof N))throw new TypeError("Cannot call a class as a function")}(this,f);var v=function(M,N){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?M:N}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,b.Requests.QuickJoinGame));return v._matchExpression=E,v._whereToSearch=T,v._roomToLeave=d,Object.seal(v),v}return function(E,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}(f,b.BaseRequest),C(f,null,[{key:"KEY_ROOM_LIST",get:function(){return"rl"}},{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"tl"}},{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"MAX_ROOMS",get:function(){return 32}}]),C(f,[{key:"validate",value:function(E){var T=[];if(null==this._matchExpression||this._matchExpression instanceof _.MatchExpression||T.push("Match expression must be an instance of MatchExpression class"),null==this._whereToSearch||this._whereToSearch.length<1?T.push("Missing list of Rooms or Group names where to search the game to join"):this._whereToSearch.length>f.MAX_ROOMS&&T.push("Too many Rooms specified in list where to search the game to join; client limit is: "+f.MAX_ROOMS),null==this._roomToLeave||this._roomToLeave instanceof m.SFSRoom||T.push("Room to leave must be an instance of SFSRoom class"),T.length>0)throw new S.SFSValidationError("QuickJoinGameRequest Error",T)}},{key:"execute",value:function(E){if("string"==typeof this._whereToSearch[0])this._reqObj.putUtfStringArray(f.KEY_GROUP_LIST,this._whereToSearch);else{if(!(this._whereToSearch[0]instanceof m.SFSRoom))throw new S.SFSError("Invalid type in whereToSearch parameter");var T=[],d=!0,v=!1,M=void 0;try{for(var N,k=this._whereToSearch[Symbol.iterator]();!(d=(N=k.next()).done);d=!0){var G=N.value;G instanceof m.SFSRoom&&T.push(G.id)}}catch(z){v=!0,M=z}finally{try{!d&&k.return&&k.return()}finally{if(v)throw M}}this._reqObj.putIntArray(f.KEY_ROOM_LIST,T)}null!=this._roomToLeave&&this._reqObj.putInt(f.KEY_ROOM_TO_LEAVE,this._roomToLeave.id),null!=this._matchExpression&&this._reqObj.putSFSArray(f.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray())}}]),f}();w.QuickJoinGameRequest=p},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.JoinRoomInvitationRequest=void 0;var C=function(){function g(f,E){for(var T=0;T<E.length;T++){var d=E[T];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,E,T){return E&&g(f.prototype,E),T&&g(f,T),f}}(),b=h(2),S=h(1),m=h(9),_=h(8),p=function(g){function f(E,T){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,M=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!function(k,G){if(!(k instanceof G))throw new TypeError("Cannot call a class as a function")}(this,f);var N=function(k,G){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||"object"!=typeof G&&"function"!=typeof G?k:G}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,b.Requests.JoinRoomInvite));return N._targetRoom=E,N._invitedUserNames=T,N._params=d,N._expirySeconds=v,N._asSpectator=M,Object.seal(N),N}return function(E,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}(f,b.BaseRequest),C(f,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_EXPIRY_SECONDS",get:function(){return"es"}},{key:"KEY_INVITED_NAMES",get:function(){return"in"}},{key:"KEY_AS_SPECT",get:function(){return"as"}},{key:"KEY_OPTIONAL_PARAMS",get:function(){return"op"}}]),C(f,[{key:"validate",value:function(E){var T=[];if(null==this._targetRoom&&T.push("Missing target room"),null==this._targetRoom||this._targetRoom instanceof m.SFSRoom||T.push("Target room must be an instance of SFSRoom class"),null==this._invitedUserNames?T.push("No invitees provided"):this._invitedUserNames instanceof Array?this._invitedUserNames.length<1&&T.push("No invitees provided"):T.push("Invited user names must be passed in an array"),null==this._params||this._params instanceof _.SFSObject||T.push("Custom invitation parameters must be set in a SFSObject class instance"),T.length>0)throw new S.SFSValidationError("JoinRoomInvitationRequest Error",T)}},{key:"execute",value:function(E){this._reqObj.putInt(f.KEY_ROOM_ID,this._targetRoom.id),this._reqObj.putUtfStringArray(f.KEY_INVITED_NAMES,this._invitedUserNames),this._reqObj.putInt(f.KEY_EXPIRY_SECONDS,this._expirySeconds),this._reqObj.putBool(f.KEY_AS_SPECT,this._asSpectator),null!=this._params&&this._reqObj.putSFSObject(f.KEY_OPTIONAL_PARAMS,this._params)}}]),f}();w.JoinRoomInvitationRequest=p},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.InvitationReplyRequest=void 0;var C=function(){function g(f,E){for(var T=0;T<E.length;T++){var d=E[T];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,E,T){return E&&g(f.prototype,E),T&&g(f,T),f}}(),b=h(2),S=h(1),m=h(8),_=h(72),p=function(g){function f(E,T){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(M,N){if(!(M instanceof N))throw new TypeError("Cannot call a class as a function")}(this,f);var v=function(M,N){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?M:N}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,b.Requests.InvitationReply));return v._invitation=E,v._reply=T,v._params=d,Object.seal(v),v}return function(E,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}(f,b.BaseRequest),C(f,null,[{key:"KEY_INVITATION_ID",get:function(){return"i"}},{key:"KEY_INVITATION_REPLY",get:function(){return"r"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"p"}}]),C(f,[{key:"validate",value:function(E){var T=[];if(null==this._invitation?T.push("Missing invitation object"):this._invitation instanceof _.SFSInvitation||T.push("Invitation object must be an instance of Invitation class"),null==this._params||this._params instanceof m.SFSObject||T.push("Custom invitation parameters must be set in a SFSObject class instance"),T.length>0)throw new S.SFSValidationError("InvitationReplyRequest Error",T)}},{key:"execute",value:function(E){this._reqObj.putInt(f.KEY_INVITATION_ID,this._invitation.id),this._reqObj.putByte(f.KEY_INVITATION_REPLY,this._reply),null!=this._params&&this._reqObj.putSFSObject(f.KEY_INVITATION_PARAMS,this._params)}}]),f}();w.InvitationReplyRequest=p},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.CreateSFSGameRequest=void 0;var C=function(){function v(M,N){for(var k=0;k<N.length;k++){var G=N[k];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(M,G.key,G)}}return function(M,N,k){return N&&v(M.prototype,N),k&&v(M,k),M}}(),b=h(2),S=h(1),m=h(56),_=h(57),p=h(69),g=h(47),f=h(58),E=h(8),T=h(38),d=function(v){function M(N){!function(G,z){if(!(G instanceof z))throw new TypeError("Cannot call a class as a function")}(this,M);var k=function(G,z){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!z||"object"!=typeof z&&"function"!=typeof z?G:z}(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,b.Requests.CreateSFSGame));return k._settings=N,k._createRoomRequest=new _.CreateRoomRequest(N,!1,null),Object.seal(k),k}return function(N,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);N.prototype=Object.create(k&&k.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(N,k):N.__proto__=k)}(M,b.BaseRequest),C(M,null,[{key:"KEY_IS_PUBLIC",get:function(){return"gip"}},{key:"KEY_MIN_PLAYERS",get:function(){return"gmp"}},{key:"KEY_INVITED_PLAYERS",get:function(){return"ginp"}},{key:"KEY_SEARCHABLE_ROOMS",get:function(){return"gsr"}},{key:"KEY_PLAYER_MATCH_EXP",get:function(){return"gpme"}},{key:"KEY_SPECTATOR_MATCH_EXP",get:function(){return"gsme"}},{key:"KEY_INVITATION_EXPIRY",get:function(){return"gie"}},{key:"KEY_LEAVE_ROOM",get:function(){return"glr"}},{key:"KEY_NOTIFY_GAME_STARTED",get:function(){return"gns"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"ip"}}]),C(M,[{key:"validate",value:function(N){if(!(this._settings instanceof m.SFSGameSettings))throw new S.SFSValidationError("CreateSFSGameRequest Error",["Room configuration must be an instance of SFSGameSettings class"]);var k=[];try{this._createRoomRequest.validate(N)}catch(G){k=G.getErrors()}if(this._settings.minPlayersToStartGame>this._settings.maxUsers&&k.push("Minimum number of players to start the game can't be greater than the Room's maximum number of users"),(this._settings.invitationExpiryTime<p.InviteUsersRequest.MIN_EXPIRY_TIME||this._settings.invitationExpiryTime>p.InviteUsersRequest.MAX_EXPIRY_TIME)&&k.push("Invitation expiration time value is out of range (min: "+p.InviteUsersRequest.MIN_EXPIRY_TIME+"; max: "+p.InviteUsersRequest.MAX_EXPIRY_TIME+")"),null!=this._settings.invitedPlayers&&(this._settings.invitedPlayers instanceof Array?(this._settings.invitedPlayers.length>p.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE&&k.push("Can't invite more than "+p.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE+" players from client side"),this._settings.invitedPlayers.every(function(G){return G instanceof g.SFSUser||G instanceof f.SFSBuddy})||k.push("Each invited player must be an instance of SFSUser or SFSBuddy classes")):k.push("Invited players must be passed in an array")),null==this._settings.playerMatchExpression||this._settings.playerMatchExpression instanceof T.MatchExpression||k.push("Player match expression must be an instance of MatchExpression class"),null==this._settings.spectatorMatchExpression||this._settings.spectatorMatchExpression instanceof T.MatchExpression||k.push("Spectator match expression must be an instance of MatchExpression class"),null==this._settings.invitationParams||this._settings.invitationParams instanceof E.SFSObject||k.push("Custom invitation parameters must be set in a SFSObject class instance"),k.length>0)throw new S.SFSValidationError("CreateSFSGameRequest Error",k)}},{key:"execute",value:function(N){if(this._createRoomRequest.execute(N),this._reqObj=this._createRoomRequest._reqObj,this._reqObj.putBool(M.KEY_IS_PUBLIC,this._settings.isPublic),this._reqObj.putShort(M.KEY_MIN_PLAYERS,this._settings.minPlayersToStartGame),this._reqObj.putShort(M.KEY_INVITATION_EXPIRY,this._settings.invitationExpiryTime),this._reqObj.putBool(M.KEY_LEAVE_ROOM,this._settings.leaveLastJoinedRoom),this._reqObj.putBool(M.KEY_NOTIFY_GAME_STARTED,this._settings.notifyGameStarted),null!=this._settings.playerMatchExpression&&this._reqObj.putSFSArray(M.KEY_PLAYER_MATCH_EXP,this._settings.playerMatchExpression.toSFSArray()),null!=this._settings.spectatorMatchExpression&&this._reqObj.putSFSArray(M.KEY_SPECTATOR_MATCH_EXP,this._settings.spectatorMatchExpression.toSFSArray()),null!=this._settings.invitedPlayers){var k=[],G=!0,z=!1,L=void 0;try{for(var j,F=this._settings.invitedPlayers[Symbol.iterator]();!(G=(j=F.next()).done);G=!0)k.push(j.value.id)}catch(Q){z=!0,L=Q}finally{try{!G&&F.return&&F.return()}finally{if(z)throw L}}this._reqObj.putIntArray(M.KEY_INVITED_PLAYERS,k)}null!=this._settings.searchableRooms&&this._reqObj.putUtfStringArray(M.KEY_SEARCHABLE_ROOMS,this._settings.searchableRooms),null!=this._settings.invitationParams&&this._reqObj.putSFSObject(M.KEY_INVITATION_PARAMS,this._settings.invitationParams)}}]),M}();w.CreateSFSGameRequest=d},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.BanUserRequest=void 0;var C=function(){function _(p,g){for(var f=0;f<g.length;f++){var E=g[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,g,f){return g&&_(p.prototype,g),f&&_(p,f),p}}(),b=h(2),S=h(1),m=function(_){function p(g){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,T=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;!function(M,N){if(!(M instanceof N))throw new TypeError("Cannot call a class as a function")}(this,p);var v=function(M,N){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?M:N}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b.Requests.BanUser));return v._userId=g,v._message=f,v._banMode=E,v._delay=T,v._durationHours=d,Object.seal(v),v}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(p,b.BaseRequest),C(p,null,[{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_DELAY",get:function(){return"d"}},{key:"KEY_BAN_MODE",get:function(){return"b"}},{key:"KEY_BAN_DURATION_HOURS",get:function(){return"dh"}}]),C(p,[{key:"validate",value:function(g){var f=[];if(f.length>0)throw new S.SFSValidationError("BanUserRequest Error",f)}},{key:"execute",value:function(g){this._reqObj.putInt(p.KEY_USER_ID,this._userId),this._reqObj.putInt(p.KEY_DELAY,this._delay),this._reqObj.putInt(p.KEY_BAN_MODE,this._banMode),this._reqObj.putInt(p.KEY_BAN_DURATION_HOURS,this._durationHours),null!=this._message&&this._message.length>0&&this._reqObj.putUtfString(p.KEY_MESSAGE,this._message)}}]),p}();w.BanUserRequest=m},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.KickUserRequest=void 0;var C=function(){function _(p,g){for(var f=0;f<g.length;f++){var E=g[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,g,f){return g&&_(p.prototype,g),f&&_(p,f),p}}(),b=h(2),S=h(1),m=function(_){function p(g){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;!function(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p);var T=function(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?d:v}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b.Requests.KickUser));return E<0&&(E=0),T._userId=g,T._message=f,T._delay=E,Object.seal(T),T}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(p,b.BaseRequest),C(p,null,[{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_DELAY",get:function(){return"d"}}]),C(p,[{key:"validate",value:function(g){var f=[];if(f.length>0)throw new S.SFSValidationError("KickUserRequest Error",f)}},{key:"execute",value:function(g){this._reqObj.putInt(p.KEY_USER_ID,this._userId),this._reqObj.putInt(p.KEY_DELAY,this._delay),null!=this._message&&this._message.length>0&&this._reqObj.putUtfString(p.KEY_MESSAGE,this._message)}}]),p}();w.KickUserRequest=m},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.LeaveRoomRequest=void 0;var C=function(){function p(g,f){for(var E=0;E<f.length;E++){var T=f[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,f,E){return f&&p(g.prototype,f),E&&p(g,E),g}}(),b=h(2),S=h(1),m=h(9),_=function(p){function g(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(T,d){if(!(T instanceof d))throw new TypeError("Cannot call a class as a function")}(this,g);var E=function(T,d){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?T:d}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b.Requests.LeaveRoom));return E._room=f,Object.seal(E),E}return function(f,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function, not "+typeof E);f.prototype=Object.create(E&&E.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(f,E):f.__proto__=E)}(g,b.BaseRequest),C(g,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}}]),C(g,[{key:"validate",value:function(f){var E=[];if(f.getJoinedRooms().length<1&&E.push("You are not joined in any Room"),null==this._room||this._room instanceof m.SFSRoom||E.push("Room must be an instance of SFSRoom class"),E.length>0)throw new S.SFSValidationError("LeaveRoomRequest Error",E)}},{key:"execute",value:function(f){null!=this._room&&this._reqObj.putInt(g.KEY_ROOM_ID,this._room.id)}}]),g}();w.LeaveRoomRequest=_},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.QuickJoinOrCreateRoomRequest=void 0;var C=function(){function f(E,T){for(var d=0;d<T.length;d++){var v=T[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(E,v.key,v)}}return function(E,T,d){return T&&f(E.prototype,T),d&&f(E,d),E}}(),b=h(2),S=h(57),m=h(1),_=h(9),p=h(38),g=function(f){function E(T,d,v){var M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(k,G){if(!(k instanceof G))throw new TypeError("Cannot call a class as a function")}(this,E);var N=function(k,G){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||"object"!=typeof G&&"function"!=typeof G?k:G}(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,b.Requests.QuickJoinOrCreateRoom));return N._matchExpression=T,N._groupList=d,N._settings=v,N._roomToLeave=M,N._createRoomRequest=new S.CreateRoomRequest(v,!1,null),Object.seal(N),N}return function(T,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);T.prototype=Object.create(d&&d.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(T,d):T.__proto__=d)}(E,b.BaseRequest),C(E,null,[{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_SETTINGS",get:function(){return"rs"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"tl"}}]),C(E,[{key:"validate",value:function(T){if(!(this._matchExpression instanceof p.MatchExpression))throw new m.SFSValidationError("QuickJoinOrCreateRoomRequest Error",["Match expression must be an instance of MatchExpression class"]);var d=[];(null==this._groupList||this._groupList.length<1)&&d.push("Missing list of Group names where to search the game to join"),null==this._roomToLeave||this._roomToLeave instanceof _.SFSRoom||d.push("Room to leave must be an instance of SFSRoom class");try{this._createRoomRequest.validate(T)}catch(v){d=d.concat(v.errors)}if(d.length>0)throw new m.SFSValidationError("QuickJoinOrCreateRoomRequest Error",d)}},{key:"execute",value:function(T){this._createRoomRequest.execute(T);var d=this._createRoomRequest.getMessage().content;this._reqObj.putSFSArray(E.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray()),this._reqObj.putUtfStringArray(E.KEY_GROUP_LIST,this._groupList),this._reqObj.putSFSObject(E.KEY_ROOM_SETTINGS,d),null!=this._roomToLeave&&this._reqObj.putInt(E.KEY_ROOM_TO_LEAVE,this._roomToLeave.id)}}]),E}();w.QuickJoinOrCreateRoomRequest=g},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.PasswordUtil=void 0;var C=function(){function m(_,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(_,f.key,f)}}return function(_,p,g){return p&&m(_.prototype,p),g&&m(_,g),_}}(),b=h(71),S=function(){function m(){throw function(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}(this,m),"Class PasswordUtil cannot be instantiated. Please check the documentation for more details on its usage"}return C(m,null,[{key:"md5Password",value:function(_){return(new b.MD5).hex_md5(_)}}]),m}();w.PasswordUtil=S},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0});var C=Object.freeze({NAME:"${N}",GROUP_ID:"${G}",MAX_USERS:"${MXU}",MAX_SPECTATORS:"${MXS}",USER_COUNT:"${UC}",SPECTATOR_COUNT:"${SC}",IS_GAME:"${ISG}",IS_PRIVATE:"${ISP}",HAS_FREE_PLAYER_SLOTS:"${HFP}",IS_TYPE_SFSGAME:"${IST}",IS_TYPE_MMO:"${ISM}",IS_TYPE_DEFAULT:"${ISD}"}),b=Object.freeze({NAME:"${N}",IS_PLAYER:"${ISP}",IS_SPECTATOR:"${ISS}",IS_NPC:"${ISN}",PRIVILEGE_ID:"${PRID}",IS_IN_ANY_ROOM:"${IAR}"});w.RoomProperties=C,w.UserProperties=b},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0});var C=function(){function E(T,d){for(var v=0;v<d.length;v++){var M=d[v];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,d,v){return d&&E(T.prototype,d),v&&E(T,v),T}}();function b(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?E:T}function S(E,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}function m(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}var _=function(){function E(T,d){m(this,E),this._type=T,this._symbol=d,Object.freeze(this)}return C(E,[{key:"type",get:function(){return this._type}},{key:"symbol",get:function(){return this._symbol}}]),E}(),p=function(E){function T(d){m(this,T);var v=b(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,0,d));return Object.freeze(v),v}return S(T,_),C(T,null,[{key:"EQUALS",get:function(){return new T("==")}},{key:"NOT_EQUALS",get:function(){return new T("!=")}}]),T}(),g=function(E){function T(d){m(this,T);var v=b(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,1,d));return Object.freeze(v),v}return S(T,_),C(T,null,[{key:"EQUALS",get:function(){return new T("==")}},{key:"NOT_EQUALS",get:function(){return new T("!=")}},{key:"GREATER_THAN",get:function(){return new T(">")}},{key:"GREATER_THAN_OR_EQUAL_TO",get:function(){return new T(">=")}},{key:"LESS_THAN",get:function(){return new T("<")}},{key:"LESS_THAN_OR_EQUAL_TO",get:function(){return new T("<=")}}]),T}(),f=function(E){function T(d){m(this,T);var v=b(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,2,d));return Object.freeze(v),v}return S(T,_),C(T,null,[{key:"EQUALS",get:function(){return new T("==")}},{key:"NOT_EQUALS",get:function(){return new T("!=")}},{key:"CONTAINS",get:function(){return new T("contains")}},{key:"STARTS_WITH",get:function(){return new T("startsWith")}},{key:"ENDS_WITH",get:function(){return new T("endsWith")}}]),T}();w.BoolMatch=p,w.NumberMatch=g,w.StringMatch=f},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.PingPongRequest=void 0;var C=function(){function m(_,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(_,f.key,f)}}return function(_,p,g){return p&&m(_.prototype,p),g&&m(_,g),_}}(),b=h(2),S=function(m){function _(){!function(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")}(this,_);var p=function(g,f){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?g:f}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b.Requests.PingPong));return Object.seal(p),p}return function(p,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}(_,b.BaseRequest),C(_,[{key:"validate",value:function(p){}},{key:"execute",value:function(p){}}]),_}();w.PingPongRequest=S},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.LagMonitor=void 0;var C=function(){function m(_,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(_,f.key,f)}}return function(_,p,g){return p&&m(_.prototype,p),g&&m(_,g),_}}(),b=h(162),S=function(){function m(_){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;(function(f,E){if(!(f instanceof E))throw new TypeError("Cannot call a class as a function")})(this,m),this._sfs=_,this._valueQueue=[],this._interval=p,this._queueSize=g,this._thread=null,this._lastReqTime=-1}return C(m,[{key:"start",value:function(){this.isRunning||null==this._sfs||(this._thread=setInterval(this._threadRunner,1e3*this._interval,this))}},{key:"stop",value:function(){this.isRunning&&(clearInterval(this._thread),this._thread=null,this._valueQueue=[])}},{key:"destroy",value:function(){this.stop(),this._sfs=null}},{key:"getLastPingTime",value:function(){return this._valueQueue.length>0?this._valueQueue[this._valueQueue.length-1]:0}},{key:"_threadRunner",value:function(_){_._lastReqTime=(new Date).getTime(),_._sfs.send(new b.PingPongRequest)}},{key:"_onPingPong",value:function(){var _=(new Date).getTime()-this._lastReqTime;return this._valueQueue.length>=this._queueSize&&this._valueQueue.shift(),this._valueQueue.push(_),this._getAveragePingTime()}},{key:"_getAveragePingTime",value:function(){if(0==this._valueQueue.length)return 0;for(var _=0,p=0;p<this._valueQueue.length;p++)_+=this._valueQueue[p];return _/this._valueQueue.length}},{key:"isRunning",get:function(){return null!=this._thread}}]),m}();w.LagMonitor=S},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.HandshakeRequest=void 0;var C=function(){function m(_,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(_,f.key,f)}}return function(_,p,g){return p&&m(_.prototype,p),g&&m(_,g),_}}(),b=h(2),S=function(m){function _(p,g){!function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}(this,_);var f=function(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?E:T}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b.Requests.Handshake));return f._apiVersion=p,f._clientDetails=g,Object.seal(f),f}return function(p,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}(_,b.BaseRequest),C(_,null,[{key:"KEY_SESSION_TOKEN",get:function(){return"tk"}},{key:"KEY_API",get:function(){return"api"}},{key:"KEY_COMPRESSION_THRESHOLD",get:function(){return"ct"}},{key:"KEY_CLIENT_TYPE",get:function(){return"cl"}},{key:"KEY_MAX_MESSAGE_SIZE",get:function(){return"ms"}}]),C(_,[{key:"validate",value:function(p){}},{key:"execute",value:function(p){this._reqObj.putUtfString(_.KEY_API,this._apiVersion),this._reqObj.putUtfString(_.KEY_CLIENT_TYPE,this._clientDetails)}}]),_}();w.HandshakeRequest=S},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.SFSBuddyManager=void 0;var C=function(){function m(_,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(_,f.key,f)}}return function(_,p,g){return p&&m(_.prototype,p),g&&m(_,g),_}}(),b=h(46),S=function(){function m(_){(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,m),this._sfs=_,this._buddiesByName=new Map,this._myVariables=new Map,this._inited=!1,this._buddyStates=new Set,Object.seal(this)}return C(m,[{key:"containsBuddy",value:function(_){return this._buddiesByName.has(_)}},{key:"getBuddyById",value:function(_){return this.getBuddyList().find(function(p){return p.id===_})}},{key:"getBuddyByName",value:function(_){return this._buddiesByName.get(_)}},{key:"getBuddyByNickName",value:function(_){return this.getBuddyList().find(function(p){return p.nickName===_})}},{key:"getOfflineBuddies",value:function(){return this.getBuddyList().filter(function(_){return!_.isOnline})}},{key:"getOnlineBuddies",value:function(){return this.getBuddyList().filter(function(_){return _.isOnline})}},{key:"getBuddyList",value:function(){return Array.from(this._buddiesByName.values())}},{key:"getMyVariable",value:function(_){return this._myVariables.get(_)}},{key:"getMyVariables",value:function(){return Array.from(this._myVariables.values())}},{key:"getMyOnlineState",value:function(){if(!this._inited)return!1;var _=this.getMyVariable(b.ReservedBuddyVariables.BV_ONLINE);return null==_||_.value}},{key:"getMyNickName",value:function(){var _=this.getMyVariable(b.ReservedBuddyVariables.BV_NICKNAME);return null!=_?_.value:null}},{key:"getMyState",value:function(){var _=this.getMyVariable(b.ReservedBuddyVariables.BV_STATE);return null!=_?_.value:null}},{key:"getBuddyStates",value:function(){return Array.from(this._buddyStates.values())}},{key:"_setInited",value:function(){this._inited=!0}},{key:"_addBuddy",value:function(_){this._buddiesByName.set(_.name,_)}},{key:"_clearAll",value:function(){this._buddiesByName.clear()}},{key:"_removeBuddyById",value:function(_){var p=this.getBuddyById(_);return null!=p&&this._buddiesByName.delete(p.name),p}},{key:"_removeBuddyByName",value:function(_){var p=this.getBuddyByName(_);return null!=p&&this._buddiesByName.delete(_),p}},{key:"_setMyVariables",value:function(_){var p=!0,g=!1,f=void 0;try{for(var E,T=_[Symbol.iterator]();!(p=(E=T.next()).done);p=!0)this._setMyVariable(E.value)}catch(v){g=!0,f=v}finally{try{!p&&T.return&&T.return()}finally{if(g)throw f}}}},{key:"_setMyVariable",value:function(_){_.isNull?this._myVariables.delete(_.name):this._myVariables.set(_.name,_)}},{key:"_setMyOnlineState",value:function(_){this._setMyVariable(new b.SFSBuddyVariable(b.ReservedBuddyVariables.BV_ONLINE,_))}},{key:"_setMyNickName",value:function(_){this._setMyVariable(new b.SFSBuddyVariable(b.ReservedBuddyVariables.BV_NICKNAME,_))}},{key:"_setMyState",value:function(_){this._setMyVariable(new b.SFSBuddyVariable(b.ReservedBuddyVariables.BV_STATE,_))}},{key:"_setBuddyStates",value:function(_){this._buddyStates=new Set(_)}},{key:"isInited",get:function(){return this._inited}}]),m}();w.SFSBuddyManager=S},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.SFSRoomManager=void 0;var C=function(){function m(_,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(_,f.key,f)}}return function(_,p,g){return p&&m(_.prototype,p),g&&m(_,g),_}}(),b=h(9),S=function(){function m(_){(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,m),this._sfs=_,this._groups=new Set,this._roomsById=new Map,this._roomsByName=new Map,Object.seal(this)}return C(m,[{key:"getRoomGroups",value:function(){return Array.from(this._groups)}},{key:"containsGroup",value:function(_){return this._groups.has(_)}},{key:"containsRoom",value:function(_){return"number"==typeof _?this._roomsById.has(_):this._roomsByName.has(_)}},{key:"containsRoomInGroup",value:function(_,p){return this.getRoomListFromGroup(p).some("number"==typeof _?function(f){return f.id===_}:function(f){return f.name===_})}},{key:"getRoomById",value:function(_){return this._roomsById.get(_)}},{key:"getRoomByName",value:function(_){return this._roomsByName.get(_)}},{key:"getRoomList",value:function(){return Array.from(this._roomsById.values())}},{key:"getRoomCount",value:function(){return this._roomsById.size}},{key:"getRoomListFromGroup",value:function(_){return this.getRoomList().filter(function(p){return p.groupId===_})}},{key:"getJoinedRooms",value:function(){return this.getRoomList().filter(function(_){return _.isJoined})}},{key:"getUserRooms",value:function(_){return this.getRoomList().filter(function(p){return p.containsUser(_)})}},{key:"_addRoom",value:function(_){var p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._roomsById.set(_.id,_),this._roomsByName.set(_.name,_),_._setRoomManager(this),p?this._addGroup(_.groupId):_._isManaged=!1}},{key:"_replaceRoom",value:function(_){var p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],g=this.getRoomById(_.id);return null!=g?(g._merge(_),g):(this._addRoom(_,p),_)}},{key:"_removeRoom",value:function(_){this._roomsById.delete(_.id),this._roomsByName.delete(_.name)}},{key:"_removeRoomById",value:function(_){var p=this.getRoomById(_);null!=p&&this._removeRoom(p)}},{key:"_removeRoomByName",value:function(_){var p=this.getRoomByName(_);null!=p&&this._removeRoom(p)}},{key:"_changeRoomName",value:function(_,p){var g=_.name;_._name=p,this._roomsByName.set(p,_),this._roomsByName.delete(g)}},{key:"_changeRoomPasswordState",value:function(_,p){_._isPasswordProtected=p}},{key:"_changeRoomCapacity",value:function(_,p,g){_._maxUsers=p,_._maxSpectators=g}},{key:"_addGroup",value:function(_){this.containsGroup(_)||this._groups.add(_)}},{key:"_removeGroup",value:function(_){this._groups.delete(_);var p=this.getRoomListFromGroup(_),g=!0,f=!1,E=void 0;try{for(var T,d=p[Symbol.iterator]();!(g=(T=d.next()).done);g=!0){var v=T.value;v.isJoined?v._isManaged=!1:this._removeRoom(v)}}catch(M){f=!0,E=M}finally{try{!g&&d.return&&d.return()}finally{if(f)throw E}}}},{key:"_removeUser",value:function(_){var p=!0,g=!1,f=void 0;try{for(var E,T=this.getUserRooms(_)[Symbol.iterator]();!(p=(E=T.next()).done);p=!0){var d=E.value;d instanceof b.MMORoom||d._removeUser(_)}}catch(v){g=!0,f=v}finally{try{!p&&T.return&&T.return()}finally{if(g)throw f}}}}]),m}();w.SFSRoomManager=S},function(U,w){(function(){"use strict";function h(Oe){throw Oe}var C=void 0,b=!0,S=this;function m(Oe,be){var Ie,Be=Oe.split("."),xe=S;for((!(Be[0]in xe)&&xe.execScript&&xe.execScript("var "+Be[0]));Be.length&&(Ie=Be.shift());)Be.length||be===C?xe=xe[Ie]?xe[Ie]:xe[Ie]={}:xe[Ie]=be}var _="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function p(Oe,be){this.index="number"==typeof be?be:0,this.i=0,this.buffer=Oe instanceof(_?Uint8Array:Array)?Oe:new(_?Uint8Array:Array)(32768),2*this.buffer.length<=this.index&&h(Error("invalid index")),this.buffer.length<=this.index&&this.f()}p.prototype.f=function(){var Oe,be=this.buffer,Ie=be.length,Be=new(_?Uint8Array:Array)(Ie<<1);if(_)Be.set(be);else for(Oe=0;Oe<Ie;++Oe)Be[Oe]=be[Oe];return this.buffer=Be},p.prototype.d=function(Oe,be,Ie){var Be,xe=this.buffer,Ue=this.index,ht=this.i,St=xe[Ue];if(Ie&&1<be&&(Oe=8<be?(v[255&Oe]<<24|v[Oe>>>8&255]<<16|v[Oe>>>16&255]<<8|v[Oe>>>24&255])>>32-be:v[Oe]>>8-be),8>be+ht)St=St<<be|Oe,ht+=be;else for(Be=0;Be<be;++Be)St=St<<1|Oe>>be-Be-1&1,8==++ht&&(ht=0,xe[Ue++]=v[St],St=0,Ue===xe.length&&(xe=this.f()));xe[Ue]=St,this.buffer=xe,this.i=ht,this.index=Ue},p.prototype.finish=function(){var Oe,be=this.buffer,Ie=this.index;return 0<this.i&&(be[Ie]<<=8-this.i,be[Ie]=v[be[Ie]],Ie++),_?Oe=be.subarray(0,Ie):(be.length=Ie,Oe=be),Oe};var g,f=new(_?Uint8Array:Array)(256);for(g=0;256>g;++g){for(var E=d=g,T=7,d=d>>>1;d;d>>>=1)E<<=1,E|=1&d,--T;f[g]=(E<<T&255)>>>0}var v=f;function M(Oe){this.buffer=new(_?Uint16Array:Array)(2*Oe),this.length=0}function N(Oe){var be,Ie,Be,xe,Ue,ht,St,Ot,On,Yn,ui=Oe.length,jt=0,zn=Number.POSITIVE_INFINITY;for(Ot=0;Ot<ui;++Ot)Oe[Ot]>jt&&(jt=Oe[Ot]),Oe[Ot]<zn&&(zn=Oe[Ot]);for(be=1<<jt,Ie=new(_?Uint32Array:Array)(be),Be=1,xe=0,Ue=2;Be<=jt;){for(Ot=0;Ot<ui;++Ot)if(Oe[Ot]===Be){for(ht=0,St=xe,On=0;On<Be;++On)ht=ht<<1|1&St,St>>=1;for(Yn=Be<<16|Ot,On=ht;On<be;On+=Ue)Ie[On]=Yn;++xe}++Be,xe<<=1,Ue<<=1}return[Ie,jt,zn]}function k(Oe,be){this.h=z,this.w=0,this.input=_&&Oe instanceof Array?new Uint8Array(Oe):Oe,this.b=0,be&&(be.lazy&&(this.w=be.lazy),"number"==typeof be.compressionType&&(this.h=be.compressionType),be.outputBuffer&&(this.a=_&&be.outputBuffer instanceof Array?new Uint8Array(be.outputBuffer):be.outputBuffer),"number"==typeof be.outputIndex&&(this.b=be.outputIndex)),this.a||(this.a=new(_?Uint8Array:Array)(32768))}M.prototype.getParent=function(Oe){return 2*((Oe-2)/4|0)},M.prototype.push=function(Oe,be){var Ie,Be,xe,Ue=this.buffer;for(Ie=this.length,Ue[this.length++]=be,Ue[this.length++]=Oe;0<Ie&&(Be=this.getParent(Ie),Ue[Ie]>Ue[Be]);)xe=Ue[Ie],Ue[Ie]=Ue[Be],Ue[Be]=xe,xe=Ue[Ie+1],Ue[Ie+1]=Ue[Be+1],Ue[Be+1]=xe,Ie=Be;return this.length},M.prototype.pop=function(){var Oe,be,Ie,Be,xe,Ue=this.buffer;for(be=Ue[0],Oe=Ue[1],this.length-=2,Ue[0]=Ue[this.length],Ue[1]=Ue[this.length+1],xe=0;!((Be=2*xe+2)>=this.length)&&(Be+2<this.length&&Ue[Be+2]>Ue[Be]&&(Be+=2),Ue[Be]>Ue[xe]);)Ie=Ue[xe],Ue[xe]=Ue[Be],Ue[Be]=Ie,Ie=Ue[xe+1],Ue[xe+1]=Ue[Be+1],Ue[Be+1]=Ie,xe=Be;return{index:Oe,value:be,length:this.length}};var G,z=2,L={NONE:0,r:1,k:z,O:3},j=[];for(G=0;288>G;G++)switch(b){case 143>=G:j.push([G+48,8]);break;case 255>=G:j.push([G-144+400,9]);break;case 279>=G:j.push([G-256+0,7]);break;case 287>=G:j.push([G-280+192,8]);break;default:h("invalid literal: "+G)}k.prototype.j=function(){var Oe,be,Ie,Be,xe=this.input;switch(this.h){case 0:for(Ie=0,Be=xe.length;Ie<Be;){var ht,St,Ot=be=_?xe.subarray(Ie,Ie+65535):xe.slice(Ie,Ie+65535),On=(Ie+=be.length)===Be,Yn=C,ui=C,jt=this.a,zn=this.b;if(_){for(jt=new Uint8Array(this.a.buffer);jt.length<=zn+Ot.length+5;)jt=new Uint8Array(jt.length<<1);jt.set(this.a)}if(jt[zn++]=0|(On?1:0),St=65536+~(ht=Ot.length)&65535,jt[zn++]=255&ht,jt[zn++]=ht>>>8&255,jt[zn++]=255&St,jt[zn++]=St>>>8&255,_)jt.set(Ot,zn),jt=jt.subarray(0,zn+=Ot.length);else{for(Yn=0,ui=Ot.length;Yn<ui;++Yn)jt[zn++]=Ot[Yn];jt.length=zn}this.b=zn,this.a=jt}break;case 1:var _n=new p(_?new Uint8Array(this.a.buffer):this.a,this.b);_n.d(1,1,b),_n.d(1,2,b);var Vt,Bn,wr,Pr=Q(this,xe);for(Vt=0,Bn=Pr.length;Vt<Bn;Vt++)if(p.prototype.d.apply(_n,j[wr=Pr[Vt]]),256<wr)_n.d(Pr[++Vt],Pr[++Vt],b),_n.d(Pr[++Vt],5),_n.d(Pr[++Vt],Pr[++Vt],b);else if(256===wr)break;this.a=_n.finish(),this.b=this.a.length;break;case z:var Qn,cn,Ii,Zt,Zi,xr,Et,Ar,co,Ua,rd,Ga,qc,Rr,vs,Po=new p(_?new Uint8Array(this.a.buffer):this.a,this.b),er=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],uo=Array(19);for(Qn=z,Po.d(1,1,b),Po.d(Qn,2,b),cn=Q(this,xe),Et=J(xr=oe(this.M,15)),co=J(Ar=oe(this.L,7)),Ii=286;257<Ii&&0===xr[Ii-1];Ii--);for(Zt=30;1<Zt&&0===Ar[Zt-1];Zt--);var nt,xt,Wt,Ei,yn,Vi,ha=Ii,bn=Zt,Wi=new(_?Uint32Array:Array)(ha+bn),Ir=new(_?Uint32Array:Array)(316),Ko=new(_?Uint8Array:Array)(19);for(nt=xt=0;nt<ha;nt++)Wi[xt++]=xr[nt];for(nt=0;nt<bn;nt++)Wi[xt++]=Ar[nt];if(!_)for(nt=0,Ei=Ko.length;nt<Ei;++nt)Ko[nt]=0;for(nt=yn=0,Ei=Wi.length;nt<Ei;nt+=xt){for(xt=1;nt+xt<Ei&&Wi[nt+xt]===Wi[nt];++xt);if(Wt=xt,0===Wi[nt])if(3>Wt)for(;0<Wt--;)Ir[yn++]=0,Ko[0]++;else for(;0<Wt;)(Vi=138>Wt?Wt:138)>Wt-3&&Vi<Wt&&(Vi=Wt-3),10>=Vi?(Ir[yn++]=17,Ir[yn++]=Vi-3,Ko[17]++):(Ir[yn++]=18,Ir[yn++]=Vi-11,Ko[18]++),Wt-=Vi;else if(Ir[yn++]=Wi[nt],Ko[Wi[nt]]++,3>--Wt)for(;0<Wt--;)Ir[yn++]=Wi[nt],Ko[Wi[nt]]++;else for(;0<Wt;)(Vi=6>Wt?Wt:6)>Wt-3&&Vi<Wt&&(Vi=Wt-3),Ir[yn++]=16,Ir[yn++]=Vi-3,Ko[16]++,Wt-=Vi}for(Oe=_?Ir.subarray(0,yn):Ir.slice(0,yn),Ua=oe(Ko,7),Rr=0;19>Rr;Rr++)uo[Rr]=Ua[er[Rr]];for(Zi=19;4<Zi&&0===uo[Zi-1];Zi--);for(rd=J(Ua),Po.d(Ii-257,5,b),Po.d(Zt-1,5,b),Po.d(Zi-4,4,b),Rr=0;Rr<Zi;Rr++)Po.d(uo[Rr],3,b);for(Rr=0,vs=Oe.length;Rr<vs;Rr++)if(Po.d(rd[Ga=Oe[Rr]],Ua[Ga],b),16<=Ga){switch(Rr++,Ga){case 16:qc=2;break;case 17:qc=3;break;case 18:qc=7;break;default:h("invalid code: "+Ga)}Po.d(Oe[Rr],qc,b)}var xo,Hr,Kc,Ml,Xu,od,ri,wi,fi=[Et,xr],ys=[co,Ar];for(Xu=fi[0],od=fi[1],ri=ys[0],wi=ys[1],xo=0,Hr=cn.length;xo<Hr;++xo)if(Po.d(Xu[Kc=cn[xo]],od[Kc],b),256<Kc)Po.d(cn[++xo],cn[++xo],b),Ml=cn[++xo],Po.d(ri[Ml],wi[Ml],b),Po.d(cn[++xo],cn[++xo],b);else if(256===Kc)break;this.a=Po.finish(),this.b=this.a.length;break;default:h("invalid compression type")}return this.a};var F=function(){function Oe(xe){switch(b){case 3===xe:return[257,xe-3,0];case 4===xe:return[258,xe-4,0];case 5===xe:return[259,xe-5,0];case 6===xe:return[260,xe-6,0];case 7===xe:return[261,xe-7,0];case 8===xe:return[262,xe-8,0];case 9===xe:return[263,xe-9,0];case 10===xe:return[264,xe-10,0];case 12>=xe:return[265,xe-11,1];case 14>=xe:return[266,xe-13,1];case 16>=xe:return[267,xe-15,1];case 18>=xe:return[268,xe-17,1];case 22>=xe:return[269,xe-19,2];case 26>=xe:return[270,xe-23,2];case 30>=xe:return[271,xe-27,2];case 34>=xe:return[272,xe-31,2];case 42>=xe:return[273,xe-35,3];case 50>=xe:return[274,xe-43,3];case 58>=xe:return[275,xe-51,3];case 66>=xe:return[276,xe-59,3];case 82>=xe:return[277,xe-67,4];case 98>=xe:return[278,xe-83,4];case 114>=xe:return[279,xe-99,4];case 130>=xe:return[280,xe-115,4];case 162>=xe:return[281,xe-131,5];case 194>=xe:return[282,xe-163,5];case 226>=xe:return[283,xe-195,5];case 257>=xe:return[284,xe-227,5];case 258===xe:return[285,xe-258,0];default:h("invalid length: "+xe)}}var be,Ie,Be=[];for(be=3;258>=be;be++)Ie=Oe(be),Be[be]=Ie[2]<<24|Ie[1]<<16|Ie[0];return Be}(),W=_?new Uint32Array(F):F;function Q(Oe,be){function Ie(Qn,cn){var Ii,Zt,Zi,xr,Et=Qn.H,Ar=[],co=0;switch(Ar[co++]=65535&(Ii=W[Qn.length]),Ar[co++]=Ii>>16&255,Ar[co++]=Ii>>24,b){case 1===Et:Zt=[0,Et-1,0];break;case 2===Et:Zt=[1,Et-2,0];break;case 3===Et:Zt=[2,Et-3,0];break;case 4===Et:Zt=[3,Et-4,0];break;case 6>=Et:Zt=[4,Et-5,1];break;case 8>=Et:Zt=[5,Et-7,1];break;case 12>=Et:Zt=[6,Et-9,2];break;case 16>=Et:Zt=[7,Et-13,2];break;case 24>=Et:Zt=[8,Et-17,3];break;case 32>=Et:Zt=[9,Et-25,3];break;case 48>=Et:Zt=[10,Et-33,4];break;case 64>=Et:Zt=[11,Et-49,4];break;case 96>=Et:Zt=[12,Et-65,5];break;case 128>=Et:Zt=[13,Et-97,5];break;case 192>=Et:Zt=[14,Et-129,6];break;case 256>=Et:Zt=[15,Et-193,6];break;case 384>=Et:Zt=[16,Et-257,7];break;case 512>=Et:Zt=[17,Et-385,7];break;case 768>=Et:Zt=[18,Et-513,8];break;case 1024>=Et:Zt=[19,Et-769,8];break;case 1536>=Et:Zt=[20,Et-1025,9];break;case 2048>=Et:Zt=[21,Et-1537,9];break;case 3072>=Et:Zt=[22,Et-2049,10];break;case 4096>=Et:Zt=[23,Et-3073,10];break;case 6144>=Et:Zt=[24,Et-4097,11];break;case 8192>=Et:Zt=[25,Et-6145,11];break;case 12288>=Et:Zt=[26,Et-8193,12];break;case 16384>=Et:Zt=[27,Et-12289,12];break;case 24576>=Et:Zt=[28,Et-16385,13];break;case 32768>=Et:Zt=[29,Et-24577,13];break;default:h("invalid distance")}for(Ar[co++]=(Ii=Zt)[0],Ar[co++]=Ii[1],Ar[co++]=Ii[2],Zi=0,xr=Ar.length;Zi<xr;++Zi)zn[_n++]=Ar[Zi];Bn[Ar[0]]++,wr[Ar[3]]++,Vt=Qn.length+cn-1,Yn=null}var Be,xe,Ue,ht,St,Ot,On,Yn,ui,jt={},zn=_?new Uint16Array(2*be.length):[],_n=0,Vt=0,Bn=new(_?Uint32Array:Array)(286),wr=new(_?Uint32Array:Array)(30),Pr=Oe.w;if(!_){for(Ue=0;285>=Ue;)Bn[Ue++]=0;for(Ue=0;29>=Ue;)wr[Ue++]=0}for(Bn[256]=1,Be=0,xe=be.length;Be<xe;++Be){for(Ue=St=0,ht=3;Ue<ht&&Be+Ue!==xe;++Ue)St=St<<8|be[Be+Ue];if(jt[St]===C&&(jt[St]=[]),Ot=jt[St],!(0<Vt--)){for(;0<Ot.length&&32768<Be-Ot[0];)Ot.shift();if(Be+3>=xe){for(Yn&&Ie(Yn,-1),Ue=0,ht=xe-Be;Ue<ht;++Ue)zn[_n++]=ui=be[Be+Ue],++Bn[ui];break}0<Ot.length?(On=$(be,Be,Ot),Yn?Yn.length<On.length?(zn[_n++]=ui=be[Be-1],++Bn[ui],Ie(On,0)):Ie(Yn,-1):On.length<Pr?Yn=On:Ie(On,0)):Yn?Ie(Yn,-1):(zn[_n++]=ui=be[Be],++Bn[ui])}Ot.push(Be)}return zn[_n++]=256,Bn[256]++,Oe.M=Bn,Oe.L=wr,_?zn.subarray(0,_n):zn}function $(Oe,be,Ie){var Be,xe,Ue,ht,St,Ot,On=0,Yn=Oe.length;ht=0,Ot=Ie.length;e:for(;ht<Ot;ht++){if(Be=Ie[Ot-ht-1],Ue=3,3<On){for(St=On;3<St;St--)if(Oe[Be+St-1]!==Oe[be+St-1])continue e;Ue=On}for(;258>Ue&&be+Ue<Yn&&Oe[Be+Ue]===Oe[be+Ue];)++Ue;if(Ue>On&&(xe=Be,On=Ue),258===Ue)break}return new function(ui,jt){this.length=ui,this.H=jt}(On,be-xe)}function oe(Oe,be){var Ie,Be,xe,Ue,ht,St=Oe.length,Ot=new M(572),On=new(_?Uint8Array:Array)(St);if(!_)for(Ue=0;Ue<St;Ue++)On[Ue]=0;for(Ue=0;Ue<St;++Ue)0<Oe[Ue]&&Ot.push(Ue,Oe[Ue]);if(Ie=Array(Ot.length/2),Be=new(_?Uint32Array:Array)(Ot.length/2),1===Ie.length)return On[Ot.pop().index]=1,On;for(Ue=0,ht=Ot.length/2;Ue<ht;++Ue)Ie[Ue]=Ot.pop(),Be[Ue]=Ie[Ue].value;for(xe=function(Yn,ui,jt){function zn(co){var Ua=Zi[co][xr[co]];Ua===ui?(zn(co+1),zn(co+1)):--Ii[Ua],++xr[co]}var _n,Vt,Bn,wr,Pr,Qn=new(_?Uint16Array:Array)(jt),cn=new(_?Uint8Array:Array)(jt),Ii=new(_?Uint8Array:Array)(ui),Zt=Array(jt),Zi=Array(jt),xr=Array(jt),Et=(1<<jt)-ui,Ar=1<<jt-1;for(Qn[jt-1]=ui,Vt=0;Vt<jt;++Vt)Et<Ar?cn[Vt]=0:(cn[Vt]=1,Et-=Ar),Et<<=1,Qn[jt-2-Vt]=(Qn[jt-1-Vt]/2|0)+ui;for(Qn[0]=cn[0],Zt[0]=Array(Qn[0]),Zi[0]=Array(Qn[0]),Vt=1;Vt<jt;++Vt)Qn[Vt]>2*Qn[Vt-1]+cn[Vt]&&(Qn[Vt]=2*Qn[Vt-1]+cn[Vt]),Zt[Vt]=Array(Qn[Vt]),Zi[Vt]=Array(Qn[Vt]);for(_n=0;_n<ui;++_n)Ii[_n]=jt;for(Bn=0;Bn<Qn[jt-1];++Bn)Zt[jt-1][Bn]=Yn[Bn],Zi[jt-1][Bn]=Bn;for(_n=0;_n<jt;++_n)xr[_n]=0;for(1===cn[jt-1]&&(--Ii[0],++xr[jt-1]),Vt=jt-2;0<=Vt;--Vt){for(wr=_n=0,Pr=xr[Vt+1],Bn=0;Bn<Qn[Vt];Bn++)(wr=Zt[Vt+1][Pr]+Zt[Vt+1][Pr+1])>Yn[_n]?(Zt[Vt][Bn]=wr,Zi[Vt][Bn]=ui,Pr+=2):(Zt[Vt][Bn]=Yn[_n],Zi[Vt][Bn]=_n,++_n);xr[Vt]=0,1===cn[Vt]&&zn(Vt)}return Ii}(Be,Be.length,be),Ue=0,ht=Ie.length;Ue<ht;++Ue)On[Ie[Ue].index]=xe[Ue];return On}function J(Oe){var be,Ie,Be,xe,Ue=new(_?Uint16Array:Array)(Oe.length),ht=[],St=[],Ot=0;for(be=0,Ie=Oe.length;be<Ie;be++)ht[Oe[be]]=1+(0|ht[Oe[be]]);for(be=1,Ie=16;be<=Ie;be++)St[be]=Ot,Ot+=0|ht[be],Ot<<=1;for(be=0,Ie=Oe.length;be<Ie;be++)for(Ot=St[Oe[be]],St[Oe[be]]+=1,Be=Ue[be]=0,xe=Oe[be];Be<xe;Be++)Ue[be]=Ue[be]<<1|1&Ot,Ot>>>=1;return Ue}function de(Oe,be){switch(this.l=[],this.m=32768,this.e=this.g=this.c=this.q=0,this.input=_?new Uint8Array(Oe):Oe,this.s=!1,this.n=Te,this.C=!1,!be&&(be={})||(be.index&&(this.c=be.index),be.bufferSize&&(this.m=be.bufferSize),be.bufferType&&(this.n=be.bufferType),be.resize&&(this.C=be.resize)),this.n){case Re:this.b=32768,this.a=new(_?Uint8Array:Array)(32768+this.m+258);break;case Te:this.b=0,this.a=new(_?Uint8Array:Array)(this.m),this.f=this.K,this.t=this.I,this.o=this.J;break;default:h(Error("invalid inflate mode"))}}var Re=0,Te=1,Pe={F:Re,D:Te};de.prototype.p=function(){for(;!this.s;){var Oe=ot(this,3);switch(1&Oe&&(this.s=b),Oe>>>=1){case 0:var be=this.input,Ie=this.c,Be=this.a,xe=this.b,Ue=be.length,ht=C,St=Be.length,Ot=C;switch(this.e=this.g=0,Ie+1>=Ue&&h(Error("invalid uncompressed block header: LEN")),ht=be[Ie++]|be[Ie++]<<8,Ie+1>=Ue&&h(Error("invalid uncompressed block header: NLEN")),ht===~(be[Ie++]|be[Ie++]<<8)&&h(Error("invalid uncompressed block header: length verify")),Ie+ht>be.length&&h(Error("input buffer is broken")),this.n){case Re:for(;xe+ht>Be.length;){if(ht-=Ot=St-xe,_)Be.set(be.subarray(Ie,Ie+Ot),xe),xe+=Ot,Ie+=Ot;else for(;Ot--;)Be[xe++]=be[Ie++];this.b=xe,Be=this.f(),xe=this.b}break;case Te:for(;xe+ht>Be.length;)Be=this.f({v:2});break;default:h(Error("invalid inflate mode"))}if(_)Be.set(be.subarray(Ie,Ie+ht),xe),xe+=ht,Ie+=ht;else for(;ht--;)Be[xe++]=be[Ie++];this.c=Ie,this.b=xe,this.a=Be;break;case 1:this.o(ye,qe);break;case 2:We(this);break;default:h(Error("unknown BTYPE: "+Oe))}}return this.t()};var K,ue,te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],we=_?new Uint16Array(te):te,le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],he=_?new Uint16Array(le):le,ge=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],Ge=_?new Uint8Array(ge):ge,tt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Le=_?new Uint16Array(tt):tt,It=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ze=_?new Uint8Array(It):It,Ve=new(_?Uint8Array:Array)(288);for(K=0,ue=Ve.length;K<ue;++K)Ve[K]=143>=K?8:255>=K?9:279>=K?7:8;var ae,_e,ye=N(Ve),He=new(_?Uint8Array:Array)(30);for(ae=0,_e=He.length;ae<_e;++ae)He[ae]=5;var qe=N(He);function ot(Oe,be){for(var Ie,Be=Oe.g,xe=Oe.e,Ue=Oe.input,ht=Oe.c,St=Ue.length;xe<be;)ht>=St&&h(Error("input buffer is broken")),Be|=Ue[ht++]<<xe,xe+=8;return Ie=Be&(1<<be)-1,Oe.g=Be>>>be,Oe.e=xe-be,Oe.c=ht,Ie}function ke(Oe,be){for(var Ie,Be,xe=Oe.g,Ue=Oe.e,ht=Oe.input,St=Oe.c,Ot=ht.length,On=be[0],Yn=be[1];Ue<Yn&&!(St>=Ot);)xe|=ht[St++]<<Ue,Ue+=8;return Be=(Ie=On[xe&(1<<Yn)-1])>>>16,Oe.g=xe>>Be,Oe.e=Ue-Be,Oe.c=St,65535&Ie}function We(Oe){function be(Yn,ui,jt){var zn,_n,Vt,Bn=this.z;for(Vt=0;Vt<Yn;)switch(zn=ke(this,ui),zn){case 16:for(_n=3+ot(this,2);_n--;)jt[Vt++]=Bn;break;case 17:for(_n=3+ot(this,3);_n--;)jt[Vt++]=0;Bn=0;break;case 18:for(_n=11+ot(this,7);_n--;)jt[Vt++]=0;Bn=0;break;default:Bn=jt[Vt++]=zn}return this.z=Bn,jt}var Ie,Be,xe,Ue,ht=ot(Oe,5)+257,St=ot(Oe,5)+1,Ot=ot(Oe,4)+4,On=new(_?Uint8Array:Array)(we.length);for(Ue=0;Ue<Ot;++Ue)On[we[Ue]]=ot(Oe,3);if(!_)for(Ue=Ot,Ot=On.length;Ue<Ot;++Ue)On[we[Ue]]=0;Ie=N(On),Be=new(_?Uint8Array:Array)(ht),xe=new(_?Uint8Array:Array)(St),Oe.z=0,Oe.o(N(be.call(Oe,ht,Ie,Be)),N(be.call(Oe,St,Ie,xe)))}function Qt(Oe){if("string"==typeof Oe){var be,Ie,Be=Oe.split("");for(be=0,Ie=Be.length;be<Ie;be++)Be[be]=(255&Be[be].charCodeAt(0))>>>0;Oe=Be}for(var xe,Ue=1,ht=0,St=Oe.length,Ot=0;0<St;){St-=xe=1024<St?1024:St;do{ht+=Ue+=Oe[Ot++]}while(--xe);Ue%=65521,ht%=65521}return(ht<<16|Ue)>>>0}function Bt(Oe,be){var Ie,Be;this.input=Oe,this.c=0,!be&&(be={})||(be.index&&(this.c=be.index),be.verify&&(this.N=be.verify)),Ie=Oe[this.c++],Be=Oe[this.c++],(15&Ie)===ln?this.method=ln:h(Error("unsupported compression method")),((Ie<<8)+Be)%31!=0&&h(Error("invalid fcheck flag:"+((Ie<<8)+Be)%31)),32&Be&&h(Error("fdict flag is not supported")),this.B=new de(Oe,{index:this.c,bufferSize:be.bufferSize,bufferType:be.bufferType,resize:be.resize})}de.prototype.o=function(Oe,be){var Ie=this.a,Be=this.b;this.u=Oe;for(var xe,Ue,ht,St,Ot=Ie.length-258;256!==(xe=ke(this,Oe));)if(256>xe)Be>=Ot&&(this.b=Be,Ie=this.f(),Be=this.b),Ie[Be++]=xe;else for(St=he[Ue=xe-257],0<Ge[Ue]&&(St+=ot(this,Ge[Ue])),xe=ke(this,be),ht=Le[xe],0<Ze[xe]&&(ht+=ot(this,Ze[xe])),Be>=Ot&&(this.b=Be,Ie=this.f(),Be=this.b);St--;)Ie[Be]=Ie[Be++-ht];for(;8<=this.e;)this.e-=8,this.c--;this.b=Be},de.prototype.J=function(Oe,be){var Ie=this.a,Be=this.b;this.u=Oe;for(var xe,Ue,ht,St,Ot=Ie.length;256!==(xe=ke(this,Oe));)if(256>xe)Be>=Ot&&(Ot=(Ie=this.f()).length),Ie[Be++]=xe;else for(St=he[Ue=xe-257],0<Ge[Ue]&&(St+=ot(this,Ge[Ue])),xe=ke(this,be),ht=Le[xe],0<Ze[xe]&&(ht+=ot(this,Ze[xe])),Be+St>Ot&&(Ot=(Ie=this.f()).length);St--;)Ie[Be]=Ie[Be++-ht];for(;8<=this.e;)this.e-=8,this.c--;this.b=Be},de.prototype.f=function(){var Oe,be,Ie=new(_?Uint8Array:Array)(this.b-32768),Be=this.b-32768,xe=this.a;if(_)Ie.set(xe.subarray(32768,Ie.length));else for(Oe=0,be=Ie.length;Oe<be;++Oe)Ie[Oe]=xe[Oe+32768];if(this.l.push(Ie),this.q+=Ie.length,_)xe.set(xe.subarray(Be,Be+32768));else for(Oe=0;32768>Oe;++Oe)xe[Oe]=xe[Be+Oe];return this.b=32768,xe},de.prototype.K=function(Oe){var be,Ie,Be,xe=this.input.length/this.c+1|0,ht=this.a;return Oe&&("number"==typeof Oe.v&&(xe=Oe.v),"number"==typeof Oe.G&&(xe+=Oe.G)),Ie=2>xe?(Be=(this.input.length-this.c)/this.u[2]/2*258|0)<ht.length?ht.length+Be:ht.length<<1:ht.length*xe,_?(be=new Uint8Array(Ie)).set(ht):be=ht,this.a=be},de.prototype.t=function(){var Oe,be,Ie,Be,xe,Ue=0,ht=this.a,St=this.l,Ot=new(_?Uint8Array:Array)(this.q+(this.b-32768));if(0===St.length)return _?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);for(be=0,Ie=St.length;be<Ie;++be)for(Be=0,xe=(Oe=St[be]).length;Be<xe;++Be)Ot[Ue++]=Oe[Be];for(be=32768,Ie=this.b;be<Ie;++be)Ot[Ue++]=ht[be];return this.l=[],this.buffer=Ot},de.prototype.I=function(){var Oe,be=this.b;return _?this.C?(Oe=new Uint8Array(be)).set(this.a.subarray(0,be)):Oe=this.a.subarray(0,be):(this.a.length>be&&(this.a.length=be),Oe=this.a),this.buffer=Oe},Bt.prototype.p=function(){var Oe,be=this.input;return Oe=this.B.p(),this.c=this.B.c,this.N&&(be[this.c++]<<24|be[this.c++]<<16|be[this.c++]<<8|be[this.c++])>>>0!==Qt(Oe)&&h(Error("invalid adler-32 checksum")),Oe};var ln=8;function ci(Oe,be){this.input=Oe,this.a=new(_?Uint8Array:Array)(32768),this.h=at.k;var Ie,Be={};for(Ie in!be&&(be={})||"number"!=typeof be.compressionType||(this.h=be.compressionType),be)Be[Ie]=be[Ie];Be.outputBuffer=this.a,this.A=new k(this.input,Be)}var at=L;function bt(Oe,be){var Ie,Be,xe,Ue;if(Object.keys)Ie=Object.keys(be);else for(Be in Ie=[],xe=0,be)Ie[xe++]=Be;for(xe=0,Ue=Ie.length;xe<Ue;++xe)m(Oe+"."+(Be=Ie[xe]),be[Be])}ci.prototype.j=function(){var Oe,be,Ie,Be,xe,Ue,ht,St=0;if(ht=this.a,(Oe=ln)===ln?be=Math.LOG2E*Math.log(32768)-8:h(Error("invalid compression method")),ht[St++]=Ie=be<<4|Oe,Oe===ln)switch(this.h){case at.NONE:xe=0;break;case at.r:xe=1;break;case at.k:xe=2;break;default:h(Error("unsupported compression type"))}else h(Error("invalid compression method"));return ht[St++]=(Be=xe<<6|0)|31-(256*Ie+Be)%31,Ue=Qt(this.input),this.A.b=St,St=(ht=this.A.j()).length,_&&((ht=new Uint8Array(ht.buffer)).length<=St+4&&(this.a=new Uint8Array(ht.length+4),this.a.set(ht),ht=this.a),ht=ht.subarray(0,St+4)),ht[St++]=Ue>>24&255,ht[St++]=Ue>>16&255,ht[St++]=Ue>>8&255,ht[St++]=255&Ue,ht},m("Zlib.Inflate",Bt),m("Zlib.Inflate.prototype.decompress",Bt.prototype.p),bt("Zlib.Inflate.BufferType",{ADAPTIVE:Pe.D,BLOCK:Pe.F}),m("Zlib.Deflate",ci),m("Zlib.Deflate.compress",function(Oe,be){return new ci(Oe,be).j()}),m("Zlib.Deflate.prototype.compress",ci.prototype.j),bt("Zlib.Deflate.CompressionType",{NONE:at.NONE,FIXED:at.r,DYNAMIC:at.k})}).call(this)},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.SocketEngine=w.SocketEvent=void 0;var C,b=function(){function G(z,L){for(var j=0;j<L.length;j++){var F=L[j];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}return function(z,L,j){return L&&G(z.prototype,L),j&&G(z,j),z}}(),m=(C=h(120))&&C.__esModule?C:{default:C},_=h(167),p=h(39),g=h(8),f=h(2),E=h(50),T=h(51),d=h(1);function v(G,z){if(!(G instanceof z))throw new TypeError("Cannot call a class as a function")}var M=Object.freeze({CONNECT:"socketConnect",DISCONNECT:"socketDisconnect",DATA:"socketData",IOERROR:"socketIOError"}),N=function(G){function z(L){v(this,z);var j=function(F,W){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!W||"object"!=typeof W&&"function"!=typeof W?F:W}(this,(z.__proto__||Object.getPrototypeOf(z)).call(this));return j._sfs=L,j._logger=E.Logger.instance,j._isConnected=!1,j._isConnecting=!1,j._socket=null,j._protocolCodec=new k(L),j._disconnectionReason=T.ClientDisconnectionReason.UNKNOWN,Object.seal(j),j}return function(L,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function, not "+typeof j);L.prototype=Object.create(j&&j.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(L,j):L.__proto__=j)}(z,p.EventDispatcher),b(z,[{key:"connect",value:function(L,j,F){this._isConnecting=!0,this._socket=new WebSocket("ws"+(F?"s":"")+"://"+L+":"+j+"/BlueBox/websocket"),this._socket.binaryType="arraybuffer",this._socket._scope=this,this._socket.onopen=this._onSocketConnect,this._socket.onclose=this._onSocketDisconnect,this._socket.onmessage=this._onSocketData,this._socket.onerror=this._onSocketError}},{key:"disconnect",value:function(L){this._disconnectionReason=L,this._socket.close()}},{key:"addController",value:function(L,j){null==this._controllers[L]&&(this._controllers[L]=j)}},{key:"removeController",value:function(L){delete this._controllers[L]}},{key:"send",value:function(L){this._sfs.debug&&this._logger.debug("OUTGOING MESSAGE: "+L.dump());var j=this._protocolCodec.onPacketWrite(L);this._socket.send(j)}},{key:"_onSocketConnect",value:function(){this._scope._sfs.debug&&this._scope._logger.debug("Socket connection established"),this._scope._isConnected=!0,this._scope._isConnecting=!1,this._scope.dispatchEvent(M.CONNECT,{success:!0})}},{key:"_onSocketDisconnect",value:function(){this._scope._isConnected=!1,this._scope.isConnecting?(this._scope._sfs.debug&&this._scope._logger.debug("Can't establish socket connection"),this._scope._isConnecting=!1,this._scope.dispatchEvent(M.CONNECT,{success:!1})):(this._scope._sfs.debug&&this._scope._logger.debug("Socket disconnection occurred"),this._scope.dispatchEvent(M.DISCONNECT,{reason:this._scope._disconnectionReason}),this._scope._disconnectionReason=T.ClientDisconnectionReason.UNKNOWN)}},{key:"_onSocketData",value:function(L){var j=this._scope._protocolCodec.onPacketRead(L.data);this._scope._sfs.debug&&this._scope._logger.debug("INCOMING MESSAGE: "+j.dump()),this._scope.dispatchEvent(M.DATA,j)}},{key:"_onSocketError",value:function(L){this._scope.dispatchEvent(M.IOERROR,L.data)}},{key:"isConnected",get:function(){return this._isConnected}},{key:"isConnecting",get:function(){return this._isConnecting}},{key:"maxMessageSize",get:function(){return this._protocolCodec.maxMessageSize},set:function(L){this._protocolCodec.maxMessageSize=L}},{key:"compressionThreshold",get:function(){return this._protocolCodec.compressionThreshold},set:function(L){this._protocolCodec.compressionThreshold=L}}]),z}(),k=function(){function G(z){v(this,G),this.CONTROLLER_ID="c",this.ACTION_ID="a",this.PARAM_ID="p",this._maxMessageSize=1e4,this._compressionThreshold=1024,this._sfs=z,this._logger=E.Logger.instance,Object.seal(this)}return b(G,[{key:"onPacketRead",value:function(z){if(0!==z.byteLength){var L=new m.default(z,0,m.default.BIG_ENDIAN),j=L.readUint8(),F=(32&j)>0,W=(8&j)>0?L.readUint32():L.readUint16(),Q=L.readUint8Array(W);F&&(Q=this.decompress(Q)),this._sfs.debug&&this._logger.debug(z.byteLength>1024?"DATA READ - Binary size > 1024; dump omitted":"DATA READ - "+T.DumpFormatter.hexDump(Q));var $=g.SFSObject.newFromBinaryData(Q);return new f.Message($.get(this.ACTION_ID),$.get(this.CONTROLLER_ID),$.get(this.PARAM_ID))}this._logger.error("Unexpected empty packet data: no readable bytes available!")}},{key:"onPacketWrite",value:function(z){var L=new g.SFSObject;L.put(this.CONTROLLER_ID,z.targetController,g.SFSDataType.BYTE),L.put(this.ACTION_ID,z.id,g.SFSDataType.SHORT),L.put(this.PARAM_ID,z.content,g.SFSDataType.SFS_OBJECT);var j=L.toBinary(),F=j.byteLength,W=new m.default(new ArrayBuffer(0),0,m.default.BIG_ENDIAN),Q=128;F>this.compressionThreshold&&(Q+=32,F=(j=this.compress(j)).byteLength);var $=F>65335;$&&(Q+=8),W.writeUint8(Q),$?W.writeUint32(F):W.writeUint16(F),W.writeUint8Array(j);var oe=new Uint8Array(W.buffer);if(oe.byteLength>this.maxMessageSize)throw new d.SFSError("Message size is too big: "+oe.byteLength+"; the server limit is: "+this.maxMessageSize);return this._sfs.debug&&this._logger.debug("DATA WRITTEN - "+T.DumpFormatter.hexDump(oe)),oe}},{key:"decompress",value:function(z){return new _.Zlib.Inflate(z).decompress()}},{key:"compress",value:function(z){return new _.Zlib.Deflate(z).compress()}},{key:"maxMessageSize",get:function(){return this._maxMessageSize},set:function(z){this._maxMessageSize=z}},{key:"compressionThreshold",get:function(){return this._compressionThreshold},set:function(z){this._compressionThreshold=z}}]),G}();w.SocketEvent=M,w.SocketEngine=N},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.ExtensionController=void 0;var C=function(){function _(p,g){for(var f=0;f<g.length;f++){var E=g[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,g,f){return g&&_(p.prototype,g),f&&_(p,f),p}}(),b=h(39),S=h(97),m=function(){function _(p){(function(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")})(this,_),this._sfs=p,this._logger=p.logger,this._id=1,Object.freeze(this)}return C(_,[{key:"handleMessage",value:function(p,g){this._sfs.debug&&this._logger.info("Handling Extension response");var f={};f.cmd=p.get(S.ExtensionRequest.KEY_CMD),f.params=p.get(S.ExtensionRequest.KEY_PARAMS);var E=p.get(S.ExtensionRequest.KEY_ROOM);null!=E&&(f.room=this._sfs.roomManager.getRoomById(E)),this._sfs.dispatchEvent(b.SFSEvent.EXTENSION_RESPONSE,f)}},{key:"id",get:function(){return this._id}}]),_}();w.ExtensionController=m},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0});var C=function(){function S(m,_){for(var p=0;p<_.length;p++){var g=_[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,_,p){return _&&S(m.prototype,_),p&&S(m,p),m}}(),b=function(){function S(){!function(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}(this,S)}return C(S,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_ITEM_ID",get:function(){return"i"}},{key:"KEY_VAR_LIST",get:function(){return"v"}}]),S}();w.SetMMOItemVariables=b},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.MMOItem=void 0;var C=function(){function m(_,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(_,f.key,f)}}return function(_,p,g){return p&&m(_.prototype,p),g&&m(_,g),_}}(),b=h(73),S=function(){function m(_){(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,m),this._id=_,this._aoiEntryPoint=null,this._variables=new Map,Object.seal(this)}return C(m,[{key:"toString",value:function(){return"[Item: "+this.id+"]"}},{key:"getVariable",value:function(_){return this._variables.get(_)}},{key:"containsVariable",value:function(_){return this._variables.has(_)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"_setVariables",value:function(_){var p=!0,g=!1,f=void 0;try{for(var E,T=_[Symbol.iterator]();!(p=(E=T.next()).done);p=!0)this._setVariable(E.value)}catch(v){g=!0,f=v}finally{try{!p&&T.return&&T.return()}finally{if(g)throw f}}}},{key:"_setVariable",value:function(_){_.isNull?this._variables.delete(_.name):this._variables.set(_.name,_)}},{key:"id",get:function(){return this._id}},{key:"aoiEntryPoint",get:function(){return this._aoiEntryPoint}}],[{key:"fromSFSArray",value:function(_){var p=new m(_.get(0)),g=_.get(1);if(null!=g)for(var f=0;f<g.size();f++)p._setVariable(b.MMOItemVariable.fromSFSArray(g.get(f)));return p}}]),m}();w.MMOItem=S},function(U,w){!function(h){"use strict";function C(F,W,Q){return W<=F&&F<=Q}function b(F,W){return Math.floor(F/W)}var S=-1,m=-1;function _(F,W){if(F)throw new Error("EncodingError");return W||65533}function p(F){throw new Error("EncodingError")}function g(F){if(F=String(F).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(E,F))return E[F];throw new Error("EncodingError: Unknown encoding: "+F)}var f={},E={};function T(F,W){return(W||[])[F]||null}function d(F,W){var Q=W.indexOf(F);return-1===Q?null:Q}[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"utf-8"}],heading:"The Encoding"},{encodings:[{labels:["cp864","ibm864"],name:"ibm864"},{labels:["cp866","ibm866"],name:"ibm866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso_8859-2","l2","latin2"],name:"iso-8859-2"},{labels:["csisolatin3","iso-8859-3","iso_8859-3","iso-ir-109","l3","latin3"],name:"iso-8859-3"},{labels:["csisolatin4","iso-8859-4","iso_8859-4","iso-ir-110","l4","latin4"],name:"iso-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso_8859-5","iso-ir-144"],name:"iso-8859-5"},{labels:["arabic","csisolatinarabic","ecma-114","iso-8859-6","iso_8859-6","iso-ir-127"],name:"iso-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso_8859-7","iso-ir-126"],name:"iso-8859-7"},{labels:["csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-i","iso-ir-138","iso_8859-8","visual"],name:"iso-8859-8"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","l6","latin6"],name:"iso-8859-10"},{labels:["iso-8859-13"],name:"iso-8859-13"},{labels:["iso-8859-14","iso8859-14"],name:"iso-8859-14"},{labels:["iso-8859-15","iso_8859-15"],name:"iso-8859-15"},{labels:["iso-8859-16"],name:"iso-8859-16"},{labels:["koi8-r","koi8_r"],name:"koi8-r"},{labels:["koi8-u"],name:"koi8-u"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["iso-8859-11","tis-620","windows-874"],name:"windows-874"},{labels:["windows-1250","x-cp1250"],name:"windows-1250"},{labels:["windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ascii","ansi_x3.4-1968","csisolatin1","iso-8859-1","iso8859-1","iso_8859-1","l1","latin1","us-ascii","windows-1252"],name:"windows-1252"},{labels:["cp1253","windows-1253"],name:"windows-1253"},{labels:["csisolatin5","iso-8859-9","iso-ir-148","l5","latin5","windows-1254"],name:"windows-1254"},{labels:["cp1255","windows-1255"],name:"windows-1255"},{labels:["cp1256","windows-1256"],name:"windows-1256"},{labels:["windows-1257"],name:"windows-1257"},{labels:["cp1258","windows-1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gbk","gb_2312","gb_2312-80","iso-ir-58","x-gbk"],name:"gbk"},{labels:["gb18030"],name:"gb18030"},{labels:["hz-gb-2312"],name:"hz-gb-2312"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"euc-jp"},{labels:["csiso2022jp","iso-2022-jp"],name:"iso-2022-jp"},{labels:["csshiftjis","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"shift_jis"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"euc-kr"},{labels:["csiso2022kr","iso-2022-kr"],name:"iso-2022-kr"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["utf-16","utf-16le"],name:"utf-16"},{labels:["utf-16be"],name:"utf-16be"}],heading:"Legacy utf-16 encodings"}].forEach(function(F){F.encodings.forEach(function(W){f[W.name]=W,W.labels.forEach(function(Q){E[Q]=W})})});var v=h["encoding-indexes"]||{};function M(F,W){var Q=W.fatal,$=0,oe=0,J=0;this.decode=function(de){var Re,Te=de.get();if(Te===S&&0===$&&0===oe&&0===J)return m;if(Te!==S||0===$&&0===oe&&0===J||($=0,oe=0,J=0,_(Q)),de.offset(1),0!==J)return Re=null,C(Te,48,57)&&(Re=function(te){if(te>39419&&te<189e3||te>1237575)return null;var we,le=0,he=0,ge=v.gb18030;for(we=0;we<ge.length;++we){var Ge=ge[we];if(!(Ge[0]<=te))break;le=Ge[0],he=Ge[1]}return he+te-le}(10*(126*(10*($-129)+(oe-48))+(J-129))+Te-48)),$=0,oe=0,J=0,null===Re?(de.offset(-3),_(Q)):Re;if(0!==oe)return C(Te,129,254)?(J=Te,null):(de.offset(-2),$=0,oe=0,_(Q));if(0!==$){if(C(Te,48,57)&&F)return oe=Te,null;var Pe=$,K=null;$=0;var ue=Te<127?64:65;return(C(Te,64,126)||C(Te,128,254))&&(K=190*(Pe-129)+(Te-ue)),Re=null===K?null:T(K,v.gbk),null===K&&de.offset(-1),null===Re?_(Q):Re}return C(Te,0,127)?Te:128===Te?8364:C(Te,129,254)?($=Te,null):_(Q)}}function N(F,W){this.encode=function(Q,$){var oe=$.get();if(oe===m)return S;if($.offset(1),C(oe,0,127))return Q.emit(oe);var J=d(oe,v.gbk);if(null!==J){var de=b(J,190)+129,Re=J%190;return Q.emit(de,Re+(Re<63?64:65))}if(null===J&&!F)return p();var Pe=b(b(b(J=function(we){var le,he=0,ge=0,Ge=v.gb18030;for(le=0;le<Ge.length;++le){var tt=Ge[le];if(!(tt[1]<=we))break;he=tt[1],ge=tt[0]}return ge+we-he}(oe),10),126),10),K=b(b(J-=10*Pe*126*10,10),126),ue=b(J-=10*K*126,10);return Q.emit(Pe+129,K+48,ue+129,J-10*ue+48)}}function k(F,W){var Q=W.fatal,$=null,oe=null;this.decode=function(J){var de,Re=J.get();if(Re===S&&null===$&&null===oe)return m;if(Re===S&&(null!==$||null!==oe))return _(Q);if(J.offset(1),null===$)return $=Re,null;if(de=F?($<<8)+Re:(Re<<8)+$,$=null,null!==oe){var Te=oe;return oe=null,C(de,56320,57343)?65536+1024*(Te-55296)+(de-56320):(J.offset(-2),_(Q))}return C(de,55296,56319)?(oe=de,null):C(de,56320,57343)?_(Q):de}}function G(F,W){this.encode=function(Q,$){function oe(Re){var Te=Re>>8,Pe=255&Re;return F?Q.emit(Te,Pe):Q.emit(Pe,Te)}var J=$.get();if(J===m)return S;if($.offset(1),C(J,55296,57343)&&p(),J<=65535)return oe(J);var de=(J-65536)%1024+56320;return oe(b(J-65536,1024)+55296),oe(de)}}f["utf-8"].getEncoder=function(F){return new function(W){this.encode=function(Q,$){var oe,J,de=$.get();if(de===m)return S;if($.offset(1),C(de,55296,57343))return p();if(C(de,0,127))return Q.emit(de);C(de,128,2047)?(oe=1,J=192):C(de,2048,65535)?(oe=2,J=224):C(de,65536,1114111)&&(oe=3,J=240);for(var Re=Q.emit(b(de,Math.pow(64,oe))+J);oe>0;){var Te=b(de,Math.pow(64,oe-1));Re=Q.emit(128+Te%64),oe-=1}return Re}}(F)},f["utf-8"].getDecoder=function(F){return new function(W){var Q=W.fatal,$=0,oe=0,J=0,de=0;this.decode=function(Re){var Te=Re.get();if(Te===S)return 0!==oe?_(Q):m;if(Re.offset(1),0===oe){if(C(Te,0,127))return Te;if(C(Te,194,223))oe=1,de=128,$=Te-192;else if(C(Te,224,239))oe=2,de=2048,$=Te-224;else{if(!C(Te,240,244))return _(Q);oe=3,de=65536,$=Te-240}return $*=Math.pow(64,oe),null}if(!C(Te,128,191))return $=0,oe=0,J=0,de=0,Re.offset(-1),_(Q);if(J+=1,$+=(Te-128)*Math.pow(64,oe-J),J!==oe)return null;var Pe=$,K=de;return $=0,oe=0,J=0,de=0,C(Pe,K,1114111)&&!C(Pe,55296,57343)?Pe:_(Q)}}(F)},["ibm864","ibm866","iso-8859-2","iso-8859-3","iso-8859-4","iso-8859-5","iso-8859-6","iso-8859-7","iso-8859-8","iso-8859-10","iso-8859-13","iso-8859-14","iso-8859-15","iso-8859-16","koi8-r","koi8-u","macintosh","windows-874","windows-1250","windows-1251","windows-1252","windows-1253","windows-1254","windows-1255","windows-1256","windows-1257","windows-1258","x-mac-cyrillic"].forEach(function(F){var W=f[F],Q=v[F];W.getDecoder=function($){return new function(oe,J){var de=J.fatal;this.decode=function(Re){var Te=Re.get();if(Te===S)return m;if(Re.offset(1),C(Te,0,127))return Te;var Pe=oe[Te-128];return null===Pe?_(de):Pe}}(Q,$)},W.getEncoder=function($){return new function(oe,J){this.encode=function(de,Re){var Te=Re.get();if(Te===m)return S;if(Re.offset(1),C(Te,0,127))return de.emit(Te);var Pe=d(Te,oe);return null===Pe&&p(),de.emit(Pe+128)}}(Q,$)}}),f.gbk.getEncoder=function(F){return new N(!1,F)},f.gbk.getDecoder=function(F){return new M(!1,F)},f.gb18030.getEncoder=function(F){return new N(!0,F)},f.gb18030.getDecoder=function(F){return new M(!0,F)},f["hz-gb-2312"].getEncoder=function(F){return new function(W){var Q=!1;this.encode=function($,oe){var J=oe.get();if(J===m)return S;if(oe.offset(1),C(J,0,127)&&Q)return oe.offset(-1),Q=!1,$.emit(126,125);if(126===J)return $.emit(126,126);if(C(J,0,127))return $.emit(J);if(!Q)return oe.offset(-1),Q=!0,$.emit(126,123);var de=d(J,v.gbk);if(null===de)return p();var Re=b(de,190)+1,Te=de%190-63;return C(Re,33,126)&&C(Te,33,126)?$.emit(Re,Te):p()}}(F)},f["hz-gb-2312"].getDecoder=function(F){return new function(W){var Q=W.fatal,$=!1,oe=0;this.decode=function(J){var de=J.get();if(de===S&&0===oe)return m;if(de===S&&0!==oe)return oe=0,_(Q);if(J.offset(1),126===oe)return oe=0,123===de?($=!0,null):125===de?($=!1,null):126===de?126:10===de?null:(J.offset(-1),_(Q));if(0!==oe){var Re=oe;oe=0;var Te=null;return C(de,33,126)&&(Te=T(190*(Re-1)+(de+63),v.gbk)),10===de&&($=!1),null===Te?_(Q):Te}return 126===de?(oe=126,null):$?C(de,32,127)?(oe=de,null):(10===de&&($=!1),_(Q)):C(de,0,127)?de:_(Q)}}(F)},f.big5.getEncoder=function(F){return new function(W){this.encode=function(Q,$){var oe=$.get();if(oe===m)return S;if($.offset(1),C(oe,0,127))return Q.emit(oe);var J=d(oe,v.big5);if(null===J)return p();var de=b(J,157)+129,Re=J%157;return Q.emit(de,Re+(Re<63?64:98))}}(F)},f.big5.getDecoder=function(F){return new function(W){var Q=W.fatal,$=0,oe=null;this.decode=function(J){if(null!==oe){var de=oe;return oe=null,de}var Re=J.get();if(Re===S&&0===$)return m;if(Re===S&&0!==$)return $=0,_(Q);if(J.offset(1),0!==$){var Te=$,Pe=null;$=0;var K=Re<127?64:98;if((C(Re,64,126)||C(Re,161,254))&&(Pe=157*(Te-129)+(Re-K)),1133===Pe)return oe=772,202;if(1135===Pe)return oe=780,202;if(1164===Pe)return oe=772,234;if(1166===Pe)return oe=780,234;var ue=null===Pe?null:T(Pe,v.big5);return null===Pe&&J.offset(-1),null===ue?_(Q):ue}return C(Re,0,127)?Re:C(Re,129,254)?($=Re,null):_(Q)}}(F)},f["euc-jp"].getEncoder=function(F){return new function(W){this.encode=function(Q,$){var oe=$.get();if(oe===m)return S;if($.offset(1),C(oe,0,127))return Q.emit(oe);if(165===oe)return Q.emit(92);if(8254===oe)return Q.emit(126);if(C(oe,65377,65439))return Q.emit(142,oe-65377+161);var J=d(oe,v.jis0208);if(null===J)return p();var de=b(J,94)+161;return Q.emit(de,J%94+161)}}(F)},f["euc-jp"].getDecoder=function(F){return new function(W){var Q=W.fatal,$=0,oe=0;this.decode=function(J){var de,Re,Te=J.get();return Te===S?0===$&&0===oe?m:($=0,oe=0,_(Q)):(J.offset(1),0!==oe?(de=oe,oe=0,Re=null,C(de,161,254)&&C(Te,161,254)&&(Re=T(94*(de-161)+Te-161,v.jis0212)),C(Te,161,254)||J.offset(-1),null===Re?_(Q):Re):142===$&&C(Te,161,223)?($=0,65377+Te-161):143===$&&C(Te,161,254)?($=0,oe=Te,null):0!==$?(de=$,$=0,Re=null,C(de,161,254)&&C(Te,161,254)&&(Re=T(94*(de-161)+Te-161,v.jis0208)),C(Te,161,254)||J.offset(-1),null===Re?_(Q):Re):C(Te,0,127)?Te:142===Te||143===Te||C(Te,161,254)?($=Te,null):_(Q))}}(F)},f["iso-2022-jp"].getEncoder=function(F){return new function(W){var J=0;this.encode=function(de,Re){var Te=Re.get();if(Te===m)return S;if(Re.offset(1),(C(Te,0,127)||165===Te||8254===Te)&&0!==J)return Re.offset(-1),J=0,de.emit(27,40,66);if(C(Te,0,127))return de.emit(Te);if(165===Te)return de.emit(92);if(8254===Te)return de.emit(126);if(C(Te,65377,65439)&&2!==J)return Re.offset(-1),J=2,de.emit(27,40,73);if(C(Te,65377,65439))return de.emit(Te-65377-33);if(1!==J)return Re.offset(-1),J=1,de.emit(27,36,66);var Pe=d(Te,v.jis0208);if(null===Pe)return p();var K=b(Pe,94)+33;return de.emit(K,Pe%94+33)}}(F)},f["iso-2022-jp"].getDecoder=function(F){return new function(W){var Q=W.fatal,K=0,ue=!1,te=0;this.decode=function(we){var le=we.get();switch(le!==S&&we.offset(1),K){default:case 0:return 27===le?(K=1,null):C(le,0,127)?le:le===S?m:_(Q);case 1:return 36===le||40===le?(te=le,K=2,null):(le!==S&&we.offset(-1),K=0,_(Q));case 2:var he=te;return te=0,36!==he||64!==le&&66!==le?36===he&&40===le?(K=3,null):40!==he||66!==le&&74!==le?40===he&&73===le?(K=6,null):(we.offset(le===S?-1:-2),K=0,_(Q)):(K=0,null):(ue=!1,K=4,null);case 3:return 68===le?(ue=!0,K=4,null):(we.offset(le===S?-2:-3),K=0,_(Q));case 4:return 10===le?(K=0,_(Q,10)):27===le?(K=1,null):le===S?m:(te=le,K=5,null);case 5:if(K=4,le===S)return _(Q);var ge=null,Ge=94*(te-33)+le-33;return C(te,33,126)&&C(le,33,126)&&(ge=T(Ge,!1===ue?v.jis0208:v.jis0212)),null===ge?_(Q):ge;case 6:return 27===le?(K=1,null):C(le,33,95)?65377+le-33:le===S?m:_(Q)}}}(F)},f.shift_jis.getEncoder=function(F){return new function(W){this.encode=function(Q,$){var oe=$.get();if(oe===m)return S;if($.offset(1),C(oe,0,128))return Q.emit(oe);if(165===oe)return Q.emit(92);if(8254===oe)return Q.emit(126);if(C(oe,65377,65439))return Q.emit(oe-65377+161);var J=d(oe,v.jis0208);if(null===J)return p();var de=b(J,188),Te=J%188;return Q.emit(de+(de<31?129:193),Te+(Te<63?64:65))}}(F)},f.shift_jis.getDecoder=function(F){return new function(W){var Q=W.fatal,$=0;this.decode=function(oe){var J=oe.get();if(J===S&&0===$)return m;if(J===S&&0!==$)return $=0,_(Q);if(oe.offset(1),0!==$){var de=$;if($=0,C(J,64,126)||C(J,128,252)){var Re=T(188*(de-(de<160?129:193))+J-(J<127?64:65),v.jis0208);return null===Re?_(Q):Re}return oe.offset(-1),_(Q)}return C(J,0,128)?J:C(J,161,223)?65377+J-161:C(J,129,159)||C(J,224,252)?($=J,null):_(Q)}}(F)},f["euc-kr"].getEncoder=function(F){return new function(W){this.encode=function(Q,$){var oe=$.get();if(oe===m)return S;if($.offset(1),C(oe,0,127))return Q.emit(oe);var J,de,Re=d(oe,v["euc-kr"]);if(null===Re)return p();if(Re<12460){J=b(Re,178)+129;var Te=(de=Re%178)<26?65:de<52?71:77;return Q.emit(J,de+Te)}return J=b(Re-=12460,94)+199,Q.emit(J,de=Re%94+161)}}(F)},f["euc-kr"].getDecoder=function(F){return new function(W){var Q=W.fatal,$=0;this.decode=function(oe){var J=oe.get();if(J===S&&0===$)return m;if(J===S&&0!==$)return $=0,_(Q);if(oe.offset(1),0!==$){var de=$,Re=null;if($=0,C(de,129,198)){var Te=178*(de-129);C(J,65,90)?Re=Te+J-65:C(J,97,122)?Re=Te+26+J-97:C(J,129,254)&&(Re=Te+26+26+J-129)}C(de,199,253)&&C(J,161,254)&&(Re=12460+94*(de-199)+(J-161));var Pe=null===Re?null:T(Re,v["euc-kr"]);return null===Re&&oe.offset(-1),null===Pe?_(Q):Pe}return C(J,0,127)?J:C(J,129,253)?($=J,null):_(Q)}}(F)},f["iso-2022-kr"].getEncoder=function(F){return new function(W){var oe=!1,J=0;this.encode=function(de,Re){var Te=Re.get();if(Te===m)return S;if(oe||(oe=!0,de.emit(27,36,41,67)),Re.offset(1),C(Te,0,127)&&0!==J)return Re.offset(-1),J=0,de.emit(15);if(C(Te,0,127))return de.emit(Te);if(1!==J)return Re.offset(-1),J=1,de.emit(14);var Pe,K,ue=d(Te,v["euc-kr"]);return null===ue?p():ue<12460?(K=ue%178-26-26+1,C(Pe=b(ue,178)+1,33,70)&&C(K,33,126)?de.emit(Pe,K):p()):(K=(ue-=12460)%94+33,C(Pe=b(ue,94)+71,71,126)&&C(K,33,126)?de.emit(Pe,K):p())}}(F)},f["iso-2022-kr"].getDecoder=function(F){return new function(W){var Q=W.fatal,Pe=0,K=0;this.decode=function(ue){var te=ue.get();switch(te!==S&&ue.offset(1),Pe){default:case 0:return 14===te?(Pe=4,null):15===te?null:27===te?(Pe=1,null):C(te,0,127)?te:te===S?m:_(Q);case 1:return 36===te?(Pe=2,null):(te!==S&&ue.offset(-1),Pe=0,_(Q));case 2:return 41===te?(Pe=3,null):(ue.offset(te===S?-1:-2),Pe=0,_(Q));case 3:return 67===te?(Pe=0,null):(ue.offset(te===S?-2:-3),Pe=0,_(Q));case 4:return 10===te?(Pe=0,_(Q,10)):14===te?null:15===te?(Pe=0,null):te===S?m:(K=te,Pe=5,null);case 5:if(Pe=4,te===S)return _(Q);var we=null;return C(K,33,70)&&C(te,33,126)?we=T(178*(K-1)+26+26+te-1,v["euc-kr"]):C(K,71,126)&&C(te,33,126)&&(we=T(12460+94*(K-71)+(te-33),v["euc-kr"])),null!==we?we:_(Q)}}}(F)},f["utf-16"].getEncoder=function(F){return new G(!1,F)},f["utf-16"].getDecoder=function(F){return new k(!1,F)},f["utf-16be"].getEncoder=function(F){return new G(!0,F)},f["utf-16be"].getDecoder=function(F){return new k(!0,F)};var z="utf-8";function L(F,W){return this&&this!==h?(F=F?String(F):z,W=Object(W),this._encoding=g(F),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(W.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this):new L(F,W)}function j(F,W){return this&&this!==h?(F=F?String(F):z,W=Object(W),this._encoding=g(F),this._streaming=!1,this._decoder=null,this._options={fatal:Boolean(W.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this):new j(F,W)}L.prototype={encode:function(F,W){F=F?String(F):"",W=Object(W),this._streaming||(this._encoder=this._encoding.getEncoder(this._options)),this._streaming=Boolean(W.stream);for(var Q=[],$=new function(de){var Re=0;this.emit=function(Te){var Pe,K=S;for(Pe=0;Pe<arguments.length;++Pe)K=Number(arguments[Pe]),de[Re++]=K;return K}}(Q),oe=new function(de){var Re=0,Te=function(){for(var Pe=[],K=0,ue=de.length;K<de.length;){var te=de.charCodeAt(K);if(C(te,55296,57343))if(C(te,56320,57343))Pe.push(65533);else if(K===ue-1)Pe.push(65533);else{var we=de.charCodeAt(K+1);C(we,56320,57343)?(K+=1,Pe.push(65536+((1023&te)<<10)+(1023&we))):Pe.push(65533)}else Pe.push(te);K+=1}return Pe}();this.offset=function(Pe){if((Re+=Pe)<0)throw new Error("Seeking past start of the buffer");if(Re>Te.length)throw new Error("Seeking past EOF")},this.get=function(){return Re>=Te.length?m:Te[Re]}}(F);oe.get()!==m;)this._encoder.encode($,oe);if(!this._streaming){var J;do{J=this._encoder.encode($,oe)}while(J!==S);this._encoder=null}return new Uint8Array(Q)}},j.prototype={decode:function(F,W){if(F&&!("buffer"in F&&"byteOffset"in F&&"byteLength"in F))throw new TypeError("Expected ArrayBufferView");F||(F=new Uint8Array(0)),W=Object(W),this._streaming||(this._decoder=this._encoding.getDecoder(this._options)),this._streaming=Boolean(W.stream);var J,de,Q=new function(J){var de=0;this.get=function(){return de>=J.length?S:Number(J[de])},this.offset=function(Re){if((de+=Re)<0)throw new Error("Seeking past start of the buffer");if(de>J.length)throw new Error("Seeking past EOF")},this.match=function(Re){if(Re.length>de+J.length)return!1;var Te;for(Te=0;Te<Re.length;Te+=1)if(Number(J[de+Te])!==Re[Te])return!1;return!0}}(new Uint8Array(F.buffer,F.byteOffset,F.byteLength));if(g((J=this._encoding.name,(de=Q).match([255,254])?(de.offset(2),"utf-16"):de.match([254,255])?(de.offset(2),"utf-16be"):de.match([239,187,191])?(de.offset(3),"utf-8"):J))!==this._encoding)throw new Error("BOM mismatch");for(var $,oe=new function(){var J="";this.string=function(){return J},this.emit=function(de){de<=65535?J+=String.fromCharCode(de):(de-=65536,J+=String.fromCharCode(55296+(de>>10&1023)),J+=String.fromCharCode(56320+(1023&de)))}};Q.get()!==S;)null!==($=this._decoder.decode(Q))&&$!==m&&oe.emit($);if(!this._streaming){do{null!==($=this._decoder.decode(Q))&&$!==m&&oe.emit($)}while($!==m);this._decoder=null}return oe.string()}},h.TextEncoder=h.TextEncoder||L,h.TextDecoder=h.TextDecoder||j}(this)},function(U,w){U.exports=function(h){return h.webpackPolyfill||(h.deprecate=function(){},h.paths=[],h.children||(h.children=[]),Object.defineProperty(h,"loaded",{enumerable:!0,get:function(){return h.l}}),Object.defineProperty(h,"id",{enumerable:!0,get:function(){return h.i}}),h.webpackPolyfill=1),h}},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.SFSDataSerializer=void 0;var C,b=function(){function T(d,v){for(var M=0;M<v.length;M++){var N=v[M];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(d,N.key,N)}}return function(d,v,M){return v&&T(d.prototype,v),M&&T(d,M),d}}(),m=(C=h(120))&&C.__esModule?C:{default:C},_=h(172),p=h(8),g=Symbol(),f=Symbol(),E=function(){function T(d){if(function(v,M){if(!(v instanceof M))throw new TypeError("Cannot call a class as a function")}(this,T),d!==f)throw"SFSDataSerializer is a singleton class; you can't instantiate it"}return b(T,[{key:"object2binary",value:function(d){var v=new m.default(new ArrayBuffer(0),0,m.default.BIG_ENDIAN);return v.writeInt8(p.SFSDataType.SFS_OBJECT),v.writeInt16(d.size()),this.obj2bin(d,v),new Uint8Array(v.buffer)}},{key:"obj2bin",value:function(d,v){var M=!0,N=!1,k=void 0;try{for(var G,z=d.keys()[Symbol.iterator]();!(M=(G=z.next()).done);M=!0){var L=G.value,j=d.getWrappedItem(L);this.encodeSFSObjectKey(v,L),this.encodeObject(v,j)}}catch(F){N=!0,k=F}finally{try{!M&&z.return&&z.return()}finally{if(N)throw k}}}},{key:"array2binary",value:function(d){var v=new m.default(new ArrayBuffer(0),0,m.default.BIG_ENDIAN);return v.writeInt8(p.SFSDataType.SFS_ARRAY),v.writeInt16(d.size()),this.arr2bin(d,v),new Uint8Array(v.buffer)}},{key:"arr2bin",value:function(d,v){for(var M=0;M<d.size();M++){var N=d.getWrappedItem(M);this.encodeObject(v,N)}}},{key:"encodeSFSObjectKey",value:function(d,v){d.writeInt16(v.length),d.writeUint8Array(new _.TextEncoder("utf-8").encode(v))}},{key:"encodeObject",value:function(d,v){var M=v.type;if(M===p.SFSDataType.NULL)this.binEncode_NULL(d,v);else if(M===p.SFSDataType.BOOL)this.binEncode_BOOL(d,v);else if(M===p.SFSDataType.BOOL_ARRAY)this.binEncode_BOOL_ARRAY(d,v);else if(M===p.SFSDataType.BYTE)this.binEncode_BYTE(d,v);else if(M===p.SFSDataType.BYTE_ARRAY)this.binEncode_BYTE_ARRAY(d,v);else if(M===p.SFSDataType.SHORT)this.binEncode_SHORT(d,v);else if(M===p.SFSDataType.SHORT_ARRAY)this.binEncode_SHORT_ARRAY(d,v);else if(M===p.SFSDataType.INT)this.binEncode_INT(d,v);else if(M===p.SFSDataType.INT_ARRAY)this.binEncode_INT_ARRAY(d,v);else if(M===p.SFSDataType.LONG)this.binEncode_LONG(d,v);else if(M===p.SFSDataType.LONG_ARRAY)this.binEncode_LONG_ARRAY(d,v);else if(M===p.SFSDataType.FLOAT)this.binEncode_FLOAT(d,v);else if(M===p.SFSDataType.FLOAT_ARRAY)this.binEncode_FLOAT_ARRAY(d,v);else if(M===p.SFSDataType.DOUBLE)this.binEncode_DOUBLE(d,v);else if(M===p.SFSDataType.DOUBLE_ARRAY)this.binEncode_DOUBLE_ARRAY(d,v);else if(M===p.SFSDataType.UTF_STRING)this.binEncode_UTF_STRING(d,v);else if(M===p.SFSDataType.TEXT)this.binEncode_TEXT(d,v);else if(M===p.SFSDataType.UTF_STRING_ARRAY)this.binEncode_UTF_STRING_ARRAY(d,v);else if(M===p.SFSDataType.SFS_ARRAY)d.writeUint8Array(this.array2binary(v.value));else{if(M!==p.SFSDataType.SFS_OBJECT)throw"Unknow SFSDataType ID: "+M;d.writeUint8Array(this.object2binary(v.value))}return d}},{key:"binEncode_NULL",value:function(d,v){d.writeUint8(v.type)}},{key:"binEncode_BOOL",value:function(d,v){d.writeUint8(v.type),d.writeUint8(v.value?1:0)}},{key:"binEncode_BOOL_ARRAY",value:function(d,v){var M=v.value;d.writeUint8(v.type),d.writeUint16(M.length);for(var N=0;N<M.length;N++)d.writeUint8(M[N]?1:0)}},{key:"binEncode_BYTE",value:function(d,v){d.writeUint8(v.type),d.writeUint8(v.value)}},{key:"binEncode_BYTE_ARRAY",value:function(d,v){var M=v.value;d.writeUint8(v.type),d.writeUint32(M.length),d.writeUint8Array(M)}},{key:"binEncode_SHORT",value:function(d,v){d.writeUint8(v.type),d.writeUint16(v.value)}},{key:"binEncode_SHORT_ARRAY",value:function(d,v){var M=v.value;d.writeUint8(v.type),d.writeUint16(M.length);for(var N=0;N<M.length;N++)d.writeUint16(M[N])}},{key:"binEncode_INT",value:function(d,v){d.writeUint8(v.type),d.writeUint32(v.value)}},{key:"binEncode_INT_ARRAY",value:function(d,v){var M=v.value;d.writeUint8(v.type),d.writeUint16(M.length);for(var N=0;N<M.length;N++)d.writeUint32(M[N])}},{key:"binEncode_LONG",value:function(d,v){var M=v.value,N=Math.floor(M/Math.pow(2,32)),k=M%Math.pow(2,32);d.writeUint8(v.type),d.writeInt32(N),d.writeInt32(k)}},{key:"binEncode_LONG_ARRAY",value:function(d,v){var M=v.value;d.writeUint8(v.type),d.writeUint16(M.length);for(var N=0;N<M.length;N++){var k=M[N],G=Math.floor(k/Math.pow(2,32)),z=k%Math.pow(2,32);d.writeInt32(G),d.writeInt32(z)}}},{key:"binEncode_FLOAT",value:function(d,v){d.writeUint8(v.type),d.writeFloat32(v.value)}},{key:"binEncode_FLOAT_ARRAY",value:function(d,v){var M=v.value;d.writeUint8(v.type),d.writeUint16(M.length);for(var N=0;N<M.length;N++)d.writeFloat32(M[N])}},{key:"binEncode_DOUBLE",value:function(d,v){d.writeUint8(v.type),d.writeFloat64(v.value)}},{key:"binEncode_DOUBLE_ARRAY",value:function(d,v){var M=v.value;d.writeUint8(v.type),d.writeUint16(M.length);for(var N=0;N<M.length;N++)d.writeFloat64(M[N])}},{key:"binEncode_UTF_STRING",value:function(d,v){var M=new _.TextEncoder("utf-8").encode(v.value);d.writeUint8(v.type),d.writeUint16(M.length),d.writeUint8Array(M)}},{key:"binEncode_TEXT",value:function(d,v){var M=new _.TextEncoder("utf-8").encode(v.value);d.writeUint8(v.type),d.writeUint32(M.length),d.writeUint8Array(M)}},{key:"binEncode_UTF_STRING_ARRAY",value:function(d,v){var M=v.value;d.writeUint8(v.type),d.writeUint16(M.length);for(var N=0;N<M.length;N++){var k=new _.TextEncoder("utf-8").encode(M[N]);d.writeUint16(k.byteLength),d.writeUint8Array(k)}}},{key:"binary2object",value:function(d){if(d.byteLength<3)throw"Can't decode an SFSObject. Byte data is insufficient. Size: "+d.byteLength+" bytes";return this.decodeSFSObject(new m.default(d,0,m.default.BIG_ENDIAN))}},{key:"binary2array",value:function(d){if(d.byteLength<3)throw"Can't decode an SFSArray. Byte data is insufficient. Size: "+d.byteLength+" bytes";return this.decodeSFSArray(new m.default(d,0,m.default.BIG_ENDIAN))}},{key:"decodeSFSObject",value:function(d){var v=new p.SFSObject,M=d.readUint8();if(M!==p.SFSDataType.SFS_OBJECT)throw"Invalid SFSDataType. Expected: "+p.SFSDataType.SFS_OBJECT+", found: "+M;var N=d.readUint16();if(N<0)throw"Can't decode SFSObject. Size is negative: "+N;try{for(var k=0;k<N;k++){var G=d.readUint16();if(G<0||G>255)throw"Invalid SFSObject key length. Found: "+G;var z=d.readUint8Array(G),L=String.fromCharCode.apply(String,z),j=this.decodeObject(d);if(null==j)throw"Could not decode value for key: "+L;v.put(L,j.value,j.type,!0)}}catch(F){throw F}return v}},{key:"decodeSFSArray",value:function(d){var v=new p.SFSArray,M=d.readUint8();if(M!==p.SFSDataType.SFS_ARRAY)throw"Invalid SFSDataType. Expected: "+p.SFSDataType.SFS_ARRAY+", found: "+M;var N=d.readInt16();if(N<0)throw"Can't decode SFSArray. Size is negative: "+N;try{for(var k=0;k<N;k++){var G=this.decodeObject(d);if(null==G)throw"Could not decode value for index: "+k;v.add(G.value,G.type,!0)}}catch(z){throw z}return v}},{key:"decodeObject",value:function(d){var v=null,M=d.readUint8();if(M===p.SFSDataType.NULL)v=this.binDecode_NULL(d);else if(M===p.SFSDataType.BOOL)v=this.binDecode_BOOL(d);else if(M===p.SFSDataType.BOOL_ARRAY)v=this.binDecode_BOOL_ARRAY(d);else if(M===p.SFSDataType.BYTE)v=this.binDecode_BYTE(d);else if(M===p.SFSDataType.BYTE_ARRAY)v=this.binDecode_BYTE_ARRAY(d);else if(M===p.SFSDataType.SHORT)v=this.binDecode_SHORT(d);else if(M===p.SFSDataType.SHORT_ARRAY)v=this.binDecode_SHORT_ARRAY(d);else if(M===p.SFSDataType.INT)v=this.binDecode_INT(d);else if(M===p.SFSDataType.INT_ARRAY)v=this.binDecode_INT_ARRAY(d);else if(M===p.SFSDataType.LONG)v=this.binDecode_LONG(d);else if(M===p.SFSDataType.LONG_ARRAY)v=this.binDecode_LONG_ARRAY(d);else if(M===p.SFSDataType.FLOAT)v=this.binDecode_FLOAT(d);else if(M===p.SFSDataType.FLOAT_ARRAY)v=this.binDecode_FLOAT_ARRAY(d);else if(M===p.SFSDataType.DOUBLE)v=this.binDecode_DOUBLE(d);else if(M===p.SFSDataType.DOUBLE_ARRAY)v=this.binDecode_DOUBLE_ARRAY(d);else if(M===p.SFSDataType.UTF_STRING)v=this.binDecode_UTF_STRING(d);else if(M===p.SFSDataType.TEXT)v=this.binDecode_TEXT(d);else if(M===p.SFSDataType.UTF_STRING_ARRAY)v=this.binDecode_UTF_STRING_ARRAY(d);else if(M===p.SFSDataType.SFS_ARRAY){d.seek(d.position-1);var N=this.decodeSFSArray(d);v=new p.SFSDataWrapper(M,N)}else{if(M!==p.SFSDataType.SFS_OBJECT)throw"Unknow SFSDataType ID: "+M;d.seek(d.position-1);var k=this.decodeSFSObject(d);v=new p.SFSDataWrapper(M,k)}return v}},{key:"binDecode_NULL",value:function(d){return new p.SFSDataWrapper(p.SFSDataType.NULL,null)}},{key:"binDecode_BOOL",value:function(d){var v=d.readUint8(),M=null;if(0===v)M=!1;else{if(1!==v)throw"Error decoding Bool type. Illegal value: "+v;M=!0}return new p.SFSDataWrapper(p.SFSDataType.BOOL,M)}},{key:"binDecode_BOOL_ARRAY",value:function(d){for(var v=this.getTypedArraySize(d),M=[],N=0;N<v;N++){var k=d.readUint8(),G=null;if(0===k)G=!1;else{if(1!==k)throw"Error decoding Bool type. Illegal value: "+k;G=!0}M.push(G)}return new p.SFSDataWrapper(p.SFSDataType.BOOL_ARRAY,M)}},{key:"binDecode_BYTE",value:function(d){var v=d.readUint8();return new p.SFSDataWrapper(p.SFSDataType.BYTE,v)}},{key:"binDecode_BYTE_ARRAY",value:function(d){var v=d.readInt32();if(v<0)throw"Error decoding typed array size. Negative size: "+v;for(var M=new Uint8Array(v),N=0;N<v;N++)M[N]=d.readUint8();return new p.SFSDataWrapper(p.SFSDataType.BYTE_ARRAY,M)}},{key:"binDecode_SHORT",value:function(d){var v=d.readInt16();return new p.SFSDataWrapper(p.SFSDataType.SHORT,v)}},{key:"binDecode_SHORT_ARRAY",value:function(d){for(var v=this.getTypedArraySize(d),M=[],N=0;N<v;N++)M.push(d.readInt16());return new p.SFSDataWrapper(p.SFSDataType.SHORT_ARRAY,M)}},{key:"binDecode_INT",value:function(d){var v=d.readInt32();return new p.SFSDataWrapper(p.SFSDataType.INT,v)}},{key:"binDecode_INT_ARRAY",value:function(d){for(var v=this.getTypedArraySize(d),M=[],N=0;N<v;N++)M.push(d.readInt32());return new p.SFSDataWrapper(p.SFSDataType.INT_ARRAY,M)}},{key:"binDecode_LONG",value:function(d){var v=d.readInt32(),M=d.readUint32(),N=v*Math.pow(2,32)+M;return new p.SFSDataWrapper(p.SFSDataType.LONG,N)}},{key:"binDecode_LONG_ARRAY",value:function(d){for(var v=this.getTypedArraySize(d),M=[],N=0;N<v;N++){var k=d.readInt32(),G=d.readUint32(),z=k*Math.pow(2,32)+G;M.push(z)}return new p.SFSDataWrapper(p.SFSDataType.LONG_ARRAY,M)}},{key:"binDecode_FLOAT",value:function(d){var v=d.readFloat32();return new p.SFSDataWrapper(p.SFSDataType.FLOAT,v)}},{key:"binDecode_FLOAT_ARRAY",value:function(d){for(var v=this.getTypedArraySize(d),M=[],N=0;N<v;N++)M.push(d.readFloat32());return new p.SFSDataWrapper(p.SFSDataType.FLOAT_ARRAY,M)}},{key:"binDecode_DOUBLE",value:function(d){var v=d.readFloat64();return new p.SFSDataWrapper(p.SFSDataType.DOUBLE,v)}},{key:"binDecode_DOUBLE_ARRAY",value:function(d){for(var v=this.getTypedArraySize(d),M=[],N=0;N<v;N++)M.push(d.readFloat64());return new p.SFSDataWrapper(p.SFSDataType.DOUBLE_ARRAY,M)}},{key:"binDecode_UTF_STRING",value:function(d){var v=d.readInt16();if(v<0)throw"Error decoding UTF_STRING. Negative size: "+v;var M=d.readUint8Array(v),N=new _.TextDecoder("utf-8").decode(M);return new p.SFSDataWrapper(p.SFSDataType.UTF_STRING,N)}},{key:"binDecode_UTF_STRING_ARRAY",value:function(d){for(var v=this.getTypedArraySize(d),M=[],N=0;N<v;N++){var k=d.readInt16();if(k<0)throw"Error decoding UTF_STRING. Negative size: "+k;var G=d.readUint8Array(k),z=new _.TextDecoder("utf-8").decode(G);M.push(z)}return new p.SFSDataWrapper(p.SFSDataType.UTF_STRING_ARRAY,M)}},{key:"binDecode_TEXT",value:function(d){var v=d.readInt32();if(v<0)throw"Error decoding TEXT. Negative size: "+v;var M=d.readUint8Array(v),N=new _.TextDecoder("utf-8").decode(M);return new p.SFSDataWrapper(p.SFSDataType.TEXT,N)}},{key:"getTypedArraySize",value:function(d){var v=d.readUint16();if(v<0)throw"Error decoding typed array size. Negative size: "+v;return v}}],[{key:"instance",get:function(){return this[g]||(this[g]=new T(f)),Object.seal(this[g])}}]),T}();w.SFSDataSerializer=E},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.SystemController=void 0;var C=function(){function Ve(ae,_e){for(var ye=0;ye<_e.length;ye++){var He=_e[ye];He.enumerable=He.enumerable||!1,He.configurable=!0,"value"in He&&(He.writable=!0),Object.defineProperty(ae,He.key,He)}}return function(ae,_e,ye){return _e&&Ve(ae.prototype,_e),ye&&Ve(ae,ye),ae}}(),b=h(2),S=h(39),m=h(74),_=h(8),p=h(9),g=h(47),f=h(171),E=h(58),T=h(72),d=h(59),v=h(49),M=h(73),N=h(46),k=h(51),G=h(118),z=h(117),L=h(116),j=h(57),F=h(115),W=h(114),Q=h(113),$=h(70),oe=h(112),J=h(111),de=h(110),Re=h(109),Te=h(108),Pe=h(107),K=h(106),ue=h(105),te=h(69),we=h(170),le=h(104),he=h(103),ge=h(102),Ge=h(101),tt=h(100),Le=h(99),It=h(98),Ze=function(){function Ve(ae){(function(_e,ye){if(!(_e instanceof ye))throw new TypeError("Cannot call a class as a function")})(this,Ve),this._sfs=ae,this._logger=ae.logger,this._id=0,this._messageHandlers=new Map,this._initMessageHandlers(),Object.freeze(this)}return C(Ve,null,[{key:"KEY_ERROR_CODE",get:function(){return"ec"}},{key:"KEY_ERROR_PARAMS",get:function(){return"ep"}},{key:"ROOM_PARAM",get:function(){return"r"}},{key:"USER_PARAM",get:function(){return"u"}},{key:"USER_COUNT_PARAM",get:function(){return"uc"}},{key:"SPECT_COUNT_PARAM",get:function(){return"sc"}},{key:"DISCONNECTION_REASON_PARAM",get:function(){return"dr"}}]),C(Ve,[{key:"handleMessage",value:function(ae,_e){var ye=this._messageHandlers.get(_e);null!=ye?(this._sfs.debug&&this._logger.info("Handling server event: "+ye.name+" ("+_e+")"),ye.handler.call(this,ae)):this._logger.warn("Unknown server event received; id: "+_e)}},{key:"_initMessageHandlers",value:function(){this._setHandler(b.Requests.Handshake,this._fnHandshake),this._setHandler(b.Requests.Login,this._fnLogin),this._setHandler(b.Requests.Logout,this._fnLogout),this._setHandler(b.Requests.JoinRoom,this._fnJoinRoom),this._setHandler(b.Requests.CreateRoom,this._fnCreateRoom),this._setHandler(b.Requests.ChangeRoomName,this._fnChangeRoomName),this._setHandler(b.Requests.ChangeRoomPassword,this._fnChangeRoomPassword),this._setHandler(b.Requests.ChangeRoomCapacity,this._fnChangeRoomCapacity),this._setHandler(b.Requests.GenericMessage,this._fnGenericMessage),this._setHandler(b.Requests.SetRoomVariables,this._fnSetRoomVariables),this._setHandler(b.Requests.SetUserVariables,this._fnSetUserVariables),this._setHandler(b.Requests.SubscribeRoomGroup,this._fnSubscribeRoomGroup),this._setHandler(b.Requests.UnsubscribeRoomGroup,this._fnUnsubscribeRoomGroup),this._setHandler(b.Requests.SpectatorToPlayer,this._fnSpectatorToPlayer),this._setHandler(b.Requests.PlayerToSpectator,this._fnPlayerToSpectator),this._setHandler(b.Requests.FindRooms,this._fnFindRooms),this._setHandler(b.Requests.FindUsers,this._fnFindUsers),this._setHandler(b.Requests.PingPong,this._fnPingPong),this._setHandler(b.Requests.InitBuddyList,this._fnInitBuddyList),this._setHandler(b.Requests.AddBuddy,this._fnAddBuddy),this._setHandler(b.Requests.RemoveBuddy,this._fnRemoveBuddy),this._setHandler(b.Requests.BlockBuddy,this._fnBlockBuddy),this._setHandler(b.Requests.GoOnline,this._fnGoOnline),this._setHandler(b.Requests.SetBuddyVariables,this._fnSetBuddyVariables),this._setHandler(b.Requests.QuickJoinGame,this._fnQuickJoinGame),this._setHandler(b.Requests.InviteUsers,this._fnInviteUsers),this._setHandler(b.Requests.InvitationReply,this._fnInvitationReply),this._setHandler(b.Requests.SetUserPosition,this._fnSetUserPosition),this._setHandler(1e3,this._fnUserEnterRoom,"UserEnterRoom"),this._setHandler(1001,this._fnUserCountChange,"UserCountChange"),this._setHandler(1002,this._fnUserLost,"UserLost"),this._setHandler(1003,this._fnRoomLost,"RoomLost"),this._setHandler(1004,this._fnUserExitRoom,"UserExitRoom"),this._setHandler(1005,this._fnClientDisconnection,"ClientDisconnection"),this._setHandler(1007,this._fnSetMMOItemVariables,"SetMMOItemVariables")}},{key:"_setHandler",value:function(ae,_e){var ye=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==ye&&(ye=b.Requests.getNameFromId(ae)),this._messageHandlers.set(ae,{name:ye,handler:_e})}},{key:"_fnHandshake",value:function(ae){this._sfs._handleHandShake(ae)}},{key:"_fnLogin",value:function(ae){if(null==ae.get(Ve.KEY_ERROR_CODE)){this._populateRoomList(ae.get(G.LoginRequest.KEY_ROOMLIST)),this._sfs._mySelf=new g.SFSUser(ae.get(G.LoginRequest.KEY_ID),ae.get(G.LoginRequest.KEY_USER_NAME),!0),this._sfs.mySelf._setUserManager(this._sfs.userManager),this._sfs.mySelf._privilegeId=ae.get(G.LoginRequest.KEY_PRIVILEGE_ID),this._sfs.userManager._addUser(this._sfs.mySelf);var _e={};_e.zone=ae.get(G.LoginRequest.KEY_ZONE_NAME),_e.user=this._sfs.mySelf,_e.data=ae.get(G.LoginRequest.KEY_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.LOGIN,_e)}else this._dispatchError(S.SFSEvent.LOGIN_ERROR,ae)}},{key:"_fnLogout",value:function(ae){this._sfs._handleLogout();var _e={};_e.zone=ae.get(z.LogoutRequest.KEY_ZONE_NAME),this._sfs.dispatchEvent(S.SFSEvent.LOGOUT,_e)}},{key:"_fnJoinRoom",value:function(ae){if(this._sfs._isJoining=!1,null==ae.get(Ve.KEY_ERROR_CODE)){var _e=ae.get(L.JoinRoomRequest.KEY_ROOM),ye=ae.get(L.JoinRoomRequest.KEY_USER_LIST),He=this._sfs.roomManager,qe=p.SFSRoom.fromSFSArray(_e);qe=He._replaceRoom(qe,He.containsGroup(qe.groupId));for(var ot=0;ot<ye.size();ot++){var ke=ye.get(ot),We=this._getOrCreateUser(ke,!0,qe);qe._addUser(We)}qe._isJoined=!0,this._sfs._lastJoinedRoom=qe;var Qt={};Qt.room=qe,this._sfs.dispatchEvent(S.SFSEvent.ROOM_JOIN,Qt)}else this._dispatchError(S.SFSEvent.ROOM_JOIN_ERROR,ae)}},{key:"_fnCreateRoom",value:function(ae){if(null==ae.get(Ve.KEY_ERROR_CODE)){var _e=p.SFSRoom.fromSFSArray(ae.get(j.CreateRoomRequest.KEY_ROOM));this._sfs.roomManager._addRoom(_e);var ye={};ye.room=_e,this._sfs.dispatchEvent(S.SFSEvent.ROOM_ADD,ye)}else this._dispatchError(S.SFSEvent.ROOM_CREATION_ERROR,ae)}},{key:"_fnChangeRoomName",value:function(ae){if(null==ae.get(Ve.KEY_ERROR_CODE)){var _e=ae.get(F.ChangeRoomNameRequest.KEY_ROOM),ye=this._sfs.roomManager.getRoomById(_e);if(null!=ye){var He=ye.name;this._sfs.roomManager._changeRoomName(ye,ae.get(F.ChangeRoomNameRequest.KEY_NAME));var qe={};qe.oldName=He,qe.room=ye,this._sfs.dispatchEvent(S.SFSEvent.ROOM_NAME_CHANGE,qe)}else this._logger.warn("Unexpected RoomNameChange event error; unknown Room id: "+_e)}else this._dispatchError(S.SFSEvent.ROOM_NAME_CHANGE_ERROR,ae)}},{key:"_fnChangeRoomPassword",value:function(ae){if(null==ae.get(Ve.KEY_ERROR_CODE)){var _e=ae.get(W.ChangeRoomPasswordStateRequest.KEY_ROOM),ye=this._sfs.roomManager.getRoomById(_e);if(null!=ye){this._sfs.roomManager._changeRoomPasswordState(ye,ae.get(W.ChangeRoomPasswordStateRequest.KEY_PASS));var He={};He.room=ye,this._sfs.dispatchEvent(S.SFSEvent.ROOM_PASSWORD_STATE_CHANGE,He)}else this._logger.warn("Unexpected RoomPasswordChange event error; unknown Room id: "+_e)}else this._dispatchError(S.SFSEvent.ROOM_PASSWORD_STATE_CHANGE_ERROR,ae)}},{key:"_fnChangeRoomCapacity",value:function(ae){if(null==ae.get(Ve.KEY_ERROR_CODE)){var _e=ae.get(Q.ChangeRoomCapacityRequest.KEY_ROOM),ye=this._sfs.roomManager.getRoomById(_e);if(null!=ye){this._sfs.roomManager._changeRoomCapacity(ye,ae.get(Q.ChangeRoomCapacityRequest.KEY_USER_SIZE),ae.get(Q.ChangeRoomCapacityRequest.KEY_SPEC_SIZE));var He={};He.room=ye,this._sfs.dispatchEvent(S.SFSEvent.ROOM_CAPACITY_CHANGE,He)}else this._logger.warn("Unexpected RoomCapacityChange event error; unknown Room id: "+_e)}else this._dispatchError(S.SFSEvent.ROOM_CAPACITY_CHANGE_ERROR,ae)}},{key:"_fnGenericMessage",value:function(ae){switch(ae.get($.GenericMessageRequest.KEY_MESSAGE_TYPE)){case $.GenericMessageType.PUBLIC_MSG:this._handlePublicMessage(ae);break;case $.GenericMessageType.PRIVATE_MSG:this._handlePrivateMessage(ae);break;case $.GenericMessageType.BUDDY_MSG:this._handleBuddyMessage(ae);break;case $.GenericMessageType.MODERATOR_MSG:this._handleModMessage(ae);break;case $.GenericMessageType.ADMING_MSG:this._handleAdminMessage(ae);break;case $.GenericMessageType.OBJECT_MSG:this._handleObjectMessage(ae)}}},{key:"_handlePublicMessage",value:function(ae){var _e=ae.get($.GenericMessageRequest.KEY_ROOM_ID),ye=this._sfs.roomManager.getRoomById(_e);if(null!=ye){var He={};He.room=ye,He.sender=this._sfs.userManager.getUserById(ae.get($.GenericMessageRequest.KEY_USER_ID)),He.message=ae.get($.GenericMessageRequest.KEY_MESSAGE),He.data=ae.get($.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.PUBLIC_MESSAGE,He)}else this._logger.warn("Unexpected PublicMessage event error; unknown Room id: "+_e)}},{key:"_handlePrivateMessage",value:function(ae){var _e=ae.get($.GenericMessageRequest.KEY_USER_ID),ye=this._sfs.userManager.getUserById(_e);if(null==ye){if(null==ae.get($.GenericMessageRequest.KEY_SENDER_DATA))return void this._logger.warn("Unexpected PublicMessage event error; missing sender details");ye=g.SFSUser.fromSFSArray(ae.get($.GenericMessageRequest.KEY_SENDER_DATA))}var He={};He.sender=ye,He.message=ae.get($.GenericMessageRequest.KEY_MESSAGE),He.data=ae.get($.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.PRIVATE_MESSAGE,He)}},{key:"_handleBuddyMessage",value:function(ae){var _e=ae.get($.GenericMessageRequest.KEY_USER_ID),ye=this._sfs.buddyManager.getBuddyById(_e),He={};He.isItMe=this._sfs.mySelf.id===_e,He.buddy=ye,He.message=ae.get($.GenericMessageRequest.KEY_MESSAGE),He.data=ae.get($.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_MESSAGE,He)}},{key:"_handleObjectMessage",value:function(ae){var _e={};_e.sender=this._sfs.userManager.getUserById(ae.get($.GenericMessageRequest.KEY_USER_ID)),_e.message=ae.get($.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.OBJECT_MESSAGE,_e)}},{key:"_handleModMessage",value:function(ae){var _e={};_e.sender=g.SFSUser.fromSFSArray(ae.get($.GenericMessageRequest.KEY_SENDER_DATA)),_e.message=ae.get($.GenericMessageRequest.KEY_MESSAGE),_e.data=ae.get($.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.MODERATOR_MESSAGE,_e)}},{key:"_handleAdminMessage",value:function(ae){var _e={};_e.sender=g.SFSUser.fromSFSArray(ae.get($.GenericMessageRequest.KEY_SENDER_DATA)),_e.message=ae.get($.GenericMessageRequest.KEY_MESSAGE),_e.data=ae.get($.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.ADMIN_MESSAGE,_e)}},{key:"_fnSetRoomVariables",value:function(ae){var _e=ae.get(oe.SetRoomVariablesRequest.KEY_VAR_ROOM),ye=ae.get(oe.SetRoomVariablesRequest.KEY_VAR_LIST),He=this._sfs.roomManager.getRoomById(_e),qe=new Set;if(null!=He){for(var ot=0;ot<ye.size();ot++){var ke=v.SFSRoomVariable.fromSFSArray(ye.get(ot));He._setVariable(ke),qe.add(ke.name)}var We={};We.changedVars=Array.from(qe),We.room=He,this._sfs.dispatchEvent(S.SFSEvent.ROOM_VARIABLES_UPDATE,We)}else this._logger.warn("Unexpected RoomVariablesUpdate event error; unknown Room id: "+_e)}},{key:"_fnSetUserVariables",value:function(ae){var _e=ae.get(J.SetUserVariablesRequest.KEY_USER),ye=ae.get(J.SetUserVariablesRequest.KEY_VAR_LIST),He=this._sfs.userManager.getUserById(_e),qe=new Set;if(null!=He){for(var ot=0;ot<ye.size();ot++){var ke=d.SFSUserVariable.fromSFSArray(ye.get(ot));He._setVariable(ke),qe.add(ke.name)}var We={};We.changedVars=Array.from(qe),We.user=He,this._sfs.dispatchEvent(S.SFSEvent.USER_VARIABLES_UPDATE,We)}else this._logger.warn("Unexpected UserVariablesUpdate event error; unknown User id: "+_e)}},{key:"_fnSubscribeRoomGroup",value:function(ae){if(null==ae.get(Ve.KEY_ERROR_CODE)){var _e=ae.get(de.SubscribeRoomGroupRequest.KEY_GROUP_ID),ye=ae.get(de.SubscribeRoomGroupRequest.KEY_ROOM_LIST);this._sfs.roomManager.containsGroup(_e)&&this._logger.warn("Unexpected SubscribeRoomGroup event error; group already subscribed: "+_e),this._sfs.roomManager._addGroup(_e),this._populateRoomList(ye);var He={};He.groupId=_e,He.newRooms=this._sfs.roomManager.getRoomListFromGroup(_e),this._sfs.dispatchEvent(S.SFSEvent.ROOM_GROUP_SUBSCRIBE,He)}else this._dispatchError(S.SFSEvent.ROOM_GROUP_SUBSCRIBE_ERROR,ae)}},{key:"_fnUnsubscribeRoomGroup",value:function(ae){if(null==ae.get(Ve.KEY_ERROR_CODE)){var _e=ae.get(Re.UnsubscribeRoomGroupRequest.KEY_GROUP_ID);this._sfs.roomManager.containsGroup(_e)||this._logger.warn("Unexpected UnsubscribeRoomGroup event error; group not found: "+_e+" (maybe never subscribed, or the Room Manager doesn't contain Rooms belonging to that Group)"),this._sfs.roomManager._removeGroup(_e);var ye={};ye.groupId=_e,this._sfs.dispatchEvent(S.SFSEvent.ROOM_GROUP_UNSUBSCRIBE,ye)}else this._dispatchError(S.SFSEvent.ROOM_GROUP_UNSUBSCRIBE_ERROR,ae)}},{key:"_fnSpectatorToPlayer",value:function(ae){if(null==ae.get(Ve.KEY_ERROR_CODE)){var _e=ae.get(Te.SpectatorToPlayerRequest.KEY_ROOM_ID),ye=ae.get(Te.SpectatorToPlayerRequest.KEY_USER_ID),He=ae.get(Te.SpectatorToPlayerRequest.KEY_PLAYER_ID),qe=this._sfs.userManager.getUserById(ye),ot=this._sfs.roomManager.getRoomById(_e);if(null!=ot)if(null!=qe)if(qe.isJoinedInRoom(ot)){qe._setPlayerId(He,ot);var ke={};ke.room=ot,ke.user=qe,ke.playerId=He,this._sfs.dispatchEvent(S.SFSEvent.SPECTATOR_TO_PLAYER,ke)}else this._logger.warn("Unexpected SpectatorToPlayer event error; User "+qe+" not in Room "+ot);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown User id: "+ye);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown Room id: "+_e)}else this._dispatchError(S.SFSEvent.SPECTATOR_TO_PLAYER_ERROR,ae)}},{key:"_fnPlayerToSpectator",value:function(ae){if(null==ae.get(Ve.KEY_ERROR_CODE)){var _e=ae.get(Pe.PlayerToSpectatorRequest.KEY_ROOM_ID),ye=ae.get(Pe.PlayerToSpectatorRequest.KEY_USER_ID),He=this._sfs.userManager.getUserById(ye),qe=this._sfs.roomManager.getRoomById(_e);if(null!=qe)if(null!=He)if(He.isJoinedInRoom(qe)){He._setPlayerId(-1,qe);var ot={};ot.room=qe,ot.user=He,this._sfs.dispatchEvent(S.SFSEvent.PLAYER_TO_SPECTATOR,ot)}else this._logger.warn("Unexpected PlayerToSpectator event error; User "+He+" not in Room "+qe);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown User id: "+ye);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown Room id: "+_e)}else this._dispatchError(S.SFSEvent.PLAYER_TO_SPECTATOR_ERROR,ae)}},{key:"_fnPingPong",value:function(ae){var _e={};_e.lagValue=this._sfs._lagMonitor._onPingPong(),this._sfs.dispatchEvent(S.SFSEvent.PING_PONG,_e)}},{key:"_fnFindRooms",value:function(ae){for(var _e=ae.get(K.FindRoomsRequest.KEY_FILTERED_ROOMS),ye=[],He=0;He<_e.size();He++){var qe=_e.get(He),ot=p.SFSRoom.fromSFSArray(qe),ke=this._sfs.roomManager.getRoomById(ot.id);null!=ke&&(ot._isJoined=ke._isJoined),ye.push(ot)}var We={};We.rooms=ye,this._sfs.dispatchEvent(S.SFSEvent.ROOM_FIND_RESULT,We)}},{key:"_fnFindUsers",value:function(ae){for(var _e=ae.get(ue.FindUsersRequest.KEY_FILTERED_USERS),ye=[],He=this._sfs.mySelf,qe=0;qe<_e.size();qe++){var ot=_e.get(qe),ke=g.SFSUser.fromSFSArray(ot);ke.id===He.id&&(ke=He),ye.push(ke)}var We={};We.users=ye,this._sfs.dispatchEvent(S.SFSEvent.USER_FIND_RESULT,We)}},{key:"_fnQuickJoinGame",value:function(ae){null!=ae.get(Ve.KEY_ERROR_CODE)&&this._dispatchError(S.SFSEvent.ROOM_JOIN_ERROR,ae)}},{key:"_fnInviteUsers",value:function(ae){var _e;_e=null!=ae.get(te.InviteUsersRequest.KEY_USER_ID)?this._sfs.userManager.getUserById(ae.get(te.InviteUsersRequest.KEY_USER_ID)):g.SFSUser.fromSFSArray(ae.get(te.InviteUsersRequest.KEY_USER));var ye=ae.get(te.InviteUsersRequest.KEY_TIME),He=ae.get(te.InviteUsersRequest.KEY_INVITATION_ID),qe=ae.get(te.InviteUsersRequest.KEY_PARAMS),ot=new T.SFSInvitation(_e,this._sfs.mySelf,ye,qe);ot._id=He;var ke={};ke.invitation=ot,this._sfs.dispatchEvent(S.SFSEvent.INVITATION,ke)}},{key:"_fnInvitationReply",value:function(ae){if(null==ae.get(Ve.KEY_ERROR_CODE)){var _e;_e=null!=ae.get(te.InviteUsersRequest.KEY_USER_ID)?this._sfs.userManager.getUserById(ae.get(te.InviteUsersRequest.KEY_USER_ID)):g.SFSUser.fromSFSArray(ae.get(te.InviteUsersRequest.KEY_USER));var ye=ae.get(te.InviteUsersRequest.KEY_REPLY_ID),He=ae.get(te.InviteUsersRequest.KEY_PARAMS),qe={};qe.invitee=_e,qe.reply=ye,qe.data=He,this._sfs.dispatchEvent(S.SFSEvent.INVITATION_REPLY,qe)}else this._dispatchError(S.SFSEvent.INVITATION_REPLY_ERROR,ae)}},{key:"_fnSetUserPosition",value:function(ae){var _e=ae.get(le.SetUserPositionRequest.KEY_ROOM),ye=this._sfs.roomManager.getRoomById(_e),He=ae.get(le.SetUserPositionRequest.KEY_MINUS_USER_LIST),qe=ae.get(le.SetUserPositionRequest.KEY_PLUS_USER_LIST),ot=ae.get(le.SetUserPositionRequest.KEY_MINUS_ITEM_LIST),ke=ae.get(le.SetUserPositionRequest.KEY_PLUS_ITEM_LIST),We=[],Qt=[],Bt=[],ln=[];if(null!=He){var ci=!0,at=!1,bt=void 0;try{for(var Oe,be=He[Symbol.iterator]();!(ci=(Oe=be.next()).done);ci=!0){var Be=ye.getUserById(Oe.value);null!=Be&&(ye._removeUser(Be),Qt.push(Be))}}catch(cn){at=!0,bt=cn}finally{try{!ci&&be.return&&be.return()}finally{if(at)throw bt}}}if(null!=qe)for(var xe=0;xe<qe.size();xe++){var Ue=qe.get(xe),ht=this._getOrCreateUser(Ue,!0,ye);We.push(ht),ye._addUser(ht);var St=Ue.get(5);null!=St&&(ht._aoiEntryPoint=_.Vec3D.fromArray(St))}if(null!=ot){var Ot=!0,On=!1,Yn=void 0;try{for(var ui,jt=ot[Symbol.iterator]();!(Ot=(ui=jt.next()).done);Ot=!0){var _n=ye.getMMOItem(ui.value);null!=_n&&(ye._removeItem(_n.id),ln.push(_n))}}catch(cn){On=!0,Yn=cn}finally{try{!Ot&&jt.return&&jt.return()}finally{if(On)throw Yn}}}if(null!=ke)for(var Vt=0;Vt<ke.size();Vt++){var Bn=ke.get(Vt),wr=f.MMOItem.fromSFSArray(Bn);Bt.push(wr),ye._addMMOItem(wr);var Pr=Bn.get(2);null!=Pr&&(wr._aoiEntryPoint=_.Vec3D.fromArray(Pr))}var Qn={};Qn.addedItems=Bt,Qn.removedItems=ln,Qn.removedUsers=Qt,Qn.addedUsers=We,Qn.room=ye,this._sfs.dispatchEvent(S.SFSEvent.PROXIMITY_LIST_UPDATE,Qn)}},{key:"_fnInitBuddyList",value:function(ae){if(null==ae.get(Ve.KEY_ERROR_CODE)){var _e=ae.get(he.InitBuddyListRequest.KEY_BLIST),ye=ae.get(he.InitBuddyListRequest.KEY_MY_VARS),He=ae.get(he.InitBuddyListRequest.KEY_BUDDY_STATES);this._sfs.buddyManager._clearAll();for(var qe=0;qe<_e.size();qe++){var ot=E.SFSBuddy.fromSFSArray(_e.get(qe));this._sfs.buddyManager._addBuddy(ot)}null!=He&&this._sfs.buddyManager._setBuddyStates(He);for(var ke=[],We=0;We<ye.size();We++){var Qt=N.SFSBuddyVariable.fromSFSArray(ye.get(We));ke.push(Qt)}this._sfs.buddyManager._setMyVariables(ke),this._sfs.buddyManager._setInited();var Bt={};Bt.buddyList=this._sfs.buddyManager.getBuddyList(),Bt.myVariables=this._sfs.buddyManager.getMyVariables(),this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_LIST_INIT,Bt)}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ae)}},{key:"_fnAddBuddy",value:function(ae){if(null==ae.get(Ve.KEY_ERROR_CODE)){var _e=E.SFSBuddy.fromSFSArray(ae.get(ge.AddBuddyRequest.KEY_BUDDY_NAME));this._sfs.buddyManager._addBuddy(_e);var ye={};ye.buddy=_e,this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_ADD,ye)}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ae)}},{key:"_fnRemoveBuddy",value:function(ae){if(null==ae.get(Ve.KEY_ERROR_CODE)){var _e=ae.get(Ge.RemoveBuddyRequest.KEY_BUDDY_NAME),ye=this._sfs.buddyManager._removeBuddyByName(_e);if(null!=ye){var He={};He.buddy=ye,this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_REMOVE,He)}else this._logger.warn("Unexpected RemoveBuddy event error; can't find "+_e+" in local buddy list")}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ae)}},{key:"_fnBlockBuddy",value:function(ae){if(null==ae.get(Ve.KEY_ERROR_CODE)){var _e=ae.get(tt.BlockBuddyRequest.KEY_BUDDY_NAME),ye=this._sfs.buddyManager.getBuddyByName(_e);null!=ae.get(tt.BlockBuddyRequest.KEY_BUDDY)?(ye=E.SFSBuddy.fromSFSArray(ae.get(tt.BlockBuddyRequest.KEY_BUDDY)),this._sfs.buddyManager._addBuddy(ye)):null!=ye?ye._isBlocked=ae.get(tt.BlockBuddyRequest.KEY_BUDDY_BLOCK_STATE):this._logger.warn("Unexpected BlockBuddy event error; can't find "+_e+" in local buddy list");var He={};He.buddy=ye,this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_BLOCK,He)}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ae)}},{key:"_fnGoOnline",value:function(ae){if(null==ae.get(Ve.KEY_ERROR_CODE)){var _e=ae.get(Le.GoOnlineRequest.KEY_BUDDY_NAME),ye=this._sfs.buddyManager.getBuddyByName(_e),He=_e===this._sfs.mySelf.name,qe=ae.get(Le.GoOnlineRequest.KEY_ONLINE),ot=qe===E.BuddyOnlineState.ONLINE,ke=!0;if(He)this._sfs.buddyManager.getMyOnlineState()!=ot&&(this._logger.warn("Unexpected GoOnline event error; current user's online state is not in synch with the server; resynching to: "+ot),this._sfs.buddyManager._setMyOnlineState(ot));else{if(null==ye)return void this._logger.warn("Unexpected GoOnline event error; can't find "+_e+" in local buddy list");ye._id=ae.get(Le.GoOnlineRequest.KEY_BUDDY_ID),ye._setVariable(new N.SFSBuddyVariable(N.ReservedBuddyVariables.BV_ONLINE,ot)),qe===E.BuddyOnlineState.LEFT_THE_SERVER&&ye._clearVolatileVariables(),ke=this._sfs.buddyManager.getMyOnlineState()}if(ke){var We={};We.buddy=ye,We.isItMe=He,this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_ONLINE_STATE_CHANGE,We)}}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ae)}},{key:"_fnSetBuddyVariables",value:function(ae){if(null==ae.get(Ve.KEY_ERROR_CODE)){for(var _e=ae.get(It.SetBuddyVariablesRequest.KEY_BUDDY_NAME),ye=ae.get(It.SetBuddyVariablesRequest.KEY_BUDDY_VARS),He=this._sfs.buddyManager.getBuddyByName(_e),qe=_e===this._sfs.mySelf.name,ot=[],ke=[],We=!0,Qt=0;Qt<ye.size();Qt++){var Bt=N.SFSBuddyVariable.fromSFSArray(ye.get(Qt));ke.push(Bt),ot.push(Bt.name)}if(qe)this._sfs.buddyManager._setMyVariables(ke);else{if(null==He)return void this._logger.warn("Unexpected SetBuddyVariables event error; can't find "+_e+" in local buddy list");He._setVariables(ke),We=this._sfs.buddyManager.getMyOnlineState()}if(We){var ln={};ln.buddy=He,ln.isItMe=qe,ln.changedVars=ot,this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_VARIABLES_UPDATE,ln)}}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ae)}},{key:"_fnUserEnterRoom",value:function(ae){var _e=this._sfs.roomManager.getRoomById(ae.get(Ve.ROOM_PARAM));if(null!=_e){var ye=ae.get(Ve.USER_PARAM),He=this._getOrCreateUser(ye,!0,_e);_e._addUser(He);var qe={};qe.user=He,qe.room=_e,this._sfs.dispatchEvent(S.SFSEvent.USER_ENTER_ROOM,qe)}}},{key:"_fnUserCountChange",value:function(ae){var _e=this._sfs.roomManager.getRoomById(ae.get(Ve.ROOM_PARAM));if(null!=_e){var ye=ae.get(Ve.USER_COUNT_PARAM),He=null!=ae.get(Ve.SPECT_COUNT_PARAM)?ae.get(Ve.SPECT_COUNT_PARAM):0;_e._userCount=ye,_e._specCount=He;var qe={};qe.room=_e,qe.uCount=ye,qe.sCount=He,this._sfs.dispatchEvent(S.SFSEvent.USER_COUNT_CHANGE,qe)}}},{key:"_fnUserLost",value:function(ae){var _e=this._sfs.userManager.getUserById(ae.get(Ve.USER_PARAM));if(null!=_e){var ye=this._sfs.roomManager.getUserRooms(_e);this._sfs.roomManager._removeUser(_e),this._sfs.userManager._removeUserReference(_e,!0);var He=!0,qe=!1,ot=void 0;try{for(var ke,We=ye[Symbol.iterator]();!(He=(ke=We.next()).done);He=!0){var Qt=ke.value,Bt={};Bt.user=_e,Bt.room=Qt,this._sfs.dispatchEvent(S.SFSEvent.USER_EXIT_ROOM,Bt)}}catch(ln){qe=!0,ot=ln}finally{try{!He&&We.return&&We.return()}finally{if(qe)throw ot}}}}},{key:"_fnRoomLost",value:function(ae){var _e=this._sfs.roomManager.getRoomById(ae.get(Ve.ROOM_PARAM));if(null!=_e){this._sfs.roomManager._removeRoom(_e);var ye=!0,He=!1,qe=void 0;try{for(var ot,ke=_e.getUserList()[Symbol.iterator]();!(ye=(ot=ke.next()).done);ye=!0)this._sfs.userManager._removeUser(ot.value)}catch(Bt){He=!0,qe=Bt}finally{try{!ye&&ke.return&&ke.return()}finally{if(He)throw qe}}var Qt={};Qt.room=_e,this._sfs.dispatchEvent(S.SFSEvent.ROOM_REMOVE,Qt)}}},{key:"_fnUserExitRoom",value:function(ae){var _e=this._sfs.roomManager.getRoomById(ae.get(Ve.ROOM_PARAM)),ye=this._sfs.userManager.getUserById(ae.get(Ve.USER_PARAM));if(null!=_e&&null!=ye){_e._removeUser(ye),this._sfs.userManager._removeUser(ye),ye.isItMe&&_e.isJoined&&(_e._isJoined=!1,0!==this._sfs.roomManager.getJoinedRooms().length&&this._sfs._lastJoinedRoom!==_e||(this._sfs._lastJoinedRoom=null),_e._isManaged||this._sfs.roomManager._removeRoom(_e));var He={};He.user=ye,He.room=_e,this._sfs.dispatchEvent(S.SFSEvent.USER_EXIT_ROOM,He)}else this._logger.debug("Failed to handle UserExit event; Room: "+_e+", User: "+ye)}},{key:"_fnClientDisconnection",value:function(ae){var _e=ae.get(Ve.DISCONNECTION_REASON_PARAM);this._sfs._handleClientDisconnection(k.ClientDisconnectionReason.getReason(_e))}},{key:"_fnSetMMOItemVariables",value:function(ae){var _e=ae.get(we.SetMMOItemVariables.KEY_ROOM_ID),ye=ae.get(we.SetMMOItemVariables.KEY_ITEM_ID),He=ae.get(we.SetMMOItemVariables.KEY_VAR_LIST),qe=this._sfs.roomManager.getRoomById(_e),ot=new Set;if(null!=qe){var ke=qe.getMMOItem(ye);if(null!=ke){for(var We=0;We<He.size();We++){var Qt=M.MMOItemVariable.fromSFSArray(He.get(We));ke._setVariable(Qt),ot.add(Qt.name)}var Bt={};Bt.changedVars=Array.from(ot),Bt.mmoItem=ke,Bt.room=qe,this._sfs.dispatchEvent(S.SFSEvent.MMOITEM_VARIABLES_UPDATE,Bt)}else this._logger.warn("Unexpected MMOItemVariablesUpdate event error; unknown MMOItem id: "+ye)}else this._logger.warn("Unexpected MMOItemVariablesUpdate event error; unknown MMORoom id: "+_e)}},{key:"_dispatchError",value:function(ae,_e){var ye={};ye.errorCode=_e.get(Ve.KEY_ERROR_CODE),ye.errorMessage=m.SFSErrorCodes.getErrorMessage(ye.errorCode,_e.get(Ve.KEY_ERROR_PARAMS)),this._sfs.dispatchEvent(ae,ye)}},{key:"_populateRoomList",value:function(ae){for(var _e=0;_e<ae.size();_e++){var ye=p.SFSRoom.fromSFSArray(ae.get(_e));this._sfs.roomManager._replaceRoom(ye)}}},{key:"_getOrCreateUser",value:function(ae,_e,ye){var He=ae.get(0),qe=this._sfs.userManager.getUserById(He);if(null==qe)(qe=g.SFSUser.fromSFSArray(ae,ye))._setUserManager(this._sfs.userManager);else{qe._setPlayerId(ae.get(3),ye);var ot=ae.get(4);if(null!=ot)for(var ke=0;ke<ot.size();ke++)qe._setVariable(d.SFSUserVariable.fromSFSArray(ot.get(ke)))}return _e&&this._sfs.userManager._addUser(qe),qe}},{key:"id",get:function(){return this._id}}]),Ve}();w.SystemController=Ze},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.SmartFox=void 0;var C=function(){function z(L,j){for(var F=0;F<j.length;F++){var W=j[F];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(L,W.key,W)}}return function(L,j,F){return j&&z(L.prototype,j),F&&z(L,F),L}}(),b=h(175),S=h(169),m=h(39),_=h(1),p=h(168),g=h(119),f=h(166),E=h(165),T=h(2),d=h(164),v=h(74),M=h(50),N=h(163),k=h(51),G=function(z){function L(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(W,Q){if(!(W instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,L);var F=function(W,Q){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Q||"object"!=typeof Q&&"function"!=typeof Q?W:Q}(this,(L.__proto__||Object.getPrototypeOf(L)).call(this));return F._majVersion=1,F._minVersion=7,F._subVersion=19,F._configData=j,F._logger=M.Logger.instance,F._sessionToken=null,F._socketEngine=new p.SocketEngine(F),F._socketEngine.addEventListener(p.SocketEvent.CONNECT,F._onSocketConnect,F),F._socketEngine.addEventListener(p.SocketEvent.DISCONNECT,F._onSocketDisconnect,F),F._socketEngine.addEventListener(p.SocketEvent.DATA,F._onSocketData,F),F._socketEngine.addEventListener(p.SocketEvent.IOERROR,F._onSocketIOError,F),F._controllers={},F._controllers[0]=new b.SystemController(F),F._controllers[1]=new S.ExtensionController(F),F._reset(),F._clientDetails="JavaScript",F.debug=null!=F.config&&F.config.debug,F.debug&&(F._logger.info("SmartFox instance ready"),F._logger.info("SFS2X JavaScript API v"+F.version)),Object.seal(F),F}return function(j,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function, not "+typeof F);j.prototype=Object.create(F&&F.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(j,F):j.__proto__=F)}(L,m.EventDispatcher),C(L,[{key:"setClientDetails",value:function(j,F){this.isConnected?this._logger.warn("Method setClientDetails must be called before the connection is started"):(j=null!=j?j.replace(":"," "):"",F=null!=F?F.replace(":"," "):"",this._clientDetails=j+":"+F)}},{key:"connect",value:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.debug&&this._logger.info("Attempting connection to server"),this.isConnected)this._logger.warn("Connection attempt interrupted: already connected");else if(this._socketEngine.isConnecting)this._logger.warn("Connection attempt interrupted: another attempt is already in progress");else{var Q=null!=this.config&&null!=this.config.host?this.config.host:null,$=null!=this.config&&null!=this.config.port?this.config.port:null,oe=null!=this.config&&this.config.useSSL;null!=j&&(Q=j),F>-1&&($=F),null!=W&&(oe=W),null!=Q&&"string"==typeof Q&&0!==Q.length?"number"!=typeof $||$<0||$>65535?this._logger.error("Invalid TCP connection port: "+$):("boolean"!=typeof oe&&(oe=!1),this._socketEngine.connect(Q,$,oe)):this._logger.error("Invalid connection host/address")}}},{key:"disconnect",value:function(){this.isConnected&&this._handleClientDisconnection(k.ClientDisconnectionReason.MANUAL)}},{key:"enableLagMonitor",value:function(j){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;null!=this.mySelf?(null!=this._lagMonitor&&this._lagMonitor.destroy(),j&&(this._lagMonitor=new N.LagMonitor(this,F,W),this._lagMonitor.start())):this._logger.warn("Lag monitoring requires that you are logged in a Zone; please retry after completing the login process")}},{key:"send",value:function(j){if(this.isConnected){if(null!=j.validate&&null!=j.execute){this.debug&&this._logger.info("Sending request '"+T.Requests.getNameFromId(j.id)+"' to server");try{j.validate(this),j.execute(this)}catch(Q){if(!(Q instanceof _.SFSValidationError&&null!=Q.message))throw Q;var F=Q.message;if(null!=Q.errors){F+=":";for(var W=0;W<Q.errors.length;W++)Q.errors.length>1&&(F+=" "+(W+1)+")"),F+=" "+Q.errors[W]}return this._logger.error("Request failed | "+F),!1}return this._socketEngine.send(j.getMessage()),!0}this._logger.error("An invalid request was passed: "+j)}else this._logger.error("You are not connected. Request cannot be sent: "+T.Requests.getNameFromId(j.id))}},{key:"getRoomById",value:function(j){return this.roomManager.getRoomById(j)}},{key:"getRoomByName",value:function(j){return this.roomManager.getRoomByName(j)}},{key:"getRoomList",value:function(){return this.roomManager.getRoomList()}},{key:"getRoomListFromGroup",value:function(j){return this.roomManager.getRoomListFromGroup(j)}},{key:"getJoinedRooms",value:function(){return this.roomManager.getJoinedRooms()}},{key:"_reset",value:function(){var j=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!=this._buddyManager&&(this._buddyManager._clearAll(),this._buddyManager._inited=!1),this._userManager=new g.GlobalUserManager(this),this._roomManager=new f.SFSRoomManager(this),this._buddyManager=new E.SFSBuddyManager(this),null!=this._lagMonitor&&this._lagMonitor.destroy(),this._lagMonitor=null,this._isJoining=!1,this._currentZone=null,this._lastJoinedRoom=null,this._mySelf=null,j&&(this._sessionToken=null)}},{key:"_onSocketConnect",value:function(j){j.success?this.send(new d.HandshakeRequest(this.version,this._clientDetails)):this.dispatchEvent(m.SFSEvent.CONNECTION,{success:!1})}},{key:"_onSocketDisconnect",value:function(j){this.dispatchEvent(m.SFSEvent.CONNECTION_LOST,{reason:j.reason}),this._reset(!0)}},{key:"_onSocketData",value:function(j){var F=j.targetController,W=j.id;null!=F?null!=W?this._controllers[F].handleMessage(j.content,W):this._logger.error("Incoming message rejected: Command ID is missing"):this._logger.error("Incoming message rejected: Controller ID is missing")}},{key:"_onSocketIOError",value:function(j){this.dispatchEvent(m.SFSEvent.SOCKET_ERROR,{message:j})}},{key:"_handleHandShake",value:function(j){var F=j.get(T.BaseRequest.KEY_ERROR_CODE);if(null==F)this._sessionToken=j.get(d.HandshakeRequest.KEY_SESSION_TOKEN),this._socketEngine.maxMessageSize=j.get(d.HandshakeRequest.KEY_MAX_MESSAGE_SIZE),this._socketEngine.compressionThreshold=j.get(d.HandshakeRequest.KEY_COMPRESSION_THRESHOLD),this.dispatchEvent(m.SFSEvent.CONNECTION,{success:!0});else{var W={success:!1,errorMessage:v.SFSErrorCodes.getErrorMessage(F,j.get(T.BaseRequest.KEY_ERROR_PARAMS)),errorCode:F};this.dispatchEvent(m.SFSEvent.CONNECTION,W)}}},{key:"_handleLogout",value:function(){this._reset()}},{key:"_handleClientDisconnection",value:function(j){this.isConnected&&this._socketEngine.disconnect(j)}},{key:"version",get:function(){return this._majVersion+"."+this._minVersion+"."+this._subVersion}},{key:"config",get:function(){return this._configData}},{key:"logger",get:function(){return this._logger}},{key:"sessionToken",get:function(){return this._sessionToken}},{key:"roomManager",get:function(){return this._roomManager}},{key:"userManager",get:function(){return this._userManager}},{key:"buddyManager",get:function(){return this._buddyManager}},{key:"mySelf",get:function(){return this._mySelf}},{key:"lastJoinedRoom",get:function(){return this._lastJoinedRoom}},{key:"isConnected",get:function(){return null!=this._socketEngine&&this._socketEngine.isConnected}},{key:"maxMessageSize",get:function(){return null!=this._socketEngine?this._socketEngine.maxMessageSize:0}}]),L}();w.SmartFox=G},function(U,w,h){var C=h(0),b=h(89);b&&C(C.S,"Reflect",{setPrototypeOf:function(S,m){b.check(S,m);try{return b.set(S,m),!0}catch(_){return!1}}})},function(U,w,h){var C=h(10),b=h(23),S=h(31),m=h(16),_=h(0),p=h(36),g=h(5),f=h(4);_(_.S,"Reflect",{set:function E(T,d,v){var M,N,k=arguments.length<4?T:arguments[3],G=b.f(g(T),d);if(!G){if(f(N=S(T)))return E(N,d,v,k);G=p(0)}return m(G,"value")?!(!1===G.writable||!f(k)||((M=b.f(k,d)||p(0)).value=v,C.f(k,d,M),0)):void 0!==G.set&&(G.set.call(k,v),!0)}})},function(U,w,h){var C=h(0),b=h(5),S=Object.preventExtensions;C(C.S,"Reflect",{preventExtensions:function(m){b(m);try{return S&&S(m),!0}catch(_){return!1}}})},function(U,w,h){var C=h(32),b=h(68),S=h(5),m=h(6).Reflect;U.exports=m&&m.ownKeys||function(_){var p=C.f(S(_)),g=b.f;return g?p.concat(g(_)):p}},function(U,w,h){var C=h(0);C(C.S,"Reflect",{ownKeys:h(180)})},function(U,w,h){var C=h(0),b=h(5),S=Object.isExtensible;C(C.S,"Reflect",{isExtensible:function(m){return b(m),!S||S(m)}})},function(U,w,h){var C=h(0);C(C.S,"Reflect",{has:function(b,S){return S in b}})},function(U,w,h){var C=h(0),b=h(31),S=h(5);C(C.S,"Reflect",{getPrototypeOf:function(m){return b(S(m))}})},function(U,w,h){var C=h(23),b=h(0),S=h(5);b(b.S,"Reflect",{getOwnPropertyDescriptor:function(m,_){return C.f(S(m),_)}})},function(U,w,h){var C=h(23),b=h(31),S=h(16),m=h(0),_=h(4),p=h(5);m(m.S,"Reflect",{get:function g(f,E){var T,d,v=arguments.length<3?f:arguments[2];return p(f)===v?f[E]:(T=C.f(f,E))?S(T,"value")?T.value:void 0!==T.get?T.get.call(v):void 0:_(d=b(f))?g(d,E,v):void 0}})},function(U,w,h){"use strict";var C=h(0),b=h(5),S=function(m){this._t=b(m),this._i=0;var _,p=this._k=[];for(_ in m)p.push(_)};h(133)(S,"Object",function(){var m,_=this._k;do{if(this._i>=_.length)return{value:void 0,done:!0}}while(!((m=_[this._i++])in this._t));return{value:m,done:!1}}),C(C.S,"Reflect",{enumerate:function(m){return new S(m)}})},function(U,w,h){var C=h(0),b=h(23).f,S=h(5);C(C.S,"Reflect",{deleteProperty:function(m,_){var p=b(S(m),_);return!(p&&!p.configurable)&&delete m[_]}})},function(U,w,h){var C=h(10),b=h(0),S=h(5),m=h(30);b(b.S+b.F*h(3)(function(){Reflect.defineProperty(C.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(_,p,g){S(_),p=m(p,!0),S(g);try{return C.f(_,p,g),!0}catch(f){return!1}}})},function(U,w,h){var C=h(0),b=h(33),S=h(26),m=h(5),_=h(4),p=h(3),g=h(142),f=(h(6).Reflect||{}).construct,E=p(function(){function d(){}return!(f(function(){},[],d)instanceof d)}),T=!p(function(){f(function(){})});C(C.S+C.F*(E||T),"Reflect",{construct:function(d,v){S(d),m(v);var M=arguments.length<3?d:S(arguments[2]);if(T&&!E)return f(d,v,M);if(d==M){switch(v.length){case 0:return new d;case 1:return new d(v[0]);case 2:return new d(v[0],v[1]);case 3:return new d(v[0],v[1],v[2]);case 4:return new d(v[0],v[1],v[2],v[3])}var N=[null];return N.push.apply(N,v),new(g.apply(d,N))}var k=M.prototype,G=b(_(k)?k:Object.prototype),z=Function.apply.call(d,G,v);return _(z)?z:G}})},function(U,w,h){var C=h(0),b=h(26),S=h(5),m=(h(6).Reflect||{}).apply,_=Function.apply;C(C.S+C.F*!h(3)(function(){m(function(){})}),"Reflect",{apply:function(p,g,f){var E=b(p),T=S(f);return m?m(E,g,T):_.call(E,g,T)}})},function(U,w,h){h(22)("Float64",8,function(C){return function(b,S,m){return C(this,b,S,m)}})},function(U,w,h){h(22)("Float32",4,function(C){return function(b,S,m){return C(this,b,S,m)}})},function(U,w,h){h(22)("Uint32",4,function(C){return function(b,S,m){return C(this,b,S,m)}})},function(U,w,h){h(22)("Int32",4,function(C){return function(b,S,m){return C(this,b,S,m)}})},function(U,w,h){h(22)("Uint16",2,function(C){return function(b,S,m){return C(this,b,S,m)}})},function(U,w,h){h(22)("Int16",2,function(C){return function(b,S,m){return C(this,b,S,m)}})},function(U,w,h){h(22)("Uint8",1,function(C){return function(b,S,m){return C(this,b,S,m)}},!0)},function(U,w,h){h(22)("Uint8",1,function(C){return function(b,S,m){return C(this,b,S,m)}})},function(U,w,h){h(22)("Int8",1,function(C){return function(b,S,m){return C(this,b,S,m)}})},function(U,w,h){var C=h(0);C(C.G+C.W+C.F*!h(60).ABV,{DataView:h(75).DataView})},function(U,w,h){"use strict";var C=h(0),b=h(60),S=h(75),m=h(5),_=h(34),p=h(12),g=h(4),f=h(6).ArrayBuffer,E=h(76),T=S.ArrayBuffer,d=S.DataView,v=b.ABV&&f.isView,M=T.prototype.slice,N=b.VIEW;C(C.G+C.W+C.F*(f!==T),{ArrayBuffer:T}),C(C.S+C.F*!b.CONSTR,"ArrayBuffer",{isView:function(k){return v&&v(k)||g(k)&&N in k}}),C(C.P+C.U+C.F*h(3)(function(){return!new T(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(k,G){if(void 0!==M&&void 0===G)return M.call(m(this),k);for(var z=m(this).byteLength,L=_(k,z),j=_(void 0===G?z:G,z),F=new(E(this,T))(p(j-L)),W=new d(this),Q=new d(F),$=0;L<j;)Q.setUint8($++,W.getUint8(L++));return F}}),h(43)("ArrayBuffer")},function(U,w,h){"use strict";var C=h(122),b=h(40);h(61)("WeakSet",function(S){return function(){return S(this,arguments.length>0?arguments[0]:void 0)}},{add:function(S){return C.def(b(this,"WeakSet"),S,!0)}},C,!1,!0)},function(U,w,h){"use strict";var C,b=h(19)(0),S=h(15),m=h(29),_=h(143),p=h(122),g=h(4),f=h(3),E=h(40),T=m.getWeak,d=Object.isExtensible,v=p.ufstore,M={},N=function(z){return function(){return z(this,arguments.length>0?arguments[0]:void 0)}},k={get:function(z){if(g(z)){var L=T(z);return!0===L?v(E(this,"WeakMap")).get(z):L?L[this._i]:void 0}},set:function(z,L){return p.def(E(this,"WeakMap"),z,L)}},G=U.exports=h(61)("WeakMap",N,k,p,!0,!0);f(function(){return 7!=(new G).set((Object.freeze||Object)(M),7).get(M)})&&(_((C=p.getConstructor(N,"WeakMap")).prototype,k),m.NEED=!0,b(["delete","has","get","set"],function(z){var L=G.prototype,j=L[z];S(L,z,function(F,W){if(g(F)&&!d(F)){this._f||(this._f=new C);var Q=this._f[z](F,W);return"set"==z?this:Q}return j.call(this,F,W)})}))},function(U,w,h){"use strict";var C=h(123),b=h(40);U.exports=h(61)("Set",function(S){return function(){return S(this,arguments.length>0?arguments[0]:void 0)}},{add:function(S){return C.def(b(this,"Set"),S=0===S?0:S,S)}},C)},function(U,w,h){"use strict";var C=h(123),b=h(40);U.exports=h(61)("Map",function(S){return function(){return S(this,arguments.length>0?arguments[0]:void 0)}},{get:function(S){var m=C.getEntry(b(this,"Map"),S);return m&&m.v},set:function(S,m){return C.def(b(this,"Map"),0===S?0:S,m)}},C,!0)},function(U,w,h){var C=h(5),b=h(4),S=h(124);U.exports=function(m,_){if(C(m),b(_)&&_.constructor===m)return _;var p=S.f(m);return(0,p.resolve)(_),p.promise}},function(U,w){U.exports=function(h){try{return{e:!1,v:h()}}catch(C){return{e:!0,v:C}}}},function(U,w,h){var C=h(6),b=h(125).set,S=C.MutationObserver||C.WebKitMutationObserver,m=C.process,_=C.Promise,p="process"==h(25)(m);U.exports=function(){var g,f,E,T=function(){var N,k;for(p&&(N=m.domain)&&N.exit();g;){k=g.fn,g=g.next;try{k()}catch(G){throw g?E():f=void 0,G}}f=void 0,N&&N.enter()};if(p)E=function(){m.nextTick(T)};else if(!S||C.navigator&&C.navigator.standalone)if(_&&_.resolve){var d=_.resolve();E=function(){d.then(T)}}else E=function(){b.call(C,T)};else{var v=!0,M=document.createTextNode("");new S(T).observe(M,{characterData:!0}),E=function(){M.data=v=!v}}return function(N){var k={fn:N,next:void 0};f&&(f.next=k),g||(g=k,E()),f=k}}},function(U,w,h){"use strict";var C,b,S,m,_=h(44),p=h(6),g=h(27),f=h(66),E=h(0),T=h(4),d=h(26),v=h(42),M=h(62),N=h(76),k=h(125).set,G=h(209)(),z=h(124),L=h(208),j=h(207),F=p.TypeError,W=p.process,Q=p.Promise,$="process"==f(W),oe=function(){},J=b=z.f,de=!!function(){try{var le=Q.resolve(1),he=(le.constructor={})[h(7)("species")]=function(ge){ge(oe,oe)};return($||"function"==typeof PromiseRejectionEvent)&&le.then(oe)instanceof he}catch(ge){}}(),Re=function(le){var he;return!(!T(le)||"function"!=typeof(he=le.then))&&he},Te=function(le,he){if(!le._n){le._n=!0;var ge=le._c;G(function(){for(var Ge=le._v,tt=1==le._s,Le=0,It=function(Ze){var Ve,ae,_e,ye=tt?Ze.ok:Ze.fail,He=Ze.resolve,qe=Ze.reject,ot=Ze.domain;try{ye?(tt||(2==le._h&&ue(le),le._h=1),!0===ye?Ve=Ge:(ot&&ot.enter(),Ve=ye(Ge),ot&&(ot.exit(),_e=!0)),Ve===Ze.promise?qe(F("Promise-chain cycle")):(ae=Re(Ve))?ae.call(Ve,He,qe):He(Ve)):qe(Ge)}catch(ke){ot&&!_e&&ot.exit(),qe(ke)}};ge.length>Le;)It(ge[Le++]);le._c=[],le._n=!1,he&&!le._h&&Pe(le)})}},Pe=function(le){k.call(p,function(){var he,ge,Ge,tt=le._v,Le=K(le);if(Le&&(he=L(function(){$?W.emit("unhandledRejection",tt,le):(ge=p.onunhandledrejection)?ge({promise:le,reason:tt}):(Ge=p.console)&&Ge.error&&Ge.error("Unhandled promise rejection",tt)}),le._h=$||K(le)?2:1),le._a=void 0,Le&&he.e)throw he.v})},K=function(le){return 1!==le._h&&0===(le._a||le._c).length},ue=function(le){k.call(p,function(){var he;$?W.emit("rejectionHandled",le):(he=p.onrejectionhandled)&&he({promise:le,reason:le._v})})},te=function(le){var he=this;he._d||(he._d=!0,(he=he._w||he)._v=le,he._s=2,he._a||(he._a=he._c.slice()),Te(he,!0))},we=function(le){var he,ge=this;if(!ge._d){ge._d=!0,ge=ge._w||ge;try{if(ge===le)throw F("Promise can't be resolved itself");(he=Re(le))?G(function(){var Ge={_w:ge,_d:!1};try{he.call(le,g(we,Ge,1),g(te,Ge,1))}catch(tt){te.call(Ge,tt)}}):(ge._v=le,ge._s=1,Te(ge,!1))}catch(Ge){te.call({_w:ge,_d:!1},Ge)}}};de||(Q=function(le){v(this,Q,"Promise","_h"),d(le),C.call(this);try{le(g(we,this,1),g(te,this,1))}catch(he){te.call(this,he)}},(C=function(le){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=h(41)(Q.prototype,{then:function(le,he){var ge=J(N(this,Q));return ge.ok="function"!=typeof le||le,ge.fail="function"==typeof he&&he,ge.domain=$?W.domain:void 0,this._c.push(ge),this._a&&this._a.push(ge),this._s&&Te(this,!1),ge.promise},catch:function(le){return this.then(void 0,le)}}),S=function(){var le=new C;this.promise=le,this.resolve=g(we,le,1),this.reject=g(te,le,1)},z.f=J=function(le){return le===Q||le===m?new S(le):b(le)}),E(E.G+E.W+E.F*!de,{Promise:Q}),h(45)(Q,"Promise"),h(43)("Promise"),m=h(37).Promise,E(E.S+E.F*!de,"Promise",{reject:function(le){var he=J(this);return(0,he.reject)(le),he.promise}}),E(E.S+E.F*(_||!de),"Promise",{resolve:function(le){return j(_&&this===m?Q:this,le)}}),E(E.S+E.F*!(de&&h(64)(function(le){Q.all(le).catch(oe)})),"Promise",{all:function(le){var he=this,ge=J(he),Ge=ge.resolve,tt=ge.reject,Le=L(function(){var It=[],Ze=0,Ve=1;M(le,!1,function(ae){var _e=Ze++,ye=!1;It.push(void 0),Ve++,he.resolve(ae).then(function(He){ye||(ye=!0,It[_e]=He,--Ve||Ge(It))},tt)}),--Ve||Ge(It)});return Le.e&&tt(Le.v),ge.promise},race:function(le){var he=this,ge=J(he),Ge=ge.reject,tt=L(function(){M(le,!1,function(Le){he.resolve(Le).then(ge.resolve,Ge)})});return tt.e&&Ge(tt.v),ge.promise}})},function(U,w,h){h(63)("split",2,function(C,b,S){"use strict";var m=h(82),_=S,p=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var g=void 0===/()??/.exec("")[1];S=function(f,E){var T=String(this);if(void 0===f&&0===E)return[];if(!m(f))return _.call(T,f,E);var d,v,M,N,k,G=[],z=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(f.sticky?"y":""),L=0,j=void 0===E?4294967295:E>>>0,F=new RegExp(f.source,z+"g");for(g||(d=new RegExp("^"+F.source+"$(?!\\s)",z));(v=F.exec(T))&&!((M=v.index+v[0].length)>L&&(G.push(T.slice(L,v.index)),!g&&v.length>1&&v[0].replace(d,function(){for(k=1;k<arguments.length-2;k++)void 0===arguments[k]&&(v[k]=void 0)}),v.length>1&&v.index<T.length&&p.apply(G,v.slice(1)),N=v[0].length,L=M,G.length>=j));)F.lastIndex===v.index&&F.lastIndex++;return L===T.length?!N&&F.test("")||G.push(""):G.push(T.slice(L)),G.length>j?G.slice(0,j):G}}else"0".split(void 0,0).length&&(S=function(f,E){return void 0===f&&0===E?[]:_.call(this,f,E)});return[function(f,E){var T=C(this),d=null==f?void 0:f[b];return void 0!==d?d.call(f,T,E):S.call(String(T),f,E)},S]})},function(U,w,h){h(63)("search",1,function(C,b,S){return[function(m){"use strict";var _=C(this),p=null==m?void 0:m[b];return void 0!==p?p.call(m,_):new RegExp(m)[b](String(_))},S]})},function(U,w,h){h(63)("replace",2,function(C,b,S){return[function(m,_){"use strict";var p=C(this),g=null==m?void 0:m[b];return void 0!==g?g.call(m,p,_):S.call(String(p),m,_)},S]})},function(U,w,h){h(63)("match",1,function(C,b,S){return[function(m){"use strict";var _=C(this),p=null==m?void 0:m[b];return void 0!==p?p.call(m,_):new RegExp(m)[b](String(_))},S]})},function(U,w,h){"use strict";h(126);var C=h(5),b=h(77),S=h(11),m=/./.toString,_=function(p){h(15)(RegExp.prototype,"toString",p,!0)};h(3)(function(){return"/a/b"!=m.call({source:"a",flags:"b"})})?_(function(){var p=C(this);return"/".concat(p.source,"/","flags"in p?p.flags:!S&&p instanceof RegExp?b.call(p):void 0)}):"toString"!=m.name&&_(function(){return m.call(this)})},function(U,w,h){var C=h(6),b=h(87),S=h(10).f,m=h(32).f,_=h(82),p=h(77),g=C.RegExp,f=g,E=g.prototype,T=/a/g,d=/a/g,v=new g(T)!==T;if(h(11)&&(!v||h(3)(function(){return d[h(7)("match")]=!1,g(T)!=T||g(d)==d||"/a/i"!=g(T,"i")}))){g=function(G,z){var L=this instanceof g,j=_(G),F=void 0===z;return!L&&j&&G.constructor===g&&F?G:b(v?new f(j&&!F?G.source:G,z):f((j=G instanceof g)?G.source:G,j&&F?p.call(G):z),L?this:E,g)};for(var M=function(G){G in g||S(g,G,{configurable:!0,get:function(){return f[G]},set:function(z){f[G]=z}})},N=m(f),k=0;N.length>k;)M(N[k++]);E.constructor=g,g.prototype=E,h(15)(C,"RegExp",g)}h(43)("RegExp")},function(U,w,h){h(43)("Array")},function(U,w,h){"use strict";var C=h(0),b=h(19)(6),S="findIndex",m=!0;S in[]&&Array(1)[S](function(){m=!1}),C(C.P+C.F*m,"Array",{findIndex:function(_){return b(this,_,arguments.length>1?arguments[1]:void 0)}}),h(52)(S)},function(U,w,h){"use strict";var C=h(0),b=h(19)(5),S=!0;"find"in[]&&Array(1).find(function(){S=!1}),C(C.P+C.F*S,"Array",{find:function(m){return b(this,m,arguments.length>1?arguments[1]:void 0)}}),h(52)("find")},function(U,w,h){var C=h(0);C(C.P,"Array",{fill:h(78)}),h(52)("fill")},function(U,w,h){var C=h(0);C(C.P,"Array",{copyWithin:h(129)}),h(52)("copyWithin")},function(U,w,h){"use strict";var C=h(0),b=h(21),S=h(24),m=h(12),_=[].lastIndexOf,p=!!_&&1/[1].lastIndexOf(1,-0)<0;C(C.P+C.F*(p||!h(17)(_)),"Array",{lastIndexOf:function(g){if(p)return _.apply(this,arguments)||0;var f=b(this),E=m(f.length),T=E-1;for(arguments.length>1&&(T=Math.min(T,S(arguments[1]))),T<0&&(T=E+T);T>=0;T--)if(T in f&&f[T]===g)return T||0;return-1}})},function(U,w,h){"use strict";var C=h(0),b=h(94)(!1),S=[].indexOf,m=!!S&&1/[1].indexOf(1,-0)<0;C(C.P+C.F*(m||!h(17)(S)),"Array",{indexOf:function(_){return m?S.apply(this,arguments)||0:b(this,_,arguments[1])}})},function(U,w,h){"use strict";var C=h(0),b=h(130);C(C.P+C.F*!h(17)([].reduceRight,!0),"Array",{reduceRight:function(S){return b(this,S,arguments.length,arguments[1],!0)}})},function(U,w,h){"use strict";var C=h(0),b=h(130);C(C.P+C.F*!h(17)([].reduce,!0),"Array",{reduce:function(S){return b(this,S,arguments.length,arguments[1],!1)}})},function(U,w,h){"use strict";var C=h(0),b=h(19)(4);C(C.P+C.F*!h(17)([].every,!0),"Array",{every:function(S){return b(this,S,arguments[1])}})},function(U,w,h){"use strict";var C=h(0),b=h(19)(3);C(C.P+C.F*!h(17)([].some,!0),"Array",{some:function(S){return b(this,S,arguments[1])}})},function(U,w,h){"use strict";var C=h(0),b=h(19)(2);C(C.P+C.F*!h(17)([].filter,!0),"Array",{filter:function(S){return b(this,S,arguments[1])}})},function(U,w,h){"use strict";var C=h(0),b=h(19)(1);C(C.P+C.F*!h(17)([].map,!0),"Array",{map:function(S){return b(this,S,arguments[1])}})},function(U,w,h){var C=h(4),b=h(91),S=h(7)("species");U.exports=function(m){var _;return b(m)&&("function"!=typeof(_=m.constructor)||_!==Array&&!b(_.prototype)||(_=void 0),C(_)&&null===(_=_[S])&&(_=void 0)),void 0===_?Array:_}},function(U,w,h){var C=h(230);U.exports=function(b,S){return new(C(b))(S)}},function(U,w,h){"use strict";var C=h(0),b=h(19)(0),S=h(17)([].forEach,!0);C(C.P+C.F*!S,"Array",{forEach:function(m){return b(this,m,arguments[1])}})},function(U,w,h){"use strict";var C=h(0),b=h(26),S=h(14),m=h(3),_=[].sort,p=[1,2,3];C(C.P+C.F*(m(function(){p.sort(void 0)})||!m(function(){p.sort(null)})||!h(17)(_)),"Array",{sort:function(g){return void 0===g?_.call(S(this)):_.call(S(this),b(g))}})},function(U,w,h){"use strict";var C=h(0),b=h(90),S=h(25),m=h(34),_=h(12),p=[].slice;C(C.P+C.F*h(3)(function(){b&&p.call(b)}),"Array",{slice:function(g,f){var E=_(this.length),T=S(this);if(f=void 0===f?E:f,"Array"==T)return p.call(this,g,f);for(var d=m(g,E),v=m(f,E),M=_(v-d),N=new Array(M),k=0;k<M;k++)N[k]="String"==T?this.charAt(d+k):this[d+k];return N}})},function(U,w,h){"use strict";var C=h(0),b=h(21),S=[].join;C(C.P+C.F*(h(54)!=Object||!h(17)(S)),"Array",{join:function(m){return S.call(b(this),void 0===m?",":m)}})},function(U,w,h){"use strict";var C=h(0),b=h(131);C(C.S+C.F*h(3)(function(){function S(){}return!(Array.of.call(S)instanceof S)}),"Array",{of:function(){for(var S=0,m=arguments.length,_=new("function"==typeof this?this:Array)(m);m>S;)b(_,S,arguments[S++]);return _.length=m,_}})},function(U,w,h){"use strict";var C=h(27),b=h(0),S=h(14),m=h(132),_=h(80),p=h(12),g=h(131),f=h(79);b(b.S+b.F*!h(64)(function(E){Array.from(E)}),"Array",{from:function(E){var T,d,v,M,N=S(E),k="function"==typeof this?this:Array,G=arguments.length,z=G>1?arguments[1]:void 0,L=void 0!==z,j=0,F=f(N);if(L&&(z=C(z,G>2?arguments[2]:void 0,2)),null==F||k==Array&&_(F))for(d=new k(T=p(N.length));T>j;j++)g(d,j,L?z(N[j],j):N[j]);else for(M=F.call(N),d=new k;!(v=M.next()).done;j++)g(d,j,L?m(M,z,[v.value,j],!0):v.value);return d.length=j,d}})},function(U,w,h){var C=h(0);C(C.S,"Array",{isArray:h(91)})},function(U,w,h){"use strict";var C=h(5),b=h(30);U.exports=function(S){if("string"!==S&&"number"!==S&&"default"!==S)throw TypeError("Incorrect hint");return b(C(this),"number"!=S)}},function(U,w,h){var C=h(7)("toPrimitive"),b=Date.prototype;C in b||h(18)(b,C,h(239))},function(U,w,h){var C=Date.prototype,b=C.toString,S=C.getTime;new Date(NaN)+""!="Invalid Date"&&h(15)(C,"toString",function(){var m=S.call(this);return m==m?b.call(this):"Invalid Date"})},function(U,w,h){"use strict";var C=h(3),b=Date.prototype.getTime,S=Date.prototype.toISOString,m=function(_){return _>9?_:"0"+_};U.exports=C(function(){return"0385-07-25T07:06:39.999Z"!=S.call(new Date(-50000000000001))})||!C(function(){S.call(new Date(NaN))})?function(){if(!isFinite(b.call(this)))throw RangeError("Invalid time value");var _=this,p=_.getUTCFullYear(),g=_.getUTCMilliseconds(),f=p<0?"-":p>9999?"+":"";return f+("00000"+Math.abs(p)).slice(f?-6:-4)+"-"+m(_.getUTCMonth()+1)+"-"+m(_.getUTCDate())+"T"+m(_.getUTCHours())+":"+m(_.getUTCMinutes())+":"+m(_.getUTCSeconds())+"."+(g>99?g:"0"+m(g))+"Z"}:S},function(U,w,h){var C=h(0),b=h(242);C(C.P+C.F*(Date.prototype.toISOString!==b),"Date",{toISOString:b})},function(U,w,h){"use strict";var C=h(0),b=h(14),S=h(30);C(C.P+C.F*h(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(m){var _=b(this),p=S(_);return"number"!=typeof p||isFinite(p)?_.toISOString():null}})},function(U,w,h){var C=h(0);C(C.S,"Date",{now:function(){return(new Date).getTime()}})},function(U,w,h){"use strict";h(13)("sup",function(C){return function(){return C(this,"sup","","")}})},function(U,w,h){"use strict";h(13)("sub",function(C){return function(){return C(this,"sub","","")}})},function(U,w,h){"use strict";h(13)("strike",function(C){return function(){return C(this,"strike","","")}})},function(U,w,h){"use strict";h(13)("small",function(C){return function(){return C(this,"small","","")}})},function(U,w,h){"use strict";h(13)("link",function(C){return function(b){return C(this,"a","href",b)}})},function(U,w,h){"use strict";h(13)("italics",function(C){return function(){return C(this,"i","","")}})},function(U,w,h){"use strict";h(13)("fontsize",function(C){return function(b){return C(this,"font","size",b)}})},function(U,w,h){"use strict";h(13)("fontcolor",function(C){return function(b){return C(this,"font","color",b)}})},function(U,w,h){"use strict";h(13)("fixed",function(C){return function(){return C(this,"tt","","")}})},function(U,w,h){"use strict";h(13)("bold",function(C){return function(){return C(this,"b","","")}})},function(U,w,h){"use strict";h(13)("blink",function(C){return function(){return C(this,"blink","","")}})},function(U,w,h){"use strict";h(13)("big",function(C){return function(){return C(this,"big","","")}})},function(U,w,h){"use strict";h(13)("anchor",function(C){return function(b){return C(this,"a","name",b)}})},function(U,w,h){"use strict";var C=h(0),b=h(12),S=h(83),m="".startsWith;C(C.P+C.F*h(81)("startsWith"),"String",{startsWith:function(_){var p=S(this,_,"startsWith"),g=b(Math.min(arguments.length>1?arguments[1]:void 0,p.length)),f=String(_);return m?m.call(p,f,g):p.slice(g,g+f.length)===f}})},function(U,w,h){var C=h(0);C(C.P,"String",{repeat:h(137)})},function(U,w,h){"use strict";var C=h(0),b=h(83);C(C.P+C.F*h(81)("includes"),"String",{includes:function(S){return!!~b(this,S,"includes").indexOf(S,arguments.length>1?arguments[1]:void 0)}})},function(U,w,h){"use strict";var C=h(0),b=h(12),S=h(83),m="".endsWith;C(C.P+C.F*h(81)("endsWith"),"String",{endsWith:function(_){var p=S(this,_,"endsWith"),g=arguments.length>1?arguments[1]:void 0,f=b(p.length),E=void 0===g?f:Math.min(b(g),f),T=String(_);return m?m.call(p,T,E):p.slice(E-T.length,E)===T}})},function(U,w,h){"use strict";var C=h(0),b=h(134)(!1);C(C.P,"String",{codePointAt:function(S){return b(this,S)}})},function(U,w,h){"use strict";var C=h(134)(!0);h(84)(String,"String",function(b){this._t=String(b),this._i=0},function(){var b,S=this._t,m=this._i;return m>=S.length?{value:void 0,done:!0}:(b=C(S,m),this._i+=b.length,{value:b,done:!1})})},function(U,w,h){"use strict";h(65)("trim",function(C){return function(){return C(this,3)}})},function(U,w,h){var C=h(0),b=h(21),S=h(12);C(C.S,"String",{raw:function(m){for(var _=b(m.raw),p=S(_.length),g=arguments.length,f=[],E=0;p>E;)f.push(String(_[E++])),E<g&&f.push(String(arguments[E]));return f.join("")}})},function(U,w,h){var C=h(0),b=h(34),S=String.fromCharCode,m=String.fromCodePoint;C(C.S+C.F*(!!m&&1!=m.length),"String",{fromCodePoint:function(_){for(var p,g=[],f=arguments.length,E=0;f>E;){if(p=+arguments[E++],b(p,1114111)!==p)throw RangeError(p+" is not a valid code point");g.push(p<65536?S(p):S(55296+((p-=65536)>>10),p%1024+56320))}return g.join("")}})},function(U,w,h){var C=h(0);C(C.S,"Math",{trunc:function(b){return(b>0?Math.floor:Math.ceil)(b)}})},function(U,w,h){var C=h(0),b=h(85),S=Math.exp;C(C.S,"Math",{tanh:function(m){var _=b(m=+m),p=b(-m);return _==1/0?1:p==1/0?-1:(_-p)/(S(m)+S(-m))}})},function(U,w,h){var C=h(0),b=h(85),S=Math.exp;C(C.S+C.F*h(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(m){return Math.abs(m=+m)<1?(b(m)-b(-m))/2:(S(m-1)-S(-m-1))*(Math.E/2)}})},function(U,w,h){var C=h(0);C(C.S,"Math",{sign:h(86)})},function(U,w,h){var C=h(0);C(C.S,"Math",{log2:function(b){return Math.log(b)/Math.LN2}})},function(U,w,h){var C=h(0);C(C.S,"Math",{log1p:h(135)})},function(U,w,h){var C=h(0);C(C.S,"Math",{log10:function(b){return Math.log(b)*Math.LOG10E}})},function(U,w,h){var C=h(0),b=Math.imul;C(C.S+C.F*h(3)(function(){return-5!=b(4294967295,5)||2!=b.length}),"Math",{imul:function(S,m){var _=+S,p=+m,g=65535&_,f=65535&p;return 0|g*f+((65535&_>>>16)*f+g*(65535&p>>>16)<<16>>>0)}})},function(U,w,h){var C=h(0),b=Math.abs;C(C.S,"Math",{hypot:function(S,m){for(var _,p,g=0,f=0,E=arguments.length,T=0;f<E;)T<(_=b(arguments[f++]))?(g=g*(p=T/_)*p+1,T=_):g+=_>0?(p=_/T)*p:_;return T===1/0?1/0:T*Math.sqrt(g)}})},function(U,w,h){var C=h(86),b=Math.pow,S=b(2,-52),m=b(2,-23),_=b(2,127)*(2-m),p=b(2,-126);U.exports=Math.fround||function(g){var f,E,T=Math.abs(g),d=C(g);return T<p?d*(T/p/m+1/S-1/S)*p*m:(E=(f=(1+m/S)*T)-(f-T))>_||E!=E?d*(1/0):d*E}},function(U,w,h){var C=h(0);C(C.S,"Math",{fround:h(277)})},function(U,w,h){var C=h(0),b=h(85);C(C.S+C.F*(b!=Math.expm1),"Math",{expm1:b})},function(U,w,h){var C=h(0),b=Math.exp;C(C.S,"Math",{cosh:function(S){return(b(S=+S)+b(-S))/2}})},function(U,w,h){var C=h(0);C(C.S,"Math",{clz32:function(b){return(b>>>=0)?31-Math.floor(Math.log(b+.5)*Math.LOG2E):32}})},function(U,w,h){var C=h(0),b=h(86);C(C.S,"Math",{cbrt:function(S){return b(S=+S)*Math.pow(Math.abs(S),1/3)}})},function(U,w,h){var C=h(0),b=Math.atanh;C(C.S+C.F*!(b&&1/b(-0)<0),"Math",{atanh:function(S){return 0==(S=+S)?S:Math.log((1+S)/(1-S))/2}})},function(U,w,h){var C=h(0),b=Math.asinh;C(C.S+C.F*!(b&&1/b(0)>0),"Math",{asinh:function S(m){return isFinite(m=+m)&&0!=m?m<0?-S(-m):Math.log(m+Math.sqrt(m*m+1)):m}})},function(U,w,h){var C=h(0),b=h(135),S=Math.sqrt,m=Math.acosh;C(C.S+C.F*!(m&&710==Math.floor(m(Number.MAX_VALUE))&&m(1/0)==1/0),"Math",{acosh:function(_){return(_=+_)<1?NaN:_>94906265.62425156?Math.log(_)+Math.LN2:b(_-1+S(_-1)*S(_+1))}})},function(U,w,h){var C=h(0),b=h(140);C(C.S+C.F*(Number.parseInt!=b),"Number",{parseInt:b})},function(U,w,h){var C=h(0),b=h(139);C(C.S+C.F*(Number.parseFloat!=b),"Number",{parseFloat:b})},function(U,w,h){var C=h(0);C(C.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(U,w,h){var C=h(0);C(C.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(U,w,h){var C=h(0),b=h(136),S=Math.abs;C(C.S,"Number",{isSafeInteger:function(m){return b(m)&&S(m)<=9007199254740991}})},function(U,w,h){var C=h(0);C(C.S,"Number",{isNaN:function(b){return b!=b}})},function(U,w,h){var C=h(0);C(C.S,"Number",{isInteger:h(136)})},function(U,w,h){var C=h(0),b=h(6).isFinite;C(C.S,"Number",{isFinite:function(S){return"number"==typeof S&&b(S)}})},function(U,w,h){var C=h(0);C(C.S,"Number",{EPSILON:Math.pow(2,-52)})},function(U,w,h){"use strict";var C=h(0),b=h(3),S=h(138),m=1..toPrecision;C(C.P+C.F*(b(function(){return"1"!==m.call(1,void 0)})||!b(function(){m.call({})})),"Number",{toPrecision:function(_){var p=S(this,"Number#toPrecision: incorrect invocation!");return void 0===_?m.call(p):m.call(p,_)}})},function(U,w,h){"use strict";var C=h(0),b=h(24),S=h(138),m=h(137),_=1..toFixed,p=Math.floor,g=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",E=function(M,N){for(var k=-1,G=N;++k<6;)g[k]=(G+=M*g[k])%1e7,G=p(G/1e7)},T=function(M){for(var N=6,k=0;--N>=0;)g[N]=p((k+=g[N])/M),k=k%M*1e7},d=function(){for(var M=6,N="";--M>=0;)if(""!==N||0===M||0!==g[M]){var k=String(g[M]);N=""===N?k:N+m.call("0",7-k.length)+k}return N},v=function(M,N,k){return 0===N?k:N%2==1?v(M,N-1,k*M):v(M*M,N/2,k)};C(C.P+C.F*(!!_&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!h(3)(function(){_.call({})})),"Number",{toFixed:function(M){var N,k,G,z,L=S(this,f),j=b(M),F="",W="0";if(j<0||j>20)throw RangeError(f);if(L!=L)return"NaN";if(L<=-1e21||L>=1e21)return String(L);if(L<0&&(F="-",L=-L),L>1e-21)if(k=(N=function(Q){for(var $=0,oe=Q;oe>=4096;)$+=12,oe/=4096;for(;oe>=2;)$+=1,oe/=2;return $}(L*v(2,69,1))-69)<0?L*v(2,-N,1):L/v(2,N,1),k*=4503599627370496,(N=52-N)>0){for(E(0,k),G=j;G>=7;)E(1e7,0),G-=7;for(E(v(10,G,1),0),G=N-1;G>=23;)T(1<<23),G-=23;T(1<<G),E(1,1),T(2),W=d()}else E(0,k),E(1<<-N,0),W=d()+m.call("0",j);return j>0?F+((z=W.length)<=j?"0."+m.call("0",j-z)+W:W.slice(0,z-j)+"."+W.slice(z-j)):F+W}})},function(U,w,h){"use strict";var C=h(6),b=h(16),S=h(25),m=h(87),_=h(30),p=h(3),g=h(32).f,f=h(23).f,E=h(10).f,T=h(65).trim,d=C.Number,v=d,M=d.prototype,N="Number"==S(h(33)(M)),k="trim"in String.prototype,G=function(F){var W=_(F,!1);if("string"==typeof W&&W.length>2){var Q,$,oe,J=(W=k?W.trim():T(W,3)).charCodeAt(0);if(43===J||45===J){if(88===(Q=W.charCodeAt(2))||120===Q)return NaN}else if(48===J){switch(W.charCodeAt(1)){case 66:case 98:$=2,oe=49;break;case 79:case 111:$=8,oe=55;break;default:return+W}for(var de,Re=W.slice(2),Te=0,Pe=Re.length;Te<Pe;Te++)if((de=Re.charCodeAt(Te))<48||de>oe)return NaN;return parseInt(Re,$)}}return+W};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(F){var W=arguments.length<1?0:F,Q=this;return Q instanceof d&&(N?p(function(){M.valueOf.call(Q)}):"Number"!=S(Q))?m(new v(G(W)),Q,d):G(W)};for(var z,L=h(11)?g(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;L.length>j;j++)b(v,z=L[j])&&!b(d,z)&&E(d,z,f(v,z));d.prototype=M,M.constructor=d,h(15)(C,"Number",d)}},function(U,w,h){var C=h(0),b=h(139);C(C.G+C.F*(parseFloat!=b),{parseFloat:b})},function(U,w,h){var C=h(0),b=h(140);C(C.G+C.F*(parseInt!=b),{parseInt:b})},function(U,w,h){"use strict";var C=h(4),b=h(31),S=h(7)("hasInstance"),m=Function.prototype;S in m||h(10).f(m,S,{value:function(_){if("function"!=typeof this||!C(_))return!1;if(!C(this.prototype))return _ instanceof this;for(;_=b(_);)if(this.prototype===_)return!0;return!1}})},function(U,w,h){var C=h(10).f,b=Function.prototype,S=/^\s*function ([^ (]*)/;"name"in b||h(11)&&C(b,"name",{configurable:!0,get:function(){try{return(""+this).match(S)[1]}catch(m){return""}}})},function(U,w,h){var C=h(0);C(C.P,"Function",{bind:h(142)})},function(U,w,h){"use strict";var C=h(66),b={};b[h(7)("toStringTag")]="z",b+""!="[object z]"&&h(15)(Object.prototype,"toString",function(){return"[object "+C(this)+"]"},!0)},function(U,w,h){var C=h(0);C(C.S,"Object",{setPrototypeOf:h(89).set})},function(U,w){U.exports=Object.is||function(h,C){return h===C?0!==h||1/h==1/C:h!=h&&C!=C}},function(U,w,h){var C=h(0);C(C.S,"Object",{is:h(305)})},function(U,w,h){var C=h(0);C(C.S+C.F,"Object",{assign:h(143)})},function(U,w,h){var C=h(4);h(20)("isExtensible",function(b){return function(S){return!!C(S)&&(!b||b(S))}})},function(U,w,h){var C=h(4);h(20)("isSealed",function(b){return function(S){return!C(S)||!!b&&b(S)}})},function(U,w,h){var C=h(4);h(20)("isFrozen",function(b){return function(S){return!C(S)||!!b&&b(S)}})},function(U,w,h){var C=h(4),b=h(29).onFreeze;h(20)("preventExtensions",function(S){return function(m){return S&&C(m)?S(b(m)):m}})},function(U,w,h){var C=h(4),b=h(29).onFreeze;h(20)("seal",function(S){return function(m){return S&&C(m)?S(b(m)):m}})},function(U,w,h){var C=h(4),b=h(29).onFreeze;h(20)("freeze",function(S){return function(m){return S&&C(m)?S(b(m)):m}})},function(U,w,h){h(20)("getOwnPropertyNames",function(){return h(144).f})},function(U,w,h){var C=h(14),b=h(55);h(20)("keys",function(){return function(S){return b(C(S))}})},function(U,w,h){var C=h(14),b=h(31);h(20)("getPrototypeOf",function(){return function(S){return b(C(S))}})},function(U,w,h){var C=h(21),b=h(23).f;h(20)("getOwnPropertyDescriptor",function(){return function(S,m){return b(C(S),m)}})},function(U,w,h){var C=h(0);C(C.S+C.F*!h(11),"Object",{defineProperties:h(145)})},function(U,w,h){var C=h(0);C(C.S+C.F*!h(11),"Object",{defineProperty:h(10).f})},function(U,w,h){var C=h(0);C(C.S,"Object",{create:h(33)})},function(U,w,h){var C=h(55),b=h(68),S=h(67);U.exports=function(m){var _=C(m),p=b.f;if(p)for(var g,f=p(m),E=S.f,T=0;f.length>T;)E.call(m,g=f[T++])&&_.push(g);return _}},function(U,w,h){var C=h(6),b=h(37),S=h(44),m=h(147),_=h(10).f;U.exports=function(p){var g=b.Symbol||(b.Symbol=S?{}:C.Symbol||{});"_"==p.charAt(0)||p in g||_(g,p,{value:m.f(p)})}},function(U,w,h){"use strict";var C=h(6),b=h(16),S=h(11),m=h(0),_=h(15),p=h(29).KEY,g=h(3),f=h(95),E=h(45),T=h(35),d=h(7),v=h(147),M=h(322),N=h(321),k=h(91),G=h(5),z=h(4),L=h(21),j=h(30),F=h(36),W=h(33),Q=h(144),$=h(23),oe=h(10),J=h(55),de=$.f,Re=oe.f,Te=Q.f,Pe=C.Symbol,K=C.JSON,ue=K&&K.stringify,te=d("_hidden"),we=d("toPrimitive"),le={}.propertyIsEnumerable,he=f("symbol-registry"),ge=f("symbols"),Ge=f("op-symbols"),tt=Object.prototype,Le="function"==typeof Pe,It=C.QObject,Ze=!It||!It.prototype||!It.prototype.findChild,Ve=S&&g(function(){return 7!=W(Re({},"a",{get:function(){return Re(this,"a",{value:7}).a}})).a})?function(at,bt,Oe){var be=de(tt,bt);be&&delete tt[bt],Re(at,bt,Oe),be&&at!==tt&&Re(tt,bt,be)}:Re,ae=function(at){var bt=ge[at]=W(Pe.prototype);return bt._k=at,bt},_e=Le&&"symbol"==typeof Pe.iterator?function(at){return"symbol"==typeof at}:function(at){return at instanceof Pe},ye=function(at,bt,Oe){return at===tt&&ye(Ge,bt,Oe),G(at),bt=j(bt,!0),G(Oe),b(ge,bt)?(Oe.enumerable?(b(at,te)&&at[te][bt]&&(at[te][bt]=!1),Oe=W(Oe,{enumerable:F(0,!1)})):(b(at,te)||Re(at,te,F(1,{})),at[te][bt]=!0),Ve(at,bt,Oe)):Re(at,bt,Oe)},He=function(at,bt){G(at);for(var Oe,be=N(bt=L(bt)),Ie=0,Be=be.length;Be>Ie;)ye(at,Oe=be[Ie++],bt[Oe]);return at},qe=function(at){var bt=le.call(this,at=j(at,!0));return!(this===tt&&b(ge,at)&&!b(Ge,at))&&(!(bt||!b(this,at)||!b(ge,at)||b(this,te)&&this[te][at])||bt)},ot=function(at,bt){if(at=L(at),bt=j(bt,!0),at!==tt||!b(ge,bt)||b(Ge,bt)){var Oe=de(at,bt);return!Oe||!b(ge,bt)||b(at,te)&&at[te][bt]||(Oe.enumerable=!0),Oe}},ke=function(at){for(var bt,Oe=Te(L(at)),be=[],Ie=0;Oe.length>Ie;)b(ge,bt=Oe[Ie++])||bt==te||bt==p||be.push(bt);return be},We=function(at){for(var bt,Oe=at===tt,be=Te(Oe?Ge:L(at)),Ie=[],Be=0;be.length>Be;)!b(ge,bt=be[Be++])||Oe&&!b(tt,bt)||Ie.push(ge[bt]);return Ie};Le||(_((Pe=function(){if(this instanceof Pe)throw TypeError("Symbol is not a constructor!");var at=T(arguments.length>0?arguments[0]:void 0),bt=function(Oe){this===tt&&bt.call(Ge,Oe),b(this,te)&&b(this[te],at)&&(this[te][at]=!1),Ve(this,at,F(1,Oe))};return S&&Ze&&Ve(tt,at,{configurable:!0,set:bt}),ae(at)}).prototype,"toString",function(){return this._k}),$.f=ot,oe.f=ye,h(32).f=Q.f=ke,h(67).f=qe,h(68).f=We,S&&!h(44)&&_(tt,"propertyIsEnumerable",qe,!0),v.f=function(at){return ae(d(at))}),m(m.G+m.W+m.F*!Le,{Symbol:Pe});for(var Qt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Bt=0;Qt.length>Bt;)d(Qt[Bt++]);for(var ln=J(d.store),ci=0;ln.length>ci;)M(ln[ci++]);m(m.S+m.F*!Le,"Symbol",{for:function(at){return b(he,at+="")?he[at]:he[at]=Pe(at)},keyFor:function(at){if(!_e(at))throw TypeError(at+" is not a symbol!");for(var bt in he)if(he[bt]===at)return bt},useSetter:function(){Ze=!0},useSimple:function(){Ze=!1}}),m(m.S+m.F*!Le,"Object",{create:function(at,bt){return void 0===bt?W(at):He(W(at),bt)},defineProperty:ye,defineProperties:He,getOwnPropertyDescriptor:ot,getOwnPropertyNames:ke,getOwnPropertySymbols:We}),K&&m(m.S+m.F*(!Le||g(function(){var at=Pe();return"[null]"!=ue([at])||"{}"!=ue({a:at})||"{}"!=ue(Object(at))})),"JSON",{stringify:function(at){for(var bt,Oe,be=[at],Ie=1;arguments.length>Ie;)be.push(arguments[Ie++]);if(Oe=bt=be[1],(z(bt)||void 0!==at)&&!_e(at))return k(bt)||(bt=function(Be,xe){if("function"==typeof Oe&&(xe=Oe.call(this,Be,xe)),!_e(xe))return xe}),be[1]=bt,ue.apply(K,be)}}),Pe.prototype[we]||h(18)(Pe.prototype,we,Pe.prototype.valueOf),E(Pe,"Symbol"),E(Math,"Math",!0),E(C.JSON,"JSON",!0)},function(U,w,h){h(323),h(320),h(319),h(318),h(317),h(316),h(315),h(314),h(313),h(312),h(311),h(310),h(309),h(308),h(307),h(306),h(304),h(303),h(302),h(301),h(300),h(299),h(298),h(297),h(296),h(295),h(294),h(293),h(292),h(291),h(290),h(289),h(288),h(287),h(286),h(285),h(284),h(283),h(282),h(281),h(280),h(279),h(278),h(276),h(275),h(274),h(273),h(272),h(271),h(270),h(269),h(268),h(267),h(266),h(265),h(264),h(263),h(262),h(261),h(260),h(259),h(258),h(257),h(256),h(255),h(254),h(253),h(252),h(251),h(250),h(249),h(248),h(247),h(246),h(245),h(244),h(243),h(241),h(240),h(238),h(237),h(236),h(235),h(234),h(233),h(232),h(229),h(228),h(227),h(226),h(225),h(224),h(223),h(222),h(221),h(220),h(219),h(218),h(217),h(128),h(216),h(215),h(126),h(214),h(213),h(212),h(211),h(210),h(206),h(205),h(204),h(203),h(202),h(201),h(200),h(199),h(198),h(197),h(196),h(195),h(194),h(193),h(192),h(191),h(190),h(189),h(188),h(187),h(186),h(185),h(184),h(183),h(182),h(181),h(179),h(178),h(177),U.exports=h(37)},function(U,w,h){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.MD5=w.SFSRoom=w.SetBuddyVariablesRequest=w.RemoveBuddyRequest=w.InitBuddyListRequest=w.GoOnlineRequest=w.BuddyMessageRequest=w.BlockBuddyRequest=w.AddBuddyRequest=w.SetUserPositionRequest=w.QuickJoinGameRequest=w.JoinRoomInvitationRequest=w.InviteUsersRequest=w.InvitationReplyRequest=w.CreateSFSGameRequest=w.BanUserRequest=w.KickUserRequest=w.ExtensionRequest=w.FindUsersRequest=w.FindRoomsRequest=w.PlayerToSpectatorRequest=w.SpectatorToPlayerRequest=w.UnsubscribeRoomGroupRequest=w.SubscribeRoomGroupRequest=w.SetUserVariablesRequest=w.SetRoomVariablesRequest=w.AdminMessageRequest=w.ModeratorMessageRequest=w.ObjectMessageRequest=w.PrivateMessageRequest=w.PublicMessageRequest=w.ChangeRoomCapacityRequest=w.ChangeRoomPasswordStateRequest=w.ChangeRoomNameRequest=w.LeaveRoomRequest=w.QuickJoinOrCreateRoomRequest=w.CreateRoomRequest=w.JoinRoomRequest=w.LogoutRequest=w.LoginRequest=w.PasswordUtil=w.ClientDisconnectionReason=w.LoggerEvent=w.LogLevel=w.SFSErrorCodes=w.MessageRecipientMode=w.BanMode=w.MapLimits=w.RoomExtension=w.RoomEvents=w.RoomPermissions=w.MMORoomSettings=w.SFSGameSettings=w.RoomSettings=w.UserProperties=w.RoomProperties=w.StringMatch=w.NumberMatch=w.BoolMatch=w.LogicOperator=w.MatchExpression=w.MMOItemVariable=w.ReservedBuddyVariables=w.SFSBuddyVariable=w.ReservedRoomVariables=w.SFSRoomVariable=w.SFSUserVariable=w.VariableType=w.UserPrivileges=w.InvitationReply=w.Vec3D=w.SFSArray=w.SFSObject=w.SFSDataType=w.SFSBuddyEvent=w.SFSEvent=w.SmartFox=void 0;var C=h(324);Object.keys(C).forEach(function(bt){"default"!==bt&&"__esModule"!==bt&&Object.defineProperty(w,bt,{enumerable:!0,get:function(){return C[bt]}})});var b=h(176);Object.defineProperty(w,"SmartFox",{enumerable:!0,get:function(){return b.SmartFox}});var S=h(39);Object.defineProperty(w,"SFSEvent",{enumerable:!0,get:function(){return S.SFSEvent}}),Object.defineProperty(w,"SFSBuddyEvent",{enumerable:!0,get:function(){return S.SFSBuddyEvent}});var m=h(8);Object.defineProperty(w,"SFSDataType",{enumerable:!0,get:function(){return m.SFSDataType}}),Object.defineProperty(w,"SFSObject",{enumerable:!0,get:function(){return m.SFSObject}}),Object.defineProperty(w,"SFSArray",{enumerable:!0,get:function(){return m.SFSArray}}),Object.defineProperty(w,"Vec3D",{enumerable:!0,get:function(){return m.Vec3D}});var _=h(72);Object.defineProperty(w,"InvitationReply",{enumerable:!0,get:function(){return _.InvitationReply}});var p=h(47);Object.defineProperty(w,"UserPrivileges",{enumerable:!0,get:function(){return p.UserPrivileges}});var g=h(48);Object.defineProperty(w,"VariableType",{enumerable:!0,get:function(){return g.VariableType}});var f=h(59);Object.defineProperty(w,"SFSUserVariable",{enumerable:!0,get:function(){return f.SFSUserVariable}});var E=h(49);Object.defineProperty(w,"SFSRoomVariable",{enumerable:!0,get:function(){return E.SFSRoomVariable}}),Object.defineProperty(w,"ReservedRoomVariables",{enumerable:!0,get:function(){return E.ReservedRoomVariables}});var T=h(46);Object.defineProperty(w,"SFSBuddyVariable",{enumerable:!0,get:function(){return T.SFSBuddyVariable}}),Object.defineProperty(w,"ReservedBuddyVariables",{enumerable:!0,get:function(){return T.ReservedBuddyVariables}});var d=h(73);Object.defineProperty(w,"MMOItemVariable",{enumerable:!0,get:function(){return d.MMOItemVariable}});var v=h(38);Object.defineProperty(w,"MatchExpression",{enumerable:!0,get:function(){return v.MatchExpression}}),Object.defineProperty(w,"LogicOperator",{enumerable:!0,get:function(){return v.LogicOperator}});var M=h(161);Object.defineProperty(w,"BoolMatch",{enumerable:!0,get:function(){return M.BoolMatch}}),Object.defineProperty(w,"NumberMatch",{enumerable:!0,get:function(){return M.NumberMatch}}),Object.defineProperty(w,"StringMatch",{enumerable:!0,get:function(){return M.StringMatch}});var N=h(160);Object.defineProperty(w,"RoomProperties",{enumerable:!0,get:function(){return N.RoomProperties}}),Object.defineProperty(w,"UserProperties",{enumerable:!0,get:function(){return N.UserProperties}});var k=h(56);Object.defineProperty(w,"RoomSettings",{enumerable:!0,get:function(){return k.RoomSettings}}),Object.defineProperty(w,"SFSGameSettings",{enumerable:!0,get:function(){return k.SFSGameSettings}}),Object.defineProperty(w,"MMORoomSettings",{enumerable:!0,get:function(){return k.MMORoomSettings}}),Object.defineProperty(w,"RoomPermissions",{enumerable:!0,get:function(){return k.RoomPermissions}}),Object.defineProperty(w,"RoomEvents",{enumerable:!0,get:function(){return k.RoomEvents}}),Object.defineProperty(w,"RoomExtension",{enumerable:!0,get:function(){return k.RoomExtension}}),Object.defineProperty(w,"MapLimits",{enumerable:!0,get:function(){return k.MapLimits}}),Object.defineProperty(w,"BanMode",{enumerable:!0,get:function(){return k.BanMode}}),Object.defineProperty(w,"MessageRecipientMode",{enumerable:!0,get:function(){return k.MessageRecipientMode}});var G=h(74);Object.defineProperty(w,"SFSErrorCodes",{enumerable:!0,get:function(){return G.SFSErrorCodes}});var z=h(50);Object.defineProperty(w,"LogLevel",{enumerable:!0,get:function(){return z.LogLevel}}),Object.defineProperty(w,"LoggerEvent",{enumerable:!0,get:function(){return z.LoggerEvent}});var L=h(51);Object.defineProperty(w,"ClientDisconnectionReason",{enumerable:!0,get:function(){return L.ClientDisconnectionReason}});var j=h(159);Object.defineProperty(w,"PasswordUtil",{enumerable:!0,get:function(){return j.PasswordUtil}});var F=h(118);Object.defineProperty(w,"LoginRequest",{enumerable:!0,get:function(){return F.LoginRequest}});var W=h(117);Object.defineProperty(w,"LogoutRequest",{enumerable:!0,get:function(){return W.LogoutRequest}});var Q=h(116);Object.defineProperty(w,"JoinRoomRequest",{enumerable:!0,get:function(){return Q.JoinRoomRequest}});var $=h(57);Object.defineProperty(w,"CreateRoomRequest",{enumerable:!0,get:function(){return $.CreateRoomRequest}});var oe=h(158);Object.defineProperty(w,"QuickJoinOrCreateRoomRequest",{enumerable:!0,get:function(){return oe.QuickJoinOrCreateRoomRequest}});var J=h(157);Object.defineProperty(w,"LeaveRoomRequest",{enumerable:!0,get:function(){return J.LeaveRoomRequest}});var de=h(115);Object.defineProperty(w,"ChangeRoomNameRequest",{enumerable:!0,get:function(){return de.ChangeRoomNameRequest}});var Re=h(114);Object.defineProperty(w,"ChangeRoomPasswordStateRequest",{enumerable:!0,get:function(){return Re.ChangeRoomPasswordStateRequest}});var Te=h(113);Object.defineProperty(w,"ChangeRoomCapacityRequest",{enumerable:!0,get:function(){return Te.ChangeRoomCapacityRequest}});var Pe=h(70);Object.defineProperty(w,"PublicMessageRequest",{enumerable:!0,get:function(){return Pe.PublicMessageRequest}}),Object.defineProperty(w,"PrivateMessageRequest",{enumerable:!0,get:function(){return Pe.PrivateMessageRequest}}),Object.defineProperty(w,"ObjectMessageRequest",{enumerable:!0,get:function(){return Pe.ObjectMessageRequest}}),Object.defineProperty(w,"ModeratorMessageRequest",{enumerable:!0,get:function(){return Pe.ModeratorMessageRequest}}),Object.defineProperty(w,"AdminMessageRequest",{enumerable:!0,get:function(){return Pe.AdminMessageRequest}});var K=h(112);Object.defineProperty(w,"SetRoomVariablesRequest",{enumerable:!0,get:function(){return K.SetRoomVariablesRequest}});var ue=h(111);Object.defineProperty(w,"SetUserVariablesRequest",{enumerable:!0,get:function(){return ue.SetUserVariablesRequest}});var te=h(110);Object.defineProperty(w,"SubscribeRoomGroupRequest",{enumerable:!0,get:function(){return te.SubscribeRoomGroupRequest}});var we=h(109);Object.defineProperty(w,"UnsubscribeRoomGroupRequest",{enumerable:!0,get:function(){return we.UnsubscribeRoomGroupRequest}});var le=h(108);Object.defineProperty(w,"SpectatorToPlayerRequest",{enumerable:!0,get:function(){return le.SpectatorToPlayerRequest}});var he=h(107);Object.defineProperty(w,"PlayerToSpectatorRequest",{enumerable:!0,get:function(){return he.PlayerToSpectatorRequest}});var ge=h(106);Object.defineProperty(w,"FindRoomsRequest",{enumerable:!0,get:function(){return ge.FindRoomsRequest}});var Ge=h(105);Object.defineProperty(w,"FindUsersRequest",{enumerable:!0,get:function(){return Ge.FindUsersRequest}});var tt=h(97);Object.defineProperty(w,"ExtensionRequest",{enumerable:!0,get:function(){return tt.ExtensionRequest}});var Le=h(156);Object.defineProperty(w,"KickUserRequest",{enumerable:!0,get:function(){return Le.KickUserRequest}});var It=h(155);Object.defineProperty(w,"BanUserRequest",{enumerable:!0,get:function(){return It.BanUserRequest}});var Ze=h(154);Object.defineProperty(w,"CreateSFSGameRequest",{enumerable:!0,get:function(){return Ze.CreateSFSGameRequest}});var Ve=h(153);Object.defineProperty(w,"InvitationReplyRequest",{enumerable:!0,get:function(){return Ve.InvitationReplyRequest}});var ae=h(69);Object.defineProperty(w,"InviteUsersRequest",{enumerable:!0,get:function(){return ae.InviteUsersRequest}});var _e=h(152);Object.defineProperty(w,"JoinRoomInvitationRequest",{enumerable:!0,get:function(){return _e.JoinRoomInvitationRequest}});var ye=h(151);Object.defineProperty(w,"QuickJoinGameRequest",{enumerable:!0,get:function(){return ye.QuickJoinGameRequest}});var He=h(104);Object.defineProperty(w,"SetUserPositionRequest",{enumerable:!0,get:function(){return He.SetUserPositionRequest}});var qe=h(102);Object.defineProperty(w,"AddBuddyRequest",{enumerable:!0,get:function(){return qe.AddBuddyRequest}});var ot=h(100);Object.defineProperty(w,"BlockBuddyRequest",{enumerable:!0,get:function(){return ot.BlockBuddyRequest}});var ke=h(150);Object.defineProperty(w,"BuddyMessageRequest",{enumerable:!0,get:function(){return ke.BuddyMessageRequest}});var We=h(99);Object.defineProperty(w,"GoOnlineRequest",{enumerable:!0,get:function(){return We.GoOnlineRequest}});var Qt=h(103);Object.defineProperty(w,"InitBuddyListRequest",{enumerable:!0,get:function(){return Qt.InitBuddyListRequest}});var Bt=h(101);Object.defineProperty(w,"RemoveBuddyRequest",{enumerable:!0,get:function(){return Bt.RemoveBuddyRequest}});var ln=h(98);Object.defineProperty(w,"SetBuddyVariablesRequest",{enumerable:!0,get:function(){return ln.SetBuddyVariablesRequest}});var ci=h(9);Object.defineProperty(w,"SFSRoom",{enumerable:!0,get:function(){return ci.SFSRoom}});var at=h(71);Object.defineProperty(w,"MD5",{enumerable:!0,get:function(){return at.MD5}}),h(149)}])},209:(Me,U,w)=>{"use strict";var h=w(8810);Me.exports=w(3096)(h),"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)},8265:(Me,U,w)=>{"use strict";var h=w(3894),C=w(4532);function b(){C.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}h(b,C),Me.exports=b},17:(Me,U,w)=>{"use strict";var h=w(3894),C=w(9895);function b(){C.call(this)}h(b,C),b.prototype.removeAllListeners=function(S){S?delete this._listeners[S]:this._listeners={}},b.prototype.once=function(S,m){var _=this,p=!1;this.on(S,function g(){_.removeListener(S,g),p||(p=!0,m.apply(this,arguments))})},b.prototype.emit=function(){var S=arguments[0],m=this._listeners[S];if(m){for(var _=arguments.length,p=new Array(_-1),g=1;g<_;g++)p[g-1]=arguments[g];for(var f=0;f<m.length;f++)m[f].apply(this,p)}},b.prototype.on=b.prototype.addListener=C.prototype.addEventListener,b.prototype.removeListener=C.prototype.removeEventListener,Me.exports.v=b},4532:Me=>{"use strict";function U(w){this.type=w}U.prototype.initEvent=function(w,h,C){return this.type=w,this.bubbles=h,this.cancelable=C,this.timeStamp=+new Date,this},U.prototype.stopPropagation=function(){},U.prototype.preventDefault=function(){},U.CAPTURING_PHASE=1,U.AT_TARGET=2,U.BUBBLING_PHASE=3,Me.exports=U},9895:Me=>{"use strict";function U(){this._listeners={}}U.prototype.addEventListener=function(w,h){w in this._listeners||(this._listeners[w]=[]);var C=this._listeners[w];-1===C.indexOf(h)&&(C=C.concat([h])),this._listeners[w]=C},U.prototype.removeEventListener=function(w,h){var C=this._listeners[w];if(C){var b=C.indexOf(h);if(-1!==b)return void(C.length>1?this._listeners[w]=C.slice(0,b).concat(C.slice(b+1)):delete this._listeners[w])}},U.prototype.dispatchEvent=function(){var w=arguments[0],h=w.type,C=1===arguments.length?[w]:Array.apply(null,arguments);if(this["on"+h]&&this["on"+h].apply(this,C),h in this._listeners)for(var b=this._listeners[h],S=0;S<b.length;S++)b[S].apply(this,C)},Me.exports=U},4572:(Me,U,w)=>{"use strict";var h=w(3894),C=w(4532);function b(S){C.call(this),this.initEvent("message",!1,!1),this.data=S}h(b,C),Me.exports=b},7299:(Me,U,w)=>{"use strict";var h=w(8075);function C(b){this._transport=b,b.on("message",this._transportMessage.bind(this)),b.on("close",this._transportClose.bind(this))}C.prototype._transportClose=function(b,S){h.postMessage("c",JSON.stringify([b,S]))},C.prototype._transportMessage=function(b){h.postMessage("t",b)},C.prototype._send=function(b){this._transport.send(b)},C.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Me.exports=C},737:(Me,U,w)=>{"use strict";var h=w(1493),C=w(3865),b=w(7299),S=w(5841),m=w(8075),_=w(205);Me.exports=function(g,f){var T,E={};f.forEach(function(d){d.facadeTransport&&(E[d.facadeTransport.transportName]=d.facadeTransport)}),E[S.transportName]=S,g.bootstrap_iframe=function(){var d;m.currentWindowId=_.hash.slice(1),C.attachEvent("message",function(M){if(M.source===parent&&(void 0===T&&(T=M.origin),M.origin===T)){var N;try{N=JSON.parse(M.data)}catch(F){return}if(N.windowId===m.currentWindowId)switch(N.type){case"s":var k;try{k=JSON.parse(N.data)}catch(F){break}var G=k[0],z=k[1],L=k[2],j=k[3];if(G!==g.version)throw new Error('Incompatible SockJS! Main site uses: "'+G+'", the iframe: "'+g.version+'".');if(!h.isOriginEqual(L,_.href)||!h.isOriginEqual(j,_.href))throw new Error("Can't connect to different domain from within an iframe. ("+_.href+", "+L+", "+j+")");d=new b(new E[z](L,j));break;case"m":d._send(N.data);break;case"c":d&&d._close(),d=null}}}),m.postMessage("s")}}},8834:(Me,U,w)=>{"use strict";var h=w(17).v,C=w(3894),b=w(2923);function m(_,p){h.call(this);var g=this,f=+new Date;this.xo=new p("GET",_),this.xo.once("finish",function(E,T){var d,v;if(200===E){if(v=+new Date-f,T)try{d=JSON.parse(T)}catch(M){}b.isObject(d)||(d={})}g.emit("finish",d,v),g.removeAllListeners()})}C(m,h),m.prototype.close=function(){this.removeAllListeners(),this.xo.close()},Me.exports=m},5841:(Me,U,w)=>{"use strict";var h=w(3894),C=w(17).v,b=w(7898),S=w(8834);function m(_){var p=this;C.call(this),this.ir=new S(_,b),this.ir.once("finish",function(g,f){p.ir=null,p.emit("message",JSON.stringify([g,f]))})}h(m,C),m.transportName="iframe-info-receiver",m.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Me.exports=m},5672:(Me,U,w)=>{"use strict";var h=w(17).v,C=w(3894),b=w(3865),S=w(7415),m=w(5841);function p(g,f){var E=this;h.call(this);var T=function(){var d=E.ifr=new S(m.transportName,f,g);d.once("message",function(v){if(v){var M;try{M=JSON.parse(v)}catch(G){return E.emit("finish"),void E.close()}E.emit("finish",M[0],M[1])}E.close()}),d.once("close",function(){E.emit("finish"),E.close()})};global.document.body?T():b.attachEvent("load",T)}C(p,h),p.enabled=function(){return S.enabled()},p.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},Me.exports=p},6689:(Me,U,w)=>{"use strict";var h=w(17).v,C=w(3894),b=w(1493),S=w(5705),m=w(7807),_=w(7898),p=w(9312),g=w(5672),f=w(8834);function T(d,v){var M=this;h.call(this),setTimeout(function(){M.doXhr(d,v)},0)}C(T,h),T._getReceiver=function(d,v,M){return M.sameOrigin?new f(v,_):m.enabled?new f(v,m):S.enabled&&M.sameScheme?new f(v,S):g.enabled()?new g(d,v):new f(v,p)},T.prototype.doXhr=function(d,v){var M=this,N=b.addPath(d,"/info");this.xo=T._getReceiver(d,N,v),this.timeoutRef=setTimeout(function(){M._cleanup(!1),M.emit("finish")},T.timeout),this.xo.once("finish",function(k,G){M._cleanup(!0),M.emit("finish",k,G)})},T.prototype._cleanup=function(d){clearTimeout(this.timeoutRef),this.timeoutRef=null,!d&&this.xo&&this.xo.close(),this.xo=null},T.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},T.timeout=8e3,Me.exports=T},205:Me=>{"use strict";Me.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},3096:(Me,U,w)=>{"use strict";w(5904);var z,h=w(7629),C=w(3894),b=w(347),S=w(8481),m=w(1493),_=w(3865),p=w(2264),g=w(2923),f=w(480),E=w(1433),T=w(4532),d=w(9895),v=w(205),M=w(8265),N=w(4572),k=w(6689);function L(F,W,Q){if(!(this instanceof L))return new L(F,W,Q);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");d.call(this),this.readyState=L.CONNECTING,this.extensions="",this.protocol="",(Q=Q||{}).protocols_whitelist&&E.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=Q.transports,this._transportOptions=Q.transportOptions||{},this._timeout=Q.timeout||0;var $=Q.sessionId||8;if("function"==typeof $)this._generateSessionId=$;else{if("number"!=typeof $)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return b.string($)}}this._server=Q.server||b.numberString(1e3);var oe=new h(F);if(!oe.host||!oe.protocol)throw new SyntaxError("The URL '"+F+"' is invalid");if(oe.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==oe.protocol&&"https:"!==oe.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+oe.protocol+"' is not allowed.");var J="https:"===oe.protocol;if("https:"===v.protocol&&!J&&!m.isLoopbackAddr(oe.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");W?Array.isArray(W)||(W=[W]):W=[];var de=W.sort();de.forEach(function(Te,Pe){if(!Te)throw new SyntaxError("The protocols entry '"+Te+"' is invalid.");if(Pe<de.length-1&&Te===de[Pe+1])throw new SyntaxError("The protocols entry '"+Te+"' is duplicated.")});var Re=m.getOrigin(v.href);this._origin=Re?Re.toLowerCase():null,oe.set("pathname",oe.pathname.replace(/\/+$/,"")),this.url=oe.href,this._urlInfo={nullOrigin:!f.hasDomain(),sameOrigin:m.isOriginEqual(this.url,v.href),sameScheme:m.isSchemeEqual(this.url,v.href)},this._ir=new k(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function j(F){return 1e3===F||F>=3e3&&F<=4999}C(L,d),L.prototype.close=function(F,W){if(F&&!j(F))throw new Error("InvalidAccessError: Invalid code");if(W&&W.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==L.CLOSING&&this.readyState!==L.CLOSED&&this._close(F||1e3,W||"Normal closure",!0)},L.prototype.send=function(F){if("string"!=typeof F&&(F=""+F),this.readyState===L.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===L.OPEN&&this._transport.send(S.quote(F))},L.version=w(947),L.CONNECTING=0,L.OPEN=1,L.CLOSING=2,L.CLOSED=3,L.prototype._receiveInfo=function(F,W){if(this._ir=null,F){this._rto=this.countRTO(W),this._transUrl=F.base_url?F.base_url:this.url,F=g.extend(F,this._urlInfo);var Q=z.filterToEnabled(this._transportsWhitelist,F);this._transports=Q.main,this._connect()}else this._close(1002,"Cannot connect to server")},L.prototype._connect=function(){for(var F=this._transports.shift();F;F=this._transports.shift()){if(F.needBody&&(!global.document.body||void 0!==global.document.readyState&&"complete"!==global.document.readyState&&"interactive"!==global.document.readyState))return this._transports.unshift(F),void _.attachEvent("load",this._connect.bind(this));var W=Math.max(this._timeout,this._rto*F.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),W);var oe=new F(m.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),this._transUrl,this._transportOptions[F.transportName]);return oe.on("message",this._transportMessage.bind(this)),oe.once("close",this._transportClose.bind(this)),oe.transportName=F.transportName,void(this._transport=oe)}this._close(2e3,"All transports failed",!1)},L.prototype._transportTimeout=function(){this.readyState===L.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},L.prototype._transportMessage=function(F){var oe,W=this,Q=F.slice(0,1),$=F.slice(1);switch(Q){case"o":return void this._open();case"h":return void this.dispatchEvent(new T("heartbeat"))}if($)try{oe=JSON.parse($)}catch(J){}if(void 0!==oe)switch(Q){case"a":Array.isArray(oe)&&oe.forEach(function(J){W.dispatchEvent(new N(J))});break;case"m":this.dispatchEvent(new N(oe));break;case"c":Array.isArray(oe)&&2===oe.length&&this._close(oe[0],oe[1],!0)}},L.prototype._transportClose=function(F,W){this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),j(F)||2e3===F||this.readyState!==L.CONNECTING?this._close(F,W):this._connect()},L.prototype._open=function(){this.readyState===L.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=L.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new T("open"))):this._close(1006,"Server lost session")},L.prototype._close=function(F,W,Q){var $=!1;if(this._ir&&($=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===L.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=L.CLOSING,setTimeout(function(){this.readyState=L.CLOSED,$&&this.dispatchEvent(new T("error"));var oe=new M("close");oe.wasClean=Q||!1,oe.code=F||1e3,oe.reason=W,this.dispatchEvent(oe),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},L.prototype.countRTO=function(F){return F>100?4*F:300+F},Me.exports=function(F){return z=p(F),w(737)(L,F),L}},5904:()=>{"use strict";var g,Me=Array.prototype,U=Object.prototype,w=Function.prototype,h=String.prototype,C=Me.slice,b=U.toString,S=function(F){return"[object Function]"===U.toString.call(F)},_=function(W){return"[object String]"===b.call(W)},p=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(F){return!1}}();g=p?function(F,W,Q,$){!$&&W in F||Object.defineProperty(F,W,{configurable:!0,enumerable:!1,writable:!0,value:Q})}:function(F,W,Q,$){!$&&W in F||(F[W]=Q)};var f=function(F,W,Q){for(var $ in W)U.hasOwnProperty.call(W,$)&&g(F,$,W[$],Q)},E=function(F){if(null==F)throw new TypeError("can't convert "+F+" to object");return Object(F)};function T(F){var W=+F;return W!=W?W=0:0!==W&&W!==1/0&&W!==-1/0&&(W=(W>0||-1)*Math.floor(Math.abs(W))),W}function v(){}f(w,{bind:function(W){var Q=this;if(!S(Q))throw new TypeError("Function.prototype.bind called on incompatible "+Q);for(var $=C.call(arguments,1),oe=function(){if(this instanceof Te){var Pe=Q.apply(this,$.concat(C.call(arguments)));return Object(Pe)===Pe?Pe:this}return Q.apply(W,$.concat(C.call(arguments)))},J=Math.max(0,Q.length-$.length),de=[],Re=0;Re<J;Re++)de.push("$"+Re);var Te=Function("binder","return function ("+de.join(",")+"){ return binder.apply(this, arguments); }")(oe);return Q.prototype&&(v.prototype=Q.prototype,Te.prototype=new v,v.prototype=null),Te}}),f(Array,{isArray:function(W){return"[object Array]"===b.call(W)}});var W,Q,$,M=Object("a"),N="a"!==M[0]||!(0 in M);f(Me,{forEach:function(W){var Q=E(this),$=N&&_(this)?this.split(""):Q,oe=arguments[1],J=-1,de=$.length>>>0;if(!S(W))throw new TypeError;for(;++J<de;)J in $&&W.call(oe,$[J],J,Q)}},(Q=!0,$=!0,(W=Me.forEach)&&(W.call("foo",function(oe,J,de){"object"!=typeof de&&(Q=!1)}),W.call([1],function(){$="string"==typeof this},"x")),!(W&&Q&&$)));var G=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);f(Me,{indexOf:function(W){var Q=N&&_(this)?this.split(""):E(this),$=Q.length>>>0;if(!$)return-1;var oe=0;for(arguments.length>1&&(oe=T(arguments[1])),oe=oe>=0?oe:Math.max(0,$+oe);oe<$;oe++)if(oe in Q&&Q[oe]===W)return oe;return-1}},G);var F,z=h.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(F=void 0===/()??/.exec("")[1],h.split=function(W,Q){var $=this;if(void 0===W&&0===Q)return[];if("[object RegExp]"!==b.call(W))return z.call(this,W,Q);var Re,Te,Pe,K,oe=[],J=(W.ignoreCase?"i":"")+(W.multiline?"m":"")+(W.extended?"x":"")+(W.sticky?"y":""),de=0;for(W=new RegExp(W.source,J+"g"),$+="",F||(Re=new RegExp("^"+W.source+"$(?!\\s)",J)),Q=void 0===Q?-1>>>0:function d(F){return F>>>0}(Q);(Te=W.exec($))&&!((Pe=Te.index+Te[0].length)>de&&(oe.push($.slice(de,Te.index)),!F&&Te.length>1&&Te[0].replace(Re,function(){for(var ue=1;ue<arguments.length-2;ue++)void 0===arguments[ue]&&(Te[ue]=void 0)}),Te.length>1&&Te.index<$.length&&Me.push.apply(oe,Te.slice(1)),K=Te[0].length,de=Pe,oe.length>=Q));)W.lastIndex===Te.index&&W.lastIndex++;return de===$.length?(K||!W.test(""))&&oe.push(""):oe.push($.slice(de)),oe.length>Q?oe.slice(0,Q):oe}):"0".split(void 0,0).length&&(h.split=function(W,Q){return void 0===W&&0===Q?[]:z.call(this,W,Q)});var L=h.substr;f(h,{substr:function(W,Q){return L.call(this,W<0&&(W=this.length+W)<0?0:W,Q)}},"".substr&&"b"!=="0b".substr(-1))},8810:(Me,U,w)=>{"use strict";Me.exports=[w(7040),w(3897),w(4053),w(1591),w(9802)(w(1591)),w(3362),w(9802)(w(3362)),w(7237),w(8931),w(9802)(w(7237)),w(545)]},3134:(Me,U,w)=>{"use strict";var h=w(17).v,C=w(3894),b=w(3865),S=w(1493),m=global.XMLHttpRequest;function p(E,T,d,v){var M=this;h.call(this),setTimeout(function(){M._start(E,T,d,v)},0)}C(p,h),p.prototype._start=function(E,T,d,v){var M=this;try{this.xhr=new m}catch(k){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();T=S.addQuery(T,"t="+ +new Date),this.unloadRef=b.unloadAdd(function(){M._cleanup(!0)});try{this.xhr.open(E,T,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){M.emit("finish",0,""),M._cleanup(!1)})}catch(k){return this.emit("finish",0,""),void this._cleanup(!1)}if((!v||!v.noCredentials)&&p.supportsCORS&&(this.xhr.withCredentials=!0),v&&v.headers)for(var N in v.headers)this.xhr.setRequestHeader(N,v.headers[N]);this.xhr.onreadystatechange=function(){if(M.xhr){var G,z,k=M.xhr;switch(k.readyState){case 3:try{z=k.status,G=k.responseText}catch(L){}1223===z&&(z=204),200===z&&G&&G.length>0&&M.emit("chunk",z,G);break;case 4:1223===(z=k.status)&&(z=204),(12005===z||12029===z)&&(z=0),M.emit("finish",z,k.responseText),M._cleanup(!1)}}};try{M.xhr.send(d)}catch(k){M.emit("finish",0,""),M._cleanup(!1)}},p.prototype._cleanup=function(E){if(this.xhr){if(this.removeAllListeners(),b.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),E)try{this.xhr.abort()}catch(T){}this.unloadRef=this.xhr=null}},p.prototype.close=function(){this._cleanup(!0)},p.enabled=!!m;var g=["Active"].concat("Object").join("X");!p.enabled&&g in global&&(p.enabled=!!new(m=function(){try{return new global[g]("Microsoft.XMLHTTP")}catch(E){return null}}));var f=!1;try{f="withCredentials"in new m}catch(E){}p.supportsCORS=f,Me.exports=p},8513:Me=>{Me.exports=global.EventSource},3848:Me=>{"use strict";var U=global.WebSocket||global.MozWebSocket;Me.exports=U?function(h){return new U(h)}:void 0},1591:(Me,U,w)=>{"use strict";var h=w(3894),C=w(4172),b=w(3436),S=w(7807),m=w(8513);function _(p){if(!_.enabled())throw new Error("Transport created when disabled");C.call(this,p,"/eventsource",b,S)}h(_,C),_.enabled=function(){return!!m},_.transportName="eventsource",_.roundTrips=2,Me.exports=_},3362:(Me,U,w)=>{"use strict";var h=w(3894),C=w(288),b=w(7898),S=w(4172);function m(_){if(!C.enabled)throw new Error("Transport created when disabled");S.call(this,_,"/htmlfile",C,b)}h(m,S),m.enabled=function(_){return C.enabled&&_.sameOrigin},m.transportName="htmlfile",m.roundTrips=2,Me.exports=m},7415:(Me,U,w)=>{"use strict";var h=w(3894),C=w(17).v,b=w(947),S=w(1493),m=w(8075),_=w(3865),p=w(347);function f(E,T,d){if(!f.enabled())throw new Error("Transport created when disabled");C.call(this);var v=this;this.origin=S.getOrigin(d),this.baseUrl=d,this.transUrl=T,this.transport=E,this.windowId=p.string(8);var M=S.addPath(d,"/iframe.html")+"#"+this.windowId;this.iframeObj=m.createIframe(M,function(N){v.emit("close",1006,"Unable to load an iframe ("+N+")"),v.close()}),this.onmessageCallback=this._message.bind(this),_.attachEvent("message",this.onmessageCallback)}h(f,C),f.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){_.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(E){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},f.prototype._message=function(E){if(S.isOriginEqual(E.origin,this.origin)){var T;try{T=JSON.parse(E.data)}catch(v){return}if(T.windowId===this.windowId)switch(T.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([b,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",T.data);break;case"c":var d;try{d=JSON.parse(T.data)}catch(v){return}this.emit("close",d[0],d[1]),this.close()}}},f.prototype.postMessage=function(E,T){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:E,data:T||""}),this.origin)},f.prototype.send=function(E){this.postMessage("m",E)},f.enabled=function(){return m.iframeEnabled},f.transportName="iframe",f.roundTrips=2,Me.exports=f},545:(Me,U,w)=>{"use strict";var h=w(3894),C=w(4196),b=w(8785),S=w(3216);function m(_){if(!m.enabled())throw new Error("Transport created when disabled");C.call(this,_,"/jsonp",S,b)}h(m,C),m.enabled=function(){return!!global.document},m.transportName="jsonp-polling",m.roundTrips=1,m.needBody=!0,Me.exports=m},4172:(Me,U,w)=>{"use strict";var h=w(3894),C=w(1493),b=w(4196);function _(p,g,f,E){b.call(this,p,g,function m(p){return function(g,f,E){var T={};"string"==typeof f&&(T.headers={"Content-type":"text/plain"});var d=C.addPath(g,"/xhr_send"),v=new p("POST",d,f,T);return v.once("finish",function(M){if(v=null,200!==M&&204!==M)return E(new Error("http status "+M));E()}),function(){v.close(),v=null;var M=new Error("Aborted");M.code=1e3,E(M)}}}(E),f,E)}h(_,b),Me.exports=_},9661:(Me,U,w)=>{"use strict";var h=w(3894),C=w(17).v;function S(m,_){C.call(this),this.sendBuffer=[],this.sender=_,this.url=m}h(S,C),S.prototype.send=function(m){this.sendBuffer.push(m),this.sendStop||this.sendSchedule()},S.prototype.sendScheduleWait=function(){var _,m=this;this.sendStop=function(){m.sendStop=null,clearTimeout(_)},_=setTimeout(function(){m.sendStop=null,m.sendSchedule()},25)},S.prototype.sendSchedule=function(){var m=this;if(this.sendBuffer.length>0){var _="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,_,function(p){m.sendStop=null,p?(m.emit("close",p.code||1006,"Sending error: "+p),m.close()):m.sendScheduleWait()}),this.sendBuffer=[]}},S.prototype._cleanup=function(){this.removeAllListeners()},S.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},Me.exports=S},9802:(Me,U,w)=>{"use strict";var h=w(3894),C=w(7415),b=w(2923);Me.exports=function(S){function m(_,p){C.call(this,S.transportName,_,p)}return h(m,C),m.enabled=function(_,p){if(!global.document)return!1;var g=b.extend({},p);return g.sameOrigin=!0,S.enabled(g)&&C.enabled()},m.transportName="iframe-"+S.transportName,m.needBody=!0,m.roundTrips=C.roundTrips+S.roundTrips-1,m.facadeTransport=S,m}},20:(Me,U,w)=>{"use strict";var h=w(3894),C=w(17).v;function S(m,_,p){C.call(this),this.Receiver=m,this.receiveUrl=_,this.AjaxObject=p,this._scheduleReceiver()}h(S,C),S.prototype._scheduleReceiver=function(){var m=this,_=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);_.on("message",function(p){m.emit("message",p)}),_.once("close",function(p,g){m.poll=_=null,m.pollIsClosing||("network"===g?m._scheduleReceiver():(m.emit("close",p||1006,g),m.removeAllListeners()))})},S.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},Me.exports=S},4196:(Me,U,w)=>{"use strict";var h=w(3894),C=w(1493),b=w(9661),S=w(20);function _(p,g,f,E,T){var d=C.addPath(p,g),v=this;b.call(this,p,f),this.poll=new S(E,d,T),this.poll.on("message",function(M){v.emit("message",M)}),this.poll.once("close",function(M,N){v.poll=null,v.emit("close",M,N),v.close()})}h(_,b),_.prototype.close=function(){b.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},Me.exports=_},3436:(Me,U,w)=>{"use strict";var h=w(3894),C=w(17).v,b=w(8513);function m(_){C.call(this);var p=this,g=this.es=new b(_);g.onmessage=function(f){p.emit("message",decodeURI(f.data))},g.onerror=function(f){var E=2!==g.readyState?"network":"permanent";p._cleanup(),p._close(E)}}h(m,C),m.prototype.abort=function(){this._cleanup(),this._close("user")},m.prototype._cleanup=function(){var _=this.es;_&&(_.onmessage=_.onerror=null,_.close(),this.es=null)},m.prototype._close=function(_){var p=this;setTimeout(function(){p.emit("close",null,_),p.removeAllListeners()},200)},Me.exports=m},288:(Me,U,w)=>{"use strict";var h=w(3894),C=w(8075),b=w(1493),S=w(17).v,m=w(347);function p(f){S.call(this);var E=this;C.polluteGlobalNamespace(),this.id="a"+m.string(6),f=b.addQuery(f,"c="+decodeURIComponent(C.WPrefix+"."+this.id));var T=p.htmlfileEnabled?C.createHtmlfile:C.createIframe;global[C.WPrefix][this.id]={start:function(){E.iframeObj.loaded()},message:function(d){E.emit("message",d)},stop:function(){E._cleanup(),E._close("network")}},this.iframeObj=T(f,function(){E._cleanup(),E._close("permanent")})}h(p,S),p.prototype.abort=function(){this._cleanup(),this._close("user")},p.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[C.WPrefix][this.id]},p.prototype._close=function(f){this.emit("close",null,f),this.removeAllListeners()},p.htmlfileEnabled=!1;var g=["Active"].concat("Object").join("X");if(g in global)try{p.htmlfileEnabled=!!new global[g]("htmlfile")}catch(f){}p.enabled=p.htmlfileEnabled||C.iframeEnabled,Me.exports=p},8785:(Me,U,w)=>{"use strict";var h=w(8075),C=w(347),b=w(480),S=w(1493),m=w(3894),_=w(17).v;function g(f){var E=this;_.call(this),h.polluteGlobalNamespace(),this.id="a"+C.string(6);var T=S.addQuery(f,"c="+encodeURIComponent(h.WPrefix+"."+this.id));global[h.WPrefix][this.id]=this._callback.bind(this),this._createScript(T),this.timeoutId=setTimeout(function(){E._abort(new Error("JSONP script loaded abnormally (timeout)"))},g.timeout)}m(g,_),g.prototype.abort=function(){if(global[h.WPrefix][this.id]){var f=new Error("JSONP user aborted read");f.code=1e3,this._abort(f)}},g.timeout=35e3,g.scriptErrorTimeout=1e3,g.prototype._callback=function(f){this._cleanup(),!this.aborting&&(f&&this.emit("message",f),this.emit("close",null,"network"),this.removeAllListeners())},g.prototype._abort=function(f){this._cleanup(),this.aborting=!0,this.emit("close",f.code,f.message),this.removeAllListeners()},g.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var f=this.script;f.parentNode.removeChild(f),f.onreadystatechange=f.onerror=f.onload=f.onclick=null,this.script=null}delete global[h.WPrefix][this.id]},g.prototype._scriptError=function(){var f=this;this.errorTimer||(this.errorTimer=setTimeout(function(){f.loadedOkay||f._abort(new Error("JSONP script loaded abnormally (onerror)"))},g.scriptErrorTimeout))},g.prototype._createScript=function(f){var d,E=this,T=this.script=global.document.createElement("script");if(T.id="a"+C.string(8),T.src=f,T.type="text/javascript",T.charset="UTF-8",T.onerror=this._scriptError.bind(this),T.onload=function(){E._abort(new Error("JSONP script loaded abnormally (onload)"))},T.onreadystatechange=function(){if(/loaded|closed/.test(T.readyState)){if(T&&T.htmlFor&&T.onclick){E.loadedOkay=!0;try{T.onclick()}catch(M){}}T&&E._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===T.async&&global.document.attachEvent)if(b.isOpera())(d=this.script2=global.document.createElement("script")).text="try{var a = document.getElementById('"+T.id+"'); if(a)a.onerror();}catch(x){};",T.async=d.async=!1;else{try{T.htmlFor=T.id,T.event="onclick"}catch(M){}T.async=!0}void 0!==T.async&&(T.async=!0);var v=global.document.getElementsByTagName("head")[0];v.insertBefore(T,v.firstChild),d&&v.insertBefore(d,v.firstChild)},Me.exports=g},6909:(Me,U,w)=>{"use strict";var h=w(3894),C=w(17).v;function S(m,_){C.call(this);var p=this;this.bufferPosition=0,this.xo=new _("POST",m,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(g,f){p._chunkHandler(g,f),p.xo=null,p.emit("close",null,200===g?"network":"permanent"),p._cleanup()})}h(S,C),S.prototype._chunkHandler=function(m,_){if(200===m&&_)for(var p=-1;;this.bufferPosition+=p+1){var g=_.slice(this.bufferPosition);if(-1===(p=g.indexOf("\n")))break;var f=g.slice(0,p);f&&this.emit("message",f)}},S.prototype._cleanup=function(){this.removeAllListeners()},S.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},Me.exports=S},3216:(Me,U,w)=>{"use strict";var S,m,h=w(347),C=w(1493);Me.exports=function(g,f,E){S||function p(){(S=global.document.createElement("form")).style.display="none",S.style.position="absolute",S.method="POST",S.enctype="application/x-www-form-urlencoded",S.acceptCharset="UTF-8",(m=global.document.createElement("textarea")).name="d",S.appendChild(m),global.document.body.appendChild(S)}();var T="a"+h.string(8);S.target=T,S.action=C.addQuery(C.addPath(g,"/jsonp_send"),"i="+T);var d=function _(g){try{return global.document.createElement('<iframe name="'+g+'">')}catch(E){var f=global.document.createElement("iframe");return f.name=g,f}}(T);d.id=T,d.style.display="none",S.appendChild(d);try{m.value=f}catch(M){}S.submit();var v=function(M){d.onerror&&(d.onreadystatechange=d.onerror=d.onload=null,setTimeout(function(){d.parentNode.removeChild(d),d=null},500),m.value="",E(M))};return d.onerror=function(){v()},d.onload=function(){v()},d.onreadystatechange=function(M){"complete"===d.readyState&&v()},function(){v(new Error("Aborted"))}}},5705:(Me,U,w)=>{"use strict";var h=w(17).v,C=w(3894),b=w(3865),S=w(480),m=w(1493);function p(g,f,E){var T=this;h.call(this),setTimeout(function(){T._start(g,f,E)},0)}C(p,h),p.prototype._start=function(g,f,E){var T=this,d=new global.XDomainRequest;f=m.addQuery(f,"t="+ +new Date),d.onerror=function(){T._error()},d.ontimeout=function(){T._error()},d.onprogress=function(){T.emit("chunk",200,d.responseText)},d.onload=function(){T.emit("finish",200,d.responseText),T._cleanup(!1)},this.xdr=d,this.unloadRef=b.unloadAdd(function(){T._cleanup(!0)});try{this.xdr.open(g,f),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(E)}catch(v){this._error()}},p.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},p.prototype._cleanup=function(g){if(this.xdr){if(this.removeAllListeners(),b.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,g)try{this.xdr.abort()}catch(f){}this.unloadRef=this.xdr=null}},p.prototype.close=function(){this._cleanup(!0)},p.enabled=!(!global.XDomainRequest||!S.hasDomain()),Me.exports=p},7807:(Me,U,w)=>{"use strict";var h=w(3894),C=w(3134);function b(S,m,_,p){C.call(this,S,m,_,p)}h(b,C),b.enabled=C.enabled&&C.supportsCORS,Me.exports=b},9312:(Me,U,w)=>{"use strict";var h=w(17).v;function b(){var S=this;h.call(this),this.to=setTimeout(function(){S.emit("finish",200,"{}")},b.timeout)}w(3894)(b,h),b.prototype.close=function(){clearTimeout(this.to)},b.timeout=2e3,Me.exports=b},7898:(Me,U,w)=>{"use strict";var h=w(3894),C=w(3134);function b(S,m,_){C.call(this,S,m,_,{noCredentials:!0})}h(b,C),b.enabled=C.enabled,Me.exports=b},7040:(Me,U,w)=>{"use strict";var h=w(3865),C=w(1493),b=w(3894),S=w(17).v,m=w(3848);function p(g,f,E){if(!p.enabled())throw new Error("Transport created when disabled");S.call(this);var T=this,d=C.addPath(g,"/websocket");d="https"===d.slice(0,5)?"wss"+d.slice(5):"ws"+d.slice(4),this.url=d,this.ws=new m(this.url,[],E),this.ws.onmessage=function(v){T.emit("message",v.data)},this.unloadRef=h.unloadAdd(function(){T.ws.close()}),this.ws.onclose=function(v){T.emit("close",v.code,v.reason),T._cleanup()},this.ws.onerror=function(v){T.emit("close",1006,"WebSocket connection broken"),T._cleanup()}}b(p,S),p.prototype.send=function(g){this.ws.send("["+g+"]")},p.prototype.close=function(){var g=this.ws;this._cleanup(),g&&g.close()},p.prototype._cleanup=function(){var g=this.ws;g&&(g.onmessage=g.onclose=g.onerror=null),h.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},p.enabled=function(){return!!m},p.transportName="websocket",p.roundTrips=2,Me.exports=p},8931:(Me,U,w)=>{"use strict";var h=w(3894),C=w(4172),b=w(4053),S=w(6909),m=w(5705);function _(p){if(!m.enabled)throw new Error("Transport created when disabled");C.call(this,p,"/xhr",S,m)}h(_,C),_.enabled=b.enabled,_.transportName="xdr-polling",_.roundTrips=2,Me.exports=_},4053:(Me,U,w)=>{"use strict";var h=w(3894),C=w(4172),b=w(6909),S=w(5705);function m(_){if(!S.enabled)throw new Error("Transport created when disabled");C.call(this,_,"/xhr_streaming",b,S)}h(m,C),m.enabled=function(_){return!_.cookie_needed&&!_.nullOrigin&&S.enabled&&_.sameScheme},m.transportName="xdr-streaming",m.roundTrips=2,Me.exports=m},7237:(Me,U,w)=>{"use strict";var h=w(3894),C=w(4172),b=w(6909),S=w(7807),m=w(7898);function _(p){if(!m.enabled&&!S.enabled)throw new Error("Transport created when disabled");C.call(this,p,"/xhr",b,S)}h(_,C),_.enabled=function(p){return!p.nullOrigin&&(!(!m.enabled||!p.sameOrigin)||S.enabled)},_.transportName="xhr-polling",_.roundTrips=2,Me.exports=_},3897:(Me,U,w)=>{"use strict";var h=w(3894),C=w(4172),b=w(6909),S=w(7807),m=w(7898),_=w(480);function p(g){if(!m.enabled&&!S.enabled)throw new Error("Transport created when disabled");C.call(this,g,"/xhr_streaming",b,S)}h(p,C),p.enabled=function(g){return!g.nullOrigin&&!_.isOpera()&&S.enabled},p.transportName="xhr-streaming",p.roundTrips=2,p.needBody=!!global.document,Me.exports=p},8143:Me=>{"use strict";Me.exports.randomBytes=global.crypto&&global.crypto.getRandomValues?function(U){var w=new Uint8Array(U);return global.crypto.getRandomValues(w),w}:function(U){for(var w=new Array(U),h=0;h<U;h++)w[h]=Math.floor(256*Math.random());return w}},480:Me=>{"use strict";Me.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch(U){return!1}}}},8481:Me=>{"use strict";var w,U=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;Me.exports={quote:function(C){var b=JSON.stringify(C);return U.lastIndex=0,U.test(b)?(w||(w=function(C){var b,S={},m=[];for(b=0;b<65536;b++)m.push(String.fromCharCode(b));return C.lastIndex=0,m.join("").replace(C,function(_){return S[_]="\\u"+("0000"+_.charCodeAt(0).toString(16)).slice(-4),""}),C.lastIndex=0,S}(U)),b.replace(U,function(S){return w[S]})):b}}},3865:(Me,U,w)=>{"use strict";var h=w(347),C={},b=!1,S=global.chrome&&global.chrome.app&&global.chrome.app.runtime;Me.exports={attachEvent:function(_,p){void 0!==global.addEventListener?global.addEventListener(_,p,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+_,p),global.attachEvent("on"+_,p))},detachEvent:function(_,p){void 0!==global.addEventListener?global.removeEventListener(_,p,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+_,p),global.detachEvent("on"+_,p))},unloadAdd:function(_){if(S)return null;var p=h.string(8);return C[p]=_,b&&setTimeout(this.triggerUnloadCallbacks,0),p},unloadDel:function(_){_ in C&&delete C[_]},triggerUnloadCallbacks:function(){for(var _ in C)C[_](),delete C[_]}},S||Me.exports.attachEvent("unload",function(){b||(b=!0,Me.exports.triggerUnloadCallbacks())})},8075:(Me,U,w)=>{"use strict";var h=w(3865),C=w(480);Me.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){Me.exports.WPrefix in global||(global[Me.exports.WPrefix]={})},postMessage:function(S,m){global.parent!==global&&global.parent.postMessage(JSON.stringify({windowId:Me.exports.currentWindowId,type:S,data:m||""}),"*")},createIframe:function(S,m){var p,g,_=global.document.createElement("iframe"),f=function(){clearTimeout(p);try{_.onload=null}catch(v){}_.onerror=null},E=function(){_&&(f(),setTimeout(function(){_&&_.parentNode.removeChild(_),_=null},0),h.unloadDel(g))},T=function(v){_&&(E(),m(v))};return _.src=S,_.style.display="none",_.style.position="absolute",_.onerror=function(){T("onerror")},_.onload=function(){clearTimeout(p),p=setTimeout(function(){T("onload timeout")},2e3)},global.document.body.appendChild(_),p=setTimeout(function(){T("timeout")},15e3),g=h.unloadAdd(E),{post:function(v,M){setTimeout(function(){try{_&&_.contentWindow&&_.contentWindow.postMessage(v,M)}catch(N){}},0)},cleanup:E,loaded:f}},createHtmlfile:function(S,m){var g,f,E,_=["Active"].concat("Object").join("X"),p=new global[_]("htmlfile"),T=function(){clearTimeout(g),E.onerror=null},d=function(){p&&(T(),h.unloadDel(f),E.parentNode.removeChild(E),E=p=null,CollectGarbage())},v=function(k){p&&(d(),m(k))};p.open(),p.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),p.close(),p.parentWindow[Me.exports.WPrefix]=global[Me.exports.WPrefix];var N=p.createElement("div");return p.body.appendChild(N),E=p.createElement("iframe"),N.appendChild(E),E.src=S,E.onerror=function(){v("onerror")},g=setTimeout(function(){v("timeout")},15e3),f=h.unloadAdd(d),{post:function(k,G){try{setTimeout(function(){E&&E.contentWindow&&E.contentWindow.postMessage(k,G)},0)}catch(z){}},cleanup:d,loaded:T}}},Me.exports.iframeEnabled=!1,global.document&&(Me.exports.iframeEnabled=("function"==typeof global.postMessage||"object"==typeof global.postMessage)&&!C.isKonqueror())},1433:Me=>{"use strict";var U={};["log","debug","warn"].forEach(function(w){var h;try{h=global.console&&global.console[w]&&global.console[w].apply}catch(C){}U[w]=h?function(){return global.console[w].apply(global.console,arguments)}:"log"===w?function(){}:U.log}),Me.exports=U},2923:Me=>{"use strict";Me.exports={isObject:function(U){var w=typeof U;return"function"===w||"object"===w&&!!U},extend:function(U){if(!this.isObject(U))return U;for(var w,h,C=1,b=arguments.length;C<b;C++)for(h in w=arguments[C])Object.prototype.hasOwnProperty.call(w,h)&&(U[h]=w[h]);return U}}},347:(Me,U,w)=>{"use strict";var h=w(8143),C="abcdefghijklmnopqrstuvwxyz012345";Me.exports={string:function(b){for(var S=C.length,m=h.randomBytes(b),_=[],p=0;p<b;p++)_.push(C.substr(m[p]%S,1));return _.join("")},number:function(b){return Math.floor(Math.random()*b)},numberString:function(b){var S=(""+(b-1)).length;return(new Array(S+1).join("0")+this.number(b)).slice(-S)}}},2264:Me=>{"use strict";Me.exports=function(w){return{filterToEnabled:function(h,C){var b={main:[],facade:[]};return h?"string"==typeof h&&(h=[h]):h=[],w.forEach(function(S){if(S){if("websocket"===S.transportName&&!1===C.websocket)return;if(h.length&&-1===h.indexOf(S.transportName))return;S.enabled(C)&&(b.main.push(S),S.facadeTransport&&b.facade.push(S.facadeTransport))}}),b}}}},1493:(Me,U,w)=>{"use strict";var h=w(7629);Me.exports={getOrigin:function(b){if(!b)return null;var S=new h(b);if("file:"===S.protocol)return null;var m=S.port;return m||(m="https:"===S.protocol?"443":"80"),S.protocol+"//"+S.hostname+":"+m},isOriginEqual:function(b,S){return this.getOrigin(b)===this.getOrigin(S)},isSchemeEqual:function(b,S){return b.split(":")[0]===S.split(":")[0]},addPath:function(b,S){var m=b.split("?");return m[0]+S+(m[1]?"?"+m[1]:"")},addQuery:function(b,S){return b+(-1===b.indexOf("?")?"?"+S:"&"+S)},isLoopbackAddr:function(b){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(b)||/^\[::1\]$/.test(b)}}},947:Me=>{Me.exports="1.6.1"},7629:(Me,U,w)=>{"use strict";var h=w(8237),C=w(2858),b=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,S=/[\n\r\t]/g,m=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,_=/:\d+$/,p=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,g=/^[a-zA-Z]:/;function f(L){return(L||"").toString().replace(b,"")}var E=[["#","hash"],["?","query"],function(j,F){return v(F.protocol)?j.replace(/\\/g,"/"):j},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],T={hash:1,query:1};function d(L){var j;j="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var $,W={},Q=typeof(L=L||j.location||{});if("blob:"===L.protocol)W=new k(unescape(L.pathname),{});else if("string"===Q)for($ in W=new k(L,{}),T)delete W[$];else if("object"===Q){for($ in L)$ in T||(W[$]=L[$]);void 0===W.slashes&&(W.slashes=m.test(L.href))}return W}function v(L){return"file:"===L||"ftp:"===L||"http:"===L||"https:"===L||"ws:"===L||"wss:"===L}function M(L,j){L=(L=f(L)).replace(S,""),j=j||{};var J,F=p.exec(L),W=F[1]?F[1].toLowerCase():"",Q=!!F[2],$=!!F[3],oe=0;return Q?$?(J=F[2]+F[3]+F[4],oe=F[2].length+F[3].length):(J=F[2]+F[4],oe=F[2].length):$?(J=F[3]+F[4],oe=F[3].length):J=F[4],"file:"===W?oe>=2&&(J=J.slice(2)):v(W)?J=F[4]:W?Q&&(J=J.slice(2)):oe>=2&&v(j.protocol)&&(J=F[4]),{protocol:W,slashes:Q||v(W),slashesCount:oe,rest:J}}function k(L,j,F){if(L=(L=f(L)).replace(S,""),!(this instanceof k))return new k(L,j,F);var W,Q,$,oe,J,de,Re=E.slice(),Te=typeof j,Pe=this,K=0;for("object"!==Te&&"string"!==Te&&(F=j,j=null),F&&"function"!=typeof F&&(F=C.parse),W=!(Q=M(L||"",j=d(j))).protocol&&!Q.slashes,Pe.slashes=Q.slashes||W&&j.slashes,Pe.protocol=Q.protocol||j.protocol||"",L=Q.rest,("file:"===Q.protocol&&(2!==Q.slashesCount||g.test(L))||!Q.slashes&&(Q.protocol||Q.slashesCount<2||!v(Pe.protocol)))&&(Re[3]=[/(.*)/,"pathname"]);K<Re.length;K++)"function"!=typeof(oe=Re[K])?(de=oe[1],($=oe[0])!=$?Pe[de]=L:"string"==typeof $?~(J="@"===$?L.lastIndexOf($):L.indexOf($))&&("number"==typeof oe[2]?(Pe[de]=L.slice(0,J),L=L.slice(J+oe[2])):(Pe[de]=L.slice(J),L=L.slice(0,J))):(J=$.exec(L))&&(Pe[de]=J[1],L=L.slice(0,J.index)),Pe[de]=Pe[de]||W&&oe[3]&&j[de]||"",oe[4]&&(Pe[de]=Pe[de].toLowerCase())):L=oe(L,Pe);F&&(Pe.query=F(Pe.query)),W&&j.slashes&&"/"!==Pe.pathname.charAt(0)&&(""!==Pe.pathname||""!==j.pathname)&&(Pe.pathname=function N(L,j){if(""===L)return j;for(var F=(j||"/").split("/").slice(0,-1).concat(L.split("/")),W=F.length,Q=F[W-1],$=!1,oe=0;W--;)"."===F[W]?F.splice(W,1):".."===F[W]?(F.splice(W,1),oe++):oe&&(0===W&&($=!0),F.splice(W,1),oe--);return $&&F.unshift(""),("."===Q||".."===Q)&&F.push(""),F.join("/")}(Pe.pathname,j.pathname)),"/"!==Pe.pathname.charAt(0)&&v(Pe.protocol)&&(Pe.pathname="/"+Pe.pathname),h(Pe.port,Pe.protocol)||(Pe.host=Pe.hostname,Pe.port=""),Pe.username=Pe.password="",Pe.auth&&(~(J=Pe.auth.indexOf(":"))?(Pe.username=Pe.auth.slice(0,J),Pe.username=encodeURIComponent(decodeURIComponent(Pe.username)),Pe.password=Pe.auth.slice(J+1),Pe.password=encodeURIComponent(decodeURIComponent(Pe.password))):Pe.username=encodeURIComponent(decodeURIComponent(Pe.auth)),Pe.auth=Pe.password?Pe.username+":"+Pe.password:Pe.username),Pe.origin="file:"!==Pe.protocol&&v(Pe.protocol)&&Pe.host?Pe.protocol+"//"+Pe.host:"null",Pe.href=Pe.toString()}k.prototype={set:function G(L,j,F){var W=this;switch(L){case"query":"string"==typeof j&&j.length&&(j=(F||C.parse)(j)),W[L]=j;break;case"port":W[L]=j,h(j,W.protocol)?j&&(W.host=W.hostname+":"+j):(W.host=W.hostname,W[L]="");break;case"hostname":W[L]=j,W.port&&(j+=":"+W.port),W.host=j;break;case"host":W[L]=j,_.test(j)?(j=j.split(":"),W.port=j.pop(),W.hostname=j.join(":")):(W.hostname=j,W.port="");break;case"protocol":W.protocol=j.toLowerCase(),W.slashes=!F;break;case"pathname":case"hash":if(j){var Q="pathname"===L?"/":"#";W[L]=j.charAt(0)!==Q?Q+j:j}else W[L]=j;break;case"username":case"password":W[L]=encodeURIComponent(j);break;case"auth":var $=j.indexOf(":");~$?(W.username=j.slice(0,$),W.username=encodeURIComponent(decodeURIComponent(W.username)),W.password=j.slice($+1),W.password=encodeURIComponent(decodeURIComponent(W.password))):W.username=encodeURIComponent(decodeURIComponent(j))}for(var oe=0;oe<E.length;oe++){var J=E[oe];J[4]&&(W[J[1]]=W[J[1]].toLowerCase())}return W.auth=W.password?W.username+":"+W.password:W.username,W.origin="file:"!==W.protocol&&v(W.protocol)&&W.host?W.protocol+"//"+W.host:"null",W.href=W.toString(),W},toString:function z(L){(!L||"function"!=typeof L)&&(L=C.stringify);var j,F=this,W=F.host,Q=F.protocol;Q&&":"!==Q.charAt(Q.length-1)&&(Q+=":");var $=Q+(F.protocol&&F.slashes||v(F.protocol)?"//":"");return F.username?($+=F.username,F.password&&($+=":"+F.password),$+="@"):F.password?($+=":"+F.password,$+="@"):"file:"!==F.protocol&&v(F.protocol)&&!W&&"/"!==F.pathname&&($+="@"),(":"===W[W.length-1]||_.test(F.hostname)&&!F.port)&&(W+=":"),$+=W+F.pathname,(j="object"==typeof F.query?L(F.query):F.query)&&($+="?"!==j.charAt(0)?"?"+j:j),F.hash&&($+=F.hash),$}},k.extractProtocol=M,k.location=d,k.trimLeft=f,k.qs=C,Me.exports=k},1308:function(Me,U,w){var h;Me=w.nmd(Me),function(C){"object"==typeof global&&global;var _,p=2147483647,g=36,k=/^xn--/,G=/[^\x20-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=Math.floor,W=String.fromCharCode;function $(he){throw RangeError(L[he])}function oe(he,ge){for(var Ge=he.length,tt=[];Ge--;)tt[Ge]=ge(he[Ge]);return tt}function J(he,ge){var Ge=he.split("@"),tt="";return Ge.length>1&&(tt=Ge[0]+"@",he=Ge[1]),tt+oe((he=he.replace(z,".")).split("."),ge).join(".")}function de(he){for(var Le,It,ge=[],Ge=0,tt=he.length;Ge<tt;)(Le=he.charCodeAt(Ge++))>=55296&&Le<=56319&&Ge<tt?56320==(64512&(It=he.charCodeAt(Ge++)))?ge.push(((1023&Le)<<10)+(1023&It)+65536):(ge.push(Le),Ge--):ge.push(Le);return ge}function Re(he){return oe(he,function(ge){var Ge="";return ge>65535&&(Ge+=W((ge-=65536)>>>10&1023|55296),ge=56320|1023&ge),Ge+W(ge)}).join("")}function Te(he){return he-48<10?he-22:he-65<26?he-65:he-97<26?he-97:g}function Pe(he,ge){return he+22+75*(he<26)-((0!=ge)<<5)}function K(he,ge,Ge){var tt=0;for(he=Ge?F(he/700):he>>1,he+=F(he/ge);he>455;tt+=g)he=F(he/35);return F(tt+36*he/(he+38))}function ue(he){var tt,Ve,ae,_e,ye,He,qe,ot,ke,We,ge=[],Ge=he.length,Le=0,It=128,Ze=72;for((Ve=he.lastIndexOf("-"))<0&&(Ve=0),ae=0;ae<Ve;++ae)he.charCodeAt(ae)>=128&&$("not-basic"),ge.push(he.charCodeAt(ae));for(_e=Ve>0?Ve+1:0;_e<Ge;){for(ye=Le,He=1,qe=g;_e>=Ge&&$("invalid-input"),((ot=Te(he.charCodeAt(_e++)))>=g||ot>F((p-Le)/He))&&$("overflow"),Le+=ot*He,!(ot<(ke=qe<=Ze?1:qe>=Ze+26?26:qe-Ze));qe+=g)He>F(p/(We=g-ke))&&$("overflow"),He*=We;Ze=K(Le-ye,tt=ge.length+1,0==ye),F(Le/tt)>p-It&&$("overflow"),It+=F(Le/tt),Le%=tt,ge.splice(Le++,0,It)}return Re(ge)}function te(he){var ge,Ge,tt,Le,It,Ze,Ve,ae,_e,ye,He,ot,ke,We,Qt,qe=[];for(ot=(he=de(he)).length,ge=128,Ge=0,It=72,Ze=0;Ze<ot;++Ze)(He=he[Ze])<128&&qe.push(W(He));for(tt=Le=qe.length,Le&&qe.push("-");tt<ot;){for(Ve=p,Ze=0;Ze<ot;++Ze)(He=he[Ze])>=ge&&He<Ve&&(Ve=He);for(Ve-ge>F((p-Ge)/(ke=tt+1))&&$("overflow"),Ge+=(Ve-ge)*ke,ge=Ve,Ze=0;Ze<ot;++Ze)if((He=he[Ze])<ge&&++Ge>p&&$("overflow"),He==ge){for(ae=Ge,_e=g;!(ae<(ye=_e<=It?1:_e>=It+26?26:_e-It));_e+=g)qe.push(W(Pe(ye+(Qt=ae-ye)%(We=g-ye),0))),ae=F(Qt/We);qe.push(W(Pe(ae,0))),It=K(Ge,ke,tt==Le),Ge=0,++tt}++Ge,++ge}return qe.join("")}_={version:"1.3.2",ucs2:{decode:de,encode:Re},decode:ue,encode:te,toASCII:function le(he){return J(he,function(ge){return G.test(ge)?"xn--"+te(ge):ge})},toUnicode:function we(he){return J(he,function(ge){return k.test(ge)?ue(ge.slice(4).toLowerCase()):ge})}},void 0!==(h=function(){return _}.call(U,w,U,Me))&&(Me.exports=h)}()},8762:(Me,U,w)=>{"use strict";var C=w(1308),b=w(796);function S(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}U.Qc=j,U.DB=function W($,oe){return j($,!1,!0).resolve(oe)},U.WU=function F($){return b.isString($)&&($=j($)),$ instanceof S?$.format():S.prototype.format.call($)};var m=/^([a-z0-9.+-]+:)/i,_=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),E=["'"].concat(f),T=["%","/","?",";","#"].concat(E),d=["/","?","#"],M=/^[+a-z0-9A-Z_-]{0,63}$/,N=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,k={javascript:!0,"javascript:":!0},G={javascript:!0,"javascript:":!0},z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},L=w(7137);function j($,oe,J){if($&&b.isObject($)&&$ instanceof S)return $;var de=new S;return de.parse($,oe,J),de}S.prototype.parse=function($,oe,J){if(!b.isString($))throw new TypeError("Parameter 'url' must be a string, not "+typeof $);var de=$.indexOf("?"),Re=-1!==de&&de<$.indexOf("#")?"?":"#",Te=$.split(Re);Te[0]=Te[0].replace(/\\/g,"/");var K=$=Te.join(Re);if(K=K.trim(),!J&&1===$.split("#").length){var ue=p.exec(K);if(ue)return this.path=K,this.href=K,this.pathname=ue[1],ue[2]?(this.search=ue[2],this.query=oe?L.parse(this.search.substr(1)):this.search.substr(1)):oe&&(this.search="",this.query={}),this}var te=m.exec(K);if(te){var we=(te=te[0]).toLowerCase();this.protocol=we,K=K.substr(te.length)}if(J||te||K.match(/^\/\/[^@\/]+@[^@\/]+/)){var le="//"===K.substr(0,2);le&&(!te||!G[te])&&(K=K.substr(2),this.slashes=!0)}if(!G[te]&&(le||te&&!z[te])){for(var he=-1,ge=0;ge<d.length;ge++)-1!==(Ge=K.indexOf(d[ge]))&&(-1===he||Ge<he)&&(he=Ge);var tt,Le;for(-1!==(Le=-1===he?K.lastIndexOf("@"):K.lastIndexOf("@",he))&&(tt=K.slice(0,Le),K=K.slice(Le+1),this.auth=decodeURIComponent(tt)),he=-1,ge=0;ge<T.length;ge++){var Ge;-1!==(Ge=K.indexOf(T[ge]))&&(-1===he||Ge<he)&&(he=Ge)}-1===he&&(he=K.length),this.host=K.slice(0,he),K=K.slice(he),this.parseHost(),this.hostname=this.hostname||"";var It="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!It)for(var Ze=this.hostname.split(/\./),Ve=(ge=0,Ze.length);ge<Ve;ge++){var ae=Ze[ge];if(ae&&!ae.match(M)){for(var _e="",ye=0,He=ae.length;ye<He;ye++)ae.charCodeAt(ye)>127?_e+="x":_e+=ae[ye];if(!_e.match(M)){var qe=Ze.slice(0,ge),ot=Ze.slice(ge+1),ke=ae.match(N);ke&&(qe.push(ke[1]),ot.unshift(ke[2])),ot.length&&(K="/"+ot.join(".")+K),this.hostname=qe.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),It||(this.hostname=C.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,It&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==K[0]&&(K="/"+K))}if(!k[we])for(ge=0,Ve=E.length;ge<Ve;ge++){var Bt=E[ge];if(-1!==K.indexOf(Bt)){var ln=encodeURIComponent(Bt);ln===Bt&&(ln=escape(Bt)),K=K.split(Bt).join(ln)}}var ci=K.indexOf("#");-1!==ci&&(this.hash=K.substr(ci),K=K.slice(0,ci));var at=K.indexOf("?");return-1!==at?(this.search=K.substr(at),this.query=K.substr(at+1),oe&&(this.query=L.parse(this.query)),K=K.slice(0,at)):oe&&(this.search="",this.query={}),K&&(this.pathname=K),z[we]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},S.prototype.format=function(){var $=this.auth||"";$&&($=($=encodeURIComponent($)).replace(/%3A/i,":"),$+="@");var oe=this.protocol||"",J=this.pathname||"",de=this.hash||"",Re=!1,Te="";this.host?Re=$+this.host:this.hostname&&(Re=$+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Re+=":"+this.port)),this.query&&b.isObject(this.query)&&Object.keys(this.query).length&&(Te=L.stringify(this.query));var Pe=this.search||Te&&"?"+Te||"";return oe&&":"!==oe.substr(-1)&&(oe+=":"),this.slashes||(!oe||z[oe])&&!1!==Re?(Re="//"+(Re||""),J&&"/"!==J.charAt(0)&&(J="/"+J)):Re||(Re=""),de&&"#"!==de.charAt(0)&&(de="#"+de),Pe&&"?"!==Pe.charAt(0)&&(Pe="?"+Pe),oe+Re+(J=J.replace(/[?#]/g,function(K){return encodeURIComponent(K)}))+(Pe=Pe.replace("#","%23"))+de},S.prototype.resolve=function($){return this.resolveObject(j($,!1,!0)).format()},S.prototype.resolveObject=function($){if(b.isString($)){var oe=new S;oe.parse($,!1,!0),$=oe}for(var J=new S,de=Object.keys(this),Re=0;Re<de.length;Re++){var Te=de[Re];J[Te]=this[Te]}if(J.hash=$.hash,""===$.href)return J.href=J.format(),J;if($.slashes&&!$.protocol){for(var Pe=Object.keys($),K=0;K<Pe.length;K++){var ue=Pe[K];"protocol"!==ue&&(J[ue]=$[ue])}return z[J.protocol]&&J.hostname&&!J.pathname&&(J.path=J.pathname="/"),J.href=J.format(),J}if($.protocol&&$.protocol!==J.protocol){if(!z[$.protocol]){for(var te=Object.keys($),we=0;we<te.length;we++){var le=te[we];J[le]=$[le]}return J.href=J.format(),J}if(J.protocol=$.protocol,$.host||G[$.protocol])J.pathname=$.pathname;else{for(var Ve=($.pathname||"").split("/");Ve.length&&!($.host=Ve.shift()););$.host||($.host=""),$.hostname||($.hostname=""),""!==Ve[0]&&Ve.unshift(""),Ve.length<2&&Ve.unshift(""),J.pathname=Ve.join("/")}return J.search=$.search,J.query=$.query,J.host=$.host||"",J.auth=$.auth,J.hostname=$.hostname||$.host,J.port=$.port,(J.pathname||J.search)&&(J.path=(J.pathname||"")+(J.search||"")),J.slashes=J.slashes||$.slashes,J.href=J.format(),J}var Ge=J.pathname&&"/"===J.pathname.charAt(0),tt=$.host||$.pathname&&"/"===$.pathname.charAt(0),Le=tt||Ge||J.host&&$.pathname,It=Le,Ze=J.pathname&&J.pathname.split("/")||[],ae=(Ve=$.pathname&&$.pathname.split("/")||[],J.protocol&&!z[J.protocol]);if(ae&&(J.hostname="",J.port=null,J.host&&(""===Ze[0]?Ze[0]=J.host:Ze.unshift(J.host)),J.host="",$.protocol&&($.hostname=null,$.port=null,$.host&&(""===Ve[0]?Ve[0]=$.host:Ve.unshift($.host)),$.host=null),Le=Le&&(""===Ve[0]||""===Ze[0])),tt)J.host=$.host||""===$.host?$.host:J.host,J.hostname=$.hostname||""===$.hostname?$.hostname:J.hostname,J.search=$.search,J.query=$.query,Ze=Ve;else if(Ve.length)Ze||(Ze=[]),Ze.pop(),Ze=Ze.concat(Ve),J.search=$.search,J.query=$.query;else if(!b.isNullOrUndefined($.search))return ae&&(J.hostname=J.host=Ze.shift(),(_e=!!(J.host&&J.host.indexOf("@")>0)&&J.host.split("@"))&&(J.auth=_e.shift(),J.host=J.hostname=_e.shift())),J.search=$.search,J.query=$.query,(!b.isNull(J.pathname)||!b.isNull(J.search))&&(J.path=(J.pathname?J.pathname:"")+(J.search?J.search:"")),J.href=J.format(),J;if(!Ze.length)return J.pathname=null,J.path=J.search?"/"+J.search:null,J.href=J.format(),J;for(var ye=Ze.slice(-1)[0],He=(J.host||$.host||Ze.length>1)&&("."===ye||".."===ye)||""===ye,qe=0,ot=Ze.length;ot>=0;ot--)"."===(ye=Ze[ot])?Ze.splice(ot,1):".."===ye?(Ze.splice(ot,1),qe++):qe&&(Ze.splice(ot,1),qe--);if(!Le&&!It)for(;qe--;qe)Ze.unshift("..");Le&&""!==Ze[0]&&(!Ze[0]||"/"!==Ze[0].charAt(0))&&Ze.unshift(""),He&&"/"!==Ze.join("/").substr(-1)&&Ze.push("");var _e,ke=""===Ze[0]||Ze[0]&&"/"===Ze[0].charAt(0);return ae&&(J.hostname=J.host=ke?"":Ze.length?Ze.shift():"",(_e=!!(J.host&&J.host.indexOf("@")>0)&&J.host.split("@"))&&(J.auth=_e.shift(),J.host=J.hostname=_e.shift())),(Le=Le||J.host&&Ze.length)&&!ke&&Ze.unshift(""),Ze.length?J.pathname=Ze.join("/"):(J.pathname=null,J.path=null),(!b.isNull(J.pathname)||!b.isNull(J.search))&&(J.path=(J.pathname?J.pathname:"")+(J.search?J.search:"")),J.auth=$.auth||J.auth,J.slashes=J.slashes||$.slashes,J.href=J.format(),J},S.prototype.parseHost=function(){var $=this.host,oe=_.exec($);oe&&(":"!==(oe=oe[0])&&(this.port=oe.substr(1)),$=$.substr(0,$.length-oe.length)),$&&(this.hostname=$)}},796:Me=>{"use strict";Me.exports={isString:function(U){return"string"==typeof U},isObject:function(U){return"object"==typeof U&&null!==U},isNull:function(U){return null===U},isNullOrUndefined:function(U){return null==U}}}},Me=>{Me(Me.s=7999)}]);